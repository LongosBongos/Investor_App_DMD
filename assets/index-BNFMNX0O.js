var HI=Object.defineProperty;var KI=(t,e,n)=>e in t?HI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ft=(t,e,n)=>KI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Ms(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qa(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Rv={exports:{}},uf={},Tv={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),$I=Symbol.for("react.portal"),VI=Symbol.for("react.fragment"),GI=Symbol.for("react.strict_mode"),YI=Symbol.for("react.profiler"),qI=Symbol.for("react.provider"),ZI=Symbol.for("react.context"),QI=Symbol.for("react.forward_ref"),XI=Symbol.for("react.suspense"),JI=Symbol.for("react.memo"),e2=Symbol.for("react.lazy"),Jm=Symbol.iterator;function t2(t){return t===null||typeof t!="object"?null:(t=Jm&&t[Jm]||t["@@iterator"],typeof t=="function"?t:null)}var Mv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nv=Object.assign,xv={};function Za(t,e,n){this.props=t,this.context=e,this.refs=xv,this.updater=n||Mv}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ov(){}Ov.prototype=Za.prototype;function Fg(t,e,n){this.props=t,this.context=e,this.refs=xv,this.updater=n||Mv}var Hg=Fg.prototype=new Ov;Hg.constructor=Fg;Nv(Hg,Za.prototype);Hg.isPureReactComponent=!0;var ew=Array.isArray,Cv=Object.prototype.hasOwnProperty,Kg={current:null},Lv={key:!0,ref:!0,__self:!0,__source:!0};function Bv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Cv.call(e,r)&&!Lv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ec,type:t,key:o,ref:s,props:i,_owner:Kg.current}}function n2(t,e){return{$$typeof:Ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $g(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ec}function r2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tw=/\/+/g;function Th(t,e){return typeof t=="object"&&t!==null&&t.key!=null?r2(""+t.key):e.toString(36)}function _u(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ec:case $I:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Th(s,0):r,ew(i)?(n="",t!=null&&(n=t.replace(tw,"$&/")+"/"),_u(i,e,n,"",function(u){return u})):i!=null&&($g(i)&&(i=n2(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ew(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Th(o,a);s+=_u(o,e,n,l,i)}else if(l=t2(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Th(o,a++),s+=_u(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hc(t,e,n){if(t==null)return t;var r=[],i=0;return _u(t,r,"","",function(o){return e.call(n,o,i++)}),r}function i2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kn={current:null},Su={transition:null},o2={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:Su,ReactCurrentOwner:Kg};function Pv(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:Hc,forEach:function(t,e,n){Hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hc(t,function(){e++}),e},toArray:function(t){return Hc(t,function(e){return e})||[]},only:function(t){if(!$g(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=Za;We.Fragment=VI;We.Profiler=YI;We.PureComponent=Fg;We.StrictMode=GI;We.Suspense=XI;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o2;We.act=Pv;We.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Kg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cv.call(e,l)&&!Lv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ec,type:t.type,key:i,ref:o,props:r,_owner:s}};We.createContext=function(t){return t={$$typeof:ZI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qI,_context:t},t.Consumer=t};We.createElement=Bv;We.createFactory=function(t){var e=Bv.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:QI,render:t}};We.isValidElement=$g;We.lazy=function(t){return{$$typeof:e2,_payload:{_status:-1,_result:t},_init:i2}};We.memo=function(t,e){return{$$typeof:JI,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=Su.transition;Su.transition={};try{t()}finally{Su.transition=e}};We.unstable_act=Pv;We.useCallback=function(t,e){return Kn.current.useCallback(t,e)};We.useContext=function(t){return Kn.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return Kn.current.useDeferredValue(t)};We.useEffect=function(t,e){return Kn.current.useEffect(t,e)};We.useId=function(){return Kn.current.useId()};We.useImperativeHandle=function(t,e,n){return Kn.current.useImperativeHandle(t,e,n)};We.useInsertionEffect=function(t,e){return Kn.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return Kn.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return Kn.current.useMemo(t,e)};We.useReducer=function(t,e,n){return Kn.current.useReducer(t,e,n)};We.useRef=function(t){return Kn.current.useRef(t)};We.useState=function(t){return Kn.current.useState(t)};We.useSyncExternalStore=function(t,e,n){return Kn.current.useSyncExternalStore(t,e,n)};We.useTransition=function(){return Kn.current.useTransition()};We.version="18.3.1";Tv.exports=We;var te=Tv.exports;const ne=Ms(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2=te,a2=Symbol.for("react.element"),l2=Symbol.for("react.fragment"),c2=Object.prototype.hasOwnProperty,u2=s2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d2={key:!0,ref:!0,__self:!0,__source:!0};function Dv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)c2.call(e,r)&&!d2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:a2,type:t,key:o,ref:s,props:i,_owner:u2.current}}uf.Fragment=l2;uf.jsx=Dv;uf.jsxs=Dv;Rv.exports=uf;var ee=Rv.exports,de={},df={};df.byteLength=p2;df.toByteArray=y2;df.fromByteArray=v2;var Xr=[],br=[],f2=typeof Uint8Array<"u"?Uint8Array:Array,Mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Us=0,h2=Mh.length;Us<h2;++Us)Xr[Us]=Mh[Us],br[Mh.charCodeAt(Us)]=Us;br[45]=62;br[95]=63;function Uv(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function p2(t){var e=Uv(t),n=e[0],r=e[1];return(n+r)*3/4-r}function g2(t,e,n){return(e+n)*3/4-n}function y2(t){var e,n=Uv(t),r=n[0],i=n[1],o=new f2(g2(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=br[t.charCodeAt(l)]<<18|br[t.charCodeAt(l+1)]<<12|br[t.charCodeAt(l+2)]<<6|br[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=br[t.charCodeAt(l)]<<2|br[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=br[t.charCodeAt(l)]<<10|br[t.charCodeAt(l+1)]<<4|br[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function m2(t){return Xr[t>>18&63]+Xr[t>>12&63]+Xr[t>>6&63]+Xr[t&63]}function w2(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(m2(r));return i.join("")}function v2(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(w2(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Xr[e>>2]+Xr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Xr[e>>10]+Xr[e>>4&63]+Xr[e<<2&63]+"=")),i.join("")}var Vg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Vg.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,u=l>>1,f=-7,g=n?i-1:0,w=n?-1:1,m=t[e+g];for(g+=w,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+t[e+g],g+=w,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=s*256+t[e+g],g+=w,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-u}return(m?-1:1)*s*Math.pow(2,o-r)};Vg.write=function(t,e,n,r,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,g=f>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,_=r?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+g>=1?e+=w/l:e+=w*Math.pow(2,1-g),e*l>=2&&(s++,l/=2),s+g>=f?(a=0,s=f):s+g>=1?(a=(e*l-1)*Math.pow(2,i),s=s+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=a&255,m+=_,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+m]=s&255,m+=_,s/=256,u-=8);t[n+m-_]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=df,n=Vg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const R=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(R,h),R.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(R){if(R>i)throw new RangeError('The value "'+R+'" is invalid for option "size"');const h=new Uint8Array(R);return Object.setPrototypeOf(h,a.prototype),h}function a(R,h,y){if(typeof R=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(R)}return l(R,h,y)}a.poolSize=8192;function l(R,h,y){if(typeof R=="string")return w(R,h);if(ArrayBuffer.isView(R))return _(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(lt(R,ArrayBuffer)||R&&lt(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lt(R,SharedArrayBuffer)||R&&lt(R.buffer,SharedArrayBuffer)))return T(R,h,y);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=R.valueOf&&R.valueOf();if(O!=null&&O!==R)return a.from(O,h,y);const U=M(R);if(U)return U;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return a.from(R[Symbol.toPrimitive]("string"),h,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}a.from=function(R,h,y){return l(R,h,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function f(R,h,y){return u(R),R<=0?s(R):h!==void 0?typeof y=="string"?s(R).fill(h,y):s(R).fill(h):s(R)}a.alloc=function(R,h,y){return f(R,h,y)};function g(R){return u(R),s(R<0?0:E(R)|0)}a.allocUnsafe=function(R){return g(R)},a.allocUnsafeSlow=function(R){return g(R)};function w(R,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const y=S(R,h)|0;let O=s(y);const U=O.write(R,h);return U!==y&&(O=O.slice(0,U)),O}function m(R){const h=R.length<0?0:E(R.length)|0,y=s(h);for(let O=0;O<h;O+=1)y[O]=R[O]&255;return y}function _(R){if(lt(R,Uint8Array)){const h=new Uint8Array(R);return T(h.buffer,h.byteOffset,h.byteLength)}return m(R)}function T(R,h,y){if(h<0||R.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<h+(y||0))throw new RangeError('"length" is outside of buffer bounds');let O;return h===void 0&&y===void 0?O=new Uint8Array(R):y===void 0?O=new Uint8Array(R,h):O=new Uint8Array(R,h,y),Object.setPrototypeOf(O,a.prototype),O}function M(R){if(a.isBuffer(R)){const h=E(R.length)|0,y=s(h);return y.length===0||R.copy(y,0,0,h),y}if(R.length!==void 0)return typeof R.length!="number"||Xe(R.length)?s(0):m(R);if(R.type==="Buffer"&&Array.isArray(R.data))return m(R.data)}function E(R){if(R>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return R|0}function A(R){return+R!=R&&(R=0),a.alloc(+R)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,y){if(lt(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),lt(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(h)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===y)return 0;let O=h.length,U=y.length;for(let F=0,q=Math.min(O,U);F<q;++F)if(h[F]!==y[F]){O=h[F],U=y[F];break}return O<U?-1:U<O?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,y){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let O;if(y===void 0)for(y=0,O=0;O<h.length;++O)y+=h[O].length;const U=a.allocUnsafe(y);let F=0;for(O=0;O<h.length;++O){let q=h[O];if(lt(q,Uint8Array))F+q.length>U.length?(a.isBuffer(q)||(q=a.from(q)),q.copy(U,F)):Uint8Array.prototype.set.call(U,q,F);else if(a.isBuffer(q))q.copy(U,F);else throw new TypeError('"list" argument must be an Array of Buffers');F+=q.length}return U};function S(R,h){if(a.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||lt(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);const y=R.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&y===0)return 0;let U=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return _e(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return Fe(R).length;default:if(U)return O?-1:_e(R).length;h=(""+h).toLowerCase(),U=!0}}a.byteLength=S;function C(R,h,y){let O=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,h>>>=0,y<=h))return"";for(R||(R="utf8");;)switch(R){case"hex":return x(this,h,y);case"utf8":case"utf-8":return c(this,h,y);case"ascii":return k(this,h,y);case"latin1":case"binary":return I(this,h,y);case"base64":return b(this,h,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,h,y);default:if(O)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),O=!0}}a.prototype._isBuffer=!0;function P(R,h,y){const O=R[h];R[h]=R[y],R[y]=O}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<h;y+=2)P(this,y,y+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<h;y+=4)P(this,y,y+3),P(this,y+1,y+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<h;y+=8)P(this,y,y+7),P(this,y+1,y+6),P(this,y+2,y+5),P(this,y+3,y+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?c(this,0,h):C.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const y=t.INSPECT_MAX_BYTES;return h=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,y,O,U,F){if(lt(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(y===void 0&&(y=0),O===void 0&&(O=h?h.length:0),U===void 0&&(U=0),F===void 0&&(F=this.length),y<0||O>h.length||U<0||F>this.length)throw new RangeError("out of range index");if(U>=F&&y>=O)return 0;if(U>=F)return-1;if(y>=O)return 1;if(y>>>=0,O>>>=0,U>>>=0,F>>>=0,this===h)return 0;let q=F-U,Ce=O-y;const xe=Math.min(q,Ce),Te=this.slice(U,F),mt=h.slice(y,O);for(let ke=0;ke<xe;++ke)if(Te[ke]!==mt[ke]){q=Te[ke],Ce=mt[ke];break}return q<Ce?-1:Ce<q?1:0};function D(R,h,y,O,U){if(R.length===0)return-1;if(typeof y=="string"?(O=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,Xe(y)&&(y=U?0:R.length-1),y<0&&(y=R.length+y),y>=R.length){if(U)return-1;y=R.length-1}else if(y<0)if(U)y=0;else return-1;if(typeof h=="string"&&(h=a.from(h,O)),a.isBuffer(h))return h.length===0?-1:j(R,h,y,O,U);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(R,h,y):Uint8Array.prototype.lastIndexOf.call(R,h,y):j(R,[h],y,O,U);throw new TypeError("val must be string, number or Buffer")}function j(R,h,y,O,U){let F=1,q=R.length,Ce=h.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(R.length<2||h.length<2)return-1;F=2,q/=2,Ce/=2,y/=2}function xe(mt,ke){return F===1?mt[ke]:mt.readUInt16BE(ke*F)}let Te;if(U){let mt=-1;for(Te=y;Te<q;Te++)if(xe(R,Te)===xe(h,mt===-1?0:Te-mt)){if(mt===-1&&(mt=Te),Te-mt+1===Ce)return mt*F}else mt!==-1&&(Te-=Te-mt),mt=-1}else for(y+Ce>q&&(y=q-Ce),Te=y;Te>=0;Te--){let mt=!0;for(let ke=0;ke<Ce;ke++)if(xe(R,Te+ke)!==xe(h,ke)){mt=!1;break}if(mt)return Te}return-1}a.prototype.includes=function(h,y,O){return this.indexOf(h,y,O)!==-1},a.prototype.indexOf=function(h,y,O){return D(this,h,y,O,!0)},a.prototype.lastIndexOf=function(h,y,O){return D(this,h,y,O,!1)};function H(R,h,y,O){y=Number(y)||0;const U=R.length-y;O?(O=Number(O),O>U&&(O=U)):O=U;const F=h.length;O>F/2&&(O=F/2);let q;for(q=0;q<O;++q){const Ce=parseInt(h.substr(q*2,2),16);if(Xe(Ce))return q;R[y+q]=Ce}return q}function W(R,h,y,O){return Ne(_e(h,R.length-y),R,y,O)}function Y(R,h,y,O){return Ne(Ie(h),R,y,O)}function Z(R,h,y,O){return Ne(Fe(h),R,y,O)}function V(R,h,y,O){return Ne(Bt(h,R.length-y),R,y,O)}a.prototype.write=function(h,y,O,U){if(y===void 0)U="utf8",O=this.length,y=0;else if(O===void 0&&typeof y=="string")U=y,O=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(O)?(O=O>>>0,U===void 0&&(U="utf8")):(U=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const F=this.length-y;if((O===void 0||O>F)&&(O=F),h.length>0&&(O<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");let q=!1;for(;;)switch(U){case"hex":return H(this,h,y,O);case"utf8":case"utf-8":return W(this,h,y,O);case"ascii":case"latin1":case"binary":return Y(this,h,y,O);case"base64":return Z(this,h,y,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,h,y,O);default:if(q)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(R,h,y){return h===0&&y===R.length?e.fromByteArray(R):e.fromByteArray(R.slice(h,y))}function c(R,h,y){y=Math.min(R.length,y);const O=[];let U=h;for(;U<y;){const F=R[U];let q=null,Ce=F>239?4:F>223?3:F>191?2:1;if(U+Ce<=y){let xe,Te,mt,ke;switch(Ce){case 1:F<128&&(q=F);break;case 2:xe=R[U+1],(xe&192)===128&&(ke=(F&31)<<6|xe&63,ke>127&&(q=ke));break;case 3:xe=R[U+1],Te=R[U+2],(xe&192)===128&&(Te&192)===128&&(ke=(F&15)<<12|(xe&63)<<6|Te&63,ke>2047&&(ke<55296||ke>57343)&&(q=ke));break;case 4:xe=R[U+1],Te=R[U+2],mt=R[U+3],(xe&192)===128&&(Te&192)===128&&(mt&192)===128&&(ke=(F&15)<<18|(xe&63)<<12|(Te&63)<<6|mt&63,ke>65535&&ke<1114112&&(q=ke))}}q===null?(q=65533,Ce=1):q>65535&&(q-=65536,O.push(q>>>10&1023|55296),q=56320|q&1023),O.push(q),U+=Ce}return v(O)}const d=4096;function v(R){const h=R.length;if(h<=d)return String.fromCharCode.apply(String,R);let y="",O=0;for(;O<h;)y+=String.fromCharCode.apply(String,R.slice(O,O+=d));return y}function k(R,h,y){let O="";y=Math.min(R.length,y);for(let U=h;U<y;++U)O+=String.fromCharCode(R[U]&127);return O}function I(R,h,y){let O="";y=Math.min(R.length,y);for(let U=h;U<y;++U)O+=String.fromCharCode(R[U]);return O}function x(R,h,y){const O=R.length;(!h||h<0)&&(h=0),(!y||y<0||y>O)&&(y=O);let U="";for(let F=h;F<y;++F)U+=ct[R[F]];return U}function B(R,h,y){const O=R.slice(h,y);let U="";for(let F=0;F<O.length-1;F+=2)U+=String.fromCharCode(O[F]+O[F+1]*256);return U}a.prototype.slice=function(h,y){const O=this.length;h=~~h,y=y===void 0?O:~~y,h<0?(h+=O,h<0&&(h=0)):h>O&&(h=O),y<0?(y+=O,y<0&&(y=0)):y>O&&(y=O),y<h&&(y=h);const U=this.subarray(h,y);return Object.setPrototypeOf(U,a.prototype),U};function N(R,h,y){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+h>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,y,O){h=h>>>0,y=y>>>0,O||N(h,y,this.length);let U=this[h],F=1,q=0;for(;++q<y&&(F*=256);)U+=this[h+q]*F;return U},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,y,O){h=h>>>0,y=y>>>0,O||N(h,y,this.length);let U=this[h+--y],F=1;for(;y>0&&(F*=256);)U+=this[h+--y]*F;return U},a.prototype.readUint8=a.prototype.readUInt8=function(h,y){return h=h>>>0,y||N(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,y){return h=h>>>0,y||N(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,y){return h=h>>>0,y||N(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,y){return h=h>>>0,y||N(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,y){return h=h>>>0,y||N(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=zn(function(h){h=h>>>0,Q(h,"offset");const y=this[h],O=this[h+7];(y===void 0||O===void 0)&&he(h,this.length-8);const U=y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,F=this[++h]+this[++h]*2**8+this[++h]*2**16+O*2**24;return BigInt(U)+(BigInt(F)<<BigInt(32))}),a.prototype.readBigUInt64BE=zn(function(h){h=h>>>0,Q(h,"offset");const y=this[h],O=this[h+7];(y===void 0||O===void 0)&&he(h,this.length-8);const U=y*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],F=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+O;return(BigInt(U)<<BigInt(32))+BigInt(F)}),a.prototype.readIntLE=function(h,y,O){h=h>>>0,y=y>>>0,O||N(h,y,this.length);let U=this[h],F=1,q=0;for(;++q<y&&(F*=256);)U+=this[h+q]*F;return F*=128,U>=F&&(U-=Math.pow(2,8*y)),U},a.prototype.readIntBE=function(h,y,O){h=h>>>0,y=y>>>0,O||N(h,y,this.length);let U=y,F=1,q=this[h+--U];for(;U>0&&(F*=256);)q+=this[h+--U]*F;return F*=128,q>=F&&(q-=Math.pow(2,8*y)),q},a.prototype.readInt8=function(h,y){return h=h>>>0,y||N(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,y){h=h>>>0,y||N(h,2,this.length);const O=this[h]|this[h+1]<<8;return O&32768?O|4294901760:O},a.prototype.readInt16BE=function(h,y){h=h>>>0,y||N(h,2,this.length);const O=this[h+1]|this[h]<<8;return O&32768?O|4294901760:O},a.prototype.readInt32LE=function(h,y){return h=h>>>0,y||N(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,y){return h=h>>>0,y||N(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=zn(function(h){h=h>>>0,Q(h,"offset");const y=this[h],O=this[h+7];(y===void 0||O===void 0)&&he(h,this.length-8);const U=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(O<<24);return(BigInt(U)<<BigInt(32))+BigInt(y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=zn(function(h){h=h>>>0,Q(h,"offset");const y=this[h],O=this[h+7];(y===void 0||O===void 0)&&he(h,this.length-8);const U=(y<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(U)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+O)}),a.prototype.readFloatLE=function(h,y){return h=h>>>0,y||N(h,4,this.length),n.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,y){return h=h>>>0,y||N(h,4,this.length),n.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,y){return h=h>>>0,y||N(h,8,this.length),n.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,y){return h=h>>>0,y||N(h,8,this.length),n.read(this,h,!1,52,8)};function p(R,h,y,O,U,F){if(!a.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>U||h<F)throw new RangeError('"value" argument is out of bounds');if(y+O>R.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,y,O,U){if(h=+h,y=y>>>0,O=O>>>0,!U){const Ce=Math.pow(2,8*O)-1;p(this,h,y,O,Ce,0)}let F=1,q=0;for(this[y]=h&255;++q<O&&(F*=256);)this[y+q]=h/F&255;return y+O},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,y,O,U){if(h=+h,y=y>>>0,O=O>>>0,!U){const Ce=Math.pow(2,8*O)-1;p(this,h,y,O,Ce,0)}let F=O-1,q=1;for(this[y+F]=h&255;--F>=0&&(q*=256);)this[y+F]=h/q&255;return y+O},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,1,255,0),this[y]=h&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,2,65535,0),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,2,65535,0),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,4,4294967295,0),this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=h&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,4,4294967295,0),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4};function L(R,h,y,O,U){nt(h,O,U,R,y,7);let F=Number(h&BigInt(4294967295));R[y++]=F,F=F>>8,R[y++]=F,F=F>>8,R[y++]=F,F=F>>8,R[y++]=F;let q=Number(h>>BigInt(32)&BigInt(4294967295));return R[y++]=q,q=q>>8,R[y++]=q,q=q>>8,R[y++]=q,q=q>>8,R[y++]=q,y}function oe(R,h,y,O,U){nt(h,O,U,R,y,7);let F=Number(h&BigInt(4294967295));R[y+7]=F,F=F>>8,R[y+6]=F,F=F>>8,R[y+5]=F,F=F>>8,R[y+4]=F;let q=Number(h>>BigInt(32)&BigInt(4294967295));return R[y+3]=q,q=q>>8,R[y+2]=q,q=q>>8,R[y+1]=q,q=q>>8,R[y]=q,y+8}a.prototype.writeBigUInt64LE=zn(function(h,y=0){return L(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=zn(function(h,y=0){return oe(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,y,O,U){if(h=+h,y=y>>>0,!U){const xe=Math.pow(2,8*O-1);p(this,h,y,O,xe-1,-xe)}let F=0,q=1,Ce=0;for(this[y]=h&255;++F<O&&(q*=256);)h<0&&Ce===0&&this[y+F-1]!==0&&(Ce=1),this[y+F]=(h/q>>0)-Ce&255;return y+O},a.prototype.writeIntBE=function(h,y,O,U){if(h=+h,y=y>>>0,!U){const xe=Math.pow(2,8*O-1);p(this,h,y,O,xe-1,-xe)}let F=O-1,q=1,Ce=0;for(this[y+F]=h&255;--F>=0&&(q*=256);)h<0&&Ce===0&&this[y+F+1]!==0&&(Ce=1),this[y+F]=(h/q>>0)-Ce&255;return y+O},a.prototype.writeInt8=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,1,127,-128),h<0&&(h=255+h+1),this[y]=h&255,y+1},a.prototype.writeInt16LE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,2,32767,-32768),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeInt16BE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,2,32767,-32768),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeInt32LE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,4,2147483647,-2147483648),this[y]=h&255,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24,y+4},a.prototype.writeInt32BE=function(h,y,O){return h=+h,y=y>>>0,O||p(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4},a.prototype.writeBigInt64LE=zn(function(h,y=0){return L(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=zn(function(h,y=0){return oe(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(R,h,y,O,U,F){if(y+O>R.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function ae(R,h,y,O,U){return h=+h,y=y>>>0,U||ie(R,h,y,4),n.write(R,h,y,O,23,4),y+4}a.prototype.writeFloatLE=function(h,y,O){return ae(this,h,y,!0,O)},a.prototype.writeFloatBE=function(h,y,O){return ae(this,h,y,!1,O)};function Re(R,h,y,O,U){return h=+h,y=y>>>0,U||ie(R,h,y,8),n.write(R,h,y,O,52,8),y+8}a.prototype.writeDoubleLE=function(h,y,O){return Re(this,h,y,!0,O)},a.prototype.writeDoubleBE=function(h,y,O){return Re(this,h,y,!1,O)},a.prototype.copy=function(h,y,O,U){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(O||(O=0),!U&&U!==0&&(U=this.length),y>=h.length&&(y=h.length),y||(y=0),U>0&&U<O&&(U=O),U===O||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),h.length-y<U-O&&(U=h.length-y+O);const F=U-O;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,O,U):Uint8Array.prototype.set.call(h,this.subarray(O,U),y),F},a.prototype.fill=function(h,y,O,U){if(typeof h=="string"){if(typeof y=="string"?(U=y,y=0,O=this.length):typeof O=="string"&&(U=O,O=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!a.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(h.length===1){const q=h.charCodeAt(0);(U==="utf8"&&q<128||U==="latin1")&&(h=q)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(y<0||this.length<y||this.length<O)throw new RangeError("Out of range index");if(O<=y)return this;y=y>>>0,O=O===void 0?this.length:O>>>0,h||(h=0);let F;if(typeof h=="number")for(F=y;F<O;++F)this[F]=h;else{const q=a.isBuffer(h)?h:a.from(h,U),Ce=q.length;if(Ce===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(F=0;F<O-y;++F)this[F+y]=q[F%Ce]}return this};const Ae={};function Ee(R,h,y){Ae[R]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(U){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:U,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(R,h){return`The "${R}" argument must be of type number. Received type ${typeof h}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(R,h,y){let O=`The value of "${R}" is out of range.`,U=y;return Number.isInteger(y)&&Math.abs(y)>2**32?U=St(String(y)):typeof y=="bigint"&&(U=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(U=St(U)),U+="n"),O+=` It must be ${h}. Received ${U}`,O},RangeError);function St(R){let h="",y=R.length;const O=R[0]==="-"?1:0;for(;y>=O+4;y-=3)h=`_${R.slice(y-3,y)}${h}`;return`${R.slice(0,y)}${h}`}function tt(R,h,y){Q(h,"offset"),(R[h]===void 0||R[h+y]===void 0)&&he(h,R.length-(y+1))}function nt(R,h,y,O,U,F){if(R>y||R<h){const q=typeof h=="bigint"?"n":"";let Ce;throw h===0||h===BigInt(0)?Ce=`>= 0${q} and < 2${q} ** ${(F+1)*8}${q}`:Ce=`>= -(2${q} ** ${(F+1)*8-1}${q}) and < 2 ** ${(F+1)*8-1}${q}`,new Ae.ERR_OUT_OF_RANGE("value",Ce,R)}tt(O,U,F)}function Q(R,h){if(typeof R!="number")throw new Ae.ERR_INVALID_ARG_TYPE(h,"number",R)}function he(R,h,y){throw Math.floor(R)!==R?(Q(R,y),new Ae.ERR_OUT_OF_RANGE("offset","an integer",R)):h<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,R)}const ve=/[^+/0-9A-Za-z-_]/g;function Qe(R){if(R=R.split("=")[0],R=R.trim().replace(ve,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function _e(R,h){h=h||1/0;let y;const O=R.length;let U=null;const F=[];for(let q=0;q<O;++q){if(y=R.charCodeAt(q),y>55295&&y<57344){if(!U){if(y>56319){(h-=3)>-1&&F.push(239,191,189);continue}else if(q+1===O){(h-=3)>-1&&F.push(239,191,189);continue}U=y;continue}if(y<56320){(h-=3)>-1&&F.push(239,191,189),U=y;continue}y=(U-55296<<10|y-56320)+65536}else U&&(h-=3)>-1&&F.push(239,191,189);if(U=null,y<128){if((h-=1)<0)break;F.push(y)}else if(y<2048){if((h-=2)<0)break;F.push(y>>6|192,y&63|128)}else if(y<65536){if((h-=3)<0)break;F.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((h-=4)<0)break;F.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return F}function Ie(R){const h=[];for(let y=0;y<R.length;++y)h.push(R.charCodeAt(y)&255);return h}function Bt(R,h){let y,O,U;const F=[];for(let q=0;q<R.length&&!((h-=2)<0);++q)y=R.charCodeAt(q),O=y>>8,U=y%256,F.push(U),F.push(O);return F}function Fe(R){return e.toByteArray(Qe(R))}function Ne(R,h,y,O){let U;for(U=0;U<O&&!(U+y>=h.length||U>=R.length);++U)h[U+y]=R[U];return U}function lt(R,h){return R instanceof h||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===h.name}function Xe(R){return R!==R}const ct=function(){const R="0123456789abcdef",h=new Array(256);for(let y=0;y<16;++y){const O=y*16;for(let U=0;U<16;++U)h[O+U]=R[y]+R[U]}return h}();function zn(R){return typeof BigInt>"u"?He:R}function He(){throw new Error("BigInt not supported")}})(de);var Dp={},zv={exports:{}},wr={},jv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,x){var B=I.length;I.push(x);e:for(;0<B;){var N=B-1>>>1,p=I[N];if(0<i(p,x))I[N]=x,I[B]=p,B=N;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var x=I[0],B=I.pop();if(B!==x){I[0]=B;e:for(var N=0,p=I.length,L=p>>>1;N<L;){var oe=2*(N+1)-1,ie=I[oe],ae=oe+1,Re=I[ae];if(0>i(ie,B))ae<p&&0>i(Re,ie)?(I[N]=Re,I[ae]=B,N=ae):(I[N]=ie,I[oe]=B,N=oe);else if(ae<p&&0>i(Re,B))I[N]=Re,I[ae]=B,N=ae;else break e}}return x}function i(I,x){var B=I.sortIndex-x.sortIndex;return B!==0?B:I.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,g=null,w=3,m=!1,_=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var x=n(u);x!==null;){if(x.callback===null)r(u);else if(x.startTime<=I)r(u),x.sortIndex=x.expirationTime,e(l,x);else break;x=n(u)}}function C(I){if(T=!1,S(I),!_)if(n(l)!==null)_=!0,v(P);else{var x=n(u);x!==null&&k(C,x.startTime-I)}}function P(I,x){_=!1,T&&(T=!1,E(H),H=-1),m=!0;var B=w;try{for(S(x),g=n(l);g!==null&&(!(g.expirationTime>x)||I&&!Z());){var N=g.callback;if(typeof N=="function"){g.callback=null,w=g.priorityLevel;var p=N(g.expirationTime<=x);x=t.unstable_now(),typeof p=="function"?g.callback=p:g===n(l)&&r(l),S(x)}else r(l);g=n(l)}if(g!==null)var L=!0;else{var oe=n(u);oe!==null&&k(C,oe.startTime-x),L=!1}return L}finally{g=null,w=B,m=!1}}var D=!1,j=null,H=-1,W=5,Y=-1;function Z(){return!(t.unstable_now()-Y<W)}function V(){if(j!==null){var I=t.unstable_now();Y=I;var x=!0;try{x=j(!0,I)}finally{x?b():(D=!1,j=null)}}else D=!1}var b;if(typeof A=="function")b=function(){A(V)};else if(typeof MessageChannel<"u"){var c=new MessageChannel,d=c.port2;c.port1.onmessage=V,b=function(){d.postMessage(null)}}else b=function(){M(V,0)};function v(I){j=I,D||(D=!0,b())}function k(I,x){H=M(function(){I(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,v(P))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(w){case 1:case 2:case 3:var x=3;break;default:x=w}var B=w;w=x;try{return I()}finally{w=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,x){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=w;w=I;try{return x()}finally{w=B}},t.unstable_scheduleCallback=function(I,x,B){var N=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?N+B:N):B=N,I){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=B+p,I={id:f++,callback:x,priorityLevel:I,startTime:B,expirationTime:p,sortIndex:-1},B>N?(I.sortIndex=B,e(u,I),n(l)===null&&I===n(u)&&(T?(E(H),H=-1):T=!0,k(C,B-N))):(I.sortIndex=p,e(l,I),_||m||(_=!0,v(P))),I},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(I){var x=w;return function(){var B=w;w=x;try{return I.apply(this,arguments)}finally{w=B}}}})(Wv);jv.exports=Wv;var _2=jv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2=te,mr=_2;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fv=new Set,Zl={};function Ns(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(Zl[t]=e,t=0;t<e.length;t++)Fv.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,E2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nw={},rw={};function b2(t){return Up.call(rw,t)?!0:Up.call(nw,t)?!1:E2.test(t)?rw[t]=!0:(nw[t]=!0,!1)}function A2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I2(t,e,n,r){if(e===null||typeof e>"u"||A2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gg,Yg);In[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gg,Yg);In[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gg,Yg);In[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function qg(t,e,n,r){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I2(e,n,i,r)&&(n=null),r||i===null?b2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fi=S2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),ta=Symbol.for("react.portal"),na=Symbol.for("react.fragment"),Zg=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),Hv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),Wp=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),$v=Symbol.for("react.offscreen"),iw=Symbol.iterator;function ll(t){return t===null||typeof t!="object"?null:(t=iw&&t[iw]||t["@@iterator"],typeof t=="function"?t:null)}var Mt=Object.assign,Nh;function _l(t){if(Nh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nh=e&&e[1]||""}return`
`+Nh+t}var xh=!1;function Oh(t,e){if(!t||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_l(t):""}function k2(t){switch(t.tag){case 5:return _l(t.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return t=Oh(t.type,!1),t;case 11:return t=Oh(t.type.render,!1),t;case 1:return t=Oh(t.type,!0),t;default:return""}}function Fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case na:return"Fragment";case ta:return"Portal";case zp:return"Profiler";case Zg:return"StrictMode";case jp:return"Suspense";case Wp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kv:return(t.displayName||"Context")+".Consumer";case Hv:return(t._context.displayName||"Context")+".Provider";case Qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:Fp(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return Fp(t(e))}catch{}}return null}function R2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(e);case 8:return e===Zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T2(t){var e=Vv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=T2(t))}function Gv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hp(t,e){var n=e.checked;return Mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ow(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yv(t,e){e=e.checked,e!=null&&qg(t,"checked",e,!1)}function Kp(t,e){Yv(t,e);var n=ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$p(t,e.type,n):e.hasOwnProperty("defaultValue")&&$p(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $p(t,e,n){(e!=="number"||yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sl=Array.isArray;function wa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Sl(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ko(n)}}function qv(t,e){var n=ko(e.value),r=ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vc,Qv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M2=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(t){M2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bl[e]=Bl[t]})});function Xv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bl.hasOwnProperty(t)&&Bl[t]?(""+e).trim():e+"px"}function Jv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var N2=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(t,e){if(e){if(N2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=null;function Jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qp=null,va=null,_a=null;function cw(t){if(t=Ic(t)){if(typeof Qp!="function")throw Error(re(280));var e=t.stateNode;e&&(e=yf(e),Qp(t.stateNode,t.type,e))}}function e_(t){va?_a?_a.push(t):_a=[t]:va=t}function t_(){if(va){var t=va,e=_a;if(_a=va=null,cw(t),e)for(t=0;t<e.length;t++)cw(e[t])}}function n_(t,e){return t(e)}function r_(){}var Ch=!1;function i_(t,e,n){if(Ch)return t(e,n);Ch=!0;try{return n_(t,e,n)}finally{Ch=!1,(va!==null||_a!==null)&&(r_(),t_())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=yf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Xp=!1;if(Pi)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Xp=!1}function x2(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Pl=!1,md=null,wd=!1,Jp=null,O2={onError:function(t){Pl=!0,md=t}};function C2(t,e,n,r,i,o,s,a,l){Pl=!1,md=null,x2.apply(O2,arguments)}function L2(t,e,n,r,i,o,s,a,l){if(C2.apply(this,arguments),Pl){if(Pl){var u=md;Pl=!1,md=null}else throw Error(re(198));wd||(wd=!0,Jp=u)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uw(t){if(xs(t)!==t)throw Error(re(188))}function B2(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uw(i),t;if(o===r)return uw(i),e;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function s_(t){return t=B2(t),t!==null?a_(t):null}function a_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a_(t);if(e!==null)return e;t=t.sibling}return null}var l_=mr.unstable_scheduleCallback,dw=mr.unstable_cancelCallback,P2=mr.unstable_shouldYield,D2=mr.unstable_requestPaint,Dt=mr.unstable_now,U2=mr.unstable_getCurrentPriorityLevel,ey=mr.unstable_ImmediatePriority,c_=mr.unstable_UserBlockingPriority,vd=mr.unstable_NormalPriority,z2=mr.unstable_LowPriority,u_=mr.unstable_IdlePriority,ff=null,si=null;function j2(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(ff,t,void 0,(t.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:H2,W2=Math.log,F2=Math.LN2;function H2(t){return t>>>=0,t===0?32:31-(W2(t)/F2|0)|0}var Gc=64,Yc=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _d(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=El(a):(o&=s,o!==0&&(r=El(o)))}else s=n&~i,s!==0?r=El(s):o!==0&&(r=El(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wr(e),i=1<<n,r|=t[n],e&=~i;return r}function K2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Wr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=K2(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function e0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function d_(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function Lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wr(e),t[e]=n}function V2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ot=0;function f_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h_,ny,p_,g_,y_,t0=!1,qc=[],go=null,yo=null,mo=null,Jl=new Map,ec=new Map,io=[],G2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function ul(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ic(e),e!==null&&ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Y2(t,e,n,r,i){switch(e){case"focusin":return go=ul(go,t,e,n,r,i),!0;case"dragenter":return yo=ul(yo,t,e,n,r,i),!0;case"mouseover":return mo=ul(mo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Jl.set(o,ul(Jl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ec.set(o,ul(ec.get(o)||null,t,e,n,r,i)),!0}return!1}function m_(t){var e=rs(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=o_(n),e!==null){t.blockedOn=e,y_(t.priority,function(){p_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=n0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zp=r,n.target.dispatchEvent(r),Zp=null}else return e=Ic(n),e!==null&&ny(e),t.blockedOn=n,!1;e.shift()}return!0}function hw(t,e,n){Eu(t)&&n.delete(e)}function q2(){t0=!1,go!==null&&Eu(go)&&(go=null),yo!==null&&Eu(yo)&&(yo=null),mo!==null&&Eu(mo)&&(mo=null),Jl.forEach(hw),ec.forEach(hw)}function dl(t,e){t.blockedOn===e&&(t.blockedOn=null,t0||(t0=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,q2)))}function tc(t){function e(i){return dl(i,t)}if(0<qc.length){dl(qc[0],t);for(var n=1;n<qc.length;n++){var r=qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&dl(go,t),yo!==null&&dl(yo,t),mo!==null&&dl(mo,t),Jl.forEach(e),ec.forEach(e),n=0;n<io.length;n++)r=io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)m_(n),n.blockedOn===null&&io.shift()}var Sa=Fi.ReactCurrentBatchConfig,Sd=!0;function Z2(t,e,n,r){var i=ot,o=Sa.transition;Sa.transition=null;try{ot=1,ry(t,e,n,r)}finally{ot=i,Sa.transition=o}}function Q2(t,e,n,r){var i=ot,o=Sa.transition;Sa.transition=null;try{ot=4,ry(t,e,n,r)}finally{ot=i,Sa.transition=o}}function ry(t,e,n,r){if(Sd){var i=n0(t,e,n,r);if(i===null)Kh(t,e,r,Ed,n),fw(t,r);else if(Y2(i,t,e,n,r))r.stopPropagation();else if(fw(t,r),e&4&&-1<G2.indexOf(t)){for(;i!==null;){var o=Ic(i);if(o!==null&&h_(o),o=n0(t,e,n,r),o===null&&Kh(t,e,r,Ed,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Kh(t,e,r,null,n)}}var Ed=null;function n0(t,e,n,r){if(Ed=null,t=Jg(r),t=rs(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ed=t,null}function w_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U2()){case ey:return 1;case c_:return 4;case vd:case z2:return 16;case u_:return 536870912;default:return 16}default:return 16}}var ao=null,iy=null,bu=null;function v_(){if(bu)return bu;var t,e=iy,n=e.length,r,i="value"in ao?ao.value:ao.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return bu=i.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function pw(){return!1}function vr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zc:pw,this.isPropagationStopped=pw,this}return Mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oy=vr(Qa),Ac=Mt({},Qa,{view:0,detail:0}),X2=vr(Ac),Bh,Ph,fl,hf=Mt({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fl&&(fl&&t.type==="mousemove"?(Bh=t.screenX-fl.screenX,Ph=t.screenY-fl.screenY):Ph=Bh=0,fl=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:Ph}}),gw=vr(hf),J2=Mt({},hf,{dataTransfer:0}),ek=vr(J2),tk=Mt({},Ac,{relatedTarget:0}),Dh=vr(tk),nk=Mt({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=vr(nk),ik=Mt({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ok=vr(ik),sk=Mt({},Qa,{data:0}),yw=vr(sk),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ck[t])?!!e[t]:!1}function sy(){return uk}var dk=Mt({},Ac,{key:function(t){if(t.key){var e=ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sy,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fk=vr(dk),hk=Mt({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mw=vr(hk),pk=Mt({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sy}),gk=vr(pk),yk=Mt({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),mk=vr(yk),wk=Mt({},hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vk=vr(wk),_k=[9,13,27,32],ay=Pi&&"CompositionEvent"in window,Dl=null;Pi&&"documentMode"in document&&(Dl=document.documentMode);var Sk=Pi&&"TextEvent"in window&&!Dl,__=Pi&&(!ay||Dl&&8<Dl&&11>=Dl),ww=" ",vw=!1;function S_(t,e){switch(t){case"keyup":return _k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function Ek(t,e){switch(t){case"compositionend":return E_(e);case"keypress":return e.which!==32?null:(vw=!0,ww);case"textInput":return t=e.data,t===ww&&vw?null:t;default:return null}}function bk(t,e){if(ra)return t==="compositionend"||!ay&&S_(t,e)?(t=v_(),bu=iy=ao=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return __&&e.locale!=="ko"?null:e.data;default:return null}}var Ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ak[t.type]:e==="textarea"}function b_(t,e,n,r){e_(r),e=bd(e,"onChange"),0<e.length&&(n=new oy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ul=null,nc=null;function Ik(t){L_(t,0)}function pf(t){var e=sa(t);if(Gv(e))return t}function kk(t,e){if(t==="change")return e}var A_=!1;if(Pi){var Uh;if(Pi){var zh="oninput"in document;if(!zh){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),zh=typeof Sw.oninput=="function"}Uh=zh}else Uh=!1;A_=Uh&&(!document.documentMode||9<document.documentMode)}function Ew(){Ul&&(Ul.detachEvent("onpropertychange",I_),nc=Ul=null)}function I_(t){if(t.propertyName==="value"&&pf(nc)){var e=[];b_(e,nc,t,Jg(t)),i_(Ik,e)}}function Rk(t,e,n){t==="focusin"?(Ew(),Ul=e,nc=n,Ul.attachEvent("onpropertychange",I_)):t==="focusout"&&Ew()}function Tk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pf(nc)}function Mk(t,e){if(t==="click")return pf(e)}function Nk(t,e){if(t==="input"||t==="change")return pf(e)}function xk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $r=typeof Object.is=="function"?Object.is:xk;function rc(t,e){if($r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Up.call(e,i)||!$r(t[i],e[i]))return!1}return!0}function bw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Aw(t,e){var n=bw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bw(n)}}function k_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?k_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R_(){for(var t=window,e=yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yd(t.document)}return e}function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ok(t){var e=R_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&k_(n.ownerDocument.documentElement,n)){if(r!==null&&ly(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Aw(n,o);var s=Aw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ck=Pi&&"documentMode"in document&&11>=document.documentMode,ia=null,r0=null,zl=null,i0=!1;function Iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;i0||ia==null||ia!==yd(r)||(r=ia,"selectionStart"in r&&ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zl&&rc(zl,r)||(zl=r,r=bd(r0,"onSelect"),0<r.length&&(e=new oy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ia)))}function Qc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oa={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},jh={},T_={};Pi&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function gf(t){if(jh[t])return jh[t];if(!oa[t])return t;var e=oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T_)return jh[t]=e[n];return t}var M_=gf("animationend"),N_=gf("animationiteration"),x_=gf("animationstart"),O_=gf("transitionend"),C_=new Map,kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(t,e){C_.set(t,e),Ns(e,[t])}for(var Wh=0;Wh<kw.length;Wh++){var Fh=kw[Wh],Lk=Fh.toLowerCase(),Bk=Fh[0].toUpperCase()+Fh.slice(1);Co(Lk,"on"+Bk)}Co(M_,"onAnimationEnd");Co(N_,"onAnimationIteration");Co(x_,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(O_,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Rw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,L2(r,e,void 0,t),t.currentTarget=null}function L_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Rw(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Rw(i,a,u),o=l}}}if(wd)throw t=Jp,wd=!1,Jp=null,t}function wt(t,e){var n=e[c0];n===void 0&&(n=e[c0]=new Set);var r=t+"__bubble";n.has(r)||(B_(e,t,2,!1),n.add(r))}function Hh(t,e,n){var r=0;e&&(r|=4),B_(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function ic(t){if(!t[Xc]){t[Xc]=!0,Fv.forEach(function(n){n!=="selectionchange"&&(Pk.has(n)||Hh(n,!1,t),Hh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,Hh("selectionchange",!1,e))}}function B_(t,e,n,r){switch(w_(e)){case 1:var i=Z2;break;case 4:i=Q2;break;default:i=ry}n=i.bind(null,e,n,t),i=void 0,!Xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=rs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}i_(function(){var u=o,f=Jg(n),g=[];e:{var w=C_.get(t);if(w!==void 0){var m=oy,_=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":m=fk;break;case"focusin":_="focus",m=Dh;break;case"focusout":_="blur",m=Dh;break;case"beforeblur":case"afterblur":m=Dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gk;break;case M_:case N_:case x_:m=rk;break;case O_:m=mk;break;case"scroll":m=X2;break;case"wheel":m=vk;break;case"copy":case"cut":case"paste":m=ok;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mw}var T=(e&4)!==0,M=!T&&t==="scroll",E=T?w!==null?w+"Capture":null:w;T=[];for(var A=u,S;A!==null;){S=A;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,E!==null&&(C=Xl(A,E),C!=null&&T.push(oc(A,C,S)))),M)break;A=A.return}0<T.length&&(w=new m(w,_,null,n,f),g.push({event:w,listeners:T}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",w&&n!==Zp&&(_=n.relatedTarget||n.fromElement)&&(rs(_)||_[Di]))break e;if((m||w)&&(w=f.window===f?f:(w=f.ownerDocument)?w.defaultView||w.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?rs(_):null,_!==null&&(M=xs(_),_!==M||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(T=gw,C="onMouseLeave",E="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(T=mw,C="onPointerLeave",E="onPointerEnter",A="pointer"),M=m==null?w:sa(m),S=_==null?w:sa(_),w=new T(C,A+"leave",m,n,f),w.target=M,w.relatedTarget=S,C=null,rs(f)===u&&(T=new T(E,A+"enter",_,n,f),T.target=S,T.relatedTarget=M,C=T),M=C,m&&_)t:{for(T=m,E=_,A=0,S=T;S;S=zs(S))A++;for(S=0,C=E;C;C=zs(C))S++;for(;0<A-S;)T=zs(T),A--;for(;0<S-A;)E=zs(E),S--;for(;A--;){if(T===E||E!==null&&T===E.alternate)break t;T=zs(T),E=zs(E)}T=null}else T=null;m!==null&&Tw(g,w,m,T,!1),_!==null&&M!==null&&Tw(g,M,_,T,!0)}}e:{if(w=u?sa(u):window,m=w.nodeName&&w.nodeName.toLowerCase(),m==="select"||m==="input"&&w.type==="file")var P=kk;else if(_w(w))if(A_)P=Nk;else{P=Tk;var D=Rk}else(m=w.nodeName)&&m.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(P=Mk);if(P&&(P=P(t,u))){b_(g,P,n,f);break e}D&&D(t,w,u),t==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&$p(w,"number",w.value)}switch(D=u?sa(u):window,t){case"focusin":(_w(D)||D.contentEditable==="true")&&(ia=D,r0=u,zl=null);break;case"focusout":zl=r0=ia=null;break;case"mousedown":i0=!0;break;case"contextmenu":case"mouseup":case"dragend":i0=!1,Iw(g,n,f);break;case"selectionchange":if(Ck)break;case"keydown":case"keyup":Iw(g,n,f)}var j;if(ay)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else ra?S_(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(__&&n.locale!=="ko"&&(ra||H!=="onCompositionStart"?H==="onCompositionEnd"&&ra&&(j=v_()):(ao=f,iy="value"in ao?ao.value:ao.textContent,ra=!0)),D=bd(u,H),0<D.length&&(H=new yw(H,t,null,n,f),g.push({event:H,listeners:D}),j?H.data=j:(j=E_(n),j!==null&&(H.data=j)))),(j=Sk?Ek(t,n):bk(t,n))&&(u=bd(u,"onBeforeInput"),0<u.length&&(f=new yw("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:u}),f.data=j))}L_(g,e)})}function oc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xl(t,n),o!=null&&r.unshift(oc(t,o,i)),o=Xl(t,e),o!=null&&r.push(oc(t,o,i))),t=t.return}return r}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xl(n,o),l!=null&&s.unshift(oc(n,l,a))):i||(l=Xl(n,o),l!=null&&s.push(oc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Dk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function Mw(t){return(typeof t=="string"?t:""+t).replace(Dk,`
`).replace(Uk,"")}function Jc(t,e,n){if(e=Mw(e),Mw(t)!==e&&n)throw Error(re(425))}function Ad(){}var o0=null,s0=null;function a0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var l0=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,jk=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(t){return Nw.resolve(null).then(t).catch(Wk)}:l0;function Wk(t){setTimeout(function(){throw t})}function $h(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tc(e)}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xa,sc="__reactProps$"+Xa,Di="__reactContainer$"+Xa,c0="__reactEvents$"+Xa,Fk="__reactListeners$"+Xa,Hk="__reactHandles$"+Xa;function rs(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Di]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xw(t);t!==null;){if(n=t[Jr])return n;t=xw(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[Jr]||t[Di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function yf(t){return t[sc]||null}var u0=[],aa=-1;function Lo(t){return{current:t}}function _t(t){0>aa||(t.current=u0[aa],u0[aa]=null,aa--)}function gt(t,e){aa++,u0[aa]=t.current,t.current=e}var Ro={},Un=Lo(Ro),tr=Lo(!1),_s=Ro;function Ca(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function Id(){_t(tr),_t(Un)}function Ow(t,e,n){if(Un.current!==Ro)throw Error(re(168));gt(Un,e),gt(tr,n)}function P_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,R2(t)||"Unknown",i));return Mt({},n,r)}function kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,_s=Un.current,gt(Un,t),gt(tr,tr.current),!0}function Cw(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=P_(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,_t(tr),_t(Un),gt(Un,t)):_t(tr),gt(tr,n)}var bi=null,mf=!1,Vh=!1;function D_(t){bi===null?bi=[t]:bi.push(t)}function Kk(t){mf=!0,D_(t)}function Bo(){if(!Vh&&bi!==null){Vh=!0;var t=0,e=ot;try{var n=bi;for(ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bi=null,mf=!1}catch(i){throw bi!==null&&(bi=bi.slice(t+1)),l_(ey,Bo),i}finally{ot=e,Vh=!1}}return null}var la=[],ca=0,Rd=null,Td=0,Ir=[],kr=0,Ss=null,Ni=1,xi="";function $o(t,e){la[ca++]=Td,la[ca++]=Rd,Rd=t,Td=e}function U_(t,e,n){Ir[kr++]=Ni,Ir[kr++]=xi,Ir[kr++]=Ss,Ss=t;var r=Ni;t=xi;var i=32-Wr(r)-1;r&=~(1<<i),n+=1;var o=32-Wr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ni=1<<32-Wr(e)+i|n<<i|r,xi=o+t}else Ni=1<<o|n<<i|r,xi=t}function cy(t){t.return!==null&&($o(t,1),U_(t,1,0))}function uy(t){for(;t===Rd;)Rd=la[--ca],la[ca]=null,Td=la[--ca],la[ca]=null;for(;t===Ss;)Ss=Ir[--kr],Ir[kr]=null,xi=Ir[--kr],Ir[kr]=null,Ni=Ir[--kr],Ir[kr]=null}var pr=null,hr=null,Et=!1,Ur=null;function z_(t,e){var n=Rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,hr=wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Ni,overflow:xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pr=t,hr=null,!0):!1;default:return!1}}function d0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function f0(t){if(Et){var e=hr;if(e){var n=e;if(!Lw(t,e)){if(d0(t))throw Error(re(418));e=wo(n.nextSibling);var r=pr;e&&Lw(t,e)?z_(r,n):(t.flags=t.flags&-4097|2,Et=!1,pr=t)}}else{if(d0(t))throw Error(re(418));t.flags=t.flags&-4097|2,Et=!1,pr=t}}}function Bw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function eu(t){if(t!==pr)return!1;if(!Et)return Bw(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!a0(t.type,t.memoizedProps)),e&&(e=hr)){if(d0(t))throw j_(),Error(re(418));for(;e;)z_(t,e),e=wo(e.nextSibling)}if(Bw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hr=wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=pr?wo(t.stateNode.nextSibling):null;return!0}function j_(){for(var t=hr;t;)t=wo(t.nextSibling)}function La(){hr=pr=null,Et=!1}function dy(t){Ur===null?Ur=[t]:Ur.push(t)}var $k=Fi.ReactCurrentBatchConfig;function hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pw(t){var e=t._init;return e(t._payload)}function W_(t){function e(E,A){if(t){var S=E.deletions;S===null?(E.deletions=[A],E.flags|=16):S.push(A)}}function n(E,A){if(!t)return null;for(;A!==null;)e(E,A),A=A.sibling;return null}function r(E,A){for(E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function i(E,A){return E=Eo(E,A),E.index=0,E.sibling=null,E}function o(E,A,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<A?(E.flags|=2,A):S):(E.flags|=2,A)):(E.flags|=1048576,A)}function s(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,A,S,C){return A===null||A.tag!==6?(A=Jh(S,E.mode,C),A.return=E,A):(A=i(A,S),A.return=E,A)}function l(E,A,S,C){var P=S.type;return P===na?f(E,A,S.props.children,C,S.key):A!==null&&(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===eo&&Pw(P)===A.type)?(C=i(A,S.props),C.ref=hl(E,A,S),C.return=E,C):(C=xu(S.type,S.key,S.props,null,E.mode,C),C.ref=hl(E,A,S),C.return=E,C)}function u(E,A,S,C){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=ep(S,E.mode,C),A.return=E,A):(A=i(A,S.children||[]),A.return=E,A)}function f(E,A,S,C,P){return A===null||A.tag!==7?(A=ws(S,E.mode,C,P),A.return=E,A):(A=i(A,S),A.return=E,A)}function g(E,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Jh(""+A,E.mode,S),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Kc:return S=xu(A.type,A.key,A.props,null,E.mode,S),S.ref=hl(E,null,A),S.return=E,S;case ta:return A=ep(A,E.mode,S),A.return=E,A;case eo:var C=A._init;return g(E,C(A._payload),S)}if(Sl(A)||ll(A))return A=ws(A,E.mode,S,null),A.return=E,A;tu(E,A)}return null}function w(E,A,S,C){var P=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:a(E,A,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kc:return S.key===P?l(E,A,S,C):null;case ta:return S.key===P?u(E,A,S,C):null;case eo:return P=S._init,w(E,A,P(S._payload),C)}if(Sl(S)||ll(S))return P!==null?null:f(E,A,S,C,null);tu(E,S)}return null}function m(E,A,S,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(S)||null,a(A,E,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Kc:return E=E.get(C.key===null?S:C.key)||null,l(A,E,C,P);case ta:return E=E.get(C.key===null?S:C.key)||null,u(A,E,C,P);case eo:var D=C._init;return m(E,A,S,D(C._payload),P)}if(Sl(C)||ll(C))return E=E.get(S)||null,f(A,E,C,P,null);tu(A,C)}return null}function _(E,A,S,C){for(var P=null,D=null,j=A,H=A=0,W=null;j!==null&&H<S.length;H++){j.index>H?(W=j,j=null):W=j.sibling;var Y=w(E,j,S[H],C);if(Y===null){j===null&&(j=W);break}t&&j&&Y.alternate===null&&e(E,j),A=o(Y,A,H),D===null?P=Y:D.sibling=Y,D=Y,j=W}if(H===S.length)return n(E,j),Et&&$o(E,H),P;if(j===null){for(;H<S.length;H++)j=g(E,S[H],C),j!==null&&(A=o(j,A,H),D===null?P=j:D.sibling=j,D=j);return Et&&$o(E,H),P}for(j=r(E,j);H<S.length;H++)W=m(j,E,H,S[H],C),W!==null&&(t&&W.alternate!==null&&j.delete(W.key===null?H:W.key),A=o(W,A,H),D===null?P=W:D.sibling=W,D=W);return t&&j.forEach(function(Z){return e(E,Z)}),Et&&$o(E,H),P}function T(E,A,S,C){var P=ll(S);if(typeof P!="function")throw Error(re(150));if(S=P.call(S),S==null)throw Error(re(151));for(var D=P=null,j=A,H=A=0,W=null,Y=S.next();j!==null&&!Y.done;H++,Y=S.next()){j.index>H?(W=j,j=null):W=j.sibling;var Z=w(E,j,Y.value,C);if(Z===null){j===null&&(j=W);break}t&&j&&Z.alternate===null&&e(E,j),A=o(Z,A,H),D===null?P=Z:D.sibling=Z,D=Z,j=W}if(Y.done)return n(E,j),Et&&$o(E,H),P;if(j===null){for(;!Y.done;H++,Y=S.next())Y=g(E,Y.value,C),Y!==null&&(A=o(Y,A,H),D===null?P=Y:D.sibling=Y,D=Y);return Et&&$o(E,H),P}for(j=r(E,j);!Y.done;H++,Y=S.next())Y=m(j,E,H,Y.value,C),Y!==null&&(t&&Y.alternate!==null&&j.delete(Y.key===null?H:Y.key),A=o(Y,A,H),D===null?P=Y:D.sibling=Y,D=Y);return t&&j.forEach(function(V){return e(E,V)}),Et&&$o(E,H),P}function M(E,A,S,C){if(typeof S=="object"&&S!==null&&S.type===na&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Kc:e:{for(var P=S.key,D=A;D!==null;){if(D.key===P){if(P=S.type,P===na){if(D.tag===7){n(E,D.sibling),A=i(D,S.props.children),A.return=E,E=A;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===eo&&Pw(P)===D.type){n(E,D.sibling),A=i(D,S.props),A.ref=hl(E,D,S),A.return=E,E=A;break e}n(E,D);break}else e(E,D);D=D.sibling}S.type===na?(A=ws(S.props.children,E.mode,C,S.key),A.return=E,E=A):(C=xu(S.type,S.key,S.props,null,E.mode,C),C.ref=hl(E,A,S),C.return=E,E=C)}return s(E);case ta:e:{for(D=S.key;A!==null;){if(A.key===D)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){n(E,A.sibling),A=i(A,S.children||[]),A.return=E,E=A;break e}else{n(E,A);break}else e(E,A);A=A.sibling}A=ep(S,E.mode,C),A.return=E,E=A}return s(E);case eo:return D=S._init,M(E,A,D(S._payload),C)}if(Sl(S))return _(E,A,S,C);if(ll(S))return T(E,A,S,C);tu(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(n(E,A.sibling),A=i(A,S),A.return=E,E=A):(n(E,A),A=Jh(S,E.mode,C),A.return=E,E=A),s(E)):n(E,A)}return M}var Ba=W_(!0),F_=W_(!1),Md=Lo(null),Nd=null,ua=null,fy=null;function hy(){fy=ua=Nd=null}function py(t){var e=Md.current;_t(Md),t._currentValue=e}function h0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ea(t,e){Nd=t,fy=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xn=!0),t.firstContext=null)}function Nr(t){var e=t._currentValue;if(fy!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(Nd===null)throw Error(re(308));ua=t,Nd.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var is=null;function gy(t){is===null?is=[t]:is.push(t)}function H_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ui(t,r)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function yy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ui(t,n)}return i=r.interleaved,i===null?(e.next=e,gy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ui(t,n)}function Iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}function Dw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xd(t,e,n,r){var i=t.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,f=u=l=null,a=o;do{var w=a.lane,m=a.eventTime;if((r&w)===w){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,T=a;switch(w=e,m=n,T.tag){case 1:if(_=T.payload,typeof _=="function"){g=_.call(m,g,w);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=T.payload,w=typeof _=="function"?_.call(m,g,w):_,w==null)break e;g=Mt({},g,w);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[a]:w.push(a))}else m={eventTime:m,lane:w,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=g):f=f.next=m,s|=w;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;w=a,a=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(f===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);bs|=s,t.lanes=s,t.memoizedState=g}}function Uw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var kc={},ai=Lo(kc),ac=Lo(kc),lc=Lo(kc);function os(t){if(t===kc)throw Error(re(174));return t}function my(t,e){switch(gt(lc,e),gt(ac,t),gt(ai,kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gp(e,t)}_t(ai),gt(ai,e)}function Pa(){_t(ai),_t(ac),_t(lc)}function $_(t){os(lc.current);var e=os(ai.current),n=Gp(e,t.type);e!==n&&(gt(ac,t),gt(ai,n))}function wy(t){ac.current===t&&(_t(ai),_t(ac))}var kt=Lo(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gh=[];function vy(){for(var t=0;t<Gh.length;t++)Gh[t]._workInProgressVersionPrimary=null;Gh.length=0}var ku=Fi.ReactCurrentDispatcher,Yh=Fi.ReactCurrentBatchConfig,Es=0,Tt=null,cn=null,gn=null,Cd=!1,jl=!1,cc=0,Vk=0;function kn(){throw Error(re(321))}function _y(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$r(t[n],e[n]))return!1;return!0}function Sy(t,e,n,r,i,o){if(Es=o,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?Zk:Qk,t=n(r,i),jl){o=0;do{if(jl=!1,cc=0,25<=o)throw Error(re(301));o+=1,gn=cn=null,e.updateQueue=null,ku.current=Xk,t=n(r,i)}while(jl)}if(ku.current=Ld,e=cn!==null&&cn.next!==null,Es=0,gn=cn=Tt=null,Cd=!1,e)throw Error(re(300));return t}function Ey(){var t=cc!==0;return cc=0,t}function Zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Tt.memoizedState=gn=t:gn=gn.next=t,gn}function xr(){if(cn===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=gn===null?Tt.memoizedState:gn.next;if(e!==null)gn=e,cn=t;else{if(t===null)throw Error(re(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},gn===null?Tt.memoizedState=gn=t:gn=gn.next=t}return gn}function uc(t,e){return typeof e=="function"?e(t):e}function qh(t){var e=xr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=cn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((Es&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,s=r):l=l.next=g,Tt.lanes|=f,bs|=f}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,$r(r,e.memoizedState)||(Xn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tt.lanes|=o,bs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zh(t){var e=xr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);$r(o,e.memoizedState)||(Xn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function V_(){}function G_(t,e){var n=Tt,r=xr(),i=e(),o=!$r(r.memoizedState,i);if(o&&(r.memoizedState=i,Xn=!0),r=r.queue,by(Z_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,dc(9,q_.bind(null,n,r,i,e),void 0,null),yn===null)throw Error(re(349));Es&30||Y_(n,e,i)}return i}function Y_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q_(t,e,n,r){e.value=n,e.getSnapshot=r,Q_(e)&&X_(t)}function Z_(t,e,n){return n(function(){Q_(e)&&X_(t)})}function Q_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$r(t,n)}catch{return!0}}function X_(t){var e=Ui(t,1);e!==null&&Fr(e,t,1,-1)}function zw(t){var e=Zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=qk.bind(null,Tt,t),[e.memoizedState,t]}function dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J_(){return xr().memoizedState}function Ru(t,e,n,r){var i=Zr();Tt.flags|=t,i.memoizedState=dc(1|e,n,void 0,r===void 0?null:r)}function wf(t,e,n,r){var i=xr();r=r===void 0?null:r;var o=void 0;if(cn!==null){var s=cn.memoizedState;if(o=s.destroy,r!==null&&_y(r,s.deps)){i.memoizedState=dc(e,n,o,r);return}}Tt.flags|=t,i.memoizedState=dc(1|e,n,o,r)}function jw(t,e){return Ru(8390656,8,t,e)}function by(t,e){return wf(2048,8,t,e)}function eS(t,e){return wf(4,2,t,e)}function tS(t,e){return wf(4,4,t,e)}function nS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rS(t,e,n){return n=n!=null?n.concat([t]):null,wf(4,4,nS.bind(null,e,t),n)}function Ay(){}function iS(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_y(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oS(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_y(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sS(t,e,n){return Es&21?($r(n,e)||(n=d_(),Tt.lanes|=n,bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xn=!0),t.memoizedState=n)}function Gk(t,e){var n=ot;ot=n!==0&&4>n?n:4,t(!0);var r=Yh.transition;Yh.transition={};try{t(!1),e()}finally{ot=n,Yh.transition=r}}function aS(){return xr().memoizedState}function Yk(t,e,n){var r=So(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lS(t))cS(e,n);else if(n=H_(t,e,n,r),n!==null){var i=Fn();Fr(n,t,r,i),uS(n,e,r)}}function qk(t,e,n){var r=So(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lS(t))cS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$r(a,s)){var l=e.interleaved;l===null?(i.next=i,gy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=H_(t,e,i,r),n!==null&&(i=Fn(),Fr(n,t,r,i),uS(n,e,r))}}function lS(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function cS(t,e){jl=Cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}var Ld={readContext:Nr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},Zk={readContext:Nr,useCallback:function(t,e){return Zr().memoizedState=[t,e===void 0?null:e],t},useContext:Nr,useEffect:jw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4194308,4,nS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ru(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ru(4,2,t,e)},useMemo:function(t,e){var n=Zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Yk.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=Zr();return t={current:t},e.memoizedState=t},useState:zw,useDebugValue:Ay,useDeferredValue:function(t){return Zr().memoizedState=t},useTransition:function(){var t=zw(!1),e=t[0];return t=Gk.bind(null,t[1]),Zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,i=Zr();if(Et){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),yn===null)throw Error(re(349));Es&30||Y_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jw(Z_.bind(null,r,o,t),[t]),r.flags|=2048,dc(9,q_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Zr(),e=yn.identifierPrefix;if(Et){var n=xi,r=Ni;n=(r&~(1<<32-Wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Vk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qk={readContext:Nr,useCallback:iS,useContext:Nr,useEffect:by,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:oS,useReducer:qh,useRef:J_,useState:function(){return qh(uc)},useDebugValue:Ay,useDeferredValue:function(t){var e=xr();return sS(e,cn.memoizedState,t)},useTransition:function(){var t=qh(uc)[0],e=xr().memoizedState;return[t,e]},useMutableSource:V_,useSyncExternalStore:G_,useId:aS,unstable_isNewReconciler:!1},Xk={readContext:Nr,useCallback:iS,useContext:Nr,useEffect:by,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:oS,useReducer:Zh,useRef:J_,useState:function(){return Zh(uc)},useDebugValue:Ay,useDeferredValue:function(t){var e=xr();return cn===null?e.memoizedState=t:sS(e,cn.memoizedState,t)},useTransition:function(){var t=Zh(uc)[0],e=xr().memoizedState;return[t,e]},useMutableSource:V_,useSyncExternalStore:G_,useId:aS,unstable_isNewReconciler:!1};function Br(t,e){if(t&&t.defaultProps){e=Mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function p0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vf={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),i=So(t),o=Bi(r,i);o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Fr(e,t,i,r),Iu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),i=So(t),o=Bi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Fr(e,t,i,r),Iu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=So(t),i=Bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=vo(t,i,r),e!==null&&(Fr(e,t,r,n),Iu(e,t,r))}};function Ww(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!rc(n,r)||!rc(i,o):!0}function dS(t,e,n){var r=!1,i=Ro,o=e.contextType;return typeof o=="object"&&o!==null?o=Nr(o):(i=nr(e)?_s:Un.current,r=e.contextTypes,o=(r=r!=null)?Ca(t,i):Ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Fw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vf.enqueueReplaceState(e,e.state,null)}function g0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Nr(o):(o=nr(e)?_s:Un.current,i.context=Ca(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(p0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vf.enqueueReplaceState(i,i.state,null),xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e){try{var n="",r=e;do n+=k2(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Qh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jk=typeof WeakMap=="function"?WeakMap:Map;function fS(t,e,n){n=Bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pd||(Pd=!0,k0=r),y0(t,e)},n}function hS(t,e,n){n=Bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){y0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){y0(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Hw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hR.bind(null,t,e,n),e.then(t,t))}function Kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $w(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bi(-1,1),e.tag=2,vo(n,e,1))),n.lanes|=1),t)}var eR=Fi.ReactCurrentOwner,Xn=!1;function jn(t,e,n,r){e.child=t===null?F_(e,null,n,r):Ba(e,t.child,n,r)}function Vw(t,e,n,r,i){n=n.render;var o=e.ref;return Ea(e,i),r=Sy(t,e,n,r,o,i),n=Ey(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(Et&&n&&cy(e),e.flags|=1,jn(t,e,r,i),e.child)}function Gw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Oy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pS(t,e,o,r,i)):(t=xu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:rc,n(s,r)&&t.ref===e.ref)return zi(t,e,i)}return e.flags|=1,t=Eo(o,r),t.ref=e.ref,t.return=e,e.child=t}function pS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(rc(o,r)&&t.ref===e.ref)if(Xn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Xn=!0);else return e.lanes=t.lanes,zi(t,e,i)}return m0(t,e,n,r,i)}function gS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(fa,cr),cr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(fa,cr),cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,gt(fa,cr),cr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,gt(fa,cr),cr|=r;return jn(t,e,i,n),e.child}function yS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function m0(t,e,n,r,i){var o=nr(n)?_s:Un.current;return o=Ca(e,o),Ea(e,i),n=Sy(t,e,n,r,o,i),r=Ey(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(Et&&r&&cy(e),e.flags|=1,jn(t,e,n,i),e.child)}function Yw(t,e,n,r,i){if(nr(n)){var o=!0;kd(e)}else o=!1;if(Ea(e,i),e.stateNode===null)Tu(t,e),dS(e,n,r),g0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=nr(n)?_s:Un.current,u=Ca(e,u));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Fw(e,s,r,u),to=!1;var w=e.memoizedState;s.state=w,xd(e,r,s,i),l=e.memoizedState,a!==r||w!==l||tr.current||to?(typeof f=="function"&&(p0(e,n,f,r),l=e.memoizedState),(a=to||Ww(e,n,a,r,w,l,u))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,K_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Br(e.type,a),s.props=u,g=e.pendingProps,w=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nr(l):(l=nr(n)?_s:Un.current,l=Ca(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||w!==l)&&Fw(e,s,r,l),to=!1,w=e.memoizedState,s.state=w,xd(e,r,s,i);var _=e.memoizedState;a!==g||w!==_||tr.current||to?(typeof m=="function"&&(p0(e,n,m,r),_=e.memoizedState),(u=to||Ww(e,n,u,r,w,_,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return w0(t,e,n,r,o,i)}function w0(t,e,n,r,i,o){yS(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Cw(e,n,!1),zi(t,e,o);r=e.stateNode,eR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ba(e,t.child,null,o),e.child=Ba(e,null,a,o)):jn(t,e,a,o),e.memoizedState=r.state,i&&Cw(e,n,!0),e.child}function mS(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),my(t,e.containerInfo)}function qw(t,e,n,r,i){return La(),dy(i),e.flags|=256,jn(t,e,n,r),e.child}var v0={dehydrated:null,treeContext:null,retryLane:0};function _0(t){return{baseLanes:t,cachePool:null,transitions:null}}function wS(t,e,n){var r=e.pendingProps,i=kt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(kt,i&1),t===null)return f0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ef(s,r,0,null),t=ws(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=_0(n),e.memoizedState=v0,t):Iy(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Eo(a,o):(o=ws(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?_0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=v0,r}return o=t.child,t=o.sibling,r=Eo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Iy(t,e){return e=Ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&dy(r),Ba(e,t.child,null,n),t=Iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Qh(Error(re(422))),nu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ef({mode:"visible",children:r.children},i,0,null),o=ws(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ba(e,t.child,null,s),e.child.memoizedState=_0(s),e.memoizedState=v0,o);if(!(e.mode&1))return nu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(re(419)),r=Qh(o,r,void 0),nu(t,e,s,r)}if(a=(s&t.childLanes)!==0,Xn||a){if(r=yn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ui(t,i),Fr(r,t,i,-1))}return xy(),r=Qh(Error(re(421))),nu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,hr=wo(i.nextSibling),pr=e,Et=!0,Ur=null,t!==null&&(Ir[kr++]=Ni,Ir[kr++]=xi,Ir[kr++]=Ss,Ni=t.id,xi=t.overflow,Ss=e),e=Iy(e,r.children),e.flags|=4096,e)}function Zw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),h0(t.return,e,n)}function Xh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(jn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zw(t,n,e);else if(t.tag===19)Zw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xh(e,!0,n,null,o);break;case"together":Xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nR(t,e,n){switch(e.tag){case 3:mS(e),La();break;case 5:$_(e);break;case 1:nr(e.type)&&kd(e);break;case 4:my(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gt(Md,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?wS(t,e,n):(gt(kt,kt.current&1),t=zi(t,e,n),t!==null?t.sibling:null);gt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,gS(t,e,n)}return zi(t,e,n)}var _S,S0,SS,ES;_S=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};S0=function(){};SS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,os(ai.current);var o=null;switch(n){case"input":i=Hp(t,i),r=Hp(t,r),o=[];break;case"select":i=Mt({},i,{value:void 0}),r=Mt({},r,{value:void 0}),o=[];break;case"textarea":i=Vp(t,i),r=Vp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ad)}Yp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&wt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ES=function(t,e,n,r){n!==r&&(e.flags|=4)};function pl(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rR(t,e,n){var r=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(e),null;case 1:return nr(e.type)&&Id(),Rn(e),null;case 3:return r=e.stateNode,Pa(),_t(tr),_t(Un),vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(M0(Ur),Ur=null))),S0(t,e),Rn(e),null;case 5:wy(e);var i=os(lc.current);if(n=e.type,t!==null&&e.stateNode!=null)SS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Rn(e),null}if(t=os(ai.current),eu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Jr]=e,r[sc]=o,t=(e.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(i=0;i<bl.length;i++)wt(bl[i],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":ow(r,o),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},wt("invalid",r);break;case"textarea":aw(r,o),wt("invalid",r)}Yp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),i=["children",""+a]):Zl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&wt("scroll",r)}switch(n){case"input":$c(r),sw(r,o,!0);break;case"textarea":$c(r),lw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ad)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Jr]=e,t[sc]=r,_S(t,e,!1,!1),e.stateNode=t;e:{switch(s=qp(n,r),n){case"dialog":wt("cancel",t),wt("close",t),i=r;break;case"iframe":case"object":case"embed":wt("load",t),i=r;break;case"video":case"audio":for(i=0;i<bl.length;i++)wt(bl[i],t);i=r;break;case"source":wt("error",t),i=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),i=r;break;case"details":wt("toggle",t),i=r;break;case"input":ow(t,r),i=Hp(t,r),wt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mt({},r,{value:void 0}),wt("invalid",t);break;case"textarea":aw(t,r),i=Vp(t,r),wt("invalid",t);break;default:i=r}Yp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Jv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ql(t,l):typeof l=="number"&&Ql(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&wt("scroll",t):l!=null&&qg(t,o,l,s))}switch(n){case"input":$c(t),sw(t,r,!1);break;case"textarea":$c(t),lw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?wa(t,!!r.multiple,o,!1):r.defaultValue!=null&&wa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rn(e),null;case 6:if(t&&e.stateNode!=null)ES(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=os(lc.current),os(ai.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,(o=r.nodeValue!==n)&&(t=pr,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jr]=e,e.stateNode=r}return Rn(e),null;case 13:if(_t(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&hr!==null&&e.mode&1&&!(e.flags&128))j_(),La(),e.flags|=98560,o=!1;else if(o=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Jr]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rn(e),o=!1}else Ur!==null&&(M0(Ur),Ur=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?un===0&&(un=3):xy())),e.updateQueue!==null&&(e.flags|=4),Rn(e),null);case 4:return Pa(),S0(t,e),t===null&&ic(e.stateNode.containerInfo),Rn(e),null;case 10:return py(e.type._context),Rn(e),null;case 17:return nr(e.type)&&Id(),Rn(e),null;case 19:if(_t(kt),o=e.memoizedState,o===null)return Rn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)pl(o,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Od(t),s!==null){for(e.flags|=128,pl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(kt,kt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dt()>Ua&&(e.flags|=128,r=!0,pl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Od(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Et)return Rn(e),null}else 2*Dt()-o.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,pl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,n=kt.current,gt(kt,r?n&1|2:n&1),e):(Rn(e),null);case 22:case 23:return Ny(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cr&1073741824&&(Rn(e),e.subtreeFlags&6&&(e.flags|=8192)):Rn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function iR(t,e){switch(uy(e),e.tag){case 1:return nr(e.type)&&Id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pa(),_t(tr),_t(Un),vy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wy(e),null;case 13:if(_t(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(kt),null;case 4:return Pa(),null;case 10:return py(e.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var ru=!1,Dn=!1,oR=typeof WeakSet=="function"?WeakSet:Set,pe=null;function da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function E0(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var Qw=!1;function sR(t,e){if(o0=Sd,t=R_(),ly(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,f=0,g=t,w=null;t:for(;;){for(var m;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(l=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(m=g.firstChild)!==null;)w=g,g=m;for(;;){if(g===t)break t;if(w===n&&++u===i&&(a=s),w===o&&++f===r&&(l=s),(m=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(s0={focusedElem:t,selectionRange:n},Sd=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,M=_.memoizedState,E=e.stateNode,A=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:Br(e.type,T),M);E.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(C){Ct(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return _=Qw,Qw=!1,_}function Wl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&E0(e,n,o)}i=i.next}while(i!==r)}}function _f(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function b0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bS(t){var e=t.alternate;e!==null&&(t.alternate=null,bS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[sc],delete e[c0],delete e[Fk],delete e[Hk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AS(t){return t.tag===5||t.tag===3||t.tag===4}function Xw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function A0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ad));else if(r!==4&&(t=t.child,t!==null))for(A0(t,e,n),t=t.sibling;t!==null;)A0(t,e,n),t=t.sibling}function I0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(I0(t,e,n),t=t.sibling;t!==null;)I0(t,e,n),t=t.sibling}var vn=null,Dr=!1;function Ki(t,e,n){for(n=n.child;n!==null;)IS(t,e,n),n=n.sibling}function IS(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:Dn||da(n,e);case 6:var r=vn,i=Dr;vn=null,Ki(t,e,n),vn=r,Dr=i,vn!==null&&(Dr?(t=vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(Dr?(t=vn,n=n.stateNode,t.nodeType===8?$h(t.parentNode,n):t.nodeType===1&&$h(t,n),tc(t)):$h(vn,n.stateNode));break;case 4:r=vn,i=Dr,vn=n.stateNode.containerInfo,Dr=!0,Ki(t,e,n),vn=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&E0(n,e,s),i=i.next}while(i!==r)}Ki(t,e,n);break;case 1:if(!Dn&&(da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ct(n,e,a)}Ki(t,e,n);break;case 21:Ki(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,Ki(t,e,n),Dn=r):Ki(t,e,n);break;default:Ki(t,e,n)}}function Jw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oR),e.forEach(function(r){var i=gR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:vn=a.stateNode,Dr=!1;break e;case 3:vn=a.stateNode.containerInfo,Dr=!0;break e;case 4:vn=a.stateNode.containerInfo,Dr=!0;break e}a=a.return}if(vn===null)throw Error(re(160));IS(o,s,i),vn=null,Dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kS(e,t),e=e.sibling}function kS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cr(e,t),Yr(t),r&4){try{Wl(3,t,t.return),_f(3,t)}catch(T){Ct(t,t.return,T)}try{Wl(5,t,t.return)}catch(T){Ct(t,t.return,T)}}break;case 1:Cr(e,t),Yr(t),r&512&&n!==null&&da(n,n.return);break;case 5:if(Cr(e,t),Yr(t),r&512&&n!==null&&da(n,n.return),t.flags&32){var i=t.stateNode;try{Ql(i,"")}catch(T){Ct(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Yv(i,o),qp(a,s);var u=qp(a,o);for(s=0;s<l.length;s+=2){var f=l[s],g=l[s+1];f==="style"?Jv(i,g):f==="dangerouslySetInnerHTML"?Qv(i,g):f==="children"?Ql(i,g):qg(i,f,g,u)}switch(a){case"input":Kp(i,o);break;case"textarea":qv(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?wa(i,!!o.multiple,m,!1):w!==!!o.multiple&&(o.defaultValue!=null?wa(i,!!o.multiple,o.defaultValue,!0):wa(i,!!o.multiple,o.multiple?[]:"",!1))}i[sc]=o}catch(T){Ct(t,t.return,T)}}break;case 6:if(Cr(e,t),Yr(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){Ct(t,t.return,T)}}break;case 3:if(Cr(e,t),Yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tc(e.containerInfo)}catch(T){Ct(t,t.return,T)}break;case 4:Cr(e,t),Yr(t);break;case 13:Cr(e,t),Yr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ty=Dt())),r&4&&Jw(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(u=Dn)||f,Cr(e,t),Dn=u):Cr(e,t),Yr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(pe=t,f=t.child;f!==null;){for(g=pe=f;pe!==null;){switch(w=pe,m=w.child,w.tag){case 0:case 11:case 14:case 15:Wl(4,w,w.return);break;case 1:da(w,w.return);var _=w.stateNode;if(typeof _.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(T){Ct(r,n,T)}}break;case 5:da(w,w.return);break;case 22:if(w.memoizedState!==null){t1(g);continue}}m!==null?(m.return=w,pe=m):t1(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xv("display",s))}catch(T){Ct(t,t.return,T)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(T){Ct(t,t.return,T)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Cr(e,t),Yr(t),r&4&&Jw(t);break;case 21:break;default:Cr(e,t),Yr(t)}}function Yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AS(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ql(i,""),r.flags&=-33);var o=Xw(t);I0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Xw(t);A0(t,a,s);break;default:throw Error(re(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aR(t,e,n){pe=t,RS(t)}function RS(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ru;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=ru;var u=Dn;if(ru=s,(Dn=l)&&!u)for(pe=i;pe!==null;)s=pe,l=s.child,s.tag===22&&s.memoizedState!==null?n1(i):l!==null?(l.return=s,pe=l):n1(i);for(;o!==null;)pe=o,RS(o),o=o.sibling;pe=i,ru=a,Dn=u}e1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):e1(t)}}function e1(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||_f(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Uw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&tc(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Dn||e.flags&512&&b0(e)}catch(w){Ct(e,e.return,w)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function t1(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function n1(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_f(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ct(e,i,l)}}var o=e.return;try{b0(e)}catch(l){Ct(e,o,l)}break;case 5:var s=e.return;try{b0(e)}catch(l){Ct(e,s,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var lR=Math.ceil,Bd=Fi.ReactCurrentDispatcher,ky=Fi.ReactCurrentOwner,Tr=Fi.ReactCurrentBatchConfig,Ve=0,yn=null,sn=null,bn=0,cr=0,fa=Lo(0),un=0,fc=null,bs=0,Sf=0,Ry=0,Fl=null,qn=null,Ty=0,Ua=1/0,Ei=null,Pd=!1,k0=null,_o=null,iu=!1,lo=null,Dd=0,Hl=0,R0=null,Mu=-1,Nu=0;function Fn(){return Ve&6?Dt():Mu!==-1?Mu:Mu=Dt()}function So(t){return t.mode&1?Ve&2&&bn!==0?bn&-bn:$k.transition!==null?(Nu===0&&(Nu=d_()),Nu):(t=ot,t!==0||(t=window.event,t=t===void 0?16:w_(t.type)),t):1}function Fr(t,e,n,r){if(50<Hl)throw Hl=0,R0=null,Error(re(185));bc(t,n,r),(!(Ve&2)||t!==yn)&&(t===yn&&(!(Ve&2)&&(Sf|=n),un===4&&oo(t,bn)),rr(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Ua=Dt()+500,mf&&Bo()))}function rr(t,e){var n=t.callbackNode;$2(t,e);var r=_d(t,t===yn?bn:0);if(r===0)n!==null&&dw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dw(n),e===1)t.tag===0?Kk(r1.bind(null,t)):D_(r1.bind(null,t)),jk(function(){!(Ve&6)&&Bo()}),n=null;else{switch(f_(r)){case 1:n=ey;break;case 4:n=c_;break;case 16:n=vd;break;case 536870912:n=u_;break;default:n=vd}n=BS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(Mu=-1,Nu=0,Ve&6)throw Error(re(327));var n=t.callbackNode;if(ba()&&t.callbackNode!==n)return null;var r=_d(t,t===yn?bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ud(t,r);else{e=r;var i=Ve;Ve|=2;var o=NS();(yn!==t||bn!==e)&&(Ei=null,Ua=Dt()+500,ms(t,e));do try{dR();break}catch(a){MS(t,a)}while(!0);hy(),Bd.current=o,Ve=i,sn!==null?e=0:(yn=null,bn=0,e=un)}if(e!==0){if(e===2&&(i=e0(t),i!==0&&(r=i,e=T0(t,i))),e===1)throw n=fc,ms(t,0),oo(t,r),rr(t,Dt()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!cR(i)&&(e=Ud(t,r),e===2&&(o=e0(t),o!==0&&(r=o,e=T0(t,o))),e===1))throw n=fc,ms(t,0),oo(t,r),rr(t,Dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Vo(t,qn,Ei);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=Ty+500-Dt(),10<e)){if(_d(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=l0(Vo.bind(null,t,qn,Ei),e);break}Vo(t,qn,Ei);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Wr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lR(r/1960))-r,10<r){t.timeoutHandle=l0(Vo.bind(null,t,qn,Ei),r);break}Vo(t,qn,Ei);break;case 5:Vo(t,qn,Ei);break;default:throw Error(re(329))}}}return rr(t,Dt()),t.callbackNode===n?TS.bind(null,t):null}function T0(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=Ud(t,e),t!==2&&(e=qn,qn=n,e!==null&&M0(e)),t}function M0(t){qn===null?qn=t:qn.push.apply(qn,t)}function cR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$r(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~Ry,e&=~Sf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wr(e),r=1<<n;t[n]=-1,e&=~r}}function r1(t){if(Ve&6)throw Error(re(327));ba();var e=_d(t,0);if(!(e&1))return rr(t,Dt()),null;var n=Ud(t,e);if(t.tag!==0&&n===2){var r=e0(t);r!==0&&(e=r,n=T0(t,r))}if(n===1)throw n=fc,ms(t,0),oo(t,e),rr(t,Dt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vo(t,qn,Ei),rr(t,Dt()),null}function My(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Ua=Dt()+500,mf&&Bo())}}function As(t){lo!==null&&lo.tag===0&&!(Ve&6)&&ba();var e=Ve;Ve|=1;var n=Tr.transition,r=ot;try{if(Tr.transition=null,ot=1,t)return t()}finally{ot=r,Tr.transition=n,Ve=e,!(Ve&6)&&Bo()}}function Ny(){cr=fa.current,_t(fa)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zk(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(uy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:Pa(),_t(tr),_t(Un),vy();break;case 5:wy(r);break;case 4:Pa();break;case 13:_t(kt);break;case 19:_t(kt);break;case 10:py(r.type._context);break;case 22:case 23:Ny()}n=n.return}if(yn=t,sn=t=Eo(t.current,null),bn=cr=e,un=0,fc=null,Ry=Sf=bs=0,qn=Fl=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}is=null}return t}function MS(t,e){do{var n=sn;try{if(hy(),ku.current=Ld,Cd){for(var r=Tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(Es=0,gn=cn=Tt=null,jl=!1,cc=0,ky.current=null,n===null||n.return===null){un=1,fc=e,sn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Kw(s);if(m!==null){m.flags&=-257,$w(m,s,a,o,e),m.mode&1&&Hw(o,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var T=new Set;T.add(l),e.updateQueue=T}else _.add(l);break e}else{if(!(e&1)){Hw(o,u,e),xy();break e}l=Error(re(426))}}else if(Et&&a.mode&1){var M=Kw(s);if(M!==null){!(M.flags&65536)&&(M.flags|=256),$w(M,s,a,o,e),dy(Da(l,a));break e}}o=l=Da(l,a),un!==4&&(un=2),Fl===null?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=fS(o,l,e);Dw(o,E);break e;case 1:a=l;var A=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(_o===null||!_o.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=hS(o,a,e);Dw(o,C);break e}}o=o.return}while(o!==null)}OS(n)}catch(P){e=P,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function NS(){var t=Bd.current;return Bd.current=Ld,t===null?Ld:t}function xy(){(un===0||un===3||un===2)&&(un=4),yn===null||!(bs&268435455)&&!(Sf&268435455)||oo(yn,bn)}function Ud(t,e){var n=Ve;Ve|=2;var r=NS();(yn!==t||bn!==e)&&(Ei=null,ms(t,e));do try{uR();break}catch(i){MS(t,i)}while(!0);if(hy(),Ve=n,Bd.current=r,sn!==null)throw Error(re(261));return yn=null,bn=0,un}function uR(){for(;sn!==null;)xS(sn)}function dR(){for(;sn!==null&&!P2();)xS(sn)}function xS(t){var e=LS(t.alternate,t,cr);t.memoizedProps=t.pendingProps,e===null?OS(t):sn=e,ky.current=null}function OS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iR(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,sn=null;return}}else if(n=rR(n,e,cr),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);un===0&&(un=5)}function Vo(t,e,n){var r=ot,i=Tr.transition;try{Tr.transition=null,ot=1,fR(t,e,n,r)}finally{Tr.transition=i,ot=r}return null}function fR(t,e,n,r){do ba();while(lo!==null);if(Ve&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(V2(t,o),t===yn&&(sn=yn=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,BS(vd,function(){return ba(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Tr.transition,Tr.transition=null;var s=ot;ot=1;var a=Ve;Ve|=4,ky.current=null,sR(t,n),kS(n,t),Ok(s0),Sd=!!o0,s0=o0=null,t.current=n,aR(n),D2(),Ve=a,ot=s,Tr.transition=o}else t.current=n;if(iu&&(iu=!1,lo=t,Dd=i),o=t.pendingLanes,o===0&&(_o=null),j2(n.stateNode),rr(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,t=k0,k0=null,t;return Dd&1&&t.tag!==0&&ba(),o=t.pendingLanes,o&1?t===R0?Hl++:(Hl=0,R0=t):Hl=0,Bo(),null}function ba(){if(lo!==null){var t=f_(Dd),e=Tr.transition,n=ot;try{if(Tr.transition=null,ot=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,Dd=0,Ve&6)throw Error(re(331));var i=Ve;for(Ve|=4,pe=t.current;pe!==null;){var o=pe,s=o.child;if(pe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(pe=u;pe!==null;){var f=pe;switch(f.tag){case 0:case 11:case 15:Wl(8,f,o)}var g=f.child;if(g!==null)g.return=f,pe=g;else for(;pe!==null;){f=pe;var w=f.sibling,m=f.return;if(bS(f),f===u){pe=null;break}if(w!==null){w.return=m,pe=w;break}pe=m}}}var _=o.alternate;if(_!==null){var T=_.child;if(T!==null){_.child=null;do{var M=T.sibling;T.sibling=null,T=M}while(T!==null)}}pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wl(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,pe=E;break e}pe=o.return}}var A=t.current;for(pe=A;pe!==null;){s=pe;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,pe=S;else e:for(s=A;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_f(9,a)}}catch(P){Ct(a,a.return,P)}if(a===s){pe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,pe=C;break e}pe=a.return}}if(Ve=i,Bo(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(ff,t)}catch{}r=!0}return r}finally{ot=n,Tr.transition=e}}return!1}function i1(t,e,n){e=Da(n,e),e=fS(t,e,1),t=vo(t,e,1),e=Fn(),t!==null&&(bc(t,1,e),rr(t,e))}function Ct(t,e,n){if(t.tag===3)i1(t,t,n);else for(;e!==null;){if(e.tag===3){i1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=Da(n,t),t=hS(e,t,1),e=vo(e,t,1),t=Fn(),e!==null&&(bc(e,1,t),rr(e,t));break}}e=e.return}}function hR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,yn===t&&(bn&n)===n&&(un===4||un===3&&(bn&130023424)===bn&&500>Dt()-Ty?ms(t,0):Ry|=n),rr(t,e)}function CS(t,e){e===0&&(t.mode&1?(e=Yc,Yc<<=1,!(Yc&130023424)&&(Yc=4194304)):e=1);var n=Fn();t=Ui(t,e),t!==null&&(bc(t,e,n),rr(t,n))}function pR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CS(t,n)}function gR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),CS(t,n)}var LS;LS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)Xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xn=!1,nR(t,e,n);Xn=!!(t.flags&131072)}else Xn=!1,Et&&e.flags&1048576&&U_(e,Td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tu(t,e),t=e.pendingProps;var i=Ca(e,Un.current);Ea(e,n),i=Sy(null,e,r,t,i,n);var o=Ey();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(o=!0,kd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yy(e),i.updater=vf,e.stateNode=i,i._reactInternals=e,g0(e,r,t,n),e=w0(null,e,r,!0,o,n)):(e.tag=0,Et&&o&&cy(e),jn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mR(r),t=Br(r,t),i){case 0:e=m0(null,e,r,t,n);break e;case 1:e=Yw(null,e,r,t,n);break e;case 11:e=Vw(null,e,r,t,n);break e;case 14:e=Gw(null,e,r,Br(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),m0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),Yw(t,e,r,i,n);case 3:e:{if(mS(e),t===null)throw Error(re(387));r=e.pendingProps,o=e.memoizedState,i=o.element,K_(t,e),xd(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Da(Error(re(423)),e),e=qw(t,e,r,n,i);break e}else if(r!==i){i=Da(Error(re(424)),e),e=qw(t,e,r,n,i);break e}else for(hr=wo(e.stateNode.containerInfo.firstChild),pr=e,Et=!0,Ur=null,n=F_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=zi(t,e,n);break e}jn(t,e,r,n)}e=e.child}return e;case 5:return $_(e),t===null&&f0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,a0(r,i)?s=null:o!==null&&a0(r,o)&&(e.flags|=32),yS(t,e),jn(t,e,s,n),e.child;case 6:return t===null&&f0(e),null;case 13:return wS(t,e,n);case 4:return my(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ba(e,null,r,n):jn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),Vw(t,e,r,i,n);case 7:return jn(t,e,e.pendingProps,n),e.child;case 8:return jn(t,e,e.pendingProps.children,n),e.child;case 12:return jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,gt(Md,r._currentValue),r._currentValue=s,o!==null)if($r(o.value,s)){if(o.children===i.children&&!tr.current){e=zi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Bi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),h0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),h0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ea(e,n),i=Nr(i),r=r(i),e.flags|=1,jn(t,e,r,n),e.child;case 14:return r=e.type,i=Br(r,e.pendingProps),i=Br(r.type,i),Gw(t,e,r,i,n);case 15:return pS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),Tu(t,e),e.tag=1,nr(r)?(t=!0,kd(e)):t=!1,Ea(e,n),dS(e,r,i),g0(e,r,i,n),w0(null,e,r,!0,t,n);case 19:return vS(t,e,n);case 22:return gS(t,e,n)}throw Error(re(156,e.tag))};function BS(t,e){return l_(t,e)}function yR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(t,e,n,r){return new yR(t,e,n,r)}function Oy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mR(t){if(typeof t=="function")return Oy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qg)return 11;if(t===Xg)return 14}return 2}function Eo(t,e){var n=t.alternate;return n===null?(n=Rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Oy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case na:return ws(n.children,i,o,e);case Zg:s=8,i|=8;break;case zp:return t=Rr(12,n,e,i|2),t.elementType=zp,t.lanes=o,t;case jp:return t=Rr(13,n,e,i),t.elementType=jp,t.lanes=o,t;case Wp:return t=Rr(19,n,e,i),t.elementType=Wp,t.lanes=o,t;case $v:return Ef(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hv:s=10;break e;case Kv:s=9;break e;case Qg:s=11;break e;case Xg:s=14;break e;case eo:s=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Rr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ws(t,e,n,r){return t=Rr(7,t,r,e),t.lanes=n,t}function Ef(t,e,n,r){return t=Rr(22,t,r,e),t.elementType=$v,t.lanes=n,t.stateNode={isHidden:!1},t}function Jh(t,e,n){return t=Rr(6,t,null,e),t.lanes=n,t}function ep(t,e,n){return e=Rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lh(0),this.expirationTimes=Lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cy(t,e,n,r,i,o,s,a,l){return t=new wR(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Rr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yy(o),t}function vR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PS(t){if(!t)return Ro;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(nr(n))return P_(t,n,e)}return e}function DS(t,e,n,r,i,o,s,a,l){return t=Cy(n,r,!0,t,i,o,s,a,l),t.context=PS(null),n=t.current,r=Fn(),i=So(n),o=Bi(r,i),o.callback=e??null,vo(n,o,i),t.current.lanes=i,bc(t,i,r),rr(t,r),t}function bf(t,e,n,r){var i=e.current,o=Fn(),s=So(i);return n=PS(n),e.context===null?e.context=n:e.pendingContext=n,e=Bi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vo(i,e,s),t!==null&&(Fr(t,i,s,o),Iu(t,i,s)),s}function zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ly(t,e){o1(t,e),(t=t.alternate)&&o1(t,e)}function _R(){return null}var US=typeof reportError=="function"?reportError:function(t){console.error(t)};function By(t){this._internalRoot=t}Af.prototype.render=By.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));bf(t,e,null,null)};Af.prototype.unmount=By.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){bf(null,t,null,null)}),e[Di]=null}};function Af(t){this._internalRoot=t}Af.prototype.unstable_scheduleHydration=function(t){if(t){var e=g_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<io.length&&e!==0&&e<io[n].priority;n++);io.splice(n,0,t),n===0&&m_(t)}};function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function If(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s1(){}function SR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=zd(s);o.call(u)}}var s=DS(e,r,t,0,null,!1,!1,"",s1);return t._reactRootContainer=s,t[Di]=s.current,ic(t.nodeType===8?t.parentNode:t),As(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zd(l);a.call(u)}}var l=Cy(t,0,!1,null,null,!1,!1,"",s1);return t._reactRootContainer=l,t[Di]=l.current,ic(t.nodeType===8?t.parentNode:t),As(function(){bf(e,l,n,r)}),l}function kf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=zd(s);a.call(l)}}bf(e,s,t,i)}else s=SR(n,e,t,i,r);return zd(s)}h_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=El(e.pendingLanes);n!==0&&(ty(e,n|1),rr(e,Dt()),!(Ve&6)&&(Ua=Dt()+500,Bo()))}break;case 13:As(function(){var r=Ui(t,1);if(r!==null){var i=Fn();Fr(r,t,1,i)}}),Ly(t,1)}};ny=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=Fn();Fr(e,t,134217728,n)}Ly(t,134217728)}};p_=function(t){if(t.tag===13){var e=So(t),n=Ui(t,e);if(n!==null){var r=Fn();Fr(n,t,e,r)}Ly(t,e)}};g_=function(){return ot};y_=function(t,e){var n=ot;try{return ot=t,e()}finally{ot=n}};Qp=function(t,e,n){switch(e){case"input":if(Kp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yf(r);if(!i)throw Error(re(90));Gv(r),Kp(r,i)}}}break;case"textarea":qv(t,n);break;case"select":e=n.value,e!=null&&wa(t,!!n.multiple,e,!1)}};n_=My;r_=As;var ER={usingClientEntryPoint:!1,Events:[Ic,sa,yf,e_,t_,My]},gl={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bR={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s_(t),t===null?null:t.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||_R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ff=ou.inject(bR),si=ou}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ER;wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(e))throw Error(re(200));return vR(t,e,null,n)};wr.createRoot=function(t,e){if(!Py(t))throw Error(re(299));var n=!1,r="",i=US;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cy(t,1,!1,null,null,n,!1,r,i),t[Di]=e.current,ic(t.nodeType===8?t.parentNode:t),new By(e)};wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=s_(e),t=t===null?null:t.stateNode,t};wr.flushSync=function(t){return As(t)};wr.hydrate=function(t,e,n){if(!If(e))throw Error(re(200));return kf(null,t,e,!0,n)};wr.hydrateRoot=function(t,e,n){if(!Py(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=US;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=DS(e,null,t,1,n??null,i,!1,o,s),t[Di]=e.current,ic(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Af(e)};wr.render=function(t,e,n){if(!If(e))throw Error(re(200));return kf(null,t,e,!1,n)};wr.unmountComponentAtNode=function(t){if(!If(t))throw Error(re(40));return t._reactRootContainer?(As(function(){kf(null,null,t,!1,function(){t._reactRootContainer=null,t[Di]=null})}),!0):!1};wr.unstable_batchedUpdates=My;wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!If(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return kf(t,e,n,!1,r)};wr.version="18.3.1-next-f1338f8080-20240426";function zS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zS)}catch(t){console.error(t)}}zS(),zv.exports=wr;var jS=zv.exports,a1=jS;Dp.createRoot=a1.createRoot,Dp.hydrateRoot=a1.hydrateRoot;var Dy={exports:{}};const AR={},IR=Object.freeze(Object.defineProperty({__proto__:null,default:AR},Symbol.toStringTag,{value:"Module"})),kR=qa(IR);Dy.exports;(function(t){(function(e,n){function r(b,c){if(!b)throw new Error(c||"Assertion failed")}function i(b,c){b.super_=c;var d=function(){};d.prototype=c.prototype,b.prototype=new d,b.prototype.constructor=b}function o(b,c,d){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(b||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=kR.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,v){if(typeof c=="number")return this._initNumber(c,d,v);if(typeof c=="object")return this._initArray(c,d,v);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var k=0;c[0]==="-"&&(k++,this.negative=1),k<c.length&&(d===16?this._parseHex(c,k,v):(this._parseBase(c,d,k),v==="le"&&this._initArray(this.toArray(),d,v)))},o.prototype._initNumber=function(c,d,v){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},o.prototype._initArray=function(c,d,v){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var I,x,B=0;if(v==="be")for(k=c.length-1,I=0;k>=0;k-=3)x=c[k]|c[k-1]<<8|c[k-2]<<16,this.words[I]|=x<<B&67108863,this.words[I+1]=x>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);else if(v==="le")for(k=0,I=0;k<c.length;k+=3)x=c[k]|c[k+1]<<8|c[k+2]<<16,this.words[I]|=x<<B&67108863,this.words[I+1]=x>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);return this._strip()};function a(b,c){var d=b.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+b)}function l(b,c,d){var v=a(b,d);return d-1>=c&&(v|=a(b,d-1)<<4),v}o.prototype._parseHex=function(c,d,v){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var I=0,x=0,B;if(v==="be")for(k=c.length-1;k>=d;k-=2)B=l(c,d,k)<<I,this.words[x]|=B&67108863,I>=18?(I-=18,x+=1,this.words[x]|=B>>>26):I+=8;else{var N=c.length-d;for(k=N%2===0?d+1:d;k<c.length;k+=2)B=l(c,d,k)<<I,this.words[x]|=B&67108863,I>=18?(I-=18,x+=1,this.words[x]|=B>>>26):I+=8}this._strip()};function u(b,c,d,v){for(var k=0,I=0,x=Math.min(b.length,d),B=c;B<x;B++){var N=b.charCodeAt(B)-48;k*=v,N>=49?I=N-49+10:N>=17?I=N-17+10:I=N,r(N>=0&&I<v,"Invalid character"),k+=I}return k}o.prototype._parseBase=function(c,d,v){this.words=[0],this.length=1;for(var k=0,I=1;I<=67108863;I*=d)k++;k--,I=I/d|0;for(var x=c.length-v,B=x%k,N=Math.min(x,x-B)+v,p=0,L=v;L<N;L+=k)p=u(c,L,L+k,d),this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(B!==0){var oe=1;for(p=u(c,L,c.length,d),L=0;L<B;L++)oe*=d;this.imuln(oe),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function f(b,c){b.words=c.words,b.length=c.length,b.negative=c.negative,b.red=c.red}if(o.prototype._move=function(c){f(c,this)},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var v;if(c===16||c==="hex"){v="";for(var k=0,I=0,x=0;x<this.length;x++){var B=this.words[x],N=((B<<k|I)&16777215).toString(16);I=B>>>24-k&16777215,k+=2,k>=26&&(k-=26,x--),I!==0||x!==this.length-1?v=w[6-N.length]+N+v:v=N+v}for(I!==0&&(v=I.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(c===(c|0)&&c>=2&&c<=36){var p=m[c],L=_[c];v="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var ie=oe.modrn(L).toString(c);oe=oe.idivn(L),oe.isZero()?v=ie+v:v=w[p-ie.length]+ie+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var T=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};o.prototype.toArrayLike=function(c,d,v){this._strip();var k=this.byteLength(),I=v||Math.max(1,k);r(k<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var x=T(c,I),B=d==="le"?"LE":"BE";return this["_toArrayLike"+B](x,k),x},o.prototype._toArrayLikeLE=function(c,d){for(var v=0,k=0,I=0,x=0;I<this.length;I++){var B=this.words[I]<<x|k;c[v++]=B&255,v<c.length&&(c[v++]=B>>8&255),v<c.length&&(c[v++]=B>>16&255),x===6?(v<c.length&&(c[v++]=B>>24&255),k=0,x=0):(k=B>>>24,x+=2)}if(v<c.length)for(c[v++]=k;v<c.length;)c[v++]=0},o.prototype._toArrayLikeBE=function(c,d){for(var v=c.length-1,k=0,I=0,x=0;I<this.length;I++){var B=this.words[I]<<x|k;c[v--]=B&255,v>=0&&(c[v--]=B>>8&255),v>=0&&(c[v--]=B>>16&255),x===6?(v>=0&&(c[v--]=B>>24&255),k=0,x=0):(k=B>>>24,x+=2)}if(v>=0)for(c[v--]=k;v>=0;)c[v--]=0},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,v=0;return d&8191||(v+=13,d>>>=13),d&127||(v+=7,d>>>=7),d&15||(v+=4,d>>>=4),d&3||(v+=2,d>>>=2),d&1||v++,v},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function M(b){for(var c=new Array(b.bitLength()),d=0;d<c.length;d++){var v=d/26|0,k=d%26;c[d]=b.words[v]>>>k&1}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(c+=v,v!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},o.prototype.ior=function(c){return r((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&c.words[v];return this.length=d.length,this._strip()},o.prototype.iand=function(c){return r((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,v;this.length>c.length?(d=this,v=c):(d=c,v=this);for(var k=0;k<v.length;k++)this.words[k]=d.words[k]^v.words[k];if(this!==d)for(;k<d.length;k++)this.words[k]=d.words[k];return this.length=d.length,this._strip()},o.prototype.ixor=function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){r(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,v=c%26;this._expand(d),v>0&&d--;for(var k=0;k<d;k++)this.words[k]=~this.words[k]&67108863;return v>0&&(this.words[k]=~this.words[k]&67108863>>26-v),this._strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){r(typeof c=="number"&&c>=0);var v=c/26|0,k=c%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<k:this.words[v]=this.words[v]&~(1<<k),this._strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var v,k;this.length>c.length?(v=this,k=c):(v=c,k=this);for(var I=0,x=0;x<k.length;x++)d=(v.words[x]|0)+(k.words[x]|0)+I,this.words[x]=d&67108863,I=d>>>26;for(;I!==0&&x<v.length;x++)d=(v.words[x]|0)+I,this.words[x]=d&67108863,I=d>>>26;if(this.length=v.length,I!==0)this.words[this.length]=I,this.length++;else if(v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var v=this.cmp(c);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,I;v>0?(k=this,I=c):(k=c,I=this);for(var x=0,B=0;B<I.length;B++)d=(k.words[B]|0)-(I.words[B]|0)+x,x=d>>26,this.words[B]=d&67108863;for(;x!==0&&B<k.length;B++)d=(k.words[B]|0)+x,x=d>>26,this.words[B]=d&67108863;if(x===0&&B<k.length&&k!==this)for(;B<k.length;B++)this.words[B]=k.words[B];return this.length=Math.max(this.length,B),k!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function E(b,c,d){d.negative=c.negative^b.negative;var v=b.length+c.length|0;d.length=v,v=v-1|0;var k=b.words[0]|0,I=c.words[0]|0,x=k*I,B=x&67108863,N=x/67108864|0;d.words[0]=B;for(var p=1;p<v;p++){for(var L=N>>>26,oe=N&67108863,ie=Math.min(p,c.length-1),ae=Math.max(0,p-b.length+1);ae<=ie;ae++){var Re=p-ae|0;k=b.words[Re]|0,I=c.words[ae]|0,x=k*I+oe,L+=x/67108864|0,oe=x&67108863}d.words[p]=oe|0,N=L|0}return N!==0?d.words[p]=N|0:d.length--,d._strip()}var A=function(c,d,v){var k=c.words,I=d.words,x=v.words,B=0,N,p,L,oe=k[0]|0,ie=oe&8191,ae=oe>>>13,Re=k[1]|0,Ae=Re&8191,Ee=Re>>>13,St=k[2]|0,tt=St&8191,nt=St>>>13,Q=k[3]|0,he=Q&8191,ve=Q>>>13,Qe=k[4]|0,_e=Qe&8191,Ie=Qe>>>13,Bt=k[5]|0,Fe=Bt&8191,Ne=Bt>>>13,lt=k[6]|0,Xe=lt&8191,ct=lt>>>13,zn=k[7]|0,He=zn&8191,R=zn>>>13,h=k[8]|0,y=h&8191,O=h>>>13,U=k[9]|0,F=U&8191,q=U>>>13,Ce=I[0]|0,xe=Ce&8191,Te=Ce>>>13,mt=I[1]|0,ke=mt&8191,zt=mt>>>13,$m=I[2]|0,jt=$m&8191,Wt=$m>>>13,Vm=I[3]|0,Ft=Vm&8191,Ht=Vm>>>13,Gm=I[4]|0,Kt=Gm&8191,$t=Gm>>>13,Ym=I[5]|0,Vt=Ym&8191,Gt=Ym>>>13,qm=I[6]|0,Yt=qm&8191,qt=qm>>>13,Zm=I[7]|0,Zt=Zm&8191,Qt=Zm>>>13,Qm=I[8]|0,Xt=Qm&8191,Jt=Qm>>>13,Xm=I[9]|0,en=Xm&8191,tn=Xm>>>13;v.negative=c.negative^d.negative,v.length=19,N=Math.imul(ie,xe),p=Math.imul(ie,Te),p=p+Math.imul(ae,xe)|0,L=Math.imul(ae,Te);var ch=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ch>>>26)|0,ch&=67108863,N=Math.imul(Ae,xe),p=Math.imul(Ae,Te),p=p+Math.imul(Ee,xe)|0,L=Math.imul(Ee,Te),N=N+Math.imul(ie,ke)|0,p=p+Math.imul(ie,zt)|0,p=p+Math.imul(ae,ke)|0,L=L+Math.imul(ae,zt)|0;var uh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(uh>>>26)|0,uh&=67108863,N=Math.imul(tt,xe),p=Math.imul(tt,Te),p=p+Math.imul(nt,xe)|0,L=Math.imul(nt,Te),N=N+Math.imul(Ae,ke)|0,p=p+Math.imul(Ae,zt)|0,p=p+Math.imul(Ee,ke)|0,L=L+Math.imul(Ee,zt)|0,N=N+Math.imul(ie,jt)|0,p=p+Math.imul(ie,Wt)|0,p=p+Math.imul(ae,jt)|0,L=L+Math.imul(ae,Wt)|0;var dh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(dh>>>26)|0,dh&=67108863,N=Math.imul(he,xe),p=Math.imul(he,Te),p=p+Math.imul(ve,xe)|0,L=Math.imul(ve,Te),N=N+Math.imul(tt,ke)|0,p=p+Math.imul(tt,zt)|0,p=p+Math.imul(nt,ke)|0,L=L+Math.imul(nt,zt)|0,N=N+Math.imul(Ae,jt)|0,p=p+Math.imul(Ae,Wt)|0,p=p+Math.imul(Ee,jt)|0,L=L+Math.imul(Ee,Wt)|0,N=N+Math.imul(ie,Ft)|0,p=p+Math.imul(ie,Ht)|0,p=p+Math.imul(ae,Ft)|0,L=L+Math.imul(ae,Ht)|0;var fh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(fh>>>26)|0,fh&=67108863,N=Math.imul(_e,xe),p=Math.imul(_e,Te),p=p+Math.imul(Ie,xe)|0,L=Math.imul(Ie,Te),N=N+Math.imul(he,ke)|0,p=p+Math.imul(he,zt)|0,p=p+Math.imul(ve,ke)|0,L=L+Math.imul(ve,zt)|0,N=N+Math.imul(tt,jt)|0,p=p+Math.imul(tt,Wt)|0,p=p+Math.imul(nt,jt)|0,L=L+Math.imul(nt,Wt)|0,N=N+Math.imul(Ae,Ft)|0,p=p+Math.imul(Ae,Ht)|0,p=p+Math.imul(Ee,Ft)|0,L=L+Math.imul(Ee,Ht)|0,N=N+Math.imul(ie,Kt)|0,p=p+Math.imul(ie,$t)|0,p=p+Math.imul(ae,Kt)|0,L=L+Math.imul(ae,$t)|0;var hh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(hh>>>26)|0,hh&=67108863,N=Math.imul(Fe,xe),p=Math.imul(Fe,Te),p=p+Math.imul(Ne,xe)|0,L=Math.imul(Ne,Te),N=N+Math.imul(_e,ke)|0,p=p+Math.imul(_e,zt)|0,p=p+Math.imul(Ie,ke)|0,L=L+Math.imul(Ie,zt)|0,N=N+Math.imul(he,jt)|0,p=p+Math.imul(he,Wt)|0,p=p+Math.imul(ve,jt)|0,L=L+Math.imul(ve,Wt)|0,N=N+Math.imul(tt,Ft)|0,p=p+Math.imul(tt,Ht)|0,p=p+Math.imul(nt,Ft)|0,L=L+Math.imul(nt,Ht)|0,N=N+Math.imul(Ae,Kt)|0,p=p+Math.imul(Ae,$t)|0,p=p+Math.imul(Ee,Kt)|0,L=L+Math.imul(Ee,$t)|0,N=N+Math.imul(ie,Vt)|0,p=p+Math.imul(ie,Gt)|0,p=p+Math.imul(ae,Vt)|0,L=L+Math.imul(ae,Gt)|0;var ph=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ph>>>26)|0,ph&=67108863,N=Math.imul(Xe,xe),p=Math.imul(Xe,Te),p=p+Math.imul(ct,xe)|0,L=Math.imul(ct,Te),N=N+Math.imul(Fe,ke)|0,p=p+Math.imul(Fe,zt)|0,p=p+Math.imul(Ne,ke)|0,L=L+Math.imul(Ne,zt)|0,N=N+Math.imul(_e,jt)|0,p=p+Math.imul(_e,Wt)|0,p=p+Math.imul(Ie,jt)|0,L=L+Math.imul(Ie,Wt)|0,N=N+Math.imul(he,Ft)|0,p=p+Math.imul(he,Ht)|0,p=p+Math.imul(ve,Ft)|0,L=L+Math.imul(ve,Ht)|0,N=N+Math.imul(tt,Kt)|0,p=p+Math.imul(tt,$t)|0,p=p+Math.imul(nt,Kt)|0,L=L+Math.imul(nt,$t)|0,N=N+Math.imul(Ae,Vt)|0,p=p+Math.imul(Ae,Gt)|0,p=p+Math.imul(Ee,Vt)|0,L=L+Math.imul(Ee,Gt)|0,N=N+Math.imul(ie,Yt)|0,p=p+Math.imul(ie,qt)|0,p=p+Math.imul(ae,Yt)|0,L=L+Math.imul(ae,qt)|0;var gh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(gh>>>26)|0,gh&=67108863,N=Math.imul(He,xe),p=Math.imul(He,Te),p=p+Math.imul(R,xe)|0,L=Math.imul(R,Te),N=N+Math.imul(Xe,ke)|0,p=p+Math.imul(Xe,zt)|0,p=p+Math.imul(ct,ke)|0,L=L+Math.imul(ct,zt)|0,N=N+Math.imul(Fe,jt)|0,p=p+Math.imul(Fe,Wt)|0,p=p+Math.imul(Ne,jt)|0,L=L+Math.imul(Ne,Wt)|0,N=N+Math.imul(_e,Ft)|0,p=p+Math.imul(_e,Ht)|0,p=p+Math.imul(Ie,Ft)|0,L=L+Math.imul(Ie,Ht)|0,N=N+Math.imul(he,Kt)|0,p=p+Math.imul(he,$t)|0,p=p+Math.imul(ve,Kt)|0,L=L+Math.imul(ve,$t)|0,N=N+Math.imul(tt,Vt)|0,p=p+Math.imul(tt,Gt)|0,p=p+Math.imul(nt,Vt)|0,L=L+Math.imul(nt,Gt)|0,N=N+Math.imul(Ae,Yt)|0,p=p+Math.imul(Ae,qt)|0,p=p+Math.imul(Ee,Yt)|0,L=L+Math.imul(Ee,qt)|0,N=N+Math.imul(ie,Zt)|0,p=p+Math.imul(ie,Qt)|0,p=p+Math.imul(ae,Zt)|0,L=L+Math.imul(ae,Qt)|0;var yh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(yh>>>26)|0,yh&=67108863,N=Math.imul(y,xe),p=Math.imul(y,Te),p=p+Math.imul(O,xe)|0,L=Math.imul(O,Te),N=N+Math.imul(He,ke)|0,p=p+Math.imul(He,zt)|0,p=p+Math.imul(R,ke)|0,L=L+Math.imul(R,zt)|0,N=N+Math.imul(Xe,jt)|0,p=p+Math.imul(Xe,Wt)|0,p=p+Math.imul(ct,jt)|0,L=L+Math.imul(ct,Wt)|0,N=N+Math.imul(Fe,Ft)|0,p=p+Math.imul(Fe,Ht)|0,p=p+Math.imul(Ne,Ft)|0,L=L+Math.imul(Ne,Ht)|0,N=N+Math.imul(_e,Kt)|0,p=p+Math.imul(_e,$t)|0,p=p+Math.imul(Ie,Kt)|0,L=L+Math.imul(Ie,$t)|0,N=N+Math.imul(he,Vt)|0,p=p+Math.imul(he,Gt)|0,p=p+Math.imul(ve,Vt)|0,L=L+Math.imul(ve,Gt)|0,N=N+Math.imul(tt,Yt)|0,p=p+Math.imul(tt,qt)|0,p=p+Math.imul(nt,Yt)|0,L=L+Math.imul(nt,qt)|0,N=N+Math.imul(Ae,Zt)|0,p=p+Math.imul(Ae,Qt)|0,p=p+Math.imul(Ee,Zt)|0,L=L+Math.imul(Ee,Qt)|0,N=N+Math.imul(ie,Xt)|0,p=p+Math.imul(ie,Jt)|0,p=p+Math.imul(ae,Xt)|0,L=L+Math.imul(ae,Jt)|0;var mh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(mh>>>26)|0,mh&=67108863,N=Math.imul(F,xe),p=Math.imul(F,Te),p=p+Math.imul(q,xe)|0,L=Math.imul(q,Te),N=N+Math.imul(y,ke)|0,p=p+Math.imul(y,zt)|0,p=p+Math.imul(O,ke)|0,L=L+Math.imul(O,zt)|0,N=N+Math.imul(He,jt)|0,p=p+Math.imul(He,Wt)|0,p=p+Math.imul(R,jt)|0,L=L+Math.imul(R,Wt)|0,N=N+Math.imul(Xe,Ft)|0,p=p+Math.imul(Xe,Ht)|0,p=p+Math.imul(ct,Ft)|0,L=L+Math.imul(ct,Ht)|0,N=N+Math.imul(Fe,Kt)|0,p=p+Math.imul(Fe,$t)|0,p=p+Math.imul(Ne,Kt)|0,L=L+Math.imul(Ne,$t)|0,N=N+Math.imul(_e,Vt)|0,p=p+Math.imul(_e,Gt)|0,p=p+Math.imul(Ie,Vt)|0,L=L+Math.imul(Ie,Gt)|0,N=N+Math.imul(he,Yt)|0,p=p+Math.imul(he,qt)|0,p=p+Math.imul(ve,Yt)|0,L=L+Math.imul(ve,qt)|0,N=N+Math.imul(tt,Zt)|0,p=p+Math.imul(tt,Qt)|0,p=p+Math.imul(nt,Zt)|0,L=L+Math.imul(nt,Qt)|0,N=N+Math.imul(Ae,Xt)|0,p=p+Math.imul(Ae,Jt)|0,p=p+Math.imul(Ee,Xt)|0,L=L+Math.imul(Ee,Jt)|0,N=N+Math.imul(ie,en)|0,p=p+Math.imul(ie,tn)|0,p=p+Math.imul(ae,en)|0,L=L+Math.imul(ae,tn)|0;var wh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(wh>>>26)|0,wh&=67108863,N=Math.imul(F,ke),p=Math.imul(F,zt),p=p+Math.imul(q,ke)|0,L=Math.imul(q,zt),N=N+Math.imul(y,jt)|0,p=p+Math.imul(y,Wt)|0,p=p+Math.imul(O,jt)|0,L=L+Math.imul(O,Wt)|0,N=N+Math.imul(He,Ft)|0,p=p+Math.imul(He,Ht)|0,p=p+Math.imul(R,Ft)|0,L=L+Math.imul(R,Ht)|0,N=N+Math.imul(Xe,Kt)|0,p=p+Math.imul(Xe,$t)|0,p=p+Math.imul(ct,Kt)|0,L=L+Math.imul(ct,$t)|0,N=N+Math.imul(Fe,Vt)|0,p=p+Math.imul(Fe,Gt)|0,p=p+Math.imul(Ne,Vt)|0,L=L+Math.imul(Ne,Gt)|0,N=N+Math.imul(_e,Yt)|0,p=p+Math.imul(_e,qt)|0,p=p+Math.imul(Ie,Yt)|0,L=L+Math.imul(Ie,qt)|0,N=N+Math.imul(he,Zt)|0,p=p+Math.imul(he,Qt)|0,p=p+Math.imul(ve,Zt)|0,L=L+Math.imul(ve,Qt)|0,N=N+Math.imul(tt,Xt)|0,p=p+Math.imul(tt,Jt)|0,p=p+Math.imul(nt,Xt)|0,L=L+Math.imul(nt,Jt)|0,N=N+Math.imul(Ae,en)|0,p=p+Math.imul(Ae,tn)|0,p=p+Math.imul(Ee,en)|0,L=L+Math.imul(Ee,tn)|0;var vh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(vh>>>26)|0,vh&=67108863,N=Math.imul(F,jt),p=Math.imul(F,Wt),p=p+Math.imul(q,jt)|0,L=Math.imul(q,Wt),N=N+Math.imul(y,Ft)|0,p=p+Math.imul(y,Ht)|0,p=p+Math.imul(O,Ft)|0,L=L+Math.imul(O,Ht)|0,N=N+Math.imul(He,Kt)|0,p=p+Math.imul(He,$t)|0,p=p+Math.imul(R,Kt)|0,L=L+Math.imul(R,$t)|0,N=N+Math.imul(Xe,Vt)|0,p=p+Math.imul(Xe,Gt)|0,p=p+Math.imul(ct,Vt)|0,L=L+Math.imul(ct,Gt)|0,N=N+Math.imul(Fe,Yt)|0,p=p+Math.imul(Fe,qt)|0,p=p+Math.imul(Ne,Yt)|0,L=L+Math.imul(Ne,qt)|0,N=N+Math.imul(_e,Zt)|0,p=p+Math.imul(_e,Qt)|0,p=p+Math.imul(Ie,Zt)|0,L=L+Math.imul(Ie,Qt)|0,N=N+Math.imul(he,Xt)|0,p=p+Math.imul(he,Jt)|0,p=p+Math.imul(ve,Xt)|0,L=L+Math.imul(ve,Jt)|0,N=N+Math.imul(tt,en)|0,p=p+Math.imul(tt,tn)|0,p=p+Math.imul(nt,en)|0,L=L+Math.imul(nt,tn)|0;var _h=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(_h>>>26)|0,_h&=67108863,N=Math.imul(F,Ft),p=Math.imul(F,Ht),p=p+Math.imul(q,Ft)|0,L=Math.imul(q,Ht),N=N+Math.imul(y,Kt)|0,p=p+Math.imul(y,$t)|0,p=p+Math.imul(O,Kt)|0,L=L+Math.imul(O,$t)|0,N=N+Math.imul(He,Vt)|0,p=p+Math.imul(He,Gt)|0,p=p+Math.imul(R,Vt)|0,L=L+Math.imul(R,Gt)|0,N=N+Math.imul(Xe,Yt)|0,p=p+Math.imul(Xe,qt)|0,p=p+Math.imul(ct,Yt)|0,L=L+Math.imul(ct,qt)|0,N=N+Math.imul(Fe,Zt)|0,p=p+Math.imul(Fe,Qt)|0,p=p+Math.imul(Ne,Zt)|0,L=L+Math.imul(Ne,Qt)|0,N=N+Math.imul(_e,Xt)|0,p=p+Math.imul(_e,Jt)|0,p=p+Math.imul(Ie,Xt)|0,L=L+Math.imul(Ie,Jt)|0,N=N+Math.imul(he,en)|0,p=p+Math.imul(he,tn)|0,p=p+Math.imul(ve,en)|0,L=L+Math.imul(ve,tn)|0;var Sh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Sh>>>26)|0,Sh&=67108863,N=Math.imul(F,Kt),p=Math.imul(F,$t),p=p+Math.imul(q,Kt)|0,L=Math.imul(q,$t),N=N+Math.imul(y,Vt)|0,p=p+Math.imul(y,Gt)|0,p=p+Math.imul(O,Vt)|0,L=L+Math.imul(O,Gt)|0,N=N+Math.imul(He,Yt)|0,p=p+Math.imul(He,qt)|0,p=p+Math.imul(R,Yt)|0,L=L+Math.imul(R,qt)|0,N=N+Math.imul(Xe,Zt)|0,p=p+Math.imul(Xe,Qt)|0,p=p+Math.imul(ct,Zt)|0,L=L+Math.imul(ct,Qt)|0,N=N+Math.imul(Fe,Xt)|0,p=p+Math.imul(Fe,Jt)|0,p=p+Math.imul(Ne,Xt)|0,L=L+Math.imul(Ne,Jt)|0,N=N+Math.imul(_e,en)|0,p=p+Math.imul(_e,tn)|0,p=p+Math.imul(Ie,en)|0,L=L+Math.imul(Ie,tn)|0;var Eh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Eh>>>26)|0,Eh&=67108863,N=Math.imul(F,Vt),p=Math.imul(F,Gt),p=p+Math.imul(q,Vt)|0,L=Math.imul(q,Gt),N=N+Math.imul(y,Yt)|0,p=p+Math.imul(y,qt)|0,p=p+Math.imul(O,Yt)|0,L=L+Math.imul(O,qt)|0,N=N+Math.imul(He,Zt)|0,p=p+Math.imul(He,Qt)|0,p=p+Math.imul(R,Zt)|0,L=L+Math.imul(R,Qt)|0,N=N+Math.imul(Xe,Xt)|0,p=p+Math.imul(Xe,Jt)|0,p=p+Math.imul(ct,Xt)|0,L=L+Math.imul(ct,Jt)|0,N=N+Math.imul(Fe,en)|0,p=p+Math.imul(Fe,tn)|0,p=p+Math.imul(Ne,en)|0,L=L+Math.imul(Ne,tn)|0;var bh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(bh>>>26)|0,bh&=67108863,N=Math.imul(F,Yt),p=Math.imul(F,qt),p=p+Math.imul(q,Yt)|0,L=Math.imul(q,qt),N=N+Math.imul(y,Zt)|0,p=p+Math.imul(y,Qt)|0,p=p+Math.imul(O,Zt)|0,L=L+Math.imul(O,Qt)|0,N=N+Math.imul(He,Xt)|0,p=p+Math.imul(He,Jt)|0,p=p+Math.imul(R,Xt)|0,L=L+Math.imul(R,Jt)|0,N=N+Math.imul(Xe,en)|0,p=p+Math.imul(Xe,tn)|0,p=p+Math.imul(ct,en)|0,L=L+Math.imul(ct,tn)|0;var Ah=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Ah>>>26)|0,Ah&=67108863,N=Math.imul(F,Zt),p=Math.imul(F,Qt),p=p+Math.imul(q,Zt)|0,L=Math.imul(q,Qt),N=N+Math.imul(y,Xt)|0,p=p+Math.imul(y,Jt)|0,p=p+Math.imul(O,Xt)|0,L=L+Math.imul(O,Jt)|0,N=N+Math.imul(He,en)|0,p=p+Math.imul(He,tn)|0,p=p+Math.imul(R,en)|0,L=L+Math.imul(R,tn)|0;var Ih=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Ih>>>26)|0,Ih&=67108863,N=Math.imul(F,Xt),p=Math.imul(F,Jt),p=p+Math.imul(q,Xt)|0,L=Math.imul(q,Jt),N=N+Math.imul(y,en)|0,p=p+Math.imul(y,tn)|0,p=p+Math.imul(O,en)|0,L=L+Math.imul(O,tn)|0;var kh=(B+N|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(kh>>>26)|0,kh&=67108863,N=Math.imul(F,en),p=Math.imul(F,tn),p=p+Math.imul(q,en)|0,L=Math.imul(q,tn);var Rh=(B+N|0)+((p&8191)<<13)|0;return B=(L+(p>>>13)|0)+(Rh>>>26)|0,Rh&=67108863,x[0]=ch,x[1]=uh,x[2]=dh,x[3]=fh,x[4]=hh,x[5]=ph,x[6]=gh,x[7]=yh,x[8]=mh,x[9]=wh,x[10]=vh,x[11]=_h,x[12]=Sh,x[13]=Eh,x[14]=bh,x[15]=Ah,x[16]=Ih,x[17]=kh,x[18]=Rh,B!==0&&(x[19]=B,v.length++),v};Math.imul||(A=E);function S(b,c,d){d.negative=c.negative^b.negative,d.length=b.length+c.length;for(var v=0,k=0,I=0;I<d.length-1;I++){var x=k;k=0;for(var B=v&67108863,N=Math.min(I,c.length-1),p=Math.max(0,I-b.length+1);p<=N;p++){var L=I-p,oe=b.words[L]|0,ie=c.words[p]|0,ae=oe*ie,Re=ae&67108863;x=x+(ae/67108864|0)|0,Re=Re+B|0,B=Re&67108863,x=x+(Re>>>26)|0,k+=x>>>26,x&=67108863}d.words[I]=B,v=x,x=k}return v!==0?d.words[I]=v:d.length--,d._strip()}function C(b,c,d){return S(b,c,d)}o.prototype.mulTo=function(c,d){var v,k=this.length+c.length;return this.length===10&&c.length===10?v=A(this,c,d):k<63?v=E(this,c,d):k<1024?v=S(this,c,d):v=C(this,c,d),v},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),C(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){var d=c<0;d&&(c=-c),r(typeof c=="number"),r(c<67108864);for(var v=0,k=0;k<this.length;k++){var I=(this.words[k]|0)*c,x=(I&67108863)+(v&67108863);v>>=26,v+=I/67108864|0,v+=x>>>26,this.words[k]=x&67108863}return v!==0&&(this.words[k]=v,this.length++),this.length=c===0?1:this.length,d?this.ineg():this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=M(c);if(d.length===0)return new o(1);for(var v=this,k=0;k<d.length&&d[k]===0;k++,v=v.sqr());if(++k<d.length)for(var I=v.sqr();k<d.length;k++,I=I.sqr())d[k]!==0&&(v=v.mul(I));return v},o.prototype.iushln=function(c){r(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26,k=67108863>>>26-d<<26-d,I;if(d!==0){var x=0;for(I=0;I<this.length;I++){var B=this.words[I]&k,N=(this.words[I]|0)-B<<d;this.words[I]=N|x,x=B>>>26-d}x&&(this.words[I]=x,this.length++)}if(v!==0){for(I=this.length-1;I>=0;I--)this.words[I+v]=this.words[I];for(I=0;I<v;I++)this.words[I]=0;this.length+=v}return this._strip()},o.prototype.ishln=function(c){return r(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,v){r(typeof c=="number"&&c>=0);var k;d?k=(d-d%26)/26:k=0;var I=c%26,x=Math.min((c-I)/26,this.length),B=67108863^67108863>>>I<<I,N=v;if(k-=x,k=Math.max(0,k),N){for(var p=0;p<x;p++)N.words[p]=this.words[p];N.length=x}if(x!==0)if(this.length>x)for(this.length-=x,p=0;p<this.length;p++)this.words[p]=this.words[p+x];else this.words[0]=0,this.length=1;var L=0;for(p=this.length-1;p>=0&&(L!==0||p>=k);p--){var oe=this.words[p]|0;this.words[p]=L<<26-I|oe>>>I,L=oe&B}return N&&L!==0&&(N.words[N.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(c,d,v){return r(this.negative===0),this.iushrn(c,d,v)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26,k=1<<d;if(this.length<=v)return!1;var I=this.words[v];return!!(I&k)},o.prototype.imaskn=function(c){r(typeof c=="number"&&c>=0);var d=c%26,v=(c-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var k=67108863^67108863>>>d<<d;this.words[this.length-1]&=k}return this._strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,v){var k=c.length+v,I;this._expand(k);var x,B=0;for(I=0;I<c.length;I++){x=(this.words[I+v]|0)+B;var N=(c.words[I]|0)*d;x-=N&67108863,B=(x>>26)-(N/67108864|0),this.words[I+v]=x&67108863}for(;I<this.length-v;I++)x=(this.words[I+v]|0)+B,B=x>>26,this.words[I+v]=x&67108863;if(B===0)return this._strip();for(r(B===-1),B=0,I=0;I<this.length;I++)x=-(this.words[I]|0)+B,B=x>>26,this.words[I]=x&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(c,d){var v=this.length-c.length,k=this.clone(),I=c,x=I.words[I.length-1]|0,B=this._countBits(x);v=26-B,v!==0&&(I=I.ushln(v),k.iushln(v),x=I.words[I.length-1]|0);var N=k.length-I.length,p;if(d!=="mod"){p=new o(null),p.length=N+1,p.words=new Array(p.length);for(var L=0;L<p.length;L++)p.words[L]=0}var oe=k.clone()._ishlnsubmul(I,1,N);oe.negative===0&&(k=oe,p&&(p.words[N]=1));for(var ie=N-1;ie>=0;ie--){var ae=(k.words[I.length+ie]|0)*67108864+(k.words[I.length+ie-1]|0);for(ae=Math.min(ae/x|0,67108863),k._ishlnsubmul(I,ae,ie);k.negative!==0;)ae--,k.negative=0,k._ishlnsubmul(I,1,ie),k.isZero()||(k.negative^=1);p&&(p.words[ie]=ae)}return p&&p._strip(),k._strip(),d!=="div"&&v!==0&&k.iushrn(v),{div:p||null,mod:k}},o.prototype.divmod=function(c,d,v){if(r(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var k,I,x;return this.negative!==0&&c.negative===0?(x=this.neg().divmod(c,d),d!=="mod"&&(k=x.div.neg()),d!=="div"&&(I=x.mod.neg(),v&&I.negative!==0&&I.iadd(c)),{div:k,mod:I}):this.negative===0&&c.negative!==0?(x=this.divmod(c.neg(),d),d!=="mod"&&(k=x.div.neg()),{div:k,mod:x.mod}):this.negative&c.negative?(x=this.neg().divmod(c.neg(),d),d!=="div"&&(I=x.mod.neg(),v&&I.negative!==0&&I.isub(c)),{div:x.div,mod:I}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modrn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(c):d.mod,k=c.ushrn(1),I=c.andln(1),x=v.cmp(k);return x<0||I===1&&x===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modrn=function(c){var d=c<0;d&&(c=-c),r(c<=67108863);for(var v=(1<<26)%c,k=0,I=this.length-1;I>=0;I--)k=(v*k+(this.words[I]|0))%c;return d?-k:k},o.prototype.modn=function(c){return this.modrn(c)},o.prototype.idivn=function(c){var d=c<0;d&&(c=-c),r(c<=67108863);for(var v=0,k=this.length-1;k>=0;k--){var I=(this.words[k]|0)+v*67108864;this.words[k]=I/c|0,v=I%c}return this._strip(),d?this.ineg():this},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){r(c.negative===0),r(!c.isZero());var d=this,v=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var k=new o(1),I=new o(0),x=new o(0),B=new o(1),N=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++N;for(var p=v.clone(),L=d.clone();!d.isZero();){for(var oe=0,ie=1;!(d.words[0]&ie)&&oe<26;++oe,ie<<=1);if(oe>0)for(d.iushrn(oe);oe-- >0;)(k.isOdd()||I.isOdd())&&(k.iadd(p),I.isub(L)),k.iushrn(1),I.iushrn(1);for(var ae=0,Re=1;!(v.words[0]&Re)&&ae<26;++ae,Re<<=1);if(ae>0)for(v.iushrn(ae);ae-- >0;)(x.isOdd()||B.isOdd())&&(x.iadd(p),B.isub(L)),x.iushrn(1),B.iushrn(1);d.cmp(v)>=0?(d.isub(v),k.isub(x),I.isub(B)):(v.isub(d),x.isub(k),B.isub(I))}return{a:x,b:B,gcd:v.iushln(N)}},o.prototype._invmp=function(c){r(c.negative===0),r(!c.isZero());var d=this,v=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var k=new o(1),I=new o(0),x=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var B=0,N=1;!(d.words[0]&N)&&B<26;++B,N<<=1);if(B>0)for(d.iushrn(B);B-- >0;)k.isOdd()&&k.iadd(x),k.iushrn(1);for(var p=0,L=1;!(v.words[0]&L)&&p<26;++p,L<<=1);if(p>0)for(v.iushrn(p);p-- >0;)I.isOdd()&&I.iadd(x),I.iushrn(1);d.cmp(v)>=0?(d.isub(v),k.isub(I)):(v.isub(d),I.isub(k))}var oe;return d.cmpn(1)===0?oe=k:oe=I,oe.cmpn(0)<0&&oe.iadd(c),oe},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),v=c.clone();d.negative=0,v.negative=0;for(var k=0;d.isEven()&&v.isEven();k++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var I=d.cmp(v);if(I<0){var x=d;d=v,v=x}else if(I===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(k)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){r(typeof c=="number");var d=c%26,v=(c-d)/26,k=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=k,this;for(var I=k,x=v;I!==0&&x<this.length;x++){var B=this.words[x]|0;B+=I,I=B>>>26,B&=67108863,this.words[x]=B}return I!==0&&(this.words[x]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(c=-c),r(c<=67108863,"Number is too big");var k=this.words[0]|0;v=k===c?0:k<c?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var k=this.words[v]|0,I=c.words[v]|0;if(k!==I){k<I?d=-1:k>I&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new Z(c)},o.prototype.toRed=function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function D(b,c){this.name=b,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},D.prototype.ireduce=function(c){var d=c,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var k=v<this.n?-1:d.ucmp(this.p);return k===0?(d.words[0]=0,d.length=1):k>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},D.prototype.split=function(c,d){c.iushrn(this.n,0,d)},D.prototype.imulK=function(c){return c.imul(this.k)};function j(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,D),j.prototype.split=function(c,d){for(var v=4194303,k=Math.min(c.length,9),I=0;I<k;I++)d.words[I]=c.words[I];if(d.length=k,c.length<=9){c.words[0]=0,c.length=1;return}var x=c.words[9];for(d.words[d.length++]=x&v,I=10;I<c.length;I++){var B=c.words[I]|0;c.words[I-10]=(B&v)<<4|x>>>22,x=B}x>>>=22,c.words[I-10]=x,x===0&&c.length>10?c.length-=10:c.length-=9},j.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,v=0;v<c.length;v++){var k=c.words[v]|0;d+=k*977,c.words[v]=d&67108863,d=k*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function H(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,D);function W(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,D);function Y(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Y,D),Y.prototype.imulK=function(c){for(var d=0,v=0;v<c.length;v++){var k=(c.words[v]|0)*19+d,I=k&67108863;k>>>=26,c.words[v]=I,d=k}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(P[c])return P[c];var d;if(c==="k256")d=new j;else if(c==="p224")d=new H;else if(c==="p192")d=new W;else if(c==="p25519")d=new Y;else throw new Error("Unknown prime "+c);return P[c]=d,d};function Z(b){if(typeof b=="string"){var c=o._prime(b);this.m=c.p,this.prime=c}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}Z.prototype._verify1=function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,d){r((c.negative|d.negative)===0,"red works only with positives"),r(c.red&&c.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(f(c,c.umod(this.m)._forceRed(this)),c)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,d){this._verify2(c,d);var v=c.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},Z.prototype.iadd=function(c,d){this._verify2(c,d);var v=c.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},Z.prototype.sub=function(c,d){this._verify2(c,d);var v=c.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},Z.prototype.isub=function(c,d){this._verify2(c,d);var v=c.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},Z.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},Z.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},Z.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(c,v)}for(var k=this.m.subn(1),I=0;!k.isZero()&&k.andln(1)===0;)I++,k.iushrn(1);r(!k.isZero());var x=new o(1).toRed(this),B=x.redNeg(),N=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,N).cmp(B)!==0;)p.redIAdd(B);for(var L=this.pow(p,k),oe=this.pow(c,k.addn(1).iushrn(1)),ie=this.pow(c,k),ae=I;ie.cmp(x)!==0;){for(var Re=ie,Ae=0;Re.cmp(x)!==0;Ae++)Re=Re.redSqr();r(Ae<ae);var Ee=this.pow(L,new o(1).iushln(ae-Ae-1));oe=oe.redMul(Ee),L=Ee.redSqr(),ie=ie.redMul(L),ae=Ae}return oe},Z.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var v=4,k=new Array(1<<v);k[0]=new o(1).toRed(this),k[1]=c;for(var I=2;I<k.length;I++)k[I]=this.mul(k[I-1],c);var x=k[0],B=0,N=0,p=d.bitLength()%26;for(p===0&&(p=26),I=d.length-1;I>=0;I--){for(var L=d.words[I],oe=p-1;oe>=0;oe--){var ie=L>>oe&1;if(x!==k[0]&&(x=this.sqr(x)),ie===0&&B===0){N=0;continue}B<<=1,B|=ie,N++,!(N!==v&&(I!==0||oe!==0))&&(x=this.mul(x,k[B]),N=0,B=0)}p=26}return x},Z.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},Z.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new V(c)};function V(b){Z.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,Z),V.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},V.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},V.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var v=c.imul(d),k=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(k).iushrn(this.shift),x=I;return I.cmp(this.m)>=0?x=I.isub(this.m):I.cmpn(0)<0&&(x=I.iadd(this.m)),x._forceRed(this)},V.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var v=c.mul(d),k=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(k).iushrn(this.shift),x=I;return I.cmp(this.m)>=0?x=I.isub(this.m):I.cmpn(0)<0&&(x=I.iadd(this.m)),x._forceRed(this)},V.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,Ut)})(Dy);var Uy=Dy.exports;const lr=Ms(Uy),js=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rc(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ji(t,...e){if(!Rc(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function WS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hc(t.outputLen),hc(t.blockLen)}function za(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function FS(t,e){ji(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function RR(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function To(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function tp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qr(t,e){return t<<32-e|t>>>e}const TR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function MR(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function NR(t){for(let e=0;e<t.length;e++)t[e]=MR(t[e]);return t}const l1=TR?t=>t:NR,HS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",xR=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vs(t){if(ji(t),HS)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=xR[t[n]];return e}const yi={_0:48,_9:57,A:65,F:70,a:97,f:102};function c1(t){if(t>=yi._0&&t<=yi._9)return t-yi._0;if(t>=yi.A&&t<=yi.F)return t-(yi.A-10);if(t>=yi.a&&t<=yi.f)return t-(yi.a-10)}function jd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(HS)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=c1(t.charCodeAt(o)),a=c1(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function OR(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Rf(t){return typeof t=="string"&&(t=OR(t)),ji(t),t}function ei(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ji(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class zy{}function jy(t){const e=r=>t().update(Rf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Wy(t=32){if(js&&typeof js.getRandomValues=="function")return js.getRandomValues(new Uint8Array(t));if(js&&typeof js.randomBytes=="function")return Uint8Array.from(js.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function CR(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+u,a,r)}function LR(t,e,n){return t&e^~t&n}function BR(t,e,n){return t&e^t&n^e&n}class KS extends zy{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=tp(this.buffer)}update(e){za(this),e=Rf(e),ji(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=tp(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){za(this),FS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,To(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let g=s;g<i;g++)n[g]=0;CR(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=tp(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<u;g++)a.setUint32(4*g,f[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const $i=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Tn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),su=BigInt(2**32-1),u1=BigInt(32);function PR(t,e=!1){return e?{h:Number(t&su),l:Number(t>>u1&su)}:{h:Number(t>>u1&su)|0,l:Number(t&su)|0}}function $S(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=PR(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const d1=(t,e,n)=>t>>>n,f1=(t,e,n)=>t<<32-n|e>>>n,Ws=(t,e,n)=>t>>>n|e<<32-n,Fs=(t,e,n)=>t<<32-n|e>>>n,au=(t,e,n)=>t<<64-n|e>>>n-32,lu=(t,e,n)=>t>>>n-32|e<<64-n,DR=(t,e,n)=>t<<n|e>>>32-n,UR=(t,e,n)=>e<<n|t>>>32-n,zR=(t,e,n)=>e<<n-32|t>>>64-n,jR=(t,e,n)=>t<<n-32|e>>>64-n;function mi(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const WR=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),FR=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,HR=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),KR=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,$R=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),VR=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,GR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vi=new Uint32Array(64);class YR extends KS{constructor(e=32){super(64,e,8,!1),this.A=$i[0]|0,this.B=$i[1]|0,this.C=$i[2]|0,this.D=$i[3]|0,this.E=$i[4]|0,this.F=$i[5]|0,this.G=$i[6]|0,this.H=$i[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)Vi[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const w=Vi[g-15],m=Vi[g-2],_=qr(w,7)^qr(w,18)^w>>>3,T=qr(m,17)^qr(m,19)^m>>>10;Vi[g]=T+Vi[g-7]+_+Vi[g-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:u,H:f}=this;for(let g=0;g<64;g++){const w=qr(a,6)^qr(a,11)^qr(a,25),m=f+w+LR(a,l,u)+GR[g]+Vi[g]|0,T=(qr(r,2)^qr(r,13)^qr(r,22))+BR(r,i,o)|0;f=u,u=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+T|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,i,o,s,a,l,u,f)}roundClean(){To(Vi)}destroy(){this.set(0,0,0,0,0,0,0,0),To(this.buffer)}}const VS=$S(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),qR=VS[0],ZR=VS[1],Gi=new Uint32Array(80),Yi=new Uint32Array(80);class QR extends KS{constructor(e=64){super(128,e,16,!1),this.Ah=Tn[0]|0,this.Al=Tn[1]|0,this.Bh=Tn[2]|0,this.Bl=Tn[3]|0,this.Ch=Tn[4]|0,this.Cl=Tn[5]|0,this.Dh=Tn[6]|0,this.Dl=Tn[7]|0,this.Eh=Tn[8]|0,this.El=Tn[9]|0,this.Fh=Tn[10]|0,this.Fl=Tn[11]|0,this.Gh=Tn[12]|0,this.Gl=Tn[13]|0,this.Hh=Tn[14]|0,this.Hl=Tn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:u,El:f,Fh:g,Fl:w,Gh:m,Gl:_,Hh:T,Hl:M}=this;return[e,n,r,i,o,s,a,l,u,f,g,w,m,_,T,M]}set(e,n,r,i,o,s,a,l,u,f,g,w,m,_,T,M){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=f|0,this.Fh=g|0,this.Fl=w|0,this.Gh=m|0,this.Gl=_|0,this.Hh=T|0,this.Hl=M|0}process(e,n){for(let S=0;S<16;S++,n+=4)Gi[S]=e.getUint32(n),Yi[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const C=Gi[S-15]|0,P=Yi[S-15]|0,D=Ws(C,P,1)^Ws(C,P,8)^d1(C,P,7),j=Fs(C,P,1)^Fs(C,P,8)^f1(C,P,7),H=Gi[S-2]|0,W=Yi[S-2]|0,Y=Ws(H,W,19)^au(H,W,61)^d1(H,W,6),Z=Fs(H,W,19)^lu(H,W,61)^f1(H,W,6),V=HR(j,Z,Yi[S-7],Yi[S-16]),b=KR(V,D,Y,Gi[S-7],Gi[S-16]);Gi[S]=b|0,Yi[S]=V|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:u,Dl:f,Eh:g,El:w,Fh:m,Fl:_,Gh:T,Gl:M,Hh:E,Hl:A}=this;for(let S=0;S<80;S++){const C=Ws(g,w,14)^Ws(g,w,18)^au(g,w,41),P=Fs(g,w,14)^Fs(g,w,18)^lu(g,w,41),D=g&m^~g&T,j=w&_^~w&M,H=$R(A,P,j,ZR[S],Yi[S]),W=VR(H,E,C,D,qR[S],Gi[S]),Y=H|0,Z=Ws(r,i,28)^au(r,i,34)^au(r,i,39),V=Fs(r,i,28)^lu(r,i,34)^lu(r,i,39),b=r&o^r&a^o&a,c=i&s^i&l^s&l;E=T|0,A=M|0,T=m|0,M=_|0,m=g|0,_=w|0,{h:g,l:w}=mi(u|0,f|0,W|0,Y|0),u=a|0,f=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const d=WR(Y,V,c);r=FR(d,W,Z,b),i=d|0}({h:r,l:i}=mi(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=mi(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=mi(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:f}=mi(this.Dh|0,this.Dl|0,u|0,f|0),{h:g,l:w}=mi(this.Eh|0,this.El|0,g|0,w|0),{h:m,l:_}=mi(this.Fh|0,this.Fl|0,m|0,_|0),{h:T,l:M}=mi(this.Gh|0,this.Gl|0,T|0,M|0),{h:E,l:A}=mi(this.Hh|0,this.Hl|0,E|0,A|0),this.set(r,i,o,s,a,l,u,f,g,w,m,_,T,M,E,A)}roundClean(){To(Gi,Yi)}destroy(){To(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const GS=jy(()=>new YR),XR=jy(()=>new QR);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fy=BigInt(0),N0=BigInt(1);function Is(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function zr(t,e,n=""){const r=Rc(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function cu(t){const e=t.toString(16);return e.length&1?"0"+e:e}function YS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Fy:BigInt("0x"+t)}function Tf(t){return YS(vs(t))}function pc(t){return ji(t),YS(vs(Uint8Array.from(t).reverse()))}function Hy(t,e){return jd(t.toString(16).padStart(e*2,"0"))}function qS(t,e){return Hy(t,e).reverse()}function Ot(t,e,n){let r;if(typeof e=="string")try{r=jd(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Rc(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function h1(t){return Uint8Array.from(t)}const np=t=>typeof t=="bigint"&&Fy<=t;function JR(t,e,n){return np(t)&&np(e)&&np(n)&&e<=t&&t<n}function x0(t,e,n,r){if(!JR(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function ZS(t){let e;for(e=0;t>Fy;t>>=N0,e+=1);return e}const Tc=t=>(N0<<BigInt(t))-N0;function eT(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},u=(...m)=>n(s,o,...m),f=(m=r(0))=>{s=u(i(0),m),o=u(),m.length!==0&&(s=u(i(1),m),o=u())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const _=[];for(;m<e;){o=u();const T=o.slice();_.push(T),m+=o.length}return ei(..._)};return(m,_)=>{l(),f(m);let T;for(;!(T=_(g()));)f();return l(),T}}function Mc(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function Wd(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jn=BigInt(0),An=BigInt(1),ss=BigInt(2),QS=BigInt(3),XS=BigInt(4),JS=BigInt(5),tT=BigInt(7),eE=BigInt(8),nT=BigInt(9),tE=BigInt(16);function rn(t,e){const n=t%e;return n>=Jn?n:e+n}function xt(t,e,n){let r=t;for(;e-- >Jn;)r*=r,r%=n;return r}function p1(t,e){if(t===Jn)throw new Error("invert: expected non-zero number");if(e<=Jn)throw new Error("invert: expected positive modulus, got "+e);let n=rn(t,e),r=e,i=Jn,o=An;for(;n!==Jn;){const a=r/n,l=r%n,u=i-o*a;r=n,n=l,i=o,o=u}if(r!==An)throw new Error("invert: does not exist");return rn(i,e)}function Ky(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function nE(t,e){const n=(t.ORDER+An)/XS,r=t.pow(e,n);return Ky(t,r,e),r}function rT(t,e){const n=(t.ORDER-JS)/eE,r=t.mul(e,ss),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,ss),i),a=t.mul(o,t.sub(s,t.ONE));return Ky(t,a,e),a}function iT(t){const e=Os(t),n=rE(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+tT)/tE;return(a,l)=>{let u=a.pow(l,s),f=a.mul(u,r);const g=a.mul(u,i),w=a.mul(u,o),m=a.eql(a.sqr(f),l),_=a.eql(a.sqr(g),l);u=a.cmov(u,f,m),f=a.cmov(w,g,_);const T=a.eql(a.sqr(f),l),M=a.cmov(u,f,T);return Ky(a,M,l),M}}function rE(t){if(t<QS)throw new Error("sqrt is not defined for small field");let e=t-An,n=0;for(;e%ss===Jn;)e/=ss,n++;let r=ss;const i=Os(t);for(;g1(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return nE;let o=i.pow(r,e);const s=(e+An)/ss;return function(l,u){if(l.is0(u))return u;if(g1(l,u)!==1)throw new Error("Cannot find square root");let f=n,g=l.mul(l.ONE,o),w=l.pow(u,e),m=l.pow(u,s);for(;!l.eql(w,l.ONE);){if(l.is0(w))return l.ZERO;let _=1,T=l.sqr(w);for(;!l.eql(T,l.ONE);)if(_++,T=l.sqr(T),_===f)throw new Error("Cannot find square root");const M=An<<BigInt(f-_-1),E=l.pow(g,M);f=_,g=l.sqr(E),w=l.mul(w,g),m=l.mul(m,E)}return m}}function oT(t){return t%XS===QS?nE:t%eE===JS?rT:t%tE===nT?iT(t):rE(t)}const sT=(t,e)=>(rn(t,e)&An)===An,aT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lT(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=aT.reduce((r,i)=>(r[i]="function",r),e);return Mc(t,n),t}function cT(t,e,n){if(n<Jn)throw new Error("invalid exponent, negatives unsupported");if(n===Jn)return t.ONE;if(n===An)return e;let r=t.ONE,i=e;for(;n>Jn;)n&An&&(r=t.mul(r,i)),i=t.sqr(i),n>>=An;return r}function iE(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function g1(t,e){const n=(t.ORDER-An)/ss,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function oE(t,e){e!==void 0&&hc(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Os(t,e,n=!1,r={}){if(t<=Jn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const w=e;w.BITS&&(i=w.BITS),w.sqrt&&(o=w.sqrt),typeof w.isLE=="boolean"&&(n=w.isLE),typeof w.modFromBytes=="boolean"&&(s=w.modFromBytes),a=w.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:u}=oE(t,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:u,MASK:Tc(l),ZERO:Jn,ONE:An,allowedLengths:a,create:w=>rn(w,t),isValid:w=>{if(typeof w!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof w);return Jn<=w&&w<t},is0:w=>w===Jn,isValidNot0:w=>!g.is0(w)&&g.isValid(w),isOdd:w=>(w&An)===An,neg:w=>rn(-w,t),eql:(w,m)=>w===m,sqr:w=>rn(w*w,t),add:(w,m)=>rn(w+m,t),sub:(w,m)=>rn(w-m,t),mul:(w,m)=>rn(w*m,t),pow:(w,m)=>cT(g,w,m),div:(w,m)=>rn(w*p1(m,t),t),sqrN:w=>w*w,addN:(w,m)=>w+m,subN:(w,m)=>w-m,mulN:(w,m)=>w*m,inv:w=>p1(w,t),sqrt:o||(w=>(f||(f=oT(t)),f(g,w))),toBytes:w=>n?qS(w,u):Hy(w,u),fromBytes:(w,m=!0)=>{if(a){if(!a.includes(w.length)||w.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+w.length);const T=new Uint8Array(u);T.set(w,n?0:T.length-w.length),w=T}if(w.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+w.length);let _=n?pc(w):Tf(w);if(s&&(_=rn(_,t)),!m&&!g.isValid(_))throw new Error("invalid field element: outside of range 0..ORDER");return _},invertBatch:w=>iE(g,w),cmov:(w,m,_)=>_?m:w});return Object.freeze(g)}function sE(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function aE(t){const e=sE(t);return e+Math.ceil(e/2)}function uT(t,e,n=!1){const r=t.length,i=sE(e),o=aE(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?pc(t):Tf(t),a=rn(s,e-An)+An;return n?qS(a,i):Hy(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ja=BigInt(0),as=BigInt(1);function Fd(t,e){const n=e.negate();return t?n:e}function ls(t,e){const n=iE(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function lE(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function rp(t,e){lE(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=Tc(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function y1(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=as);const u=e*r,f=u+Math.abs(a)-1,g=a===0,w=a<0,m=e%2!==0;return{nextN:l,offset:f,isZero:g,isNeg:w,isNegF:m,offsetF:u}}function dT(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function fT(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const ip=new WeakMap,cE=new WeakMap;function op(t){return cE.get(t)||1}function m1(t){if(t!==ja)throw new Error("invalid wNAF")}class uE{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>ja;)n&as&&(r=r.add(i)),i=i.double(),n>>=as;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=rp(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let u=1;u<i;u++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=rp(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:u,isZero:f,isNeg:g,isNegF:w,offsetF:m}=y1(r,a,s);r=l,f?o=o.add(Fd(w,n[m])):i=i.add(Fd(g,n[u]))}return m1(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=rp(e,this.bits);for(let s=0;s<o.windows&&r!==ja;s++){const{nextN:a,offset:l,isZero:u,isNeg:f}=y1(r,s,o);if(r=a,!u){const g=n[l];i=i.add(f?g.negate():g)}}return m1(r),i}getPrecomputes(e,n,r){let i=ip.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),ip.set(n,i))),i}cached(e,n,r){const i=op(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=op(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){lE(n,this.bits),cE.set(e,n),ip.delete(e)}hasCache(e){return op(e)!==1}}function hT(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>ja||r>ja;)n&as&&(o=o.add(i)),r&as&&(s=s.add(i)),i=i.double(),n>>=as,r>>=as;return{p1:o,p2:s}}function dE(t,e,n,r){dT(n,t),fT(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=ZS(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const u=Tc(l),f=new Array(Number(u)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let w=s;for(let m=g;m>=0;m-=l){f.fill(s);for(let T=0;T<o;T++){const M=r[T],E=Number(M>>BigInt(m)&u);f[E]=f[E].add(n[T])}let _=s;for(let T=f.length-1,M=s;T>0;T--)M=M.add(f[T]),_=_.add(M);if(w=w.add(_),m!==0)for(let T=0;T<l;T++)w=w.double()}return w}function w1(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return lT(e),e}else return Os(t,{isLE:n})}function fE(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const u=e[l];if(!(typeof u=="bigint"&&u>ja))throw new Error(`CURVE.${l} must be positive bigint`)}const i=w1(e.p,n.Fp,r),o=w1(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qi=BigInt(0),hn=BigInt(1),sp=BigInt(2),pT=BigInt(8);function gT(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function yT(t,e={}){const n=fE("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;Mc(e,{},{uvRatio:"function"});const a=sp<<BigInt(i.BYTES*8)-hn,l=M=>r.create(M),u=e.uvRatio||((M,E)=>{try{return{isValid:!0,value:r.sqrt(r.div(M,E))}}catch{return{isValid:!1,value:qi}}});if(!gT(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function f(M,E,A=!1){const S=A?hn:qi;return x0("coordinate "+M,E,S,a),E}function g(M){if(!(M instanceof _))throw new Error("ExtendedPoint expected")}const w=Wd((M,E)=>{const{X:A,Y:S,Z:C}=M,P=M.is0();E==null&&(E=P?pT:r.inv(C));const D=l(A*E),j=l(S*E),H=r.mul(C,E);if(P)return{x:qi,y:hn};if(H!==hn)throw new Error("invZ was invalid");return{x:D,y:j}}),m=Wd(M=>{const{a:E,d:A}=o;if(M.is0())throw new Error("bad point: ZERO");const{X:S,Y:C,Z:P,T:D}=M,j=l(S*S),H=l(C*C),W=l(P*P),Y=l(W*W),Z=l(j*E),V=l(W*l(Z+H)),b=l(Y+l(A*l(j*H)));if(V!==b)throw new Error("bad point: equation left != right (1)");const c=l(S*C),d=l(P*D);if(c!==d)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(E,A,S,C){this.X=f("x",E),this.Y=f("y",A),this.Z=f("z",S,!0),this.T=f("t",C),Object.freeze(this)}static CURVE(){return o}static fromAffine(E){if(E instanceof _)throw new Error("extended point not allowed");const{x:A,y:S}=E||{};return f("x",A),f("y",S),new _(A,S,hn,l(A*S))}static fromBytes(E,A=!1){const S=r.BYTES,{a:C,d:P}=o;E=h1(zr(E,S,"point")),Is(A,"zip215");const D=h1(E),j=E[S-1];D[S-1]=j&-129;const H=pc(D),W=A?a:r.ORDER;x0("point.y",H,qi,W);const Y=l(H*H),Z=l(Y-hn),V=l(P*Y-C);let{isValid:b,value:c}=u(Z,V);if(!b)throw new Error("bad point: invalid y coordinate");const d=(c&hn)===hn,v=(j&128)!==0;if(!A&&c===qi&&v)throw new Error("bad point: x=0 and x_0=1");return v!==d&&(c=l(-c)),_.fromAffine({x:c,y:H})}static fromHex(E,A=!1){return _.fromBytes(Ot("point",E),A)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,A=!0){return T.createCache(this,E),A||this.multiply(sp),this}assertValidity(){m(this)}equals(E){g(E);const{X:A,Y:S,Z:C}=this,{X:P,Y:D,Z:j}=E,H=l(A*j),W=l(P*C),Y=l(S*j),Z=l(D*C);return H===W&&Y===Z}is0(){return this.equals(_.ZERO)}negate(){return new _(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:E}=o,{X:A,Y:S,Z:C}=this,P=l(A*A),D=l(S*S),j=l(sp*l(C*C)),H=l(E*P),W=A+S,Y=l(l(W*W)-P-D),Z=H+D,V=Z-j,b=H-D,c=l(Y*V),d=l(Z*b),v=l(Y*b),k=l(V*Z);return new _(c,d,k,v)}add(E){g(E);const{a:A,d:S}=o,{X:C,Y:P,Z:D,T:j}=this,{X:H,Y:W,Z:Y,T:Z}=E,V=l(C*H),b=l(P*W),c=l(j*S*Z),d=l(D*Y),v=l((C+P)*(H+W)-V-b),k=d-c,I=d+c,x=l(b-A*V),B=l(v*k),N=l(I*x),p=l(v*x),L=l(k*I);return new _(B,N,L,p)}subtract(E){return this.add(E.negate())}multiply(E){if(!i.isValidNot0(E))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:A,f:S}=T.cached(this,E,C=>ls(_,C));return ls(_,[A,S])[0]}multiplyUnsafe(E,A=_.ZERO){if(!i.isValid(E))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return E===qi?_.ZERO:this.is0()||E===hn?this:T.unsafe(this,E,S=>ls(_,S),A)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return T.unsafe(this,o.n).is0()}toAffine(E){return w(this,E)}clearCofactor(){return s===hn?this:this.multiplyUnsafe(s)}toBytes(){const{x:E,y:A}=this.toAffine(),S=r.toBytes(A);return S[S.length-1]|=E&hn?128:0,S}toHex(){return vs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(E){return ls(_,E)}static msm(E,A){return dE(_,i,E,A)}_setWindowSize(E){this.precompute(E)}toRawBytes(){return this.toBytes()}}_.BASE=new _(o.Gx,o.Gy,hn,l(o.Gx*o.Gy)),_.ZERO=new _(qi,hn,hn,qi),_.Fp=r,_.Fn=i;const T=new uE(_,i.BITS);return _.BASE.precompute(8),_}function mT(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Mc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||Wy,l=n.adjustScalarBytes||(W=>W),u=n.domain||((W,Y,Z)=>{if(Is(Z,"phflag"),Y.length||Z)throw new Error("Contexts/pre-hash are not supported");return W});function f(W){return s.create(pc(W))}function g(W){const Y=S.secretKey;W=Ot("private key",W,Y);const Z=Ot("hashed private key",e(W),2*Y),V=l(Z.slice(0,Y)),b=Z.slice(Y,2*Y),c=f(V);return{head:V,prefix:b,scalar:c}}function w(W){const{head:Y,prefix:Z,scalar:V}=g(W),b=i.multiply(V),c=b.toBytes();return{head:Y,prefix:Z,scalar:V,point:b,pointBytes:c}}function m(W){return w(W).pointBytes}function _(W=Uint8Array.of(),...Y){const Z=ei(...Y);return f(e(u(Z,Ot("context",W),!!r)))}function T(W,Y,Z={}){W=Ot("message",W),r&&(W=r(W));const{prefix:V,scalar:b,pointBytes:c}=w(Y),d=_(Z.context,V,W),v=i.multiply(d).toBytes(),k=_(Z.context,v,c,W),I=s.create(d+k*b);if(!s.isValid(I))throw new Error("sign failed: invalid s");const x=ei(v,s.toBytes(I));return zr(x,S.signature,"result")}const M={zip215:!0};function E(W,Y,Z,V=M){const{context:b,zip215:c}=V,d=S.signature;W=Ot("signature",W,d),Y=Ot("message",Y),Z=Ot("publicKey",Z,S.publicKey),c!==void 0&&Is(c,"zip215"),r&&(Y=r(Y));const v=d/2,k=W.subarray(0,v),I=pc(W.subarray(v,d));let x,B,N;try{x=t.fromBytes(Z,c),B=t.fromBytes(k,c),N=i.multiplyUnsafe(I)}catch{return!1}if(!c&&x.isSmallOrder())return!1;const p=_(b,B.toBytes(),x.toBytes(),Y);return B.add(x.multiplyUnsafe(p)).subtract(N).clearCofactor().is0()}const A=o.BYTES,S={secretKey:A,publicKey:A,signature:2*A,seed:A};function C(W=a(S.seed)){return zr(W,S.seed,"seed")}function P(W){const Y=H.randomSecretKey(W);return{secretKey:Y,publicKey:m(Y)}}function D(W){return Rc(W)&&W.length===s.BYTES}function j(W,Y){try{return!!t.fromBytes(W,Y)}catch{return!1}}const H={getExtendedPublicKey:w,randomSecretKey:C,isValidSecretKey:D,isValidPublicKey:j,toMontgomery(W){const{y:Y}=t.fromBytes(W),Z=S.publicKey,V=Z===32;if(!V&&Z!==57)throw new Error("only defined for 25519 and 448");const b=V?o.div(hn+Y,hn-Y):o.div(Y-hn,Y+hn);return o.toBytes(b)},toMontgomerySecret(W){const Y=S.secretKey;zr(W,Y);const Z=e(W.subarray(0,Y));return l(Z).subarray(0,Y)},randomPrivateKey:C,precompute(W=8,Y=t.BASE){return Y.precompute(W,!1)}};return Object.freeze({keygen:P,getPublicKey:m,sign:T,verify:E,utils:H,Point:t,lengths:S})}function wT(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Os(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function vT(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function _T(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=wT(t),o=yT(e,n),s=mT(o,r,i);return vT(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ST=BigInt(1),v1=BigInt(2);BigInt(3);const ET=BigInt(5),bT=BigInt(8),$y=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),hE={p:$y,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:bT,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function AT(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=$y,a=t*t%o*t%o,l=xt(a,v1,o)*a%o,u=xt(l,ST,o)*t%o,f=xt(u,ET,o)*u%o,g=xt(f,e,o)*f%o,w=xt(g,n,o)*g%o,m=xt(w,r,o)*w%o,_=xt(m,i,o)*m%o,T=xt(_,i,o)*m%o,M=xt(T,e,o)*f%o;return{pow_p_5_8:xt(M,v1,o)*t%o,b2:a}}function IT(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const _1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function kT(t,e){const n=$y,r=rn(e*e*e,n),i=rn(r*r*e,n),o=AT(t*i).pow_p_5_8;let s=rn(t*r*o,n);const a=rn(e*s*s,n),l=s,u=rn(s*_1,n),f=a===t,g=a===rn(-t,n),w=a===rn(-t*_1,n);return f&&(s=l),(g||w)&&(s=u),sT(s,n)&&(s=rn(-s,n)),{isValid:f||g,value:s}}const RT=Os(hE.p,{isLE:!0}),TT={...hE,Fp:RT,hash:XR,adjustScalarBytes:IT,uvRatio:kT},Ja=_T(TT);var O0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=de,r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=r(s);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(O0,O0.exports);var MT=O0.exports,uu=MT.Buffer;function NT(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=uu.from(m)),!uu.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var _=0,T=0,M=0,E=m.length;M!==E&&m[M]===0;)M++,_++;for(var A=(E-M)*u+1>>>0,S=new Uint8Array(A);M!==E;){for(var C=m[M],P=0,D=A-1;(C!==0||P<T)&&D!==-1;D--,P++)C+=256*S[D]>>>0,S[D]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");T=P,M++}for(var j=A-T;j!==A&&S[j]===0;)j++;for(var H=a.repeat(_);j<A;++j)H+=t.charAt(S[j]);return H}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return uu.alloc(0);for(var _=0,T=0,M=0;m[_]===a;)T++,_++;for(var E=(m.length-_)*l+1>>>0,A=new Uint8Array(E);_<m.length;){var S=m.charCodeAt(_);if(S>255)return;var C=e[S];if(C===255)return;for(var P=0,D=E-1;(C!==0||P<M)&&D!==-1;D--,P++)C+=s*A[D]>>>0,A[D]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");M=P,_++}for(var j=E-M;j!==E&&A[j]===0;)j++;var H=uu.allocUnsafe(T+(E-j));H.fill(0,0,T);for(var W=T;j!==E;)H[W++]=A[j++];return H}function w(m){var _=g(m);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var xT=NT,OT=xT,CT="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pE=OT(CT);const Lt=Ms(pE),Hd=GS;var Sn={};function ki(t,e,n){return e<=t&&t<=n}function Mf(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function LT(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function BT(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Kd=-1;function Vy(t){this.tokens=[].slice.call(t)}Vy.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Kd},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Wa=-1;function ap(t,e){if(t)throw TypeError("Decoder error");return e||65533}var $d="utf-8";function Vd(t,e){if(!(this instanceof Vd))return new Vd(t,e);if(t=t!==void 0?String(t).toLowerCase():$d,t!==$d)throw new Error("Encoding not supported. Only utf-8 is supported");e=Mf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Vd.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Mf(n),this._streaming||(this._decoder=new PT({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Vy(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Wa);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Wa)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),BT(o)}};function Gd(t,e){if(!(this instanceof Gd))return new Gd(t,e);if(t=t!==void 0?String(t).toLowerCase():$d,t!==$d)throw new Error("Encoding not supported. Only utf-8 is supported");e=Mf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Gd.prototype={encode:function(e,n){e=e?String(e):"",n=Mf(n),this._streaming||(this._encoder=new DT(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Vy(LT(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Wa);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Wa;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function PT(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===Kd&&i!==0)return i=0,ap(e);if(l===Kd)return Wa;if(i===0){if(ki(l,0,127))return l;if(ki(l,194,223))i=1,n=l-192;else if(ki(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(ki(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return ap(e);return n=n<<6*i,null}if(!ki(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),ap(e);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function DT(t){t.fatal,this.handler=function(e,n){if(n===Kd)return Wa;if(ki(n,0,127))return n;var r,i;ki(n,128,2047)?(r=1,i=192):ki(n,2048,65535)?(r=2,i=224):ki(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const UT=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Vd,TextEncoder:Gd},Symbol.toStringTag,{value:"Module"})),zT=qa(UT);var jT=Ut&&Ut.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),WT=Ut&&Ut.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ui=Ut&&Ut.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},FT=Ut&&Ut.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&jT(e,t,n);return WT(e,t),e},gE=Ut&&Ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sn,"__esModule",{value:!0});var yE=Sn.deserializeUnchecked=EE=Sn.deserialize=SE=Sn.serialize=Sn.BinaryReader=Sn.BinaryWriter=Sn.BorshError=Sn.baseDecode=Sn.baseEncode=void 0;const co=gE(Uy),mE=gE(pE),HT=FT(zT),KT=typeof TextDecoder!="function"?HT.TextDecoder:TextDecoder,$T=new KT("utf-8",{fatal:!0});function VT(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),mE.default.encode(Buffer.from(t))}Sn.baseEncode=VT;function GT(t){return Buffer.from(mE.default.decode(t))}Sn.baseDecode=GT;const lp=1024;class Wn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Sn.BorshError=Wn;class wE{constructor(){this.buf=Buffer.alloc(lp),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(lp)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new co.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new co.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new co.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new co.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(lp)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Sn.BinaryWriter=wE;function di(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Wn("Reached the end of buffer when deserializing")}throw o}}}class _r{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new co.default(e,"le")}readU128(){const e=this.readBuffer(16);return new co.default(e,"le")}readU256(){const e=this.readBuffer(32);return new co.default(e,"le")}readU512(){const e=this.readBuffer(64);return new co.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Wn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return $T.decode(n)}catch(r){throw new Wn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}ui([di],_r.prototype,"readU8",null);ui([di],_r.prototype,"readU16",null);ui([di],_r.prototype,"readU32",null);ui([di],_r.prototype,"readU64",null);ui([di],_r.prototype,"readU128",null);ui([di],_r.prototype,"readU256",null);ui([di],_r.prototype,"readU512",null);ui([di],_r.prototype,"readString",null);ui([di],_r.prototype,"readFixedArray",null);ui([di],_r.prototype,"readArray",null);Sn.BinaryReader=_r;function vE(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Jo(t,e,n,r,i){try{if(typeof r=="string")i[`write${vE(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Wn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Wn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)Jo(t,null,n[o],r[0],i)}else i.writeArray(n,o=>{Jo(t,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Jo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{Jo(t,e,s,r.key,i),Jo(t,e,o,r.value,i)});break}default:throw new Wn(`FieldType ${r} unrecognized`)}else _E(t,n,i)}catch(o){throw o instanceof Wn&&o.addToFieldPath(e),o}}function _E(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Wn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{Jo(t,i,e[i],o,n)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),Jo(t,s,e[s],a,n);break}}}else throw new Wn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function YT(t,e,n=wE){const r=new n;return _E(t,e,r),r.toArray()}var SE=Sn.serialize=YT;function es(t,e,n,r){try{if(typeof n=="string")return r[`read${vE(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(es(t,null,n[0],r));return i}else return r.readArray(()=>es(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?es(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=es(t,e,n.key,r),l=es(t,e,n.value,r);i.set(a,l)}return i}return Gy(t,n,r)}catch(i){throw i instanceof Wn&&i.addToFieldPath(e),i}}function Gy(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Wn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of t.get(e).fields)i[o]=es(t,o,s,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Wn(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=es(t,o,s,n);return new e({[o]:a})}throw new Wn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function qT(t,e,n,r=_r){const i=new r(n),o=Gy(t,e,i);if(i.offset<n.length)throw new Wn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var EE=Sn.deserialize=qT;function ZT(t,e,n,r=_r){const i=new r(n);return Gy(t,e,i)}yE=Sn.deserializeUnchecked=ZT;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.s16=G.s8=G.nu64be=G.u48be=G.u40be=G.u32be=G.u24be=G.u16be=wn=G.nu64=G.u48=G.u40=ge=G.u32=G.u24=Ar=G.u16=$e=G.u8=bo=G.offset=G.greedy=G.Constant=G.UTF8=G.CString=G.Blob=G.Boolean=G.BitField=G.BitStructure=G.VariantLayout=G.Union=G.UnionLayoutDiscriminator=G.UnionDiscriminator=G.Structure=G.Sequence=G.DoubleBE=G.Double=G.FloatBE=G.Float=G.NearInt64BE=G.NearInt64=G.NearUInt64BE=G.NearUInt64=G.IntBE=G.Int=G.UIntBE=G.UInt=G.OffsetLayout=G.GreedyCount=G.ExternalLayout=G.bindConstructorLayout=G.nameWithProperty=G.Layout=G.uint8ArrayToBuffer=G.checkUint8Array=void 0;G.constant=G.utf8=G.cstr=vt=G.blob=G.unionLayoutDiscriminator=G.union=En=G.seq=G.bits=ye=G.struct=G.f64be=G.f64=G.f32be=G.f32=G.ns64be=G.s48be=G.s40be=G.s32be=G.s24be=G.s16be=dr=G.ns64=G.s48=G.s40=G.s32=G.s24=void 0;const Yy=de;function el(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}G.checkUint8Array=el;function qe(t){return el(t),Yy.Buffer.from(t.buffer,t.byteOffset,t.length)}G.uint8ArrayToBuffer=qe;let st=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};G.Layout=st;function qy(t,e){return e.property?t+"["+e.property+"]":t}G.nameWithProperty=qy;function QT(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof st))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}G.bindConstructorLayout=QT;let Zn=class extends st{isCount(){throw new Error("ExternalLayout is abstract")}};G.ExternalLayout=Zn;let bE=class extends Zn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){el(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};G.GreedyCount=bE;let Zy=class extends Zn{constructor(e,n=0,r){if(!(e instanceof st))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Mr||this.layout instanceof Hr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};G.OffsetLayout=Zy;let Mr=class extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qe(e).readUIntLE(n,this.span)}encode(e,n,r=0){return qe(n).writeUIntLE(e,r,this.span),this.span}};G.UInt=Mr;let Hr=class extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qe(e).readUIntBE(n,this.span)}encode(e,n,r=0){return qe(n).writeUIntBE(e,r,this.span),this.span}};G.UIntBE=Hr;let Cs=class extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qe(e).readIntLE(n,this.span)}encode(e,n,r=0){return qe(n).writeIntLE(e,r,this.span),this.span}};G.Int=Cs;let tl=class extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qe(e).readIntBE(n,this.span)}encode(e,n,r=0){return qe(n).writeIntBE(e,r,this.span),this.span}};G.IntBE=tl;const C0=Math.pow(2,32);function Nf(t){const e=Math.floor(t/C0),n=t-e*C0;return{hi32:e,lo32:n}}function xf(t,e){return t*C0+e}let AE=class extends st{constructor(e){super(8,e)}decode(e,n=0){const r=qe(e),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return xf(o,i)}encode(e,n,r=0){const i=Nf(e),o=qe(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};G.NearUInt64=AE;let IE=class extends st{constructor(e){super(8,e)}decode(e,n=0){const r=qe(e),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return xf(i,o)}encode(e,n,r=0){const i=Nf(e),o=qe(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};G.NearUInt64BE=IE;let kE=class extends st{constructor(e){super(8,e)}decode(e,n=0){const r=qe(e),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return xf(o,i)}encode(e,n,r=0){const i=Nf(e),o=qe(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};G.NearInt64=kE;let RE=class extends st{constructor(e){super(8,e)}decode(e,n=0){const r=qe(e),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return xf(i,o)}encode(e,n,r=0){const i=Nf(e),o=qe(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};G.NearInt64BE=RE;let TE=class extends st{constructor(e){super(4,e)}decode(e,n=0){return qe(e).readFloatLE(n)}encode(e,n,r=0){return qe(n).writeFloatLE(e,r),4}};G.Float=TE;let ME=class extends st{constructor(e){super(4,e)}decode(e,n=0){return qe(e).readFloatBE(n)}encode(e,n,r=0){return qe(n).writeFloatBE(e,r),4}};G.FloatBE=ME;let NE=class extends st{constructor(e){super(8,e)}decode(e,n=0){return qe(e).readDoubleLE(n)}encode(e,n,r=0){return qe(n).writeDoubleLE(e,r),8}};G.Double=NE;let xE=class extends st{constructor(e){super(8,e)}decode(e,n=0){return qe(e).readDoubleBE(n)}encode(e,n,r=0){return qe(n).writeDoubleBE(e,r),8}};G.DoubleBE=xE;let OE=class extends st{constructor(e,n,r){if(!(e instanceof st))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Zn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Zn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Zn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let i=0,o=this.count;for(o instanceof Zn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Zn&&this.count.encode(e.length,n,r),o}};G.Sequence=OE;let CE=class extends st{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof st,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){el(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(s=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};G.Structure=CE;let Qy=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};G.UnionDiscriminator=Qy;let Yd=class extends Qy{constructor(e,n){if(!(e instanceof Zn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};G.UnionLayoutDiscriminator=Yd;let Xy=class extends st{constructor(e,n,r){let i;if(e instanceof Mr||e instanceof Hr)i=new Yd(new Zy(e));else if(e instanceof Zn&&e.isCount())i=new Yd(e);else if(e instanceof Qy)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof st))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof Mr||e instanceof Hr)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Mr||e instanceof Hr,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,o=i.decode(e,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,n+l)}else r=s.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new LE(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};G.Union=Xy;let LE=class extends st{constructor(e,n,r,i){if(!(e instanceof Xy))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof st))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};G.VariantLayout=LE;function $s(t){return 0>t&&(t+=4294967296),t}let Jy=class extends st{constructor(e,n,r){if(!(e instanceof Mr||e instanceof Hr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=$s(o),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new em(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new BE(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};G.BitStructure=Jy;let em=class{constructor(e,n,r){if(!(e instanceof Jy))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=$s(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return $s(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==$s(e&this.valueMask))throw new TypeError(qy("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=$s(e<<this.start);this.container._packedSetValue($s(n&~this.wordMask)|r)}};G.BitField=em;let BE=class extends em{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};G.Boolean=BE;let PE=class extends st{constructor(e,n){if(!(e instanceof Zn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Zn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),qe(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Zn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(qy("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=qe(e);return qe(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof Zn&&this.length.encode(i,n,r),i}};G.Blob=PE;let DE=class extends st{constructor(e){super(-1,e)}getSpan(e,n=0){el(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return qe(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Yy.Buffer.from(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=qe(n);return i.copy(s,r),s[r+o]=0,o+1}};G.CString=DE;let UE=class extends st{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return el(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return qe(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Yy.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(qe(n),r),o}};G.UTF8=UE;let zE=class extends st{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};G.Constant=zE;G.greedy=(t,e)=>new bE(t,e);var bo=G.offset=(t,e,n)=>new Zy(t,e,n),$e=G.u8=t=>new Mr(1,t),Ar=G.u16=t=>new Mr(2,t);G.u24=t=>new Mr(3,t);var ge=G.u32=t=>new Mr(4,t);G.u40=t=>new Mr(5,t);G.u48=t=>new Mr(6,t);var wn=G.nu64=t=>new AE(t);G.u16be=t=>new Hr(2,t);G.u24be=t=>new Hr(3,t);G.u32be=t=>new Hr(4,t);G.u40be=t=>new Hr(5,t);G.u48be=t=>new Hr(6,t);G.nu64be=t=>new IE(t);G.s8=t=>new Cs(1,t);G.s16=t=>new Cs(2,t);G.s24=t=>new Cs(3,t);G.s32=t=>new Cs(4,t);G.s40=t=>new Cs(5,t);G.s48=t=>new Cs(6,t);var dr=G.ns64=t=>new kE(t);G.s16be=t=>new tl(2,t);G.s24be=t=>new tl(3,t);G.s32be=t=>new tl(4,t);G.s40be=t=>new tl(5,t);G.s48be=t=>new tl(6,t);G.ns64be=t=>new RE(t);G.f32=t=>new TE(t);G.f32be=t=>new ME(t);G.f64=t=>new NE(t);G.f64be=t=>new xE(t);var ye=G.struct=(t,e,n)=>new CE(t,e,n);G.bits=(t,e,n)=>new Jy(t,e,n);var En=G.seq=(t,e,n)=>new OE(t,e,n);G.union=(t,e,n)=>new Xy(t,e,n);G.unionLayoutDiscriminator=(t,e)=>new Yd(t,e);var vt=G.blob=(t,e)=>new PE(t,e);G.cstr=t=>new DE(t);G.utf8=(t,e)=>new UE(t,e);G.constant=(t,e)=>new zE(t,e);var XT=8078e3,JT=8078001,eM=8078004,tM=8078005,nM=8078006,rM=8078011;function jE(t){return Array.isArray(t)?"%5B"+t.map(jE).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function iM([t,e]){return`${t}=${jE(e)}`}function oM(t){const e=Object.entries(t).map(iM).join("&");return btoa(e)}function sM(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${oM(e)}'`),`${n}\``}}var Aa=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=sM(e,r);super(o,i);ft(this,"cause",this.cause);ft(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function aM(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function lM(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(aM(e,t));return t.write(e,n,0),n}})}function cM(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Hs(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function uM(t,e){if(Hs(t)!==Hs(e))throw new Aa(eM);if(Hs(t)&&Hs(e)&&t.fixedSize!==e.fixedSize)throw new Aa(tM,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Hs(t)&&!Hs(e)&&t.maxSize!==e.maxSize)throw new Aa(nM,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function dM(t,e,n=0){if(e.length-n<=0)throw new Aa(XT,{codecDescription:t})}function fM(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Aa(JT,{bytesLength:i,codecDescription:t,expected:e})}function hM(t,e,n,r){if(r<e||r>n)throw new Aa(rM,{codecDescription:t,max:n,min:e,value:r})}function WE(t){return(t==null?void 0:t.endian)!==1}function pM(t){return lM({fixedSize:t.size,write(e,n,r){t.range&&hM(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,WE(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function gM(t){return cM({fixedSize:t.size,read(e,n=0){dM(t.name,e,n),fM(t.name,t.size,e,n);const r=new DataView(yM(e,n,t.size));return[t.get(r,WE(t.config)),n+t.size]}})}function yM(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var FE=(t={})=>pM({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),mM=(t={})=>gM({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),wM=(t={})=>uM(FE(t),mM(t));let vM=class extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function _M(t){return Nc(t)&&typeof t[Symbol.iterator]=="function"}function Nc(t){return typeof t=="object"&&t!=null}function qd(t){return Nc(t)&&!Array.isArray(t)}function Vr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function SM(t){const{done:e,value:n}=t.next();return e?void 0:n}function EM(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Vr(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*S1(t,e,n,r){_M(t)||(t=[t]);for(const i of t){const o=EM(i,e,n,r);o&&(yield o)}}function*tm(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(const u of e.validator(t,a))u.explanation=n.message,l="not_valid",yield[u,void 0];for(let[u,f,g]of e.entries(t,a)){const w=tm(f,g,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,f],coerce:o,mask:s,message:n.message});for(const m of w)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(f=m[1],u===void 0?t=f:t instanceof Map?t.set(u,f):t instanceof Set?t.add(f):Nc(t)&&(f!==void 0||u in t)&&(t[u]=f))}if(l!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,l="not_refined",yield[u,void 0];l==="valid"&&(yield[void 0,t])}let fi=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,u)=>{const f=i(l,u);return S1(f,u,this,l)}:this.validator=()=>[],o?this.refiner=(l,u)=>{const f=o(l,u);return S1(f,u,this,l)}:this.refiner=()=>[]}assert(e,n){return HE(e,this,n)}create(e,n){return le(e,this,n)}is(e){return KE(e,this)}mask(e,n){return bM(e,this,n)}validate(e,n={}){return xc(e,this,n)}};function HE(t,e,n){const r=xc(t,e,{message:n});if(r[0])throw r[0]}function le(t,e,n){const r=xc(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function bM(t,e,n){const r=xc(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function KE(t,e){return!xc(t,e)[0]}function xc(t,e,n={}){const r=tm(t,e,n),i=SM(r);return i[0]?[new vM(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Ls(t,e){return new fi({type:t,schema:null,validator:e})}function AM(){return Ls("any",()=>!0)}function ce(t){return new fi({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Vr(e)}`}})}function ci(){return Ls("boolean",t=>typeof t=="boolean")}function nm(t){return Ls("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Vr(e)}`)}function Rt(t){const e=Vr(t),n=typeof t;return new fi({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Vr(r)}`}})}function IM(){return Ls("never",()=>!1)}function ue(t){return new fi({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function K(){return Ls("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Vr(t)}`)}function Se(t){return new fi({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function $E(t,e){return new fi({type:"record",schema:null,*entries(n){if(Nc(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return qd(n)||`Expected an object, but received: ${Vr(n)}`},coercer(n){return qd(n)?{...n}:n}})}function se(){return Ls("string",t=>typeof t=="string"||`Expected a string, but received: ${Vr(t)}`)}function rm(t){const e=IM();return new fi({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Vr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function J(t){const e=Object.keys(t);return new fi({type:"type",schema:t,*entries(n){if(Nc(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return qd(n)||`Expected an object, but received: ${Vr(n)}`},coercer(n){return qd(n)?{...n}:n}})}function Hn(t){const e=t.map(n=>n.type).join(" | ");return new fi({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=tm(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Vr(n)}`,...i]}})}function nl(){return Ls("unknown",()=>!0)}function Oc(t,e,n){return new fi({...t,coercer:(r,i)=>KE(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var du,kM=new Uint8Array(16);function VE(){if(!du&&(du=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!du))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return du(kM)}const RM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Of(t){return typeof t=="string"&&RM.test(t)}var mn=[];for(var cp=0;cp<256;++cp)mn.push((cp+256).toString(16).substr(1));function Cf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(mn[t[e+0]]+mn[t[e+1]]+mn[t[e+2]]+mn[t[e+3]]+"-"+mn[t[e+4]]+mn[t[e+5]]+"-"+mn[t[e+6]]+mn[t[e+7]]+"-"+mn[t[e+8]]+mn[t[e+9]]+"-"+mn[t[e+10]]+mn[t[e+11]]+mn[t[e+12]]+mn[t[e+13]]+mn[t[e+14]]+mn[t[e+15]]).toLowerCase();if(!Of(n))throw TypeError("Stringified UUID is invalid");return n}var E1,up,dp=0,fp=0;function TM(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||E1,s=t.clockseq!==void 0?t.clockseq:up;if(o==null||s==null){var a=t.random||(t.rng||VE)();o==null&&(o=E1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=up=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:fp+1,f=l-dp+(u-fp)/1e4;if(f<0&&t.clockseq===void 0&&(s=s+1&16383),(f<0||l>dp)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dp=l,fp=u,up=s,l+=122192928e5;var g=((l&268435455)*1e4+u)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var w=l/4294967296*1e4&268435455;i[r++]=w>>>8&255,i[r++]=w&255,i[r++]=w>>>24&15|16,i[r++]=w>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return e||Cf(i)}function GE(t){if(!Of(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function MM(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var NM="6ba7b810-9dad-11d1-80b4-00c04fd430c8",xM="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function YE(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=MM(i)),typeof o=="string"&&(o=GE(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){a=a||0;for(var u=0;u<16;++u)s[a+u]=l[u];return s}return Cf(l)}try{r.name=t}catch{}return r.DNS=NM,r.URL=xM,r}function OM(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return CM(LM(BM(t),t.length*8))}function CM(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function qE(t){return(t+64>>>9<<4)+14+1}function LM(t,e){t[e>>5]|=128<<e%32,t[qE(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,l=r,u=i,f=o;n=Mn(n,r,i,o,t[s],7,-680876936),o=Mn(o,n,r,i,t[s+1],12,-389564586),i=Mn(i,o,n,r,t[s+2],17,606105819),r=Mn(r,i,o,n,t[s+3],22,-1044525330),n=Mn(n,r,i,o,t[s+4],7,-176418897),o=Mn(o,n,r,i,t[s+5],12,1200080426),i=Mn(i,o,n,r,t[s+6],17,-1473231341),r=Mn(r,i,o,n,t[s+7],22,-45705983),n=Mn(n,r,i,o,t[s+8],7,1770035416),o=Mn(o,n,r,i,t[s+9],12,-1958414417),i=Mn(i,o,n,r,t[s+10],17,-42063),r=Mn(r,i,o,n,t[s+11],22,-1990404162),n=Mn(n,r,i,o,t[s+12],7,1804603682),o=Mn(o,n,r,i,t[s+13],12,-40341101),i=Mn(i,o,n,r,t[s+14],17,-1502002290),r=Mn(r,i,o,n,t[s+15],22,1236535329),n=Nn(n,r,i,o,t[s+1],5,-165796510),o=Nn(o,n,r,i,t[s+6],9,-1069501632),i=Nn(i,o,n,r,t[s+11],14,643717713),r=Nn(r,i,o,n,t[s],20,-373897302),n=Nn(n,r,i,o,t[s+5],5,-701558691),o=Nn(o,n,r,i,t[s+10],9,38016083),i=Nn(i,o,n,r,t[s+15],14,-660478335),r=Nn(r,i,o,n,t[s+4],20,-405537848),n=Nn(n,r,i,o,t[s+9],5,568446438),o=Nn(o,n,r,i,t[s+14],9,-1019803690),i=Nn(i,o,n,r,t[s+3],14,-187363961),r=Nn(r,i,o,n,t[s+8],20,1163531501),n=Nn(n,r,i,o,t[s+13],5,-1444681467),o=Nn(o,n,r,i,t[s+2],9,-51403784),i=Nn(i,o,n,r,t[s+7],14,1735328473),r=Nn(r,i,o,n,t[s+12],20,-1926607734),n=xn(n,r,i,o,t[s+5],4,-378558),o=xn(o,n,r,i,t[s+8],11,-2022574463),i=xn(i,o,n,r,t[s+11],16,1839030562),r=xn(r,i,o,n,t[s+14],23,-35309556),n=xn(n,r,i,o,t[s+1],4,-1530992060),o=xn(o,n,r,i,t[s+4],11,1272893353),i=xn(i,o,n,r,t[s+7],16,-155497632),r=xn(r,i,o,n,t[s+10],23,-1094730640),n=xn(n,r,i,o,t[s+13],4,681279174),o=xn(o,n,r,i,t[s],11,-358537222),i=xn(i,o,n,r,t[s+3],16,-722521979),r=xn(r,i,o,n,t[s+6],23,76029189),n=xn(n,r,i,o,t[s+9],4,-640364487),o=xn(o,n,r,i,t[s+12],11,-421815835),i=xn(i,o,n,r,t[s+15],16,530742520),r=xn(r,i,o,n,t[s+2],23,-995338651),n=On(n,r,i,o,t[s],6,-198630844),o=On(o,n,r,i,t[s+7],10,1126891415),i=On(i,o,n,r,t[s+14],15,-1416354905),r=On(r,i,o,n,t[s+5],21,-57434055),n=On(n,r,i,o,t[s+12],6,1700485571),o=On(o,n,r,i,t[s+3],10,-1894986606),i=On(i,o,n,r,t[s+10],15,-1051523),r=On(r,i,o,n,t[s+1],21,-2054922799),n=On(n,r,i,o,t[s+8],6,1873313359),o=On(o,n,r,i,t[s+15],10,-30611744),i=On(i,o,n,r,t[s+6],15,-1560198380),r=On(r,i,o,n,t[s+13],21,1309151649),n=On(n,r,i,o,t[s+4],6,-145523070),o=On(o,n,r,i,t[s+11],10,-1120210379),i=On(i,o,n,r,t[s+2],15,718787259),r=On(r,i,o,n,t[s+9],21,-343485551),n=uo(n,a),r=uo(r,l),i=uo(i,u),o=uo(o,f)}return[n,r,i,o]}function BM(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(qE(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function uo(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function PM(t,e){return t<<e|t>>>32-e}function Lf(t,e,n,r,i,o){return uo(PM(uo(uo(e,t),uo(r,o)),i),n)}function Mn(t,e,n,r,i,o,s){return Lf(e&n|~e&r,t,e,i,o,s)}function Nn(t,e,n,r,i,o,s){return Lf(e&r|n&~r,t,e,i,o,s)}function xn(t,e,n,r,i,o,s){return Lf(e^n^r,t,e,i,o,s)}function On(t,e,n,r,i,o,s){return Lf(n^(e|~r),t,e,i,o,s)}var DM=YE("v3",48,OM);function UM(t,e,n){t=t||{};var r=t.random||(t.rng||VE)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Cf(r)}function zM(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function hp(t,e){return t<<e|t>>>32-e}function jM(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=t[l*64+f*4]<<24|t[l*64+f*4+1]<<16|t[l*64+f*4+2]<<8|t[l*64+f*4+3];a[l]=u}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<s;++g){for(var w=new Uint32Array(80),m=0;m<16;++m)w[m]=a[g][m];for(var _=16;_<80;++_)w[_]=hp(w[_-3]^w[_-8]^w[_-14]^w[_-16],1);for(var T=n[0],M=n[1],E=n[2],A=n[3],S=n[4],C=0;C<80;++C){var P=Math.floor(C/20),D=hp(T,5)+zM(P,M,E,A)+S+e[P]+w[C]>>>0;S=A,A=E,E=hp(M,30)>>>0,M=T,T=D}n[0]=n[0]+T>>>0,n[1]=n[1]+M>>>0,n[2]=n[2]+E>>>0,n[3]=n[3]+A>>>0,n[4]=n[4]+S>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var WM=YE("v5",80,jM);const FM="00000000-0000-0000-0000-000000000000";function HM(t){if(!Of(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const KM=Object.freeze(Object.defineProperty({__proto__:null,NIL:FM,parse:GE,stringify:Cf,v1:TM,v3:DM,v4:UM,v5:WM,validate:Of,version:HM},Symbol.toStringTag,{value:"Module"})),ZE=qa(KM),$M=ZE.v4,VM=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return $M()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var GM=VM;const YM=ZE.v4,qM=GM,gc=function(t,e){if(!(this instanceof gc))return new gc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return YM()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var ZM=gc;gc.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{o=qM(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(u)return r(f);throw f}if(!u)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,function(u,f){i._parseResponse(u,f,r)}),o};gc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return n(null,r.filter(i),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const QM=Ms(ZM);var QE={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,g;if(this._eventsCount===0)return u;for(g in f=this._events)e.call(f,g)&&u.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,_=new Array(m);w<m;w++)_[w]=g[w].fn;return _},a.prototype.listenerCount=function(u){var f=n?n+u:u,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(u,f,g,w,m,_){var T=n?n+u:u;if(!this._events[T])return!1;var M=this._events[T],E=arguments.length,A,S;if(M.fn){switch(M.once&&this.removeListener(u,M.fn,void 0,!0),E){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,f),!0;case 3:return M.fn.call(M.context,f,g),!0;case 4:return M.fn.call(M.context,f,g,w),!0;case 5:return M.fn.call(M.context,f,g,w,m),!0;case 6:return M.fn.call(M.context,f,g,w,m,_),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];M.fn.apply(M.context,A)}else{var C=M.length,P;for(S=0;S<C;S++)switch(M[S].once&&this.removeListener(u,M[S].fn,void 0,!0),E){case 1:M[S].fn.call(M[S].context);break;case 2:M[S].fn.call(M[S].context,f);break;case 3:M[S].fn.call(M[S].context,f,g);break;case 4:M[S].fn.call(M[S].context,f,g,w);break;default:if(!A)for(P=1,A=new Array(E-1);P<E;P++)A[P-1]=arguments[P];M[S].fn.apply(M[S].context,A)}}return!0},a.prototype.on=function(u,f,g){return o(this,u,f,g,!1)},a.prototype.once=function(u,f,g){return o(this,u,f,g,!0)},a.prototype.removeListener=function(u,f,g,w){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return s(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!w||_.once)&&(!g||_.context===g)&&s(this,m);else{for(var T=0,M=[],E=_.length;T<E;T++)(_[T].fn!==f||w&&!_[T].once||g&&_[T].context!==g)&&M.push(_[T]);M.length?this._events[m]=M.length===1?M[0]:M:s(this,m)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(QE);var XM=QE.exports;const XE=Ms(XM);var JM=class extends XE{constructor(e,n,r){super();ft(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function eN(t,e){return new JM(t,e)}var tN=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},nN=class extends XE{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,u){super();ft(this,"address");ft(this,"rpc_id");ft(this,"queue");ft(this,"options");ft(this,"autoconnect");ft(this,"ready");ft(this,"reconnect");ft(this,"reconnect_timer_id");ft(this,"reconnect_interval");ft(this,"max_reconnects");ft(this,"rest_options");ft(this,"current_reconnects");ft(this,"generate_request_id");ft(this,"socket");ft(this,"webSocketFactory");ft(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new tN,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,u=>{if(u)return s(u);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=de.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const rN=BigInt(0),yl=BigInt(1),iN=BigInt(2),oN=BigInt(7),sN=BigInt(256),aN=BigInt(113),JE=[],eb=[],tb=[];for(let t=0,e=yl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],JE.push(2*(5*r+n)),eb.push((t+1)*(t+2)/2%64);let i=rN;for(let o=0;o<7;o++)e=(e<<yl^(e>>oN)*aN)%sN,e&iN&&(i^=yl<<(yl<<BigInt(o))-yl);tb.push(i)}const nb=$S(tb,!0),lN=nb[0],cN=nb[1],b1=(t,e,n)=>n>32?zR(t,e,n):DR(t,e,n),A1=(t,e,n)=>n>32?jR(t,e,n):UR(t,e,n);function uN(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,u=n[l],f=n[l+1],g=b1(u,f,1)^n[a],w=A1(u,f,1)^n[a+1];for(let m=0;m<50;m+=10)t[s+m]^=g,t[s+m+1]^=w}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=eb[s],l=b1(i,o,a),u=A1(i,o,a),f=JE[s];i=t[f],o=t[f+1],t[f]=l,t[f+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=lN[r],t[1]^=cN[r]}To(n)}class im extends zy{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,hc(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=RR(this.state)}clone(){return this._cloneInto()}keccak(){l1(this.state32),uN(this.state32,this.rounds),l1(this.state32),this.posOut=0,this.pos=0}update(e){za(this),e=Rf(e),ji(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){za(this,!1),ji(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(FS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,To(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new im(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const dN=(t,e,n)=>jy(()=>new im(e,t,n)),I1=dN(1,136,256/8);class rb extends zy{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,WS(e);const r=Rf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),To(o)}update(e){return za(this),this.iHash.update(e),this}digestInto(e){za(this),ji(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ib=(t,e,n)=>new rb(t,e).update(n).digest();ib.create=(t,e)=>new rb(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k1=(t,e)=>(t+(t>=0?e:-e)/ob)/e;function fN(t,e,n){const[[r,i],[o,s]]=e,a=k1(s*t,n),l=k1(-i*t,n);let u=t-a*r-l*o,f=-a*i-l*s;const g=u<Oi,w=f<Oi;g&&(u=-u),w&&(f=-f);const m=Tc(Math.ceil(ZS(n)/2))+Ia;if(u<Oi||u>=m||f<Oi||f>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:u,k2neg:w,k2:f}}function L0(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function pp(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Is(n.lowS,"lowS"),Is(n.prehash,"prehash"),n.format!==void 0&&L0(n.format),n}class hN extends Error{constructor(e=""){super(e)}}const Ai={Err:hN,_tlv:{encode:(t,e)=>{const{Err:n}=Ai;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=cu(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?cu(i.length/2|128):"";return cu(t)+o+i+e},decode(t,e){const{Err:n}=Ai;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)s=s<<8|f;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Ai;if(t<Oi)throw new e("integer: negative integers are not allowed");let n=cu(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ai;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Tf(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ai,i=Ot("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:u,l:f}=r.decode(2,l);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Ai,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Oi=BigInt(0),Ia=BigInt(1),ob=BigInt(2),fu=BigInt(3),pN=BigInt(4);function ha(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Ot("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function gN(t,e={}){const n=fE("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;Mc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=ab(r,i);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(V,b,c){const{x:d,y:v}=b.toAffine(),k=r.toBytes(d);if(Is(c,"isCompressed"),c){f();const I=!r.isOdd(v);return ei(sb(I),k)}else return ei(Uint8Array.of(4),k,r.toBytes(v))}function w(V){zr(V,void 0,"Point");const{publicKey:b,publicKeyUncompressed:c}=u,d=V.length,v=V[0],k=V.subarray(1);if(d===b&&(v===2||v===3)){const I=r.fromBytes(k);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const x=T(I);let B;try{B=r.sqrt(x)}catch(L){const oe=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+oe)}f();const N=r.isOdd(B);return(v&1)===1!==N&&(B=r.neg(B)),{x:I,y:B}}else if(d===c&&v===4){const I=r.BYTES,x=r.fromBytes(k.subarray(0,I)),B=r.fromBytes(k.subarray(I,I*2));if(!M(x,B))throw new Error("bad point: is not on curve");return{x,y:B}}else throw new Error(`bad point: got length ${d}, expected compressed=${b} or uncompressed=${c}`)}const m=e.toBytes||g,_=e.fromBytes||w;function T(V){const b=r.sqr(V),c=r.mul(b,V);return r.add(r.add(c,r.mul(V,o.a)),o.b)}function M(V,b){const c=r.sqr(b),d=T(V);return r.eql(c,d)}if(!M(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const E=r.mul(r.pow(o.a,fu),pN),A=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(E,A)))throw new Error("bad curve params: a or b");function S(V,b,c=!1){if(!r.isValid(b)||c&&r.is0(b))throw new Error(`bad point coordinate ${V}`);return b}function C(V){if(!(V instanceof W))throw new Error("ProjectivePoint expected")}function P(V){if(!l||!l.basises)throw new Error("no endo");return fN(V,l.basises,i.ORDER)}const D=Wd((V,b)=>{const{X:c,Y:d,Z:v}=V;if(r.eql(v,r.ONE))return{x:c,y:d};const k=V.is0();b==null&&(b=k?r.ONE:r.inv(v));const I=r.mul(c,b),x=r.mul(d,b),B=r.mul(v,b);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error("invZ was invalid");return{x:I,y:x}}),j=Wd(V=>{if(V.is0()){if(e.allowInfinityPoint&&!r.is0(V.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:c}=V.toAffine();if(!r.isValid(b)||!r.isValid(c))throw new Error("bad point: x or y not field elements");if(!M(b,c))throw new Error("bad point: equation left != right");if(!V.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function H(V,b,c,d,v){return c=new W(r.mul(c.X,V),c.Y,c.Z),b=Fd(d,b),c=Fd(v,c),b.add(c)}class W{constructor(b,c,d){this.X=S("x",b),this.Y=S("y",c,!0),this.Z=S("z",d),Object.freeze(this)}static CURVE(){return o}static fromAffine(b){const{x:c,y:d}=b||{};if(!b||!r.isValid(c)||!r.isValid(d))throw new Error("invalid affine point");if(b instanceof W)throw new Error("projective point not allowed");return r.is0(c)&&r.is0(d)?W.ZERO:new W(c,d,r.ONE)}static fromBytes(b){const c=W.fromAffine(_(zr(b,void 0,"point")));return c.assertValidity(),c}static fromHex(b){return W.fromBytes(Ot("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,c=!0){return Z.createCache(this,b),c||this.multiply(fu),this}assertValidity(){j(this)}hasEvenY(){const{y:b}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(b)}equals(b){C(b);const{X:c,Y:d,Z:v}=this,{X:k,Y:I,Z:x}=b,B=r.eql(r.mul(c,x),r.mul(k,v)),N=r.eql(r.mul(d,x),r.mul(I,v));return B&&N}negate(){return new W(this.X,r.neg(this.Y),this.Z)}double(){const{a:b,b:c}=o,d=r.mul(c,fu),{X:v,Y:k,Z:I}=this;let x=r.ZERO,B=r.ZERO,N=r.ZERO,p=r.mul(v,v),L=r.mul(k,k),oe=r.mul(I,I),ie=r.mul(v,k);return ie=r.add(ie,ie),N=r.mul(v,I),N=r.add(N,N),x=r.mul(b,N),B=r.mul(d,oe),B=r.add(x,B),x=r.sub(L,B),B=r.add(L,B),B=r.mul(x,B),x=r.mul(ie,x),N=r.mul(d,N),oe=r.mul(b,oe),ie=r.sub(p,oe),ie=r.mul(b,ie),ie=r.add(ie,N),N=r.add(p,p),p=r.add(N,p),p=r.add(p,oe),p=r.mul(p,ie),B=r.add(B,p),oe=r.mul(k,I),oe=r.add(oe,oe),p=r.mul(oe,ie),x=r.sub(x,p),N=r.mul(oe,L),N=r.add(N,N),N=r.add(N,N),new W(x,B,N)}add(b){C(b);const{X:c,Y:d,Z:v}=this,{X:k,Y:I,Z:x}=b;let B=r.ZERO,N=r.ZERO,p=r.ZERO;const L=o.a,oe=r.mul(o.b,fu);let ie=r.mul(c,k),ae=r.mul(d,I),Re=r.mul(v,x),Ae=r.add(c,d),Ee=r.add(k,I);Ae=r.mul(Ae,Ee),Ee=r.add(ie,ae),Ae=r.sub(Ae,Ee),Ee=r.add(c,v);let St=r.add(k,x);return Ee=r.mul(Ee,St),St=r.add(ie,Re),Ee=r.sub(Ee,St),St=r.add(d,v),B=r.add(I,x),St=r.mul(St,B),B=r.add(ae,Re),St=r.sub(St,B),p=r.mul(L,Ee),B=r.mul(oe,Re),p=r.add(B,p),B=r.sub(ae,p),p=r.add(ae,p),N=r.mul(B,p),ae=r.add(ie,ie),ae=r.add(ae,ie),Re=r.mul(L,Re),Ee=r.mul(oe,Ee),ae=r.add(ae,Re),Re=r.sub(ie,Re),Re=r.mul(L,Re),Ee=r.add(Ee,Re),ie=r.mul(ae,Ee),N=r.add(N,ie),ie=r.mul(St,Ee),B=r.mul(Ae,B),B=r.sub(B,ie),ie=r.mul(Ae,ae),p=r.mul(St,p),p=r.add(p,ie),new W(B,N,p)}subtract(b){return this.add(b.negate())}is0(){return this.equals(W.ZERO)}multiply(b){const{endo:c}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let d,v;const k=I=>Z.cached(this,I,x=>ls(W,x));if(c){const{k1neg:I,k1:x,k2neg:B,k2:N}=P(b),{p,f:L}=k(x),{p:oe,f:ie}=k(N);v=L.add(ie),d=H(c.beta,p,oe,I,B)}else{const{p:I,f:x}=k(b);d=I,v=x}return ls(W,[d,v])[0]}multiplyUnsafe(b){const{endo:c}=e,d=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===Oi||d.is0())return W.ZERO;if(b===Ia)return d;if(Z.hasCache(this))return this.multiply(b);if(c){const{k1neg:v,k1:k,k2neg:I,k2:x}=P(b),{p1:B,p2:N}=hT(W,d,k,x);return H(c.beta,B,N,v,I)}else return Z.unsafe(d,b)}multiplyAndAddUnsafe(b,c,d){const v=this.multiplyUnsafe(c).add(b.multiplyUnsafe(d));return v.is0()?void 0:v}toAffine(b){return D(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return s===Ia?!0:b?b(W,this):Z.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return s===Ia?this:b?b(W,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(b=!0){return Is(b,"isCompressed"),this.assertValidity(),m(W,this,b)}toHex(b=!0){return vs(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return ls(W,b)}static msm(b,c){return dE(W,i,b,c)}static fromPrivateKey(b){return W.BASE.multiply(ha(i,b))}}W.BASE=new W(o.Gx,o.Gy,r.ONE),W.ZERO=new W(r.ZERO,r.ONE,r.ZERO),W.Fp=r,W.Fn=i;const Y=i.BITS,Z=new uE(W,e.endo?Math.ceil(Y/2):Y);return W.BASE.precompute(8),W}function sb(t){return Uint8Array.of(t?2:3)}function ab(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function yN(t,e={}){const{Fn:n}=t,r=e.randomBytes||Wy,i=Object.assign(ab(t.Fp,n),{seed:aE(n.ORDER)});function o(m){try{return!!ha(n,m)}catch{return!1}}function s(m,_){const{publicKey:T,publicKeyUncompressed:M}=i;try{const E=m.length;return _===!0&&E!==T||_===!1&&E!==M?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(i.seed)){return uT(zr(m,i.seed,"seed"),n.ORDER)}function l(m,_=!0){return t.BASE.multiply(ha(n,m)).toBytes(_)}function u(m){const _=a(m);return{secretKey:_,publicKey:l(_)}}function f(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:_,publicKey:T,publicKeyUncompressed:M}=i;if(n.allowedLengths||_===T)return;const E=Ot("key",m).length;return E===T||E===M}function g(m,_,T=!0){if(f(m)===!0)throw new Error("first arg must be private key");if(f(_)===!1)throw new Error("second arg must be public key");const M=ha(n,m);return t.fromHex(_).multiply(M).toBytes(T)}return Object.freeze({getPublicKey:l,getSharedSecret:g,keygen:u,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:m=>ha(n,m),precompute(m=8,_=t.BASE){return _.precompute(m,!1)}},lengths:i})}function mN(t,e,n={}){WS(e),Mc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Wy,i=n.hmac||((c,...d)=>ib(e,c,ei(...d))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s,{keygen:u,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m}=yN(t,n),_={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},T="compact";function M(c){const d=a>>Ia;return c>d}function E(c,d){if(!s.isValidNot0(d))throw new Error(`invalid signature ${c}: out of range 1..Point.Fn.ORDER`);return d}function A(c,d){L0(d);const v=m.signature,k=d==="compact"?v:d==="recovered"?v+1:void 0;return zr(c,k,`${d} signature`)}class S{constructor(d,v,k){this.r=E("r",d),this.s=E("s",v),k!=null&&(this.recovery=k),Object.freeze(this)}static fromBytes(d,v=T){A(d,v);let k;if(v==="der"){const{r:N,s:p}=Ai.toSig(zr(d));return new S(N,p)}v==="recovered"&&(k=d[0],v="compact",d=d.subarray(1));const I=s.BYTES,x=d.subarray(0,I),B=d.subarray(I,I*2);return new S(s.fromBytes(x),s.fromBytes(B),k)}static fromHex(d,v){return this.fromBytes(jd(d),v)}addRecoveryBit(d){return new S(this.r,this.s,d)}recoverPublicKey(d){const v=o.ORDER,{r:k,s:I,recovery:x}=this;if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");if(a*ob<v&&x>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=x===2||x===3?k+a:k;if(!o.isValid(N))throw new Error("recovery id 2 or 3 invalid");const p=o.toBytes(N),L=t.fromBytes(ei(sb((x&1)===0),p)),oe=s.inv(N),ie=P(Ot("msgHash",d)),ae=s.create(-ie*oe),Re=s.create(I*oe),Ae=t.BASE.multiplyUnsafe(ae).add(L.multiplyUnsafe(Re));if(Ae.is0())throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return M(this.s)}toBytes(d=T){if(L0(d),d==="der")return jd(Ai.hexFromSig(this));const v=s.toBytes(this.r),k=s.toBytes(this.s);if(d==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return ei(Uint8Array.of(this.recovery),v,k)}return ei(v,k)}toHex(d){return vs(this.toBytes(d))}assertValidity(){}static fromCompact(d){return S.fromBytes(Ot("sig",d),"compact")}static fromDER(d){return S.fromBytes(Ot("sig",d),"der")}normalizeS(){return this.hasHighS()?new S(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return vs(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return vs(this.toBytes("compact"))}}const C=n.bits2int||function(d){if(d.length>8192)throw new Error("input is too large");const v=Tf(d),k=d.length*8-l;return k>0?v>>BigInt(k):v},P=n.bits2int_modN||function(d){return s.create(C(d))},D=Tc(l);function j(c){return x0("num < 2^"+l,c,Oi,D),s.toBytes(c)}function H(c,d){return zr(c,void 0,"message"),d?zr(e(c),void 0,"prehashed message"):c}function W(c,d,v){if(["recovered","canonical"].some(ae=>ae in v))throw new Error("sign() legacy options not supported");const{lowS:k,prehash:I,extraEntropy:x}=pp(v,_);c=H(c,I);const B=P(c),N=ha(s,d),p=[j(N),j(B)];if(x!=null&&x!==!1){const ae=x===!0?r(m.secretKey):x;p.push(Ot("extraEntropy",ae))}const L=ei(...p),oe=B;function ie(ae){const Re=C(ae);if(!s.isValidNot0(Re))return;const Ae=s.inv(Re),Ee=t.BASE.multiply(Re).toAffine(),St=s.create(Ee.x);if(St===Oi)return;const tt=s.create(Ae*s.create(oe+St*N));if(tt===Oi)return;let nt=(Ee.x===St?0:2)|Number(Ee.y&Ia),Q=tt;return k&&M(tt)&&(Q=s.neg(tt),nt^=1),new S(St,Q,nt)}return{seed:L,k2sig:ie}}function Y(c,d,v={}){c=Ot("message",c);const{seed:k,k2sig:I}=W(c,d,v);return eT(e.outputLen,s.BYTES,i)(k,I)}function Z(c){let d;const v=typeof c=="string"||Rc(c),k=!v&&c!==null&&typeof c=="object"&&typeof c.r=="bigint"&&typeof c.s=="bigint";if(!v&&!k)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(k)d=new S(c.r,c.s);else if(v){try{d=S.fromBytes(Ot("sig",c),"der")}catch(I){if(!(I instanceof Ai.Err))throw I}if(!d)try{d=S.fromBytes(Ot("sig",c),"compact")}catch{return!1}}return d||!1}function V(c,d,v,k={}){const{lowS:I,prehash:x,format:B}=pp(k,_);if(v=Ot("publicKey",v),d=H(Ot("message",d),x),"strict"in k)throw new Error("options.strict was renamed to lowS");const N=B===void 0?Z(c):S.fromBytes(Ot("sig",c),B);if(N===!1)return!1;try{const p=t.fromBytes(v);if(I&&N.hasHighS())return!1;const{r:L,s:oe}=N,ie=P(d),ae=s.inv(oe),Re=s.create(ie*ae),Ae=s.create(L*ae),Ee=t.BASE.multiplyUnsafe(Re).add(p.multiplyUnsafe(Ae));return Ee.is0()?!1:s.create(Ee.x)===L}catch{return!1}}function b(c,d,v={}){const{prehash:k}=pp(v,_);return d=H(d,k),S.fromBytes(c,"recovered").recoverPublicKey(d).toBytes()}return Object.freeze({keygen:u,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m,Point:t,sign:Y,verify:V,recoverPublicKey:b,Signature:S,hash:e})}function wN(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=Os(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function vN(t){const{CURVE:e,curveOpts:n}=wN(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function _N(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,oE(n.Fn.ORDER,n.Fn.BITS))})}function SN(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=vN(t),o=gN(e,n),s=mN(o,r,i);return _N(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function EN(t,e){const n=r=>SN({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const om={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},bN={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},R1=BigInt(2);function AN(t){const e=om.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,f=u*u*t%e,g=xt(f,n,e)*f%e,w=xt(g,n,e)*f%e,m=xt(w,R1,e)*u%e,_=xt(m,i,e)*m%e,T=xt(_,o,e)*_%e,M=xt(T,a,e)*T%e,E=xt(M,l,e)*M%e,A=xt(E,a,e)*T%e,S=xt(A,n,e)*f%e,C=xt(S,s,e)*_%e,P=xt(C,r,e)*u%e,D=xt(P,R1,e);if(!B0.eql(B0.sqr(D),t))throw new Error("Cannot find square root");return D}const B0=Os(om.p,{sqrt:AN}),sm=EN({...om,Fp:B0,lowS:!0,endo:bN},GS),IN=Ja.utils.randomPrivateKey,T1=()=>{const t=Ja.utils.randomPrivateKey(),e=Zd(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Zd=Ja.getPublicKey;function M1(t){try{return Ja.ExtendedPoint.fromHex(t),!0}catch{return!1}}const am=(t,e)=>Ja.sign(t,e.slice(0,32)),kN=Ja.verify,Be=t=>de.Buffer.isBuffer(t)?t:t instanceof Uint8Array?de.Buffer.from(t.buffer,t.byteOffset,t.byteLength):de.Buffer.from(t);let lm=class{constructor(e){Object.assign(this,e)}encode(){return de.Buffer.from(SE(Kl,this))}static decode(e){return EE(Kl,this,e)}static decodeUnchecked(e){return yE(Kl,this,e)}};class RN extends lm{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Kl=new Map;var lb;const cb=32,li=32;function TN(t){return t._bn!==void 0}let N1=1;class X extends lm{constructor(e){if(super({}),this._bn=void 0,TN(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Lt.decode(e);if(n.length!=li)throw new Error("Invalid public key input");this._bn=new lr(n)}else this._bn=new lr(e);if(this._bn.byteLength()>li)throw new Error("Invalid public key input")}}static unique(){const e=new X(N1);return N1+=1,new X(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Lt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(de.Buffer);if(e.length===li)return e;const n=de.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=de.Buffer.concat([e.toBuffer(),de.Buffer.from(n),r.toBuffer()]),o=Hd(i);return new X(o)}static createProgramAddressSync(e,n){let r=de.Buffer.alloc(0);e.forEach(function(o){if(o.length>cb)throw new TypeError("Max seed length exceeded");r=de.Buffer.concat([r,Be(o)])}),r=de.Buffer.concat([r,n.toBuffer(),de.Buffer.from("ProgramDerivedAddress")]);const i=Hd(r);if(M1(i))throw new Error("Invalid seeds, address must fall off the curve");return new X(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(de.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new X(e);return M1(n.toBytes())}}lb=X;X.default=new lb("11111111111111111111111111111111");Kl.set(X,{kind:"struct",fields:[["_bn","u256"]]});class MN{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Be(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Be(IN()),this._publicKey=Be(Zd(this._secretKey))}get publicKey(){return new X(this._publicKey)}get secretKey(){return de.Buffer.concat([this._secretKey,this._publicKey],64)}}const NN=new X("BPFLoader1111111111111111111111111111111111"),Ao=1232,Bf=127,yc=64;class cm extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(cm.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class um extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(um.prototype,"name",{value:"TransactionExpiredTimeoutError"});class pa extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(pa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class mc{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const je=(t="publicKey")=>vt(32,t),xN=(t="signature")=>vt(64,t),cs=(t="string")=>{const e=ye([ge("length"),ge("lengthPadding"),vt(bo(ge(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:de.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>ge().span+ge().span+de.Buffer.from(o,"utf8").length,i},ON=(t="authorized")=>ye([je("staker"),je("withdrawer")],t),CN=(t="lockup")=>ye([dr("unixTimestamp"),dr("epoch"),je("custodian")],t),LN=(t="voteInit")=>ye([je("nodePubkey"),je("authorizedVoter"),je("authorizedWithdrawer"),$e("commission")],t),BN=(t="voteAuthorizeWithSeedArgs")=>ye([ge("voteAuthorizationType"),je("currentAuthorityDerivedKeyOwnerPubkey"),cs("currentAuthorityDerivedKeySeed"),je("newAuthorized")],t);function ub(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return ub({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Gn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function fr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Ye(t,e){if(!t)throw new Error(e||"Assertion failed")}class Pf{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Pf(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ye(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Ye(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Ye(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new X(l)),...r.map(([l])=>new X(l)),...i.map(([l])=>new X(l)),...o.map(([l])=>new X(l))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new X(o),l=e.findIndex(u=>u.equals(a));l>=0&&(Ye(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const db="Reached end of buffer unexpectedly";function ti(t){if(t.length===0)throw new Error(db);return t.shift()}function Yn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(db);return t.splice(...e)}class Gr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new X(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Lt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new mc(this.staticAccountKeys)}static compile(e){const n=Pf.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new mc(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Lt.encode(a.data)}));return new Gr({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];fr(n,e);const r=this.instructions.map(g=>{const{accounts:w,programIdIndex:m}=g,_=Array.from(Lt.decode(g.data));let T=[];fr(T,w.length);let M=[];return fr(M,_.length),{programIdIndex:m,keyIndicesCount:de.Buffer.from(T),keyIndices:w,dataLength:de.Buffer.from(M),data:_}});let i=[];fr(i,r.length);let o=de.Buffer.alloc(Ao);de.Buffer.from(i).copy(o);let s=i.length;r.forEach(g=>{const m=ye([$e("programIdIndex"),vt(g.keyIndicesCount.length,"keyIndicesCount"),En($e("keyIndex"),g.keyIndices.length,"keyIndices"),vt(g.dataLength.length,"dataLength"),En($e("userdatum"),g.data.length,"data")]).encode(g,o,s);s+=m}),o=o.slice(0,s);const a=ye([vt(1,"numRequiredSignatures"),vt(1,"numReadonlySignedAccounts"),vt(1,"numReadonlyUnsignedAccounts"),vt(n.length,"keyCount"),En(je("key"),e,"keys"),je("recentBlockhash")]),l={numRequiredSignatures:de.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:de.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:de.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:de.Buffer.from(n),keys:this.accountKeys.map(g=>Be(g.toBytes())),recentBlockhash:Lt.decode(this.recentBlockhash)};let u=de.Buffer.alloc(2048);const f=a.encode(l,u);return o.copy(u,f),u.slice(0,f+o.length)}static from(e){let n=[...e];const r=ti(n);if(r!==(r&Bf))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ti(n),o=ti(n),s=Gn(n);let a=[];for(let w=0;w<s;w++){const m=Yn(n,0,li);a.push(new X(de.Buffer.from(m)))}const l=Yn(n,0,li),u=Gn(n);let f=[];for(let w=0;w<u;w++){const m=ti(n),_=Gn(n),T=Yn(n,0,_),M=Gn(n),E=Yn(n,0,M),A=Lt.encode(de.Buffer.from(E));f.push({programIdIndex:m,accounts:T,data:A})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Lt.encode(de.Buffer.from(l)),accountKeys:a,instructions:f};return new Gr(g)}}class ks{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new mc(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Pf.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const f of o){const g=n.extractTableLookup(f);if(g!==void 0){const[w,{writable:m,readonly:_}]=g;r.push(w),i.writable.push(...m),i.readonly.push(..._)}}const[s,a]=n.getMessageComponents(),u=new mc(a,i).compileInstructions(e.instructions);return new ks({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();fr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();fr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();fr(o,this.addressTableLookups.length);const s=ye([$e("prefix"),ye([$e("numRequiredSignatures"),$e("numReadonlySignedAccounts"),$e("numReadonlyUnsignedAccounts")],"header"),vt(e.length,"staticAccountKeysLength"),En(je(),this.staticAccountKeys.length,"staticAccountKeys"),je("recentBlockhash"),vt(r.length,"instructionsLength"),vt(n.length,"serializedInstructions"),vt(o.length,"addressTableLookupsLength"),vt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ao),u=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:Lt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const n=new Uint8Array(Ao);for(const r of this.compiledInstructions){const i=Array();fr(i,r.accountKeyIndexes.length);const o=Array();fr(o,r.data.length);const s=ye([$e("programIdIndex"),vt(i.length,"encodedAccountKeyIndexesLength"),En($e(),r.accountKeyIndexes.length,"accountKeyIndexes"),vt(o.length,"encodedDataLength"),vt(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Ao);for(const r of this.addressTableLookups){const i=Array();fr(i,r.writableIndexes.length);const o=Array();fr(o,r.readonlyIndexes.length);const s=ye([je("accountKey"),vt(i.length,"encodedWritableIndexesLength"),En($e(),r.writableIndexes.length,"writableIndexes"),vt(o.length,"encodedReadonlyIndexesLength"),En($e(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=ti(n),i=r&Bf;Ye(r!==i,"Expected versioned message but received legacy message");const o=i;Ye(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:ti(n),numReadonlySignedAccounts:ti(n),numReadonlyUnsignedAccounts:ti(n)},a=[],l=Gn(n);for(let _=0;_<l;_++)a.push(new X(Yn(n,0,li)));const u=Lt.encode(Yn(n,0,li)),f=Gn(n),g=[];for(let _=0;_<f;_++){const T=ti(n),M=Gn(n),E=Yn(n,0,M),A=Gn(n),S=new Uint8Array(Yn(n,0,A));g.push({programIdIndex:T,accountKeyIndexes:E,data:S})}const w=Gn(n),m=[];for(let _=0;_<w;_++){const T=new X(Yn(n,0,li)),M=Gn(n),E=Yn(n,0,M),A=Gn(n),S=Yn(n,0,A);m.push({accountKey:T,writableIndexes:E,readonlyIndexes:S})}return new ks({header:s,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:g,addressTableLookups:m})}}const dm={deserializeMessageVersion(t){const e=t[0],n=e&Bf;return n===e?"legacy":n},deserialize:t=>{const e=dm.deserializeMessageVersion(t);if(e==="legacy")return Gr.from(t);if(e===0)return ks.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let _i=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const PN=de.Buffer.alloc(yc).fill(0);class et{constructor(e){this.keys=void 0,this.programId=void 0,this.data=de.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Pe{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new et(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<n.length;T++)if(n[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const i=[],o=[];n.forEach(T=>{T.keys.forEach(E=>{o.push({...E})});const M=T.programId.toString();i.includes(M)||i.push(M)}),i.forEach(T=>{o.push({pubkey:new X(T),isSigner:!1,isWritable:!1})});const s=[];o.forEach(T=>{const M=T.pubkey.toString(),E=s.findIndex(A=>A.pubkey.toString()===M);E>-1?(s[E].isWritable=s[E].isWritable||T.isWritable,s[E].isSigner=s[E].isSigner||T.isSigner):s.push(T)}),s.sort(function(T,M){if(T.isSigner!==M.isSigner)return T.isSigner?-1:1;if(T.isWritable!==M.isWritable)return T.isWritable?-1:1;const E={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return T.pubkey.toBase58().localeCompare(M.pubkey.toBase58(),"en",E)});const a=s.findIndex(T=>T.pubkey.equals(r));if(a>-1){const[T]=s.splice(a,1);T.isSigner=!0,T.isWritable=!0,s.unshift(T)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const T of this.signatures){const M=s.findIndex(E=>E.pubkey.equals(T.publicKey));if(M>-1)s[M].isSigner||(s[M].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let l=0,u=0,f=0;const g=[],w=[];s.forEach(({pubkey:T,isSigner:M,isWritable:E})=>{M?(g.push(T.toString()),l+=1,E||(u+=1)):(w.push(T.toString()),E||(f+=1))});const m=g.concat(w),_=n.map(T=>{const{data:M,programId:E}=T;return{programIdIndex:m.indexOf(E.toString()),accounts:T.keys.map(A=>m.indexOf(A.pubkey.toString())),data:Lt.encode(M)}});return _.forEach(T=>{Ye(T.programIdIndex>=0),T.accounts.forEach(M=>Ye(M>=0))}),new Gr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:f},accountKeys:m,recentBlockhash:e,instructions:_})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=am(r,i.secretKey);this._addSignature(i.publicKey,Be(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Ye(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=de.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):kN(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];fr(r,n.length);const i=r.length+n.length*64+e.length,o=de.Buffer.alloc(i);return Ye(n.length<256),de.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Ye(s.length===64,"signature has invalid length"),de.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),Ye(o.length<=Ao,`Transaction too large: ${o.length} > ${Ao}`),o}get keys(){return Ye(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ye(this.instructions.length===1),this.instructions[0].programId}get data(){return Ye(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Gn(n);let i=[];for(let o=0;o<r;o++){const s=Yn(n,0,yc);i.push(Lt.encode(de.Buffer.from(s)))}return Pe.populate(Gr.from(n),i)}static populate(e,n=[]){const r=new Pe;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==Lt.encode(PN)?null:Lt.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new et({keys:o,programId:e.accountKeys[i.programIdIndex],data:Lt.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class fm{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,u=s-a;Ye(u>0,"Message header is invalid");const f=e.staticAccountKeys.length-s-l;Ye(f>=0,"Message header is invalid");const g=e.getAccountKeys(n),w=g.get(0);if(w===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const _ of i){const T=[];for(const E of _.accountKeyIndexes){const A=g.get(E);if(A===void 0)throw new Error(`Failed to find key for account key index ${E}`);const S=E<s;let C;S?C=E<u:E<g.staticAccountKeys.length?C=E-s<f:C=E-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,T.push({pubkey:A,isSigner:E<r.numRequiredSignatures,isWritable:C})}const M=g.get(_.programIdIndex);if(M===void 0)throw new Error(`Failed to find program id for program id index ${_.programIdIndex}`);m.push(new et({programId:M,data:Be(_.data),keys:T}))}return new fm({payerKey:w,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Gr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ks.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class wc{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Ye(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(yc));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();fr(n,this.signatures.length);const r=ye([vt(n.length,"encodedSignaturesLength"),En(xN(),this.signatures.length,"signatures"),vt(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let n=[...e];const r=[],i=Gn(n);for(let s=0;s<i;s++)r.push(new Uint8Array(Yn(n,0,yc)));const o=dm.deserialize(new Uint8Array(n));return new wc(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));Ye(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=am(n,i.secretKey)}}addSignature(e,n){Ye(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Ye(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const DN=160,UN=64,zN=DN/UN,fb=1e3/zN,Qr=new X("SysvarC1ock11111111111111111111111111111111"),jN=new X("SysvarEpochSchedu1e111111111111111111111111"),WN=new X("Sysvar1nstructions1111111111111111111111111"),Ou=new X("SysvarRecentB1ockHashes11111111111111111111"),Fa=new X("SysvarRent111111111111111111111111111111111"),FN=new X("SysvarRewards111111111111111111111111111111"),HN=new X("SysvarS1otHashes111111111111111111111111111"),KN=new X("SysvarS1otHistory11111111111111111111111111"),Cu=new X("SysvarStakeHistory1111111111111111111111111");class Mo extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const $N={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class we extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function P0(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw o!=null?new Mo({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function ts(t){return new Promise(e=>setTimeout(e,t))}function Ke(t,e){const n=t.layout.span>=0?t.layout.span:ub(t,e),r=de.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function Je(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const hb=wn("lamportsPerSignature"),pb=ye([ge("version"),ge("state"),je("authorizedPubkey"),je("nonce"),ye([hb],"feeCalculator")]),D0=pb.span;class Df{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=pb.decode(Be(e),0);return new Df({authorizedPubkey:new X(n.authorizedPubkey),nonce:new X(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Ha(t){const e=vt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=wM();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const u=o.encode(s);return r(u,a,l)},i}class VN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ge("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(pt))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=Je(pt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new X(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=Je(pt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=Je(pt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new X(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=Je(pt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:o}=Je(pt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new X(n),seed:r,space:i,programId:new X(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=Je(pt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new X(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=Je(pt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new X(n),seed:r,programId:new X(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:o,programId:s}=Je(pt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new X(n),seed:r,lamports:i,space:o,programId:new X(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=Je(pt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new X(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Je(pt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=Je(pt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=Je(pt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new X(n)}}static checkProgramId(e){if(!e.equals(bt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const pt=Object.freeze({Create:{index:0,layout:ye([ge("instruction"),dr("lamports"),dr("space"),je("programId")])},Assign:{index:1,layout:ye([ge("instruction"),je("programId")])},Transfer:{index:2,layout:ye([ge("instruction"),Ha("lamports")])},CreateWithSeed:{index:3,layout:ye([ge("instruction"),je("base"),cs("seed"),dr("lamports"),dr("space"),je("programId")])},AdvanceNonceAccount:{index:4,layout:ye([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:ye([ge("instruction"),dr("lamports")])},InitializeNonceAccount:{index:6,layout:ye([ge("instruction"),je("authorized")])},AuthorizeNonceAccount:{index:7,layout:ye([ge("instruction"),je("authorized")])},Allocate:{index:8,layout:ye([ge("instruction"),dr("space")])},AllocateWithSeed:{index:9,layout:ye([ge("instruction"),je("base"),cs("seed"),dr("space"),je("programId")])},AssignWithSeed:{index:10,layout:ye([ge("instruction"),je("base"),cs("seed"),je("programId")])},TransferWithSeed:{index:11,layout:ye([ge("instruction"),Ha("lamports"),cs("seed"),je("programId")])},UpgradeNonceAccount:{index:12,layout:ye([ge("instruction")])}});class bt{constructor(){}static createAccount(e){const n=pt.Create,r=Ke(n,{lamports:e.lamports,space:e.space,programId:Be(e.programId.toBuffer())});return new et({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=pt.TransferWithSeed;n=Ke(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Be(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=pt.Transfer;n=Ke(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new et({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=pt.AssignWithSeed;n=Ke(i,{base:Be(e.basePubkey.toBuffer()),seed:e.seed,programId:Be(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pt.Assign;n=Ke(i,{programId:Be(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new et({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=pt.CreateWithSeed,r=Ke(n,{base:Be(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Be(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new et({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Pe;"basePubkey"in e&&"seed"in e?n.add(bt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:D0,programId:this.programId})):n.add(bt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:D0,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=pt.InitializeNonceAccount,r=Ke(n,{authorized:Be(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ou,isSigner:!1,isWritable:!1},{pubkey:Fa,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new et(i)}static nonceAdvance(e){const n=pt.AdvanceNonceAccount,r=Ke(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ou,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new et(i)}static nonceWithdraw(e){const n=pt.WithdrawNonceAccount,r=Ke(n,{lamports:e.lamports});return new et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ou,isSigner:!1,isWritable:!1},{pubkey:Fa,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=pt.AuthorizeNonceAccount,r=Ke(n,{authorized:Be(e.newAuthorizedPubkey.toBuffer())});return new et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=pt.AllocateWithSeed;n=Ke(i,{base:Be(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Be(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pt.Allocate;n=Ke(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new et({keys:r,programId:this.programId,data:n})}}bt.programId=new X("11111111111111111111111111111111");const GN=Ao-300;class Rs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Rs.chunkSize)+1+1)}static async load(e,n,r,i,o){{const g=await e.getMinimumBalanceForRentExemption(o.length),w=await e.getAccountInfo(r.publicKey,"confirmed");let m=null;if(w!==null){if(w.executable)return console.error("Program load failed, account is already executable"),!1;w.data.length!==o.length&&(m=m||new Pe,m.add(bt.allocate({accountPubkey:r.publicKey,space:o.length}))),w.owner.equals(i)||(m=m||new Pe,m.add(bt.assign({accountPubkey:r.publicKey,programId:i}))),w.lamports<g&&(m=m||new Pe,m.add(bt.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:g-w.lamports})))}else m=new Pe().add(bt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:g>0?g:1,space:o.length,programId:i}));m!==null&&await P0(e,m,[n,r],{commitment:"confirmed"})}const s=ye([ge("instruction"),ge("offset"),ge("bytesLength"),ge("bytesLengthPadding"),En($e("byte"),bo(ge(),-8),"bytes")]),a=Rs.chunkSize;let l=0,u=o,f=[];for(;u.length>0;){const g=u.slice(0,a),w=de.Buffer.alloc(a+16);s.encode({instruction:0,offset:l,bytes:g,bytesLength:0,bytesLengthPadding:0},w);const m=new Pe().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:w});f.push(P0(e,m,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await ts(1e3/4),l+=a,u=u.slice(a)}await Promise.all(f);{const g=ye([ge("instruction")]),w=de.Buffer.alloc(g.span);g.encode({instruction:1},w);const m=new Pe().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Fa,isSigner:!1,isWritable:!1}],programId:i,data:w}),_="processed",T=await e.sendTransaction(m,[n,r],{preflightCommitment:_}),{context:M,value:E}=await e.confirmTransaction({signature:T,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},_);if(E.err)throw new Error(`Transaction ${T} failed (${JSON.stringify(E)})`);for(;;){try{if(await e.getSlot({commitment:_})>M.slot)break}catch{}await new Promise(A=>setTimeout(A,Math.round(fb/2)))}}return!0}}Rs.chunkSize=GN;const YN=new X("BPFLoader2111111111111111111111111111111111");class qN{static getMinNumSignatures(e){return Rs.getMinNumSignatures(e)}static load(e,n,r,i,o){return Rs.load(e,n,r,o,i)}}function ZN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gp,x1;function QN(){if(x1)return gp;x1=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,u,f,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(g=t.call(r),g==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(g==="[object Object]"){for(l=e(r).sort(),s=l.length,a="",o=0;o<s;)u=l[o],f=n(r[u],!1),f!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+f),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return gp=function(r){var i=n(r,!1);if(i!==void 0)return""+i},gp}var XN=QN(),O1=ZN(XN);const ml=32;function yp(t){let e=0;for(;t>1;)t/=2,e++;return e}function JN(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class gb{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=yp(JN(e+ml+1))-yp(ml)-1,r=this.getSlotsInEpoch(n),i=e-(r-ml);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*ml:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+yp(ml)):this.slotsPerEpoch}}var ex=globalThis.fetch;class tx extends nN{constructor(e,n,r){const i=o=>{const s=eN(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function nx(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const C1=56;class U0{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=nx(rx,e),r=e.length-C1;Ye(r>=0,"lookup table is invalid"),Ye(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=ye([En(je(),i,"addresses")]).decode(e.slice(C1));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new X(n.authority[0]):void 0,addresses:o.map(s=>new X(s))}}}const rx={index:1,layout:ye([ge("typeIndex"),Ha("deactivationSlot"),wn("lastExtendedSlot"),$e("lastExtendedStartIndex"),$e(),En(je(),bo($e(),-1),"authority")])},ix=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ox(t){const e=t.match(ix);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Nt=Oc(nm(X),se(),t=>new X(t)),yb=rm([se(),Rt("base64")]),hm=Oc(nm(de.Buffer),yb,t=>de.Buffer.from(t[0],"base64")),mb=30*1e3;function sx(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ht(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function L1(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function wb(t){return Hn([J({jsonrpc:Rt("2.0"),id:se(),result:t}),J({jsonrpc:Rt("2.0"),id:se(),error:J({code:nl(),message:se(),data:Se(AM())})})])}const ax=wb(nl());function Le(t){return Oc(wb(t),ax,e=>"error"in e?e:{...e,result:le(e.result,t)})}function Pt(t){return Le(J({context:J({slot:K()}),value:t}))}function Uf(t){return J({context:J({slot:K()}),value:t})}function mp(t,e){return t===0?new ks({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new X(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Lt.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Gr(e)}const lx=J({foundation:K(),foundationTerm:K(),initial:K(),taper:K(),terminal:K()}),cx=Le(ce(ue(J({epoch:K(),effectiveSlot:K(),amount:K(),postBalance:K(),commission:Se(ue(K()))})))),ux=ce(J({slot:K(),prioritizationFee:K()})),dx=J({total:K(),validator:K(),foundation:K(),epoch:K()}),fx=J({epoch:K(),slotIndex:K(),slotsInEpoch:K(),absoluteSlot:K(),blockHeight:Se(K()),transactionCount:Se(K())}),hx=J({slotsPerEpoch:K(),leaderScheduleSlotOffset:K(),warmup:ci(),firstNormalEpoch:K(),firstNormalSlot:K()}),px=$E(se(),ce(K())),Bs=ue(Hn([J({}),se()])),gx=J({err:Bs}),yx=Rt("receivedSignature"),mx=J({"solana-core":se(),"feature-set":Se(K())}),wx=J({program:se(),programId:Nt,parsed:nl()}),vx=J({programId:Nt,accounts:ce(Nt),data:se()}),B1=Pt(J({err:ue(Hn([J({}),se()])),logs:ue(ce(se())),accounts:Se(ue(ce(ue(J({executable:ci(),owner:se(),lamports:K(),data:ce(se()),rentEpoch:Se(K())}))))),unitsConsumed:Se(K()),returnData:Se(ue(J({programId:se(),data:rm([se(),Rt("base64")])}))),innerInstructions:Se(ue(ce(J({index:K(),instructions:ce(Hn([wx,vx]))}))))})),_x=Pt(J({byIdentity:$E(se(),ce(K())),range:J({firstSlot:K(),lastSlot:K()})}));function Sx(t,e,n,r,i,o){const s=n||ex;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(f,g)=>{const w=await new Promise((m,_)=>{try{r(f,g,(T,M)=>m([T,M]))}catch(T){_(T)}});return await s(...w)}),new QM(async(f,g)=>{const w={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},SO)};try{let m=5,_,T=500;for(;l?_=await l(t,w):_=await s(t,w),!(_.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${_.status} ${_.statusText}.  Retrying after ${T}ms delay...`),await ts(T),T*=2;const M=await _.text();_.ok?g(null,M):g(new Error(`${_.status} ${_.statusText}: ${M}`))}catch(m){m instanceof Error&&g(m)}},{})}function Ex(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function bx(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const Ax=Le(lx),Ix=Le(dx),kx=Le(ux),Rx=Le(fx),Tx=Le(hx),Mx=Le(px),Nx=Le(K()),xx=Pt(J({total:K(),circulating:K(),nonCirculating:K(),nonCirculatingAccounts:ce(Nt)})),z0=J({amount:se(),uiAmount:ue(K()),decimals:K(),uiAmountString:Se(se())}),Ox=Pt(ce(J({address:Nt,amount:se(),uiAmount:ue(K()),decimals:K(),uiAmountString:Se(se())}))),Cx=Pt(ce(J({pubkey:Nt,account:J({executable:ci(),owner:Nt,lamports:K(),data:hm,rentEpoch:K()})}))),j0=J({program:se(),parsed:nl(),space:K()}),Lx=Pt(ce(J({pubkey:Nt,account:J({executable:ci(),owner:Nt,lamports:K(),data:j0,rentEpoch:K()})}))),Bx=Pt(ce(J({lamports:K(),address:Nt}))),vc=J({executable:ci(),owner:Nt,lamports:K(),data:hm,rentEpoch:K()}),Px=J({pubkey:Nt,account:vc}),Dx=Oc(Hn([nm(de.Buffer),j0]),Hn([yb,j0]),t=>Array.isArray(t)?le(t,hm):t),W0=J({executable:ci(),owner:Nt,lamports:K(),data:Dx,rentEpoch:K()}),Ux=J({pubkey:Nt,account:W0}),zx=J({state:Hn([Rt("active"),Rt("inactive"),Rt("activating"),Rt("deactivating")]),active:K(),inactive:K()}),jx=Le(ce(J({signature:se(),slot:K(),err:Bs,memo:ue(se()),blockTime:Se(ue(K()))}))),Wx=Le(ce(J({signature:se(),slot:K(),err:Bs,memo:ue(se()),blockTime:Se(ue(K()))}))),Fx=J({subscription:K(),result:Uf(vc)}),Hx=J({pubkey:Nt,account:vc}),Kx=J({subscription:K(),result:Uf(Hx)}),$x=J({parent:K(),slot:K(),root:K()}),Vx=J({subscription:K(),result:$x}),Gx=Hn([J({type:Hn([Rt("firstShredReceived"),Rt("completed"),Rt("optimisticConfirmation"),Rt("root")]),slot:K(),timestamp:K()}),J({type:Rt("createdBank"),parent:K(),slot:K(),timestamp:K()}),J({type:Rt("frozen"),slot:K(),timestamp:K(),stats:J({numTransactionEntries:K(),numSuccessfulTransactions:K(),numFailedTransactions:K(),maxTransactionsPerEntry:K()})}),J({type:Rt("dead"),slot:K(),timestamp:K(),err:se()})]),Yx=J({subscription:K(),result:Gx}),qx=J({subscription:K(),result:Uf(Hn([gx,yx]))}),Zx=J({subscription:K(),result:K()}),Qx=J({pubkey:se(),gossip:ue(se()),tpu:ue(se()),rpc:ue(se()),version:ue(se())}),P1=J({votePubkey:se(),nodePubkey:se(),activatedStake:K(),epochVoteAccount:ci(),epochCredits:ce(rm([K(),K(),K()])),commission:K(),lastVote:K(),rootSlot:ue(K())}),Xx=Le(J({current:ce(P1),delinquent:ce(P1)})),Jx=Hn([Rt("processed"),Rt("confirmed"),Rt("finalized")]),eO=J({slot:K(),confirmations:ue(K()),err:Bs,confirmationStatus:Se(Jx)}),tO=Pt(ce(ue(eO))),nO=Le(K()),vb=J({accountKey:Nt,writableIndexes:ce(K()),readonlyIndexes:ce(K())}),pm=J({signatures:ce(se()),message:J({accountKeys:ce(se()),header:J({numRequiredSignatures:K(),numReadonlySignedAccounts:K(),numReadonlyUnsignedAccounts:K()}),instructions:ce(J({accounts:ce(K()),data:se(),programIdIndex:K()})),recentBlockhash:se(),addressTableLookups:Se(ce(vb))})}),_b=J({pubkey:Nt,signer:ci(),writable:ci(),source:Se(Hn([Rt("transaction"),Rt("lookupTable")]))}),Sb=J({accountKeys:ce(_b),signatures:ce(se())}),Eb=J({parsed:nl(),program:se(),programId:Nt}),bb=J({accounts:ce(Nt),data:se(),programId:Nt}),rO=Hn([bb,Eb]),iO=Hn([J({parsed:nl(),program:se(),programId:se()}),J({accounts:ce(se()),data:se(),programId:se()})]),Ab=Oc(rO,iO,t=>"accounts"in t?le(t,bb):le(t,Eb)),Ib=J({signatures:ce(se()),message:J({accountKeys:ce(_b),instructions:ce(Ab),recentBlockhash:se(),addressTableLookups:Se(ue(ce(vb)))})}),Qd=J({accountIndex:K(),mint:se(),owner:Se(se()),programId:Se(se()),uiTokenAmount:z0}),kb=J({writable:ce(Nt),readonly:ce(Nt)}),zf=J({err:Bs,fee:K(),innerInstructions:Se(ue(ce(J({index:K(),instructions:ce(J({accounts:ce(K()),data:se(),programIdIndex:K()}))})))),preBalances:ce(K()),postBalances:ce(K()),logMessages:Se(ue(ce(se()))),preTokenBalances:Se(ue(ce(Qd))),postTokenBalances:Se(ue(ce(Qd))),loadedAddresses:Se(kb),computeUnitsConsumed:Se(K()),costUnits:Se(K())}),gm=J({err:Bs,fee:K(),innerInstructions:Se(ue(ce(J({index:K(),instructions:ce(Ab)})))),preBalances:ce(K()),postBalances:ce(K()),logMessages:Se(ue(ce(se()))),preTokenBalances:Se(ue(ce(Qd))),postTokenBalances:Se(ue(ce(Qd))),loadedAddresses:Se(kb),computeUnitsConsumed:Se(K()),costUnits:Se(K())}),rl=Hn([Rt(0),Rt("legacy")]),Ps=J({pubkey:se(),lamports:K(),postBalance:ue(K()),rewardType:ue(se()),commission:Se(ue(K()))}),oO=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),transactions:ce(J({transaction:pm,meta:ue(zf),version:Se(rl)})),rewards:Se(ce(Ps)),blockTime:ue(K()),blockHeight:ue(K())}))),sO=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),rewards:Se(ce(Ps)),blockTime:ue(K()),blockHeight:ue(K())}))),aO=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),transactions:ce(J({transaction:Sb,meta:ue(zf),version:Se(rl)})),rewards:Se(ce(Ps)),blockTime:ue(K()),blockHeight:ue(K())}))),lO=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),transactions:ce(J({transaction:Ib,meta:ue(gm),version:Se(rl)})),rewards:Se(ce(Ps)),blockTime:ue(K()),blockHeight:ue(K())}))),cO=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),transactions:ce(J({transaction:Sb,meta:ue(gm),version:Se(rl)})),rewards:Se(ce(Ps)),blockTime:ue(K()),blockHeight:ue(K())}))),uO=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),rewards:Se(ce(Ps)),blockTime:ue(K()),blockHeight:ue(K())}))),dO=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),transactions:ce(J({transaction:pm,meta:ue(zf)})),rewards:Se(ce(Ps)),blockTime:ue(K())}))),D1=Le(ue(J({blockhash:se(),previousBlockhash:se(),parentSlot:K(),signatures:ce(se()),blockTime:ue(K())}))),wp=Le(ue(J({slot:K(),meta:ue(zf),blockTime:Se(ue(K())),transaction:pm,version:Se(rl)}))),hu=Le(ue(J({slot:K(),transaction:Ib,meta:ue(gm),blockTime:Se(ue(K())),version:Se(rl)}))),fO=Pt(J({blockhash:se(),lastValidBlockHeight:K()})),hO=Pt(ci()),pO=J({slot:K(),numTransactions:K(),numSlots:K(),samplePeriodSecs:K()}),gO=Le(ce(pO)),yO=Pt(ue(J({feeCalculator:J({lamportsPerSignature:K()})}))),mO=Le(se()),wO=Le(se()),vO=J({err:Bs,logs:ce(se()),signature:se()}),_O=J({result:Uf(vO),subscription:K()}),SO={"solana-client":"js/1.0.0-maintenance"};class ym{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async f=>{const{commitment:g,config:w}=ht(f),m=this._buildArgs([],g,void 0,w),_=O1(m);return u[_]=u[_]??(async()=>{try{const T=await this._rpcRequest("getBlockHeight",m),M=le(T,Le(K()));if("error"in M)throw new we(M.error,"failed to get block height information");return M.result}finally{delete u[_]}})(),await u[_]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=sx(e),this._rpcWsEndpoint=r||ox(e),this._rpcClient=Sx(e,i,o,s,a,l),this._rpcRequest=Ex(this._rpcClient),this._rpcBatchRequest=bx(this._rpcClient),this._rpcWebSocket=new tx(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=le(s,Pt(K()));if("error"in a)throw new we(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=le(n,Le(ue(K())));if("error"in r)throw new we(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=le(e,Le(K()));if("error"in n)throw new we(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=le(e,Nx);if("error"in n)throw new we(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=le(r,xx);if("error"in i)throw new we(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=le(i,Pt(z0));if("error"in o)throw new we(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=le(i,Pt(z0));if("error"in o)throw new we(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=ht(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),u=le(l,Cx);if("error"in u)throw new we(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=le(s,Lx);if("error"in a)throw new we(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=le(i,Bx);if("error"in o)throw new we(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=le(i,Ox);if("error"in o)throw new we(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=le(s,Pt(ue(vc)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=le(s,Pt(ue(W0)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=ht(n),o=e.map(u=>u.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=le(a,Pt(ce(ue(W0))));if("error"in l)throw new we(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=ht(n),o=e.map(u=>u.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=le(a,Pt(ce(ue(vc))));if("error"in l)throw new we(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=ht(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=le(a,Le(zx));if("error"in l)throw new we(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=ht(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:L1(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),u=ce(Px),f=s.withContext===!0?le(l,Pt(u)):le(l,Le(u));if("error"in f)throw new we(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=le(s,Le(ce(Ux)));if("error"in a)throw new we(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Lt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ye(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((l,u)=>{try{r=this.onSignature(n,(g,w)=>{r=void 0;const m={context:w,value:g};l({__type:_i.PROCESSED,response:m})},e);const f=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,w=>{w==="subscribed"&&g()})});(async()=>{if(await f,o)return;const g=await this.getSignatureStatus(n);if(o||g==null)return;const{context:w,value:m}=g;if(m!=null)if(m!=null&&m.err)u(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:_i.PROCESSED,response:{context:w,value:m}})}})()}catch(f){u(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(g=>{const w=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await w();if(!o){for(;m<=r;)if(await ts(1e3),o||(m=await w(),o))return;g({__type:_i.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(n);let f;try{const g=await Promise.race([u,l,s]);if(g.__type===_i.PROCESSED)f=g.response;else throw new cm(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let _=o,T=null;const M=async()=>{try{const{context:E,value:A}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return T=E.slot,A==null?void 0:A.nonce}catch{return _}};(async()=>{if(_=await M(),!a)for(;;){if(o!==_){m({__type:_i.NONCE_INVALID,slotInWhichNonceDidAdvance:T});return}if(await ts(2e3),a||(_=await M(),a))return}})()}),{abortConfirmation:u,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),g=this.getCancellationPromise(n);let w;try{const m=await Promise.race([g,f,l]);if(m.__type===_i.PROCESSED)w=m.response;else{let _;for(;;){const T=await this.getSignatureStatus(s);if(T==null)break;if(T.context.slot<(m.slotInWhichNonceDidAdvance??r)){await ts(400);continue}_=T;break}if(_!=null&&_.value){const T=e||"finalized",{confirmationStatus:M}=_.value;switch(T){case"processed":case"recent":if(M!=="processed"&&M!=="confirmed"&&M!=="finalized")throw new pa(s);break;case"confirmed":case"single":case"singleGossip":if(M!=="confirmed"&&M!=="finalized")throw new pa(s);break;case"finalized":case"max":case"root":if(M!=="finalized")throw new pa(s);break;default:}w={context:_.context,value:{err:_.value.err}}}else throw new pa(s)}}finally{a=!0,u()}return w}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:_i.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===_i.PROCESSED)a=l.response;else throw new um(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=le(e,Le(ce(Qx)));if("error"in n)throw new we(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=le(r,Xx);if("error"in i)throw new we(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=ht(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=le(o,Le(K()));if("error"in s)throw new we(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=ht(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=le(o,Le(se()));if("error"in s)throw new we(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=le(i,Le(ce(Nt)));if("error"in o)throw new we(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Ye(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=le(i,tO);if("error"in o)throw new we(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=ht(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=le(o,Le(K()));if("error"in s)throw new we(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=le(r,Ax);if("error"in i)throw new we(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=ht(r),s=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=le(a,cx);if("error"in l)throw new we(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=le(e,Ix);if("error"in n)throw new we(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=ht(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=le(o,Rx);if("error"in s)throw new we(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=le(e,Tx);if("error"in n)throw new we(n.error,"failed to get epoch schedule");const r=n.result;return new gb(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=le(e,Mx);if("error"in n)throw new we(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=le(i,nO);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=le(n,gO);if("error"in r)throw new we(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=le(i,yO);if("error"in o)throw new we(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Be(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=le(o,Pt(ue(K())));if("error"in s)throw new we(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=le(i,kx);if("error"in o)throw new we(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=ht(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=le(o,fO);if("error"in s)throw new we(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=le(s,hO);if("error"in a)throw new we(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=le(e,Le(mx));if("error"in n)throw new we(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=le(e,Le(se()));if("error"in n)throw new we(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=le(s,aO);if("error"in a)throw a.error;return a.result}case"none":{const a=le(s,sO);if("error"in a)throw a.error;return a.result}default:{const a=le(s,oO);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:u,meta:f,version:g})=>({meta:f,transaction:{...u,message:mp(g,u.message)},version:g}))}:null}}}catch(a){throw new we(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=le(s,cO);if("error"in a)throw a.error;return a.result}case"none":{const a=le(s,uO);if("error"in a)throw a.error;return a.result}default:{const a=le(s,lO);if("error"in a)throw a.error;return a.result}}}catch(a){throw new we(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=le(o,_x);if("error"in s)throw new we(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=le(s,wp);if("error"in a)throw new we(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:mp(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=ht(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=le(s,hu);if("error"in a)throw new we(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=ht(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const u=le(l,hu);if("error"in u)throw new we(u.error,"failed to get transactions");return u.result})}async getTransactions(e,n){const{commitment:r,config:i}=ht(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const u=le(l,wp);if("error"in u)throw new we(u.error,"failed to get transactions");const f=u.result;return f&&{...f,transaction:{...f.transaction,message:mp(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=le(i,dO);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:u})=>{const f=new Gr(l.message);return{meta:u,transaction:{...l,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:u})=>({meta:u,transaction:Pe.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=le(o,Le(ce(K())));if("error"in s)throw new we(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=le(i,D1);if("error"in o)throw new we(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=le(i,D1);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=le(i,wp);if("error"in o)throw new we(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Gr(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Pe.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=le(i,hu);if("error"in o)throw new we(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=le(s,hu);if("error"in a)throw new we(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=le(o,jx);if("error"in s)throw new we(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=le(o,Wx);if("error"in s)throw new we(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new U0({key:e,state:U0.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=Df.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=le(r,mO);if("error"in i)throw new we(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ts(100);const r=Date.now()-this._blockhashInfo.lastFetch>=mb;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await ts(fb/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=ht(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=le(o,Pt(K()));if("error"in s)throw new we(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const T=e.serialize(),M=de.Buffer.from(T).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const E=n||{};E.encoding="base64","commitment"in E||(E.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const A=[M,E],S=await this._rpcRequest("simulateTransaction",A),C=le(S,B1);if("error"in C)throw new Error("failed to simulate transaction: "+C.error.message);return C.result}let i;if(e instanceof Pe){let _=e;i=new Pe,i.feePayer=_.feePayer,i.instructions=e.instructions,i.nonceInfo=_.nonceInfo,i.signatures=_.signatures}else i=Pe.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let _=this._disableBlockhashCaching;for(;;){const T=await this._blockhashWithExpiryBlockHeight(_);if(i.lastValidBlockHeight=T.lastValidBlockHeight,i.recentBlockhash=T.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const M=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(M)&&!this._blockhashInfo.transactionSignatures.includes(M)){this._blockhashInfo.simulatedSignatures.push(M);break}else _=!0}}const s=i._compile(),a=s.serialize(),u=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(r){const _=(Array.isArray(r)?r:s.nonProgramIds()).map(T=>T.toBase58());f.accounts={encoding:"base64",addresses:_}}o&&(f.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(f.innerInstructions=n.innerInstructions);const g=[u,f],w=await this._rpcRequest("simulateTransaction",g),m=le(w,B1);if("error"in m){let _;if("data"in m.error&&(_=m.error.data.logs,_&&Array.isArray(_))){const T=`
    `,M=T+_.join(T);console.error(m.error.message,M)}throw new Mo({action:"simulate",signature:"",transactionMessage:m.error.message,logs:_})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=Be(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),l=le(a,wO);if("error"in l){let u;throw"data"in l.error&&(u=l.error.data.logs),new Mo({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:u})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=le(e,Fx);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=O1([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];Ye(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=ht(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=le(e,Kx);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=ht(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:L1(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=le(e,_O);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=le(e,Vx);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=le(e,Yx);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=le(e,qx);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(l,u)=>{n(l,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=le(e,Zx);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ka{constructor(e){this._keypair=void 0,this._keypair=e??T1()}static generate(){return new ka(T1())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),o=Zd(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new ka({publicKey:r,secretKey:e})}static fromSeed(e){const n=Zd(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new ka({publicKey:n,secretKey:r})}get publicKey(){return new X(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ri=Object.freeze({CreateLookupTable:{index:0,layout:ye([ge("instruction"),Ha("recentSlot"),$e("bumpSeed")])},FreezeLookupTable:{index:1,layout:ye([ge("instruction")])},ExtendLookupTable:{index:2,layout:ye([ge("instruction"),Ha(),En(je(),bo(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ye([ge("instruction")])},CloseLookupTable:{index:4,layout:ye([ge("instruction")])}});class EO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ge("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Ri))if(s.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=Je(Ri.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=Je(Ri.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new X(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(mm.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class mm{constructor(){}static createLookupTable(e){const[n,r]=X.findProgramAddressSync([e.authority.toBuffer(),FE().encode(e.recentSlot)],this.programId),i=Ri.CreateLookupTable,o=Ke(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:bt.programId,isSigner:!1,isWritable:!1}];return[new et({programId:this.programId,keys:s,data:o}),n]}static freezeLookupTable(e){const n=Ri.FreezeLookupTable,r=Ke(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new et({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=Ri.ExtendLookupTable,r=Ke(n,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:bt.programId,isSigner:!1,isWritable:!1}),new et({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=Ri.DeactivateLookupTable,r=Ke(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new et({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=Ri.CloseLookupTable,r=Ke(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new et({programId:this.programId,keys:i,data:r})}}mm.programId=new X("AddressLookupTab1e1111111111111111111111111");class bO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=$e("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ni))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=Je(ni.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=Je(ni.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=Je(ni.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=Je(ni.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(wm.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ni=Object.freeze({RequestUnits:{index:0,layout:ye([$e("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:ye([$e("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:ye([$e("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:ye([$e("instruction"),Ha("microLamports")])}});class wm{constructor(){}static requestUnits(e){const n=ni.RequestUnits,r=Ke(n,e);return new et({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=ni.RequestHeapFrame,r=Ke(n,e);return new et({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=ni.SetComputeUnitLimit,r=Ke(n,e);return new et({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=ni.SetComputeUnitPrice,r=Ke(n,{microLamports:BigInt(e.microLamports)});return new et({keys:[],programId:this.programId,data:r})}}wm.programId=new X("ComputeBudget111111111111111111111111111111");const U1=64,z1=32,j1=64,W1=ye([$e("numSignatures"),$e("padding"),Ar("signatureOffset"),Ar("signatureInstructionIndex"),Ar("publicKeyOffset"),Ar("publicKeyInstructionIndex"),Ar("messageDataOffset"),Ar("messageDataSize"),Ar("messageInstructionIndex")]);class jf{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:o}=e;Ye(n.length===z1,`Public Key must be ${z1} bytes but received ${n.length} bytes`),Ye(i.length===j1,`Signature must be ${j1} bytes but received ${i.length} bytes`);const s=W1.span,a=s+n.length,l=a+i.length,u=1,f=de.Buffer.alloc(l+r.length),g=o??65535;return W1.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:s,publicKeyInstructionIndex:g,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:g},f),f.fill(n,s),f.fill(i,a),f.fill(r,l),new et({keys:[],programId:jf.programId,data:f})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;Ye(n.length===U1,`Private key must be ${U1} bytes but received ${n.length} bytes`);try{const o=ka.fromSecretKey(n),s=o.publicKey.toBytes(),a=am(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}jf.programId=new X("Ed25519SigVerify111111111111111111111111111");const AO=(t,e)=>{const n=sm.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};sm.utils.isValidPrivateKey;const IO=sm.getPublicKey,F1=32,vp=20,H1=64,kO=11,_p=ye([$e("numSignatures"),Ar("signatureOffset"),$e("signatureInstructionIndex"),Ar("ethAddressOffset"),$e("ethAddressInstructionIndex"),Ar("messageDataOffset"),Ar("messageDataSize"),$e("messageInstructionIndex"),vt(20,"ethAddress"),vt(64,"signature"),$e("recoveryId")]);class Ra{constructor(){}static publicKeyToEthAddress(e){Ye(e.length===H1,`Public key must be ${H1} bytes but received ${e.length} bytes`);try{return de.Buffer.from(I1(Be(e))).slice(-vp)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return Ra.createInstructionWithEthAddress({ethAddress:Ra.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=de.Buffer.from(n.substr(2),"hex"):a=de.Buffer.from(n,"hex"):a=n,Ye(a.length===vp,`Address must be ${vp} bytes but received ${a.length} bytes`);const l=1+kO,u=l,f=l+a.length,g=f+i.length+1,w=1,m=de.Buffer.alloc(_p.span+r.length);return _p.encode({numSignatures:w,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:u,ethAddressInstructionIndex:s,messageDataOffset:g,messageDataSize:r.length,messageInstructionIndex:s,signature:Be(i),ethAddress:Be(a),recoveryId:o},m),m.fill(Be(r),_p.span),new et({keys:[],programId:Ra.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;Ye(n.length===F1,`Private key must be ${F1} bytes but received ${n.length} bytes`);try{const o=Be(n),s=IO(o,!1).slice(1),a=de.Buffer.from(I1(Be(r))),[l,u]=AO(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:l,recoveryId:u,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Ra.programId=new X("KeccakSecp256k11111111111111111111111111111");var Rb;const Tb=new X("StakeConfig11111111111111111111111111111111");class Mb{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Cc{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}Rb=Cc;Cc.default=new Rb(0,0,X.default);class RO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ge("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(pn))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=Je(pn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Mb(new X(n.staker),new X(n.withdrawer)),lockup:new Cc(r.unixTimestamp,r.epoch,new X(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Je(pn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=Je(pn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new X(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=Je(pn.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new X(o),newAuthorizedPubkey:new X(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=Je(pn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Je(pn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=Je(pn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Je(pn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Wf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const pn=Object.freeze({Initialize:{index:0,layout:ye([ge("instruction"),ON(),CN()])},Authorize:{index:1,layout:ye([ge("instruction"),je("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:ye([ge("instruction")])},Split:{index:3,layout:ye([ge("instruction"),dr("lamports")])},Withdraw:{index:4,layout:ye([ge("instruction"),dr("lamports")])},Deactivate:{index:5,layout:ye([ge("instruction")])},Merge:{index:7,layout:ye([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:ye([ge("instruction"),je("newAuthorized"),ge("stakeAuthorizationType"),cs("authoritySeed"),je("authorityOwner")])}}),TO=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Wf{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,o=i||Cc.default,s=pn.Initialize,a=Ke(s,{authorized:{staker:Be(r.staker.toBuffer()),withdrawer:Be(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Be(o.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Fa,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new et(l)}static createAccountWithSeed(e){const n=new Pe;n.add(bt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const n=new Pe;n.add(bt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,o=pn.Delegate,s=Ke(o);return new Pe().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:Tb,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=pn.Authorize,l=Ke(a,{newAuthorized:Be(i.toBuffer()),stakeAuthorizationType:o.index}),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!0,isWritable:!1}),new Pe().add({keys:u,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:l}=e,u=pn.AuthorizeWithSeed,f=Ke(u,{newAuthorized:Be(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Be(o.toBuffer())}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1}];return l&&g.push({pubkey:l,isSigner:!0,isWritable:!1}),new Pe().add({keys:g,programId:this.programId,data:f})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=pn.Split,a=Ke(s,{lamports:o});return new et({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Pe;return r.add(bt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:l}=e,u=new Pe;return u.add(bt.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),n&&n>0&&u.add(bt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,o=pn.Merge,s=Ke(o);return new Pe().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=pn.Withdraw,l=Ke(a,{lamports:o}),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!0,isWritable:!1}),new Pe().add({keys:u,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=pn.Deactivate,o=Ke(i);return new Pe().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Wf.programId=new X("Stake11111111111111111111111111111111111111");Wf.space=200;class Nb{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class MO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ge("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ri))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=Je(ri.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Nb(new X(n.nodePubkey),new X(n.authorizedVoter),new X(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=Je(ri.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new X(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=Je(ri.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new X(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new X(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=Je(ri.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(il.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const ri=Object.freeze({InitializeAccount:{index:0,layout:ye([ge("instruction"),LN()])},Authorize:{index:1,layout:ye([ge("instruction"),je("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:ye([ge("instruction"),dr("lamports")])},UpdateValidatorIdentity:{index:4,layout:ye([ge("instruction")])},AuthorizeWithSeed:{index:10,layout:ye([ge("instruction"),BN()])}}),NO=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class il{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,o=ri.InitializeAccount,s=Ke(o,{voteInit:{nodePubkey:Be(i.nodePubkey.toBuffer()),authorizedVoter:Be(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Be(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Fa,isSigner:!1,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new et(a)}static createAccount(e){const n=new Pe;return n.add(bt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=ri.Authorize,a=Ke(s,{newAuthorized:Be(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Pe().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,l=ri.AuthorizeWithSeed,u=Ke(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Be(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Be(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Pe().add({keys:f,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=ri.Withdraw,a=Ke(s,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Pe().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return il.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=ri.UpdateValidatorIdentity,s=Ke(o),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Pe().add({keys:a,programId:this.programId,data:s})}}il.programId=new X("Vote111111111111111111111111111111111111111");il.space=3762;const xb=new X("Va1idator1nfo111111111111111111111111111111"),xO=J({name:se(),website:Se(se()),details:Se(se()),iconUrl:Se(se()),keybaseUsername:Se(se())});class vm{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Gn(n)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new X(Yn(n,0,li)),a=ti(n)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(xb)&&i[1].isSigner){const o=cs().decode(de.Buffer.from(n)),s=JSON.parse(o);return HE(s,xO),new vm(i[1].publicKey,s)}return null}}const OO=new X("Vote111111111111111111111111111111111111111"),CO=ye([je("nodePubkey"),je("authorizedWithdrawer"),$e("commission"),wn(),En(ye([wn("slot"),ge("confirmationCount")]),bo(ge(),-8),"votes"),$e("rootSlotValid"),wn("rootSlot"),wn(),En(ye([wn("epoch"),je("authorizedVoter")]),bo(ge(),-8),"authorizedVoters"),ye([En(ye([je("authorizedPubkey"),wn("epochOfLastAuthorizedSwitch"),wn("targetEpoch")]),32,"buf"),wn("idx"),$e("isEmpty")],"priorVoters"),wn(),En(ye([wn("epoch"),wn("credits"),wn("prevCredits")]),bo(ge(),-8),"epochCredits"),ye([wn("slot"),wn("timestamp")],"lastTimestamp")]);class _m{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=CO.decode(Be(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new _m({nodePubkey:new X(r.nodePubkey),authorizedWithdrawer:new X(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(LO),priorVoters:BO(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function LO({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new X(t)}}function K1({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new X(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function BO({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(K1),...t.slice(0,e).map(K1)]}const $1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function PO(t,e){const n=e===!1?"http":"https";if(!t)return $1[n].devnet;const r=$1[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function DO(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),l=o&&o.commitment,f=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(f.err)throw a!=null?new Mo({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(f)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}const Go=1e9,UO=Object.freeze(Object.defineProperty({__proto__:null,Account:MN,AddressLookupTableAccount:U0,AddressLookupTableInstruction:EO,AddressLookupTableProgram:mm,Authorized:Mb,BLOCKHASH_CACHE_TIMEOUT_MS:mb,BPF_LOADER_DEPRECATED_PROGRAM_ID:NN,BPF_LOADER_PROGRAM_ID:YN,BpfLoader:qN,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ni,ComputeBudgetInstruction:bO,ComputeBudgetProgram:wm,Connection:ym,Ed25519Program:jf,Enum:RN,EpochSchedule:gb,FeeCalculatorLayout:hb,Keypair:ka,LAMPORTS_PER_SOL:Go,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ri,Loader:Rs,Lockup:Cc,MAX_SEED_LENGTH:cb,Message:Gr,MessageAccountKeys:mc,MessageV0:ks,NONCE_ACCOUNT_LENGTH:D0,NonceAccount:Df,PACKET_DATA_SIZE:Ao,PUBLIC_KEY_LENGTH:li,PublicKey:X,SIGNATURE_LENGTH_IN_BYTES:yc,SOLANA_SCHEMA:Kl,STAKE_CONFIG_ID:Tb,STAKE_INSTRUCTION_LAYOUTS:pn,SYSTEM_INSTRUCTION_LAYOUTS:pt,SYSVAR_CLOCK_PUBKEY:Qr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:jN,SYSVAR_INSTRUCTIONS_PUBKEY:WN,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Ou,SYSVAR_RENT_PUBKEY:Fa,SYSVAR_REWARDS_PUBKEY:FN,SYSVAR_SLOT_HASHES_PUBKEY:HN,SYSVAR_SLOT_HISTORY_PUBKEY:KN,SYSVAR_STAKE_HISTORY_PUBKEY:Cu,Secp256k1Program:Ra,SendTransactionError:Mo,SolanaJSONRPCError:we,SolanaJSONRPCErrorCode:$N,StakeAuthorizationLayout:TO,StakeInstruction:RO,StakeProgram:Wf,Struct:lm,SystemInstruction:VN,SystemProgram:bt,Transaction:Pe,TransactionExpiredBlockheightExceededError:cm,TransactionExpiredNonceInvalidError:pa,TransactionExpiredTimeoutError:um,TransactionInstruction:et,TransactionMessage:fm,TransactionStatus:_i,VALIDATOR_INFO_KEY:xb,VERSION_PREFIX_MASK:Bf,VOTE_PROGRAM_ID:OO,ValidatorInfo:vm,VersionedMessage:dm,VersionedTransaction:wc,VoteAccount:_m,VoteAuthorizationLayout:NO,VoteInit:Nb,VoteInstruction:MO,VoteProgram:il,clusterApiUrl:PO,sendAndConfirmRawTransaction:DO,sendAndConfirmTransaction:P0},Symbol.toStringTag,{value:"Module"}));var Ob={exports:{}};const zO=/[\p{Lu}]/u,jO=/[\p{Ll}]/u,V1=/^[\p{Lu}](?![\p{Lu}])/gu,Cb=/([\p{Alpha}\p{N}_]|$)/u,Lb=/[_.\- ]+/,WO=new RegExp("^"+Lb.source),G1=new RegExp(Lb.source+Cb.source,"gu"),Y1=new RegExp("\\d+"+Cb.source,"gu"),FO=(t,e,n)=>{let r=!1,i=!1,o=!1;for(let s=0;s<t.length;s++){const a=t[s];r&&zO.test(a)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,o=i,i=!0,s++):i&&o&&jO.test(a)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),o=i,i=!1,r=!0):(r=e(a)===a&&n(a)!==a,o=i,i=n(a)===a&&e(a)!==a)}return t},HO=(t,e)=>(V1.lastIndex=0,t.replace(V1,n=>e(n))),KO=(t,e)=>(G1.lastIndex=0,Y1.lastIndex=0,t.replace(G1,(n,r)=>e(r)).replace(Y1,n=>e(n))),Bb=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=FO(t,n,r)),t=t.replace(WO,""),e.preserveConsecutiveUppercase?t=HO(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),KO(t,r))};Ob.exports=Bb;Ob.exports.default=Bb;var Oe={},fe={};let at=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};fe.Layout=at;function Sm(t,e){return e.property?t+"["+e.property+"]":t}fe.nameWithProperty=Sm;function $O(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof at))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}fe.bindConstructorLayout=$O;let Qn=class extends at{isCount(){throw new Error("ExternalLayout is abstract")}};class Pb extends Qn{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let Em=class extends Qn{constructor(e,n,r){if(!(e instanceof at))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof hi||this.layout instanceof Hi}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},hi=class extends at{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},Hi=class extends at{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class Ds extends at{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class ol extends at{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const F0=Math.pow(2,32);function Ff(t){const e=Math.floor(t/F0),n=t-e*F0;return{hi32:e,lo32:n}}function Hf(t,e){return t*F0+e}let VO=class extends at{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Hf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Ff(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}};class GO extends at{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),i=e.readUInt32BE(n+4);return Hf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Ff(e);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}let YO=class extends at{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Hf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Ff(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}};class qO extends at{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),i=e.readUInt32BE(n+4);return Hf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Ff(e);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}class Db extends at{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class Ub extends at{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class zb extends at{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class jb extends at{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class Wb extends at{constructor(e,n,r){if(!(e instanceof at))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Qn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Qn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,i=this.count;if(i instanceof Qn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n){n===void 0&&(n=0);const r=[];let i=0,o=this.count;for(o instanceof Qn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r){r===void 0&&(r=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Qn&&this.count.encode(e.length,n,r),o}}let Fb=class extends at{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof at,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(s=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},bm=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Xd=class extends bm{constructor(e,n){if(!(e instanceof Qn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},Am=class extends at{constructor(e,n,r){const i=e instanceof hi||e instanceof Hi;if(i)e=new Xd(new Em(e));else if(e instanceof Qn&&e.isCount())e=new Xd(e);else if(!(e instanceof bm))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof at))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new Hb(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},Hb=class extends at{constructor(e,n,r,i){if(!(e instanceof Am))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof at))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function Vs(t){return 0>t&&(t+=4294967296),t}class Im extends at{constructor(e,n,r){if(!(e instanceof hi||e instanceof Hi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Vs(o),this},this._packedGetValue=function(){return i}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(i));return r}encode(e,n,r){r===void 0&&(r=0);const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new $l(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Kb(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class $l{constructor(e,n,r){if(!(e instanceof Im))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=Vs(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return Vs(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==Vs(e&this.valueMask))throw new TypeError(Sm("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Vs(e<<this.start);this.container._packedSetValue(Vs(n&~this.wordMask)|r)}}let Kb=class extends $l{constructor(e,n){super(e,1,n)}decode(e,n){return!!$l.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),$l.prototype.encode.call(this,e)}},$b=class extends at{constructor(e,n){if(!(e instanceof Qn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Qn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Qn&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(Sm("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof Qn&&this.length.encode(i,n,r),i}};class Vb extends at{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);return e.slice(n,n+i-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),n[r+o]=0,o+1}}class Gb extends at{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+i).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),o}}class Yb extends at{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}fe.ExternalLayout=Qn;fe.GreedyCount=Pb;fe.OffsetLayout=Em;fe.UInt=hi;fe.UIntBE=Hi;fe.Int=Ds;fe.IntBE=ol;fe.Float=Db;fe.FloatBE=Ub;fe.Double=zb;fe.DoubleBE=jb;fe.Sequence=Wb;fe.Structure=Fb;fe.UnionDiscriminator=bm;fe.UnionLayoutDiscriminator=Xd;fe.Union=Am;fe.VariantLayout=Hb;fe.BitStructure=Im;fe.BitField=$l;fe.Boolean=Kb;fe.Blob=$b;fe.CString=Vb;fe.UTF8=Gb;fe.Constant=Yb;fe.greedy=(t,e)=>new Pb(t,e);fe.offset=(t,e,n)=>new Em(t,e,n);fe.u8=t=>new hi(1,t);fe.u16=t=>new hi(2,t);fe.u24=t=>new hi(3,t);fe.u32=t=>new hi(4,t);fe.u40=t=>new hi(5,t);fe.u48=t=>new hi(6,t);fe.nu64=t=>new VO(t);fe.u16be=t=>new Hi(2,t);fe.u24be=t=>new Hi(3,t);fe.u32be=t=>new Hi(4,t);fe.u40be=t=>new Hi(5,t);fe.u48be=t=>new Hi(6,t);fe.nu64be=t=>new GO(t);fe.s8=t=>new Ds(1,t);fe.s16=t=>new Ds(2,t);fe.s24=t=>new Ds(3,t);fe.s32=t=>new Ds(4,t);fe.s40=t=>new Ds(5,t);fe.s48=t=>new Ds(6,t);fe.ns64=t=>new YO(t);fe.s16be=t=>new ol(2,t);fe.s24be=t=>new ol(3,t);fe.s32be=t=>new ol(4,t);fe.s40be=t=>new ol(5,t);fe.s48be=t=>new ol(6,t);fe.ns64be=t=>new qO(t);fe.f32=t=>new Db(t);fe.f32be=t=>new Ub(t);fe.f64=t=>new zb(t);fe.f64be=t=>new jb(t);fe.struct=(t,e,n)=>new Fb(t,e,n);fe.bits=(t,e,n)=>new Im(t,e,n);fe.seq=(t,e,n)=>new Wb(t,e,n);fe.union=(t,e,n)=>new Am(t,e,n);fe.unionLayoutDiscriminator=(t,e)=>new Xd(t,e);fe.blob=(t,e)=>new $b(t,e);fe.cstr=t=>new Vb(t);fe.utf8=(t,e)=>new Gb(t,e);fe.const=(t,e)=>new Yb(t,e);const qb=qa(UO);(function(t){var e=Ut&&Ut.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=a,t.i64=l,t.u128=u,t.i128=f,t.u256=g,t.i256=w,t.publicKey=_,t.option=M,t.bool=E,t.vec=C,t.tagged=P,t.vecU8=D,t.str=j,t.rustEnum=H,t.array=W,t.map=Z;const n=fe,r=qb,i=e(Uy);var o=fe;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends n.Layout{constructor(b,c,d){super(b,d),this.blob=(0,n.blob)(b),this.signed=c}decode(b,c=0){const d=new i.default(this.blob.decode(b,c),10,"le");return this.signed?d.fromTwos(this.span*8).clone():d}encode(b,c,d=0){return this.signed&&(b=b.toTwos(this.span*8)),this.blob.encode(b.toArrayLike(Buffer,"le",this.span),c,d)}}function a(V){return new s(8,!1,V)}function l(V){return new s(8,!0,V)}function u(V){return new s(16,!1,V)}function f(V){return new s(16,!0,V)}function g(V){return new s(32,!1,V)}function w(V){return new s(32,!0,V)}class m extends n.Layout{constructor(b,c,d,v){super(b.span,v),this.layout=b,this.decoder=c,this.encoder=d}decode(b,c){return this.decoder(this.layout.decode(b,c))}encode(b,c,d){return this.layout.encode(this.encoder(b),c,d)}getSpan(b,c){return this.layout.getSpan(b,c)}}function _(V){return new m((0,n.blob)(32),b=>new r.PublicKey(b),b=>b.toBuffer(),V)}class T extends n.Layout{constructor(b,c){super(-1,c),this.layout=b,this.discriminator=(0,n.u8)()}encode(b,c,d=0){return b==null?this.discriminator.encode(0,c,d):(this.discriminator.encode(1,c,d),this.layout.encode(b,c,d+1)+1)}decode(b,c=0){const d=this.discriminator.decode(b,c);if(d===0)return null;if(d===1)return this.layout.decode(b,c+1);throw new Error("Invalid option "+this.property)}getSpan(b,c=0){const d=this.discriminator.decode(b,c);if(d===0)return 1;if(d===1)return this.layout.getSpan(b,c+1)+1;throw new Error("Invalid option "+this.property)}}function M(V,b){return new T(V,b)}function E(V){return new m((0,n.u8)(),A,S,V)}function A(V){if(V===0)return!1;if(V===1)return!0;throw new Error("Invalid bool: "+V)}function S(V){return V?1:0}function C(V,b){const c=(0,n.u32)("length"),d=(0,n.struct)([c,(0,n.seq)(V,(0,n.offset)(c,-c.span),"values")]);return new m(d,({values:v})=>v,v=>({values:v}),b)}function P(V,b,c){const d=(0,n.struct)([a("tag"),b.replicate("data")]);function v({tag:k,data:I}){if(!k.eq(V))throw new Error("Invalid tag, expected: "+V.toString("hex")+", got: "+k.toString("hex"));return I}return new m(d,v,k=>({tag:V,data:k}),c)}function D(V){const b=(0,n.u32)("length"),c=(0,n.struct)([b,(0,n.blob)((0,n.offset)(b,-b.span),"data")]);return new m(c,({data:d})=>d,d=>({data:d}),V)}function j(V){return new m(D(),b=>b.toString("utf-8"),b=>Buffer.from(b,"utf-8"),V)}function H(V,b,c){const d=(0,n.union)(c??(0,n.u8)(),b);return V.forEach((v,k)=>d.addVariant(k,v,v.property)),d}function W(V,b,c){const d=(0,n.struct)([(0,n.seq)(V,b,"values")]);return new m(d,({values:v})=>v,v=>({values:v}),c)}class Y extends n.Layout{constructor(b,c,d){super(b.span+c.span,d),this.keyLayout=b,this.valueLayout=c}decode(b,c){c=c||0;const d=this.keyLayout.decode(b,c),v=this.valueLayout.decode(b,c+this.keyLayout.getSpan(b,c));return[d,v]}encode(b,c,d){d=d||0;const v=this.keyLayout.encode(b[0],c,d),k=this.valueLayout.encode(b[1],c,d+v);return v+k}getSpan(b,c){return this.keyLayout.getSpan(b,c)+this.valueLayout.getSpan(b,c)}}function Z(V,b,c){const d=(0,n.u32)("length"),v=(0,n.struct)([d,(0,n.seq)(new Y(V,b),(0,n.offset)(d,-d.span),"values")]);return new m(v,({values:k})=>new Map(k),k=>({values:Array.from(k.entries())}),c)}})(Oe);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function sl(t){let e=t.length;for(;--e>=0;)t[e]=0}const ZO=3,QO=258,Zb=29,XO=256,JO=XO+1+Zb,Qb=30,eC=512,tC=new Array((JO+2)*2);sl(tC);const nC=new Array(Qb*2);sl(nC);const rC=new Array(eC);sl(rC);const iC=new Array(QO-ZO+1);sl(iC);const oC=new Array(Zb);sl(oC);const sC=new Array(Qb);sl(sC);try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const H0=new Uint8Array(256);for(let t=0;t<256;t++)H0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;H0[254]=H0[254]=1;var aC={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,g;if(this._eventsCount===0)return u;for(g in f=this._events)e.call(f,g)&&u.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,_=new Array(m);w<m;w++)_[w]=g[w].fn;return _},a.prototype.listenerCount=function(u){var f=n?n+u:u,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(u,f,g,w,m,_){var T=n?n+u:u;if(!this._events[T])return!1;var M=this._events[T],E=arguments.length,A,S;if(M.fn){switch(M.once&&this.removeListener(u,M.fn,void 0,!0),E){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,f),!0;case 3:return M.fn.call(M.context,f,g),!0;case 4:return M.fn.call(M.context,f,g,w),!0;case 5:return M.fn.call(M.context,f,g,w,m),!0;case 6:return M.fn.call(M.context,f,g,w,m,_),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];M.fn.apply(M.context,A)}else{var C=M.length,P;for(S=0;S<C;S++)switch(M[S].once&&this.removeListener(u,M[S].fn,void 0,!0),E){case 1:M[S].fn.call(M[S].context);break;case 2:M[S].fn.call(M[S].context,f);break;case 3:M[S].fn.call(M[S].context,f,g);break;case 4:M[S].fn.call(M[S].context,f,g,w);break;default:if(!A)for(P=1,A=new Array(E-1);P<E;P++)A[P-1]=arguments[P];M[S].fn.apply(M[S].context,A)}}return!0},a.prototype.on=function(u,f,g){return o(this,u,f,g,!1)},a.prototype.once=function(u,f,g){return o(this,u,f,g,!0)},a.prototype.removeListener=function(u,f,g,w){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return s(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!w||_.once)&&(!g||_.context===g)&&s(this,m);else{for(var T=0,M=[],E=_.length;T<E;T++)(_[T].fn!==f||w&&!_[T].once||g&&_[T].context!==g)&&M.push(_[T]);M.length?this._events[m]=M.length===1?M[0]:M:s(this,m)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(aC);function lC(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((n,r)=>t.slice(r*e,(r+1)*e))}const zo=t=>"version"in t;function cC(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"0x")}function uC(t){t.indexOf("0x")===0&&(t=t.substr(2)),t.length%2===1&&(t="0"+t);let e=t.match(/.{2}/g);return e===null?de.Buffer.from([]):de.Buffer.from(e.map(n=>parseInt(n,16)))}var dC=Object.freeze({__proto__:null,encode:cC,decode:uC});function fC(t){return new TextDecoder("utf-8").decode(t)}function hC(t){return new TextEncoder().encode(t)}var pC=Object.freeze({__proto__:null,decode:fC,encode:hC});function K0(t){return Lt.encode(t)}function gC(t){return Lt.decode(t)}var yC=Object.freeze({__proto__:null,encode:K0,decode:gC});function mC(t){return t.toString("base64")}function wC(t){return de.Buffer.from(t,"base64")}var vC=Object.freeze({__proto__:null,encode:mC,decode:wC}),_C=Object.freeze({__proto__:null,hex:dC,utf8:pC,bs58:yC,base64:vC});Oe.struct([Oe.publicKey("authority"),Oe.vecU8("data")]);function ga(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}function SC(t){return t instanceof X?t:new X(t)}class EC extends TypeError{constructor(e,n){let r;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function bC(t){return Ta(t)&&typeof t[Symbol.iterator]=="function"}function Ta(t){return typeof t=="object"&&t!=null}function No(t){return typeof t=="string"?JSON.stringify(t):""+t}function AC(t){const{done:e,value:n}=t.next();return e?void 0:n}function IC(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+No(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*q1(t,e,n,r){bC(t)||(t=[t]);for(const i of t){const o=IC(i,e,n,r);o&&(yield o)}}function*km(t,e,n){n===void 0&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&Ta(e.schema)&&Ta(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l=!0;for(const u of e.validator(t,a))l=!1,yield[u,void 0];for(let[u,f,g]of e.entries(t,a)){const w=km(f,g,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,f],coerce:o,mask:s});for(const m of w)m[0]?(l=!1,yield[m[0],void 0]):o&&(f=m[1],u===void 0?t=f:t instanceof Map?t.set(u,f):t instanceof Set?t.add(f):Ta(t)&&(t[u]=f))}if(l)for(const u of e.refiner(t,a))l=!1,yield[u,void 0];l&&(yield[void 0,t])}class Po{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,u)=>{const f=i(l,u);return q1(f,u,this,l)}:this.validator=()=>[],o?this.refiner=(l,u)=>{const f=o(l,u);return q1(f,u,this,l)}:this.refiner=()=>[]}assert(e){return kC(e,this)}create(e){return Rm(e,this)}is(e){return Xb(e,this)}mask(e){return RC(e,this)}validate(e,n){return n===void 0&&(n={}),Lc(e,this,n)}}function kC(t,e){const n=Lc(t,e);if(n[0])throw n[0]}function Rm(t,e){const n=Lc(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function RC(t,e){const n=Lc(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Xb(t,e){return!Lc(t,e)[0]}function Lc(t,e,n){n===void 0&&(n={});const r=km(t,e,n),i=AC(r);return i[0]?[new EC(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Bc(t,e){return new Po({type:t,schema:null,validator:e})}function TC(){return Bc("any",()=>!0)}function Sp(t){return new Po({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+No(e)}})}function MC(){return Bc("boolean",t=>typeof t=="boolean")}function Z1(t){const e=No(t);return new Po({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+No(n)}})}function pu(t){return new Po({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Lu(){return Bc("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+No(t))}function Bu(t){return new Po({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function us(){return Bc("string",t=>typeof t=="string"||"Expected a string, but received: "+No(t))}function Io(t){const e=Object.keys(t);return new Po({type:"type",schema:t,*entries(n){if(Ta(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ta(n)||"Expected an object, but received: "+No(n)}})}function Jb(t){const e=t.map(n=>n.type).join(" | ");return new Po({type:"union",schema:null,coercer(n,r){return(t.find(o=>{const[s]=o.validate(n,{coerce:!0});return!s})||Tm()).coercer(n,r)},validator(n,r){const i=[];for(const o of t){const[...s]=km(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+No(n),...i]}})}function Tm(){return Bc("unknown",()=>!0)}function NC(t,e,n){return new Po({...t,coercer:(r,i)=>Xb(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}async function xC(t,e,n,r){t=SC(t),r||(r=zC());const i=new Pe;if(i.add(new et({programId:t,keys:e??[],data:n})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(i,[])}const Q1=99;async function OC(t,e,n){return(await eA(t,e,n)).map(i=>i?{publicKey:i.publicKey,account:i.account}:null)}async function eA(t,e,n){if(e.length<=Q1)return await X1(t,e,n);{const r=lC(e,Q1);return(await Promise.all(r.map(o=>X1(t,o,n)))).flat()}}async function X1(t,e,n){const r=n??t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map((a,l)=>a===null?null:{publicKey:e[l],account:a,context:o})}async function tA(t,e,n,r,i){var o;n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),u=e._serialize(a).toString("base64"),f={encoding:"base64",commitment:r??t.commitment};if(i){const _=(Array.isArray(i)?i:s.nonProgramIds()).map(T=>T.toBase58());f.accounts={encoding:"base64",addresses:_}}n&&n.length>0&&(f.sigVerify=!0);const g=[u,f],w=await t._rpcRequest("simulateTransaction",g),m=Rm(w,PC);if("error"in m){let _;if("data"in m.error&&(_=(o=m.error.data)===null||o===void 0?void 0:o.logs,_&&Array.isArray(_))){const T=`
    `,M=T+_.join(T);console.error(m.error.message,M)}throw new Mo("failed to simulate transaction: "+m.error.message,_)}return m.result}function CC(t){return NC(nA(t),LC,e=>"error"in e?e:{...e,result:Rm(e.result,t)})}const LC=nA(Tm());function nA(t){return Jb([Io({jsonrpc:Z1("2.0"),id:us(),result:t}),Io({jsonrpc:Z1("2.0"),id:us(),error:Io({code:Tm(),message:us(),data:Bu(TC())})})])}function BC(t){return CC(Io({context:Io({slot:Lu()}),value:t}))}const PC=BC(Io({err:pu(Jb([Io({}),us()])),logs:pu(Sp(us())),accounts:Bu(pu(Sp(pu(Io({executable:MC(),owner:us(),lamports:Lu(),data:Sp(us()),rentEpoch:Bu(Lu())}))))),unitsConsumed:Bu(Lu())}));var DC=Object.freeze({__proto__:null,invoke:xC,getMultipleAccounts:OC,getMultipleAccountsAndContext:eA,simulateTransaction:tA});class Jd{constructor(e,n,r=Jd.defaultOptions()){this.connection=e,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=Jd.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var i,o,s,a;if(r===void 0&&(r=this.opts),zo(e))n&&e.sign(n);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const u of n)e.partialSign(u);e=await this.wallet.signTransaction(e);const l=e.serialize();try{return await J1(this.connection,l,r)}catch(u){if(u instanceof $0){const f=K0(zo(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=e.signature)!==null&&s!==void 0?s:new Uint8Array),g=zo(e)?0:void 0,w=await this.connection.getTransaction(f,{commitment:"confirmed",maxSupportedTransactionVersion:g});if(w){const m=(a=w.meta)===null||a===void 0?void 0:a.logMessages;throw m?new Mo(u.message,m):u}else throw u}else throw u}}async sendAll(e,n){var r,i,o;n===void 0&&(n=this.opts);const s=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let a=e.map(f=>{var g,w;if(zo(f.tx)){let m=f.tx;return f.signers&&m.sign(f.signers),m}else{let m=f.tx,_=(g=f.signers)!==null&&g!==void 0?g:[];return m.feePayer=(w=m.feePayer)!==null&&w!==void 0?w:this.wallet.publicKey,m.recentBlockhash=s,_.forEach(T=>{m.partialSign(T)}),m}});const l=await this.wallet.signAllTransactions(a),u=[];for(let f=0;f<a.length;f+=1){const g=l[f],w=g.serialize();try{u.push(await J1(this.connection,w,n))}catch(m){if(m instanceof $0){const _=K0(zo(g)?((r=g.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=g.signature)!==null&&i!==void 0?i:new Uint8Array),T=zo(g)?0:void 0,M=await this.connection.getTransaction(_,{commitment:"confirmed",maxSupportedTransactionVersion:T});if(M){const E=(o=M.meta)===null||o===void 0?void 0:o.logMessages;throw E?new Mo(m.message,E):m}else throw m}else throw m}}return u}async simulate(e,n,r,i){let o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,s;if(zo(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),s=await tA(this.connection,e,n,r,i)),s.value.err)throw new UC(s.value);return s.value}}class UC extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function J1(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await t.sendRawTransaction(e,r);if(n!=null&&n.blockhash)if(r.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await t.confirmTransaction({abortSignal:a,signature:s,...n.blockhash},n&&n.commitment)).value}else i=(await t.confirmTransaction({signature:s,...n.blockhash},n&&n.commitment)).value;else i=(await t.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new $0(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class $0 extends Error{constructor(e){super(e)}}function zC(){return Jd.local()}var jC=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function WC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $={};Object.defineProperty($,"__esModule",{value:!0});$.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=$.ANCHOR_ERROR__REQUIRE_VIOLATED=$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=$.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=$.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=$.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=$.ANCHOR_ERROR__CONSTRAINT_SPACE=$.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=$.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=$.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=$.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=$.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=$.ANCHOR_ERROR__CONSTRAINT_ZERO=$.ANCHOR_ERROR__CONSTRAINT_ADDRESS=$.ANCHOR_ERROR__CONSTRAINT_CLOSE=$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=$.ANCHOR_ERROR__CONSTRAINT_STATE=$.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=$.ANCHOR_ERROR__CONSTRAINT_SEEDS=$.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=$.ANCHOR_ERROR__CONSTRAINT_OWNER=$.ANCHOR_ERROR__CONSTRAINT_RAW=$.ANCHOR_ERROR__CONSTRAINT_SIGNER=$.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=$.ANCHOR_ERROR__CONSTRAINT_MUT=$.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=$.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=$.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=$.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=$.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=$.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0;$.ANCHOR_ERROR__DEPRECATED=$.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=$.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=$.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=$.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=$.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=$.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=$.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=$.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=$.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=$.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=$.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=$.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=$.ANCHOR_ERROR__INVALID_PROGRAM_ID=$.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=$.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=$.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=$.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=$.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=$.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=$.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=$.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=$.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=$.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0;$.ANCHOR_ERROR__INSTRUCTION_MISSING=100;$.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101;$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102;$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103;$.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3;$.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001;$.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002;$.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500;$.ANCHOR_ERROR__CONSTRAINT_MUT=2e3;$.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001;$.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002;$.ANCHOR_ERROR__CONSTRAINT_RAW=2003;$.ANCHOR_ERROR__CONSTRAINT_OWNER=2004;$.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005;$.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006;$.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007;$.ANCHOR_ERROR__CONSTRAINT_STATE=2008;$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009;$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010;$.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011;$.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012;$.ANCHOR_ERROR__CONSTRAINT_ZERO=2013;$.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014;$.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015;$.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016;$.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017;$.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018;$.ANCHOR_ERROR__CONSTRAINT_SPACE=2019;$.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020;$.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021;$.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022;$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023;$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024;$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025;$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026;$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027;$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028;$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029;$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030;$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031;$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032;$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033;$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034;$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035;$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036;$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037;$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038;$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039;$.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;$.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;$.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502;$.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503;$.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504;$.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505;$.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506;$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3;$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001;$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002;$.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003;$.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004;$.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005;$.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006;$.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007;$.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008;$.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009;$.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010;$.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011;$.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012;$.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013;$.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014;$.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015;$.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016;$.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017;$.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100;$.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101;$.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;$.ANCHOR_ERROR__DEPRECATED=5e3;const FC=new Set(["debug-logs"]),rA=new Map;function HC(t){if(!FC.has(t))throw new Error("Invalid feature");rA.set(t,!0)}function KC(t){return rA.get(t)!==void 0}var $C=Object.freeze({__proto__:null,set:HC,isSet:KC});class jo extends Error{constructor(e){super(e),this.name="IdlError"}}class Ze{static fieldLayout(e,n=[],r){const i=e.name;switch(e.type){case"bool":return Oe.bool(i);case"u8":return Oe.u8(i);case"i8":return Oe.i8(i);case"u16":return Oe.u16(i);case"i16":return Oe.i16(i);case"u32":return Oe.u32(i);case"i32":return Oe.i32(i);case"f32":return Oe.f32(i);case"u64":return Oe.u64(i);case"i64":return Oe.i64(i);case"f64":return Oe.f64(i);case"u128":return Oe.u128(i);case"i128":return Oe.i128(i);case"u256":return Oe.u256(i);case"i256":return Oe.i256(i);case"bytes":return Oe.vecU8(i);case"string":return Oe.str(i);case"pubkey":return Oe.publicKey(i);default:{if("option"in e.type)return Oe.option(Ze.fieldLayout({type:e.type.option},n,r),i);if("vec"in e.type)return Oe.vec(Ze.fieldLayout({type:e.type.vec},n,r),i);if("array"in e.type){let[o,s]=e.type.array;return s=Ze.resolveArrayLen(s,r),Oe.array(Ze.fieldLayout({type:o},n,r),s,i)}if("defined"in e.type){if(!n)throw new jo("User defined types not provided");const o=e.type.defined.name,s=n.find(a=>a.name===o);if(!s)throw new jo(`Type not found: ${e.name}`);return Ze.typeDefLayout({typeDef:s,types:n,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new jo(`Invalid generic field: ${e.name}`);return Ze.fieldLayout({...e,type:o.type},n)}throw new jo(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=ga(e.type.fields,()=>[],s=>s.map(a=>{const l=i&&Ze.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Ze.fieldLayout(a,n,l)}),s=>s.map((a,l)=>{const u=i&&Ze.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Ze.fieldLayout({name:l.toString(),type:a},n,u)}));return Oe.struct(o,r)}case"enum":{const o=e.type.variants.map(s=>{const a=ga(s.fields,()=>[],l=>l.map(u=>{const f=i&&Ze.resolveGenericArgs({type:u.type,typeDef:e,genericArgs:i});return Ze.fieldLayout(u,n,f)}),l=>l.map((u,f)=>{const g=i&&Ze.resolveGenericArgs({type:u,typeDef:e,genericArgs:i});return Ze.fieldLayout({name:f.toString(),type:u},n,g)}));return Oe.struct(a,s.name)});return r!==void 0?Oe.rustEnum(o).replicate(r):Oe.rustEnum(o,r)}case"type":return Ze.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Ze.typeSize(e.option,n,r);if("coption"in e)return 4+Ze.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Ze.resolveArrayLen(s,r),Ze.typeSize(o,n,r)*s}if("defined"in e){const o=(i=n.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new jo(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const l=r??e.defined.generics,u=l&&Ze.resolveGenericArgs({type:a,typeDef:o,genericArgs:l});return Ze.typeSize(a,n,u)};switch(o.type.kind){case"struct":return ga(o.type.fields,()=>[0],a=>a.map(l=>s(l.type)),a=>a.map(l=>s(l))).reduce((a,l)=>a+l,0);case"enum":{const a=o.type.variants.map(l=>ga(l.fields,()=>[0],u=>u.map(f=>s(f.type)),u=>u.map(f=>s(f))).reduce((u,f)=>u+f,0));return Math.max(...a)+1}case"type":return Ze.typeSize(o.type.alias,n,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new jo(`Invalid generic: ${e.generic}`);return Ze.typeSize(o.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new jo("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in n.generics){const s=n.generics[o];if("generic"in e&&s.name===e.generic)return[r[o]];if("option"in e){const a=Ze.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Ze.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,l]=e.array,u=typeof l=="object",f=Ze.resolveGenericArgs({type:a,typeDef:n,genericArgs:r,isDefined:i})||[];if(u){const g=n.generics.findIndex(w=>w.name===l.generic);g!==-1&&f.push(r[g])}if(f.length>0){if(!i)return f;if(f[0].kind==="type"&&f[1].kind==="const")return[{kind:"type",type:{array:[f[0].type,+f[1].value]}}]}if(u&&s.name===l.generic){const g=r[o];return i?[{kind:"type",type:{array:[a,+g.value]}}]:[g]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Ze.resolveGenericArgs({type:a.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class VC{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const i=r.name,o=r.args.map(a=>Ze.fieldLayout(a,e.types)),s=Oe.struct(o,i);return[i,{discriminator:r.discriminator,layout:s}]});this.ixLayouts=new Map(n)}encode(e,n){const r=de.Buffer.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o);return de.Buffer.concat([de.Buffer.from(i.discriminator),s])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?de.Buffer.from(e,"hex"):Lt.decode(e));for(const[r,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(de.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,n){return sr.format(e,n,this.idl)}}class sr{static format(e,n,r){const i=r.instructions.find(l=>e.name===l.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(l=>({name:l.name,type:sr.formatIdlType(l.type),data:sr.formatIdlData(l,e.data[l.name],r.types)})),s=sr.flattenIdlAccounts(i.accounts),a=n.map((l,u)=>u<s.length?{name:s[u].name,...l}:{name:void 0,...l});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return sr.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return sr.formatIdlDataDefined(o,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+ga(e.type.fields,()=>"",i=>Object.entries(n).map(([o,s])=>{const a=i.find(l=>l.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+sr.formatIdlData(a,s,r)}).join(", "),i=>Object.entries(n).map(([o,s])=>o+": "+sr.formatIdlData({name:"",type:i[o]},s,r)).join(", "))+" }";case"enum":{const i=Object.keys(n)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=n[i];return ga(o.fields,()=>i,a=>{const l=Object.keys(s).map(u=>{const f=s[u],g=a.find(w=>w.name===u);if(!g)throw new Error(`Field not found: ${u}`);return u+": "+sr.formatIdlData(g,f,r)}).join(", ");return`${i} { ${l} }`},a=>{const l=Object.entries(s).map(([u,f])=>u+": "+sr.formatIdlData({name:"",type:a[u]},f,r)).join(", ");return`${i} { ${l} }`})}case"type":return sr.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const i=GC(r.name);if(r.hasOwnProperty("accounts")){const o=n?`${n} > ${i}`:i;return sr.flattenIdlAccounts(r.accounts,o)}else return{...r,name:n?`${n} > ${i}`:i}}).flat()}}function GC(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class YC{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const o=n.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Ze.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(r)}async encode(e,n){const r=de.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o),a=this.accountDiscriminator(e);return de.Buffer.concat([a,s])}decode(e,n){const r=this.accountDiscriminator(e);if(r.compare(n.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(de.Buffer.from(r.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const r=this.accountDiscriminator(e),i=n.subarray(r.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(i)}memcmp(e,n){const r=this.accountDiscriminator(e);return{offset:0,bytes:Lt.encode(n?de.Buffer.concat([r,n]):r)}}size(e){return this.accountDiscriminator(e).length+Ze.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const r=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return de.Buffer.from(r.discriminator)}}class ir{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Kf=ir;function qC(t,e){return e.property?t+"["+e.property+"]":t}class ds extends ir{isCount(){throw new Error("ExternalLayout is abstract")}}class iA extends ds{constructor(e,n,r){if(!(e instanceof ir))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof $f||this.layout instanceof oA}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class $f extends ir{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class oA extends ir{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const V0=Math.pow(2,32);function sA(t){const e=Math.floor(t/V0),n=t-e*V0;return{hi32:e,lo32:n}}function aA(t,e){return t*V0+e}class ZC extends ir{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return aA(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=sA(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class QC extends ir{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return aA(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=sA(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class XC extends ir{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof ir,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(s=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class lA{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ev extends lA{constructor(e,n){if(!(e instanceof ds&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class cA extends ir{constructor(e,n,r){const i=e instanceof $f||e instanceof oA;if(i)e=new ev(new iA(e));else if(e instanceof ds&&e.isCount())e=new ev(e);else if(!(e instanceof lA))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ir))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new JC(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class JC extends ir{constructor(e,n,r,i){if(!(e instanceof cA))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof ir))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class e4 extends ir{constructor(e,n){if(!(e instanceof ds&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ds||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof ds&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(qC("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof ds&&this.length.encode(i,n,r),i}}var t4=(t,e,n)=>new iA(t,e,n),n4=t=>new $f(1,t),Ti=t=>new $f(4,t),r4=t=>new ZC(t),Wi=t=>new QC(t),dn=(t,e,n)=>new XC(t,e,n),uA=(t,e,n)=>new cA(t,e,n),Pc=(t,e)=>new e4(t,e);class i4 extends Kf{constructor(e){super(-1,e),this.property=e,this.layout=dn([Ti("length"),Ti("lengthPadding"),Pc(t4(Ti(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Ti().span+Ti().span+new lr(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function Vf(t){return new i4(t)}function Or(t){return Pc(32,t)}const Sr=uA(Ti("instruction"));Sr.addVariant(0,dn([Wi("lamports"),Wi("space"),Or("owner")]),"createAccount");Sr.addVariant(1,dn([Or("owner")]),"assign");Sr.addVariant(2,dn([Wi("lamports")]),"transfer");Sr.addVariant(3,dn([Or("base"),Vf("seed"),Wi("lamports"),Wi("space"),Or("owner")]),"createAccountWithSeed");Sr.addVariant(4,dn([Or("authorized")]),"advanceNonceAccount");Sr.addVariant(5,dn([Wi("lamports")]),"withdrawNonceAccount");Sr.addVariant(6,dn([Or("authorized")]),"initializeNonceAccount");Sr.addVariant(7,dn([Or("authorized")]),"authorizeNonceAccount");Sr.addVariant(8,dn([Wi("space")]),"allocate");Sr.addVariant(9,dn([Or("base"),Vf("seed"),Wi("space"),Or("owner")]),"allocateWithSeed");Sr.addVariant(10,dn([Or("base"),Vf("seed"),Or("owner")]),"assignWithSeed");Sr.addVariant(11,dn([Wi("lamports"),Vf("seed"),Or("owner")]),"transferWithSeed");Math.max(...Object.values(Sr.registry).map(t=>t.span));class o4 extends Kf{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function tv(t){return new o4(Pc(32),e=>new X(e),e=>e.toBuffer(),t)}dn([Ti("version"),Ti("state"),tv("authorizedPubkey"),tv("nonce"),dn([r4("lamportsPerSignature")],"feeCalculator")]);function s4(t){return new TextDecoder().decode(Hd(t))}var a4=Object.freeze({__proto__:null,hash:s4});function l4(t,e,n){const r=de.Buffer.concat([t.toBuffer(),de.Buffer.from(e),n.toBuffer()]);return new X(Hd(r))}var c4=Object.freeze({__proto__:null,createWithSeedSync:l4});const dA=new X("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),fA=new X("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function u4({mint:t,owner:e}){return X.findProgramAddressSync([e.toBuffer(),dA.toBuffer(),t.toBuffer()],fA)[0]}var d4=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:dA,ASSOCIATED_PROGRAM_ID:fA,associatedAddress:u4}),G0={exports:{}};(function(t,e){var n=typeof self<"u"?self:jC,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(c){return c&&DataView.prototype.isPrototypeOf(c)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(c){return c&&u.indexOf(Object.prototype.toString.call(c))>-1};function g(c){if(typeof c!="string"&&(c=String(c)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(c))throw new TypeError("Invalid character in header field name");return c.toLowerCase()}function w(c){return typeof c!="string"&&(c=String(c)),c}function m(c){var d={next:function(){var v=c.shift();return{done:v===void 0,value:v}}};return a.iterable&&(d[Symbol.iterator]=function(){return d}),d}function _(c){this.map={},c instanceof _?c.forEach(function(d,v){this.append(v,d)},this):Array.isArray(c)?c.forEach(function(d){this.append(d[0],d[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(d){this.append(d,c[d])},this)}_.prototype.append=function(c,d){c=g(c),d=w(d);var v=this.map[c];this.map[c]=v?v+", "+d:d},_.prototype.delete=function(c){delete this.map[g(c)]},_.prototype.get=function(c){return c=g(c),this.has(c)?this.map[c]:null},_.prototype.has=function(c){return this.map.hasOwnProperty(g(c))},_.prototype.set=function(c,d){this.map[g(c)]=w(d)},_.prototype.forEach=function(c,d){for(var v in this.map)this.map.hasOwnProperty(v)&&c.call(d,this.map[v],v,this)},_.prototype.keys=function(){var c=[];return this.forEach(function(d,v){c.push(v)}),m(c)},_.prototype.values=function(){var c=[];return this.forEach(function(d){c.push(d)}),m(c)},_.prototype.entries=function(){var c=[];return this.forEach(function(d,v){c.push([v,d])}),m(c)},a.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function T(c){if(c.bodyUsed)return Promise.reject(new TypeError("Already read"));c.bodyUsed=!0}function M(c){return new Promise(function(d,v){c.onload=function(){d(c.result)},c.onerror=function(){v(c.error)}})}function E(c){var d=new FileReader,v=M(d);return d.readAsArrayBuffer(c),v}function A(c){var d=new FileReader,v=M(d);return d.readAsText(c),v}function S(c){for(var d=new Uint8Array(c),v=new Array(d.length),k=0;k<d.length;k++)v[k]=String.fromCharCode(d[k]);return v.join("")}function C(c){if(c.slice)return c.slice(0);var d=new Uint8Array(c.byteLength);return d.set(new Uint8Array(c)),d.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(c){this._bodyInit=c,c?typeof c=="string"?this._bodyText=c:a.blob&&Blob.prototype.isPrototypeOf(c)?this._bodyBlob=c:a.formData&&FormData.prototype.isPrototypeOf(c)?this._bodyFormData=c:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)?this._bodyText=c.toString():a.arrayBuffer&&a.blob&&l(c)?(this._bodyArrayBuffer=C(c.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(c)||f(c))?this._bodyArrayBuffer=C(c):this._bodyText=c=Object.prototype.toString.call(c):this._bodyText="",this.headers.get("content-type")||(typeof c=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var c=T(this);if(c)return c;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var c=T(this);if(c)return c;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function j(c){var d=c.toUpperCase();return D.indexOf(d)>-1?d:c}function H(c,d){d=d||{};var v=d.body;if(c instanceof H){if(c.bodyUsed)throw new TypeError("Already read");this.url=c.url,this.credentials=c.credentials,d.headers||(this.headers=new _(c.headers)),this.method=c.method,this.mode=c.mode,this.signal=c.signal,!v&&c._bodyInit!=null&&(v=c._bodyInit,c.bodyUsed=!0)}else this.url=String(c);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new _(d.headers)),this.method=j(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}H.prototype.clone=function(){return new H(this,{body:this._bodyInit})};function W(c){var d=new FormData;return c.trim().split("&").forEach(function(v){if(v){var k=v.split("="),I=k.shift().replace(/\+/g," "),x=k.join("=").replace(/\+/g," ");d.append(decodeURIComponent(I),decodeURIComponent(x))}}),d}function Y(c){var d=new _,v=c.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(k){var I=k.split(":"),x=I.shift().trim();if(x){var B=I.join(":").trim();d.append(x,B)}}),d}P.call(H.prototype);function Z(c,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new _(d.headers),this.url=d.url||"",this._initBody(c)}P.call(Z.prototype),Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},Z.error=function(){var c=new Z(null,{status:0,statusText:""});return c.type="error",c};var V=[301,302,303,307,308];Z.redirect=function(c,d){if(V.indexOf(d)===-1)throw new RangeError("Invalid status code");return new Z(null,{status:d,headers:{location:c}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,v){this.message=d,this.name=v;var k=Error(d);this.stack=k.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(c,d){return new Promise(function(v,k){var I=new H(c,d);if(I.signal&&I.signal.aborted)return k(new s.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function B(){x.abort()}x.onload=function(){var N={status:x.status,statusText:x.statusText,headers:Y(x.getAllResponseHeaders()||"")};N.url="responseURL"in x?x.responseURL:N.headers.get("X-Request-URL");var p="response"in x?x.response:x.responseText;v(new Z(p,N))},x.onerror=function(){k(new TypeError("Network request failed"))},x.ontimeout=function(){k(new TypeError("Network request failed"))},x.onabort=function(){k(new s.DOMException("Aborted","AbortError"))},x.open(I.method,I.url,!0),I.credentials==="include"?x.withCredentials=!0:I.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&a.blob&&(x.responseType="blob"),I.headers.forEach(function(N,p){x.setRequestHeader(p,N)}),I.signal&&(I.signal.addEventListener("abort",B),x.onreadystatechange=function(){x.readyState===4&&I.signal.removeEventListener("abort",B)}),x.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=_,o.Request=H,o.Response=Z),s.Headers=_,s.Request=H,s.Response=Z,s.fetch=b,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(G0,G0.exports);var f4=WC(G0.exports);async function h4(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([hA(t,e),f4(r)]),s=(await o.json()).filter(l=>!l.aborted&&l.state==="Built"&&l.verified==="Verified");if(s.length===0)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a}async function hA(t,e){const n=await t.getAccountInfo(e);if(n===null)throw new Error("program account not found");const{program:r}=Y0(n.data),i=await t.getAccountInfo(r.programdataAddress);if(i===null)throw new Error("program data account not found");const{programData:o}=Y0(i.data);return o}const p4=Oe.rustEnum([Oe.struct([],"uninitialized"),Oe.struct([Oe.option(Oe.publicKey(),"authorityAddress")],"buffer"),Oe.struct([Oe.publicKey("programdataAddress")],"program"),Oe.struct([Oe.u64("slot"),Oe.option(Oe.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Oe.u32());function Y0(t){return p4.decode(t)}var g4=Object.freeze({__proto__:null,verifiedBuild:h4,fetchData:hA,decodeUpgradeableLoaderState:Y0}),y4=Object.freeze({__proto__:null,sha256:a4,rpc:DC,publicKey:c4,bytes:_C,token:d4,features:$C,registry:g4});function Ep(t){return new pA(Pc(8),e=>Mm.fromBuffer(e),e=>e.toBuffer(),t)}function gu(t){return new pA(Pc(32),e=>new X(e),e=>e.toBuffer(),t)}function bp(t,e){return new m4(t,e)}class pA extends Kf{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class m4 extends Kf{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Ti()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}class Mm extends lr{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Mm([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}dn([gu("mint"),gu("owner"),Ep("amount"),bp(gu(),"delegate"),(t=>{const e=uA(n4("discriminator"),null,t);return e.addVariant(0,dn([]),"uninitialized"),e.addVariant(1,dn([]),"initialized"),e.addVariant(2,dn([]),"frozen"),e})("state"),bp(Ep(),"isNative"),Ep("delegatedAmount"),bp(gu(),"closeAuthority")]);new X("11111111111111111111111111111111");const gA=te.createContext({});function w4(){return te.useContext(gA)}const v4=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=te.useMemo(()=>new ym(e,n),[e,n]);return ne.createElement(gA.Provider,{value:{connection:r}},t)};var yA={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,g;if(this._eventsCount===0)return u;for(g in f=this._events)e.call(f,g)&&u.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,_=new Array(m);w<m;w++)_[w]=g[w].fn;return _},a.prototype.listenerCount=function(u){var f=n?n+u:u,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(u,f,g,w,m,_){var T=n?n+u:u;if(!this._events[T])return!1;var M=this._events[T],E=arguments.length,A,S;if(M.fn){switch(M.once&&this.removeListener(u,M.fn,void 0,!0),E){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,f),!0;case 3:return M.fn.call(M.context,f,g),!0;case 4:return M.fn.call(M.context,f,g,w),!0;case 5:return M.fn.call(M.context,f,g,w,m),!0;case 6:return M.fn.call(M.context,f,g,w,m,_),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];M.fn.apply(M.context,A)}else{var C=M.length,P;for(S=0;S<C;S++)switch(M[S].once&&this.removeListener(u,M[S].fn,void 0,!0),E){case 1:M[S].fn.call(M[S].context);break;case 2:M[S].fn.call(M[S].context,f);break;case 3:M[S].fn.call(M[S].context,f,g);break;case 4:M[S].fn.call(M[S].context,f,g,w);break;default:if(!A)for(P=1,A=new Array(E-1);P<E;P++)A[P-1]=arguments[P];M[S].fn.apply(M[S].context,A)}}return!0},a.prototype.on=function(u,f,g){return o(this,u,f,g,!1)},a.prototype.once=function(u,f,g){return o(this,u,f,g,!0)},a.prototype.removeListener=function(u,f,g,w){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return s(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!w||_.once)&&(!g||_.context===g)&&s(this,m);else{for(var T=0,M=[],E=_.length;T<E;T++)(_[T].fn!==f||w&&!_[T].once||g&&_[T].context!==g)&&M.push(_[T]);M.length?this._events[m]=M.length===1?M[0]:M:s(this,m)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(yA);var _4=yA.exports;const mA=Ms(_4);class At extends Error{constructor(e,n){super(e),this.error=n}}class xo extends At{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Gf extends At{constructor(){super(...arguments),this.name="WalletLoadError"}}class fo extends At{constructor(){super(...arguments),this.name="WalletConfigError"}}class Ts extends At{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Dc extends At{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class al extends At{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ci extends At{constructor(){super(...arguments),this.name="WalletAccountError"}}class Oo extends At{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class S4 extends At{constructor(){super(...arguments),this.name="WalletKeypairError"}}class yt extends At{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class oi extends At{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class er extends At{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Uc extends At{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class q0 extends At{constructor(){super(...arguments),this.name="WalletSignInError"}}class E4 extends At{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class b4 extends At{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class A4 extends At{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var ze;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(ze||(ze={}));class Nm extends mA{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new yt;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function xm(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const o of e)o()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function ef(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function jr(t){return"version"in t}class Om extends Nm{async sendTransaction(e,n,r={}){let i=!0;try{if(jr(e)){if(!this.supportedTransactionVersions)throw new oi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new oi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,r)}catch(o){throw o instanceof er?(i=!1,o):new oi(o==null?void 0:o.message,o)}}else try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,s)}catch(o){throw o instanceof er?(i=!1,o):new oi(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(jr(r)){if(!this.supportedTransactionVersions)throw new er("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new er(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class zc extends Om{}class I4 extends zc{}var De={},Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.SolanaSignAndSendTransaction=void 0;Yf.SolanaSignAndSendTransaction="solana:signAndSendTransaction";var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.SolanaSignIn=void 0;qf.SolanaSignIn="solana:signIn";var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.SolanaSignMessage=void 0;Zf.SolanaSignMessage="solana:signMessage";var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.SolanaSignTransaction=void 0;Qf.SolanaSignTransaction="solana:signTransaction";var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.SignAndSendAllTransactions=void 0;Xf.SignAndSendAllTransactions="solana:signAndSendAllTransactions";(function(t){var e=Ut&&Ut.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Ut&&Ut.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Yf,t),n(qf,t),n(Zf,t),n(Qf,t),n(Xf,t)})(De);var Kr={},wA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Connect=t.StandardConnect=void 0,t.StandardConnect="standard:connect",t.Connect=t.StandardConnect})(wA);var vA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Disconnect=t.StandardDisconnect=void 0,t.StandardDisconnect="standard:disconnect",t.Disconnect=t.StandardDisconnect})(vA);var _A={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.StandardEvents=void 0,t.StandardEvents="standard:events",t.Events=t.StandardEvents})(_A);(function(t){var e=Ut&&Ut.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Ut&&Ut.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(wA,t),n(vA,t),n(_A,t)})(Kr);function SA(t){return Kr.StandardConnect in t.features&&Kr.StandardEvents in t.features&&(De.SolanaSignAndSendTransaction in t.features||De.SolanaSignTransaction in t.features)}var Z0;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(Z0||(Z0={}));const k4=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:zc,BaseSignInMessageSignerWalletAdapter:I4,BaseSignerWalletAdapter:Om,BaseWalletAdapter:Nm,EventEmitter:mA,WalletAccountError:Ci,get WalletAdapterNetwork(){return Z0},WalletConfigError:fo,WalletConnectionError:Ts,WalletDisconnectedError:Dc,WalletDisconnectionError:al,WalletError:At,WalletKeypairError:S4,WalletLoadError:Gf,WalletNotConnectedError:yt,WalletNotReadyError:xo,WalletPublicKeyError:Oo,get WalletReadyState(){return ze},WalletSendTransactionError:oi,WalletSignInError:q0,WalletSignMessageError:Uc,WalletSignTransactionError:er,WalletTimeoutError:E4,WalletWindowBlockedError:b4,WalletWindowClosedError:A4,isIosAndRedirectable:ef,isVersionedTransaction:jr,isWalletAdapterCompatibleStandardWallet:SA,scopePollingDetectionStrategy:xm},Symbol.toStringTag,{value:"Module"}));class nv extends At{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const R4=[],Jf={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Pr("call","select")},connect(){return Promise.reject(Pr("call","connect"))},disconnect(){return Promise.reject(Pr("call","disconnect"))},sendTransaction(){return Promise.reject(Pr("call","sendTransaction"))},signTransaction(){return Promise.reject(Pr("call","signTransaction"))},signAllTransactions(){return Promise.reject(Pr("call","signAllTransactions"))},signMessage(){return Promise.reject(Pr("call","signMessage"))},signIn(){return Promise.reject(Pr("call","signIn"))}};Object.defineProperty(Jf,"wallets",{get(){return Pr("read","wallets"),R4}});Object.defineProperty(Jf,"wallet",{get(){return Pr("read","wallet"),null}});Object.defineProperty(Jf,"publicKey",{get(){return Pr("read","publicKey"),null}});function Pr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const EA=te.createContext(Jf);function Cm(){return te.useContext(EA)}function T4(t,e){const n=te.useState(()=>{try{const o=localStorage.getItem(t);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=n[0],i=te.useRef(!0);return te.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,t]),n}var Do={};const M4=qa(k4);var pi={},jc={},N4=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},bA={},Er={};let Lm;const x4=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Er.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Er.getSymbolTotalCodewords=function(e){return x4[e]};Er.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Er.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Lm=e};Er.isKanjiModeEnabled=function(){return typeof Lm<"u"};Er.toSJIS=function(e){return Lm(e)};var eh={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(eh);function AA(){this.buffer=[],this.length=0}AA.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var O4=AA;function Wc(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Wc.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Wc.prototype.get=function(t,e){return this.data[t*this.size+e]};Wc.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Wc.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var C4=Wc,IA={};(function(t){const e=Er.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(IA);var kA={};const L4=Er.getSymbolSize,rv=7;kA.getPositions=function(e){const n=L4(e);return[[0,0],[n-rv,0],[0,n-rv]]};var RA={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,u=null,f=null;for(let g=0;g<o;g++){a=l=0,u=f=null;for(let w=0;w<o;w++){let m=i.get(g,w);m===u?a++:(a>=5&&(s+=e.N1+(a-5)),u=m,a=1),m=i.get(w,g),m===f?l++:(l>=5&&(s+=e.N1+(l-5)),f=m,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const u=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(u===4||u===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let u=0;u<o;u++){a=l=0;for(let f=0;f<o;f++)a=a<<1&2047|i.get(u,f),f>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(f,u),f>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<s;u++){o(u),t.applyMask(u,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),f<l&&(l=f,a=u)}return a}})(RA);var th={};const ho=eh,yu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];th.getBlocksCount=function(e,n){switch(n){case ho.L:return yu[(e-1)*4+0];case ho.M:return yu[(e-1)*4+1];case ho.Q:return yu[(e-1)*4+2];case ho.H:return yu[(e-1)*4+3];default:return}};th.getTotalCodewordsCount=function(e,n){switch(n){case ho.L:return mu[(e-1)*4+0];case ho.M:return mu[(e-1)*4+1];case ho.Q:return mu[(e-1)*4+2];case ho.H:return mu[(e-1)*4+3];default:return}};var TA={},nh={};const Vl=new Uint8Array(512),tf=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Vl[n]=e,tf[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Vl[n]=Vl[n-255]})();nh.log=function(e){if(e<1)throw new Error("log("+e+")");return tf[e]};nh.exp=function(e){return Vl[e]};nh.mul=function(e,n){return e===0||n===0?0:Vl[tf[e]+tf[n]]};(function(t){const e=nh;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(TA);const MA=TA;function Bm(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Bm.prototype.initialize=function(e){this.degree=e,this.genPoly=MA.generateECPolynomial(this.degree)};Bm.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=MA.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var B4=Bm,NA={},Uo={},Pm={};Pm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var gi={};const xA="[0-9]+",P4="[A-Z $%*+\\-./:]+";let _c="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";_c=_c.replace(/u/g,"\\u");const D4="(?:(?![A-Z0-9 $%*+\\-./:]|"+_c+`)(?:.|[\r
]))+`;gi.KANJI=new RegExp(_c,"g");gi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");gi.BYTE=new RegExp(D4,"g");gi.NUMERIC=new RegExp(xA,"g");gi.ALPHANUMERIC=new RegExp(P4,"g");const U4=new RegExp("^"+_c+"$"),z4=new RegExp("^"+xA+"$"),j4=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");gi.testKanji=function(e){return U4.test(e)};gi.testNumeric=function(e){return z4.test(e)};gi.testAlphanumeric=function(e){return j4.test(e)};(function(t){const e=Pm,n=gi;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(Uo);(function(t){const e=Er,n=th,r=eh,i=Uo,o=Pm,s=7973,a=e.getBCHDigit(s);function l(w,m,_){for(let T=1;T<=40;T++)if(m<=t.getCapacity(T,_,w))return T}function u(w,m){return i.getCharCountIndicator(w,m)+4}function f(w,m){let _=0;return w.forEach(function(T){const M=u(T.mode,m);_+=M+T.getBitsLength()}),_}function g(w,m){for(let _=1;_<=40;_++)if(f(w,_)<=t.getCapacity(_,m,i.MIXED))return _}t.from=function(m,_){return o.isValid(m)?parseInt(m,10):_},t.getCapacity=function(m,_,T){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=i.BYTE);const M=e.getSymbolTotalCodewords(m),E=n.getTotalCodewordsCount(m,_),A=(M-E)*8;if(T===i.MIXED)return A;const S=A-u(T,m);switch(T){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(m,_){let T;const M=r.from(_,r.M);if(Array.isArray(m)){if(m.length>1)return g(m,M);if(m.length===0)return 1;T=m[0]}else T=m;return l(T.mode,T.getLength(),M)},t.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let _=m<<12;for(;e.getBCHDigit(_)-a>=0;)_^=s<<e.getBCHDigit(_)-a;return m<<12|_}})(NA);var OA={};const Q0=Er,CA=1335,W4=21522,iv=Q0.getBCHDigit(CA);OA.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Q0.getBCHDigit(i)-iv>=0;)i^=CA<<Q0.getBCHDigit(i)-iv;return(r<<10|i)^W4};var LA={};const F4=Uo;function Ka(t){this.mode=F4.NUMERIC,this.data=t.toString()}Ka.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ka.prototype.getLength=function(){return this.data.length};Ka.prototype.getBitsLength=function(){return Ka.getBitsLength(this.data.length)};Ka.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var H4=Ka;const K4=Uo,Ap=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function $a(t){this.mode=K4.ALPHANUMERIC,this.data=t}$a.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};$a.prototype.getLength=function(){return this.data.length};$a.prototype.getBitsLength=function(){return $a.getBitsLength(this.data.length)};$a.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ap.indexOf(this.data[n])*45;r+=Ap.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Ap.indexOf(this.data[n]),6)};var $4=$a;const V4=Uo;function Va(t){this.mode=V4.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Va.getBitsLength=function(e){return e*8};Va.prototype.getLength=function(){return this.data.length};Va.prototype.getBitsLength=function(){return Va.getBitsLength(this.data.length)};Va.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var G4=Va;const Y4=Uo,q4=Er;function Ga(t){this.mode=Y4.KANJI,this.data=t}Ga.getBitsLength=function(e){return e*13};Ga.prototype.getLength=function(){return this.data.length};Ga.prototype.getBitsLength=function(){return Ga.getBitsLength(this.data.length)};Ga.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=q4.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Z4=Ga,BA={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,u,f,g,w,m,_,T,M;!a.empty();){l=a.pop(),u=l.value,g=l.cost,w=n[u]||{};for(f in w)w.hasOwnProperty(f)&&(m=w[f],_=g+m,T=s[f],M=typeof s[f]>"u",(M||T>_)&&(s[f]=_,a.push(f,_),o[f]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(BA);var Q4=BA.exports;(function(t){const e=Uo,n=H4,r=$4,i=G4,o=Z4,s=gi,a=Er,l=Q4;function u(E){return unescape(encodeURIComponent(E)).length}function f(E,A,S){const C=[];let P;for(;(P=E.exec(S))!==null;)C.push({data:P[0],index:P.index,mode:A,length:P[0].length});return C}function g(E){const A=f(s.NUMERIC,e.NUMERIC,E),S=f(s.ALPHANUMERIC,e.ALPHANUMERIC,E);let C,P;return a.isKanjiModeEnabled()?(C=f(s.BYTE,e.BYTE,E),P=f(s.KANJI,e.KANJI,E)):(C=f(s.BYTE_KANJI,e.BYTE,E),P=[]),A.concat(S,C,P).sort(function(j,H){return j.index-H.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function w(E,A){switch(A){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return o.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function m(E){return E.reduce(function(A,S){const C=A.length-1>=0?A[A.length-1]:null;return C&&C.mode===S.mode?(A[A.length-1].data+=S.data,A):(A.push(S),A)},[])}function _(E){const A=[];for(let S=0;S<E.length;S++){const C=E[S];switch(C.mode){case e.NUMERIC:A.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:A.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:A.push([C,{data:C.data,mode:e.BYTE,length:u(C.data)}]);break;case e.BYTE:A.push([{data:C.data,mode:e.BYTE,length:u(C.data)}])}}return A}function T(E,A){const S={},C={start:{}};let P=["start"];for(let D=0;D<E.length;D++){const j=E[D],H=[];for(let W=0;W<j.length;W++){const Y=j[W],Z=""+D+W;H.push(Z),S[Z]={node:Y,lastCount:0},C[Z]={};for(let V=0;V<P.length;V++){const b=P[V];S[b]&&S[b].node.mode===Y.mode?(C[b][Z]=w(S[b].lastCount+Y.length,Y.mode)-w(S[b].lastCount,Y.mode),S[b].lastCount+=Y.length):(S[b]&&(S[b].lastCount=Y.length),C[b][Z]=w(Y.length,Y.mode)+4+e.getCharCountIndicator(Y.mode,A))}}P=H}for(let D=0;D<P.length;D++)C[P[D]].end=0;return{map:C,table:S}}function M(E,A){let S;const C=e.getBestModeForData(E);if(S=e.from(A,C),S!==e.BYTE&&S.bit<C.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(C));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new o(E);case e.BYTE:return new i(E)}}t.fromArray=function(A){return A.reduce(function(S,C){return typeof C=="string"?S.push(M(C,null)):C.data&&S.push(M(C.data,C.mode)),S},[])},t.fromString=function(A,S){const C=g(A,a.isKanjiModeEnabled()),P=_(C),D=T(P,S),j=l.find_path(D.map,"start","end"),H=[];for(let W=1;W<j.length-1;W++)H.push(D.table[j[W]].node);return t.fromArray(m(H))},t.rawSplit=function(A){return t.fromArray(g(A,a.isKanjiModeEnabled()))}})(LA);const rh=Er,Ip=eh,X4=O4,J4=C4,eL=IA,tL=kA,X0=RA,J0=th,nL=B4,nf=NA,rL=OA,iL=Uo,kp=LA;function oL(t,e){const n=t.size,r=tL.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function sL(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function aL(t,e){const n=eL.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function lL(t,e){const n=t.size,r=nf.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function Rp(t,e,n){const r=t.size,i=rL.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function cL(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let u=!1;s<e.length&&(u=(e[s]>>>o&1)===1),t.set(i,a-l,u),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function uL(t,e,n){const r=new X4;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),iL.getCharCountIndicator(l.mode,t)),l.write(r)});const i=rh.getSymbolTotalCodewords(t),o=J0.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return dL(r,t,e)}function dL(t,e,n){const r=rh.getSymbolTotalCodewords(e),i=J0.getTotalCodewordsCount(e,n),o=r-i,s=J0.getBlocksCount(e,n),a=r%s,l=s-a,u=Math.floor(r/s),f=Math.floor(o/s),g=f+1,w=u-f,m=new nL(w);let _=0;const T=new Array(s),M=new Array(s);let E=0;const A=new Uint8Array(t.buffer);for(let j=0;j<s;j++){const H=j<l?f:g;T[j]=A.slice(_,_+H),M[j]=m.encode(T[j]),_+=H,E=Math.max(E,H)}const S=new Uint8Array(r);let C=0,P,D;for(P=0;P<E;P++)for(D=0;D<s;D++)P<T[D].length&&(S[C++]=T[D][P]);for(P=0;P<w;P++)for(D=0;D<s;D++)S[C++]=M[D][P];return S}function fL(t,e,n,r){let i;if(Array.isArray(t))i=kp.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const f=kp.rawSplit(t);u=nf.getBestVersionForData(f,n)}i=kp.fromString(t,u||40)}else throw new Error("Invalid data");const o=nf.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=uL(e,n,i),a=rh.getSymbolSize(e),l=new J4(a);return oL(l,e),sL(l),aL(l,e),Rp(l,n,0),e>=7&&lL(l,e),cL(l,s),isNaN(r)&&(r=X0.getBestMask(l,Rp.bind(null,l,n))),X0.applyMask(r,l),Rp(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}bA.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Ip.M,i,o;return typeof n<"u"&&(r=Ip.from(n.errorCorrectionLevel,Ip.M),i=nf.from(n.version),o=X0.from(n.maskPattern),n.toSJISFunc&&rh.setToSJISFunction(n.toSJISFunc)),fL(e,i,r,o)};var PA={},Dm={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),u=Math.floor((s+o.margin*2)*l),f=o.margin*l,g=[o.color.light,o.color.dark];for(let w=0;w<u;w++)for(let m=0;m<u;m++){let _=(w*u+m)*4,T=o.color.light;if(w>=f&&m>=f&&w<u-f&&m<u-f){const M=Math.floor((w-f)/l),E=Math.floor((m-f)/l);T=g[a[M*s+E]?1:0]}r[_++]=T.r,r[_++]=T.g,r[_++]=T.b,r[_]=T.a}}})(Dm);(function(t){const e=Dm;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,u=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(u=r()),l=e.getOptions(l);const f=e.getImageWidth(o.modules.size,l),g=u.getContext("2d"),w=g.createImageData(f,f);return e.qrToImageData(w.data,o,l),n(g,u,f),g.putImageData(w,0,0),u},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const u=t.render(o,s,l),f=l.type||"image/png",g=l.rendererOpts||{};return u.toDataURL(f,g.quality)}})(PA);var DA={};const hL=Dm;function ov(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Tp(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function pL(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),u=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?Tp("M",l+n,.5+u+n):Tp("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=Tp("h",s),s=0)):i++}return r}DA.render=function(e,n,r){const i=hL.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+ov(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+ov(i.color.dark,"stroke")+' d="'+pL(s,o,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,w),w};const gL=N4,eg=bA,UA=PA,yL=DA;function Um(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!gL())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,u){try{const f=eg.create(n,r);l(t(f,e,r))}catch(f){u(f)}})}try{const l=eg.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}jc.create=eg.create;jc.toCanvas=Um.bind(null,UA.render);jc.toDataURL=Um.bind(null,UA.renderToDataURL);jc.toString=Um.bind(null,function(t,e,n){return yL.render(t,n)});function Mp(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var ii={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(ii);const mL="https://api.mainnet-beta.solana.com";function wL(t){return t.includes(mL)?ii.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?ii.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?ii.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?ii.SOLANA_LOCALNET_CHAIN:ii.SOLANA_MAINNET_CHAIN}function vL(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const gr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class yr extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const _L={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class ih extends Error{constructor(...e){const[n,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function it(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(g){s(g)}}function l(f){try{u(r.throw(f))}catch(g){s(g)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((r=r.apply(t,[])).next())})}function SL(t){return window.btoa(t)}function tg(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function EL(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Pu(t,e){return it(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function bL(t){return vL(t)}function AL(t){return SL(bL(t))}const zA="solana:signTransactions",ng="solana:cloneAuthorization",IL="solana:signInWithSolana";function jA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return it(this,void 0,void 0,function*(){const{method:o,params:s}=kL(r,i,t),a=yield e(o,s);return o==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield TL(s.sign_in_payload,a,e)),RL(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function kL(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:o}=r;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:s}=r;if(o)switch(n){case"legacy":{i="reauthorize",r={auth_token:o,identity:s};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function RL(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[zA];return r.supports_clone_authorization===!0&&i.push(ng),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(ng)})}}}return e}function TL(t,e,n){var r;return it(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,s=AL(Object.assign(Object.assign({},t),{domain:i,address:o})),a=yield n("sign_messages",{addresses:[o],payloads:[s]});return{address:o,signed_message:s,signature:a.signed_payloads[0].slice(s.length)}})}const Li=4;function ML(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Li);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const rg=12,zm=65;function NL(t,e,n){return it(this,void 0,void 0,function*(){const r=ML(e),i=new Uint8Array(rg);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(FA(r,i),n,new TextEncoder().encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function WA(t,e){return it(this,void 0,void 0,function*(){const n=t.slice(0,Li),r=t.slice(Li,Li+rg),i=t.slice(Li+rg),o=yield crypto.subtle.decrypt(FA(n,r),e,i);return xL().decode(o)})}function FA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Np;function xL(){return Np===void 0&&(Np=new TextDecoder("utf-8")),Np}function HA(){return it(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Du(){return it(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function KA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function OL(){return $A(49152+Math.floor(Math.random()*16384))}function $A(t){if(t<49152||t>65535)throw new yr(gr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function VA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const CL="solana-wallet";function sv(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function GA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new yr(gr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${CL}:/`));const r=t.startsWith("/")?t:[...sv(n.pathname),...sv(t)].join("/");return new URL(r,n)}function LL(t,e,n,r=["v1"]){return it(this,void 0,void 0,function*(){const i=$A(e),o=yield crypto.subtle.exportKey("raw",t),s=KA(o),a=GA("v1/associate/local",n);return a.searchParams.set("association",VA(s)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function BL(t,e,n,r,i=["v1"]){return it(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",t),s=KA(o),a=GA("v1/associate/remote",r);return a.searchParams.set("association",VA(s)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${tg(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function YA(t,e){return it(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return NL(n,r,e)})}function qA(t,e){return it(this,void 0,void 0,function*(){const n=yield WA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new ih(r.id,r.error.code,r.error.message);return r})}function ZA(t,e,n){return it(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,zm),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function QA(t,e){return it(this,void 0,void 0,function*(){const n=yield WA(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new yr(gr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const rf={Firefox:0,Other:1};function PL(){return navigator.userAgent.indexOf("Firefox/")!==-1?rf.Firefox:rf.Other}function DL(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let wl=null;function UL(t){wl==null&&(wl=document.createElement("iframe"),wl.style.display="none",document.body.appendChild(wl)),wl.contentWindow.location.href=t.toString()}function zL(t){return it(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=PL();switch(e){case rf.Firefox:UL(t);break;case rf.Other:{const n=DL();window.location.assign(t),yield n;break}default:}}catch{throw new yr(gr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function jL(t,e){return it(this,void 0,void 0,function*(){const n=OL(),r=yield LL(t,n,e);return yield zL(r),n})}const of={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},XA="com.solana.mobilewalletadapter.v1",av="com.solana.mobilewalletadapter.v1.base64";function JA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new yr(gr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function eI(t){let e;try{e=new URL(t)}catch{throw new yr(gr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new yr(gr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function sf(t){return new DataView(t).getUint32(0,!1)}function WL(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,o=0,s;do{if(o>=n||o>r)throw new RangeError("Failed to decode varint");s=e[o++],i|=(s&127)<<7*o}while(s>=128);return{value:i,offset:o}}function FL(t){let{value:e,offset:n}=WL(t);return new Uint8Array(t.slice(n,n+e))}function HL(t,e){return it(this,void 0,void 0,function*(){JA();const n=yield HA(),i=`ws://localhost:${yield jL(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const s=(()=>{const f=[...of.retryDelayScheduleMs];return()=>f.length>1?f.shift():f[0]})();let a=1,l=0,u={__type:"disconnected"};return new Promise((f,g)=>{let w;const m={},_=()=>it(this,void 0,void 0,function*(){if(u.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}w.removeEventListener("open",_);const{associationKeypair:P}=u,D=yield Du();w.send(yield Pu(D.publicKey,P.privateKey)),u={__type:"hello_req_sent",associationPublicKey:P.publicKey,ecdhPrivateKey:D.privateKey}}),T=P=>{P.wasClean?u={__type:"disconnected"}:g(new yr(gr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${P.code}: ${P.reason}).`,{closeEvent:P})),A()},M=P=>it(this,void 0,void 0,function*(){A(),Date.now()-o>=of.timeoutMs?g(new yr(gr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(D=>{const j=s();S=window.setTimeout(D,j)}),C())}),E=P=>it(this,void 0,void 0,function*(){const D=yield P.data.arrayBuffer();switch(u.__type){case"connecting":if(D.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const j=yield Du();w.send(yield Pu(j.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:j.privateKey};break;case"connected":try{const H=D.slice(0,Li),W=sf(H);if(W!==l+1)throw new Error("Encrypted message has invalid sequence number");l=W;const Y=yield qA(D,u.sharedSecret),Z=m[Y.id];delete m[Y.id],Z.resolve(Y.result)}catch(H){if(H instanceof ih){const W=m[H.jsonRpcMessageId];delete m[H.jsonRpcMessageId],W.reject(H)}else throw H}break;case"hello_req_sent":{if(D.byteLength===0){const V=yield Du();w.send(yield Pu(V.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:V.privateKey};break}const H=yield ZA(D,u.associationPublicKey,u.ecdhPrivateKey),W=D.slice(zm),Y=W.byteLength!==0?yield it(this,void 0,void 0,function*(){const V=W.slice(0,Li),b=sf(V);if(b!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=b,QA(W,H)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:H,sessionProperties:Y};const Z=jA(Y.protocol_version,(V,b)=>it(this,void 0,void 0,function*(){const c=a++;return w.send(yield YA({id:c,jsonrpc:"2.0",method:V,params:b??{}},H)),new Promise((d,v)=>{m[c]={resolve(k){switch(V){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=k;if(I!=null)try{eI(I)}catch(x){v(x);return}break}}d(k)},reject:v}})}));try{f(yield t(Z))}catch(V){g(V)}finally{A(),w.close()}break}}});let A,S;const C=()=>{A&&A(),u={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),w=new WebSocket(i,[XA]),w.addEventListener("open",_),w.addEventListener("close",T),w.addEventListener("error",M),w.addEventListener("message",E),A=()=>{window.clearTimeout(S),w.removeEventListener("open",_),w.removeEventListener("close",T),w.removeEventListener("error",M),w.removeEventListener("message",E)}};C()})})}function KL(t){return it(this,void 0,void 0,function*(){JA();const e=yield HA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const T=[...of.retryDelayScheduleMs];return()=>T.length>1?T.shift():T[0]})();let o=1,s=0,a,l={__type:"disconnected"},u,f,g=T=>it(this,void 0,void 0,function*(){if(a=="base64"){const M=yield T.data;return EL(M).buffer}else return yield T.data.arrayBuffer()});const w=yield new Promise((T,M)=>{const E=()=>it(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}u.protocol.includes(av)?a="base64":a="binary",u.removeEventListener("open",E)}),A=j=>{j.wasClean?l={__type:"disconnected"}:M(new yr(gr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${j.code}: ${j.reason}).`,{closeEvent:j})),f()},S=j=>it(this,void 0,void 0,function*(){f(),Date.now()-r>=of.timeoutMs?M(new yr(gr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(H=>{const W=i();P=window.setTimeout(H,W)}),D())}),C=j=>it(this,void 0,void 0,function*(){const H=yield g(j);if(l.__type==="connecting"){if(H.byteLength==0)throw new Error("Encountered unexpected message while connecting");const W=FL(H);l={__type:"reflector_id_received",reflectorId:W};const Y=yield BL(e.publicKey,t.remoteHostAuthority,W,t==null?void 0:t.baseUri);u.removeEventListener("message",C),T(Y)}});let P;const D=()=>{f&&f(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),u=new WebSocket(n,[XA,av]),u.addEventListener("open",E),u.addEventListener("close",A),u.addEventListener("error",S),u.addEventListener("message",C),f=()=>{window.clearTimeout(P),u.removeEventListener("open",E),u.removeEventListener("close",A),u.removeEventListener("error",S),u.removeEventListener("message",C)}};D()});let m=!1,_;return{associationUrl:w,close:()=>{u.close(),_()},wallet:new Promise((T,M)=>{const E={},A=S=>it(this,void 0,void 0,function*(){const C=yield g(S);switch(l.__type){case"reflector_id_received":if(C.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const P=yield Du(),D=yield Pu(P.publicKey,e.privateKey);a=="base64"?u.send(tg(D)):u.send(D),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:P.privateKey};break;case"connected":try{const j=C.slice(0,Li),H=sf(j);if(H!==s+1)throw new Error("Encrypted message has invalid sequence number");s=H;const W=yield qA(C,l.sharedSecret),Y=E[W.id];delete E[W.id],Y.resolve(W.result)}catch(j){if(j instanceof ih){const H=E[j.jsonRpcMessageId];delete E[j.jsonRpcMessageId],H.reject(j)}else throw j}break;case"hello_req_sent":{const j=yield ZA(C,l.associationPublicKey,l.ecdhPrivateKey),H=C.slice(zm),W=H.byteLength!==0?yield it(this,void 0,void 0,function*(){const Z=H.slice(0,Li),V=sf(Z);if(V!==s+1)throw new Error("Encrypted message has invalid sequence number");return s=V,QA(H,j)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:j,sessionProperties:W};const Y=jA(W.protocol_version,(Z,V)=>it(this,void 0,void 0,function*(){const b=o++,c=yield YA({id:b,jsonrpc:"2.0",method:Z,params:V??{}},j);return a=="base64"?u.send(tg(c)):u.send(c),new Promise((d,v)=>{E[b]={resolve(k){switch(Z){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=k;if(I!=null)try{eI(I)}catch(x){v(x);return}break}}d(k)},reject:v}})}));m=!0;try{T(Y)}catch(Z){M(Z)}break}}});u.addEventListener("message",A),_=()=>{u.removeEventListener("message",A),f(),m||M(new yr(gr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}const $L=Object.freeze(Object.defineProperty({__proto__:null,SolanaCloneAuthorization:ng,SolanaMobileWalletAdapterError:yr,SolanaMobileWalletAdapterErrorCode:gr,SolanaMobileWalletAdapterProtocolError:ih,SolanaMobileWalletAdapterProtocolErrorCode:_L,SolanaSignInWithSolana:IL,SolanaSignTransactions:zA,startRemoteScenario:KL,transact:HL},Symbol.toStringTag,{value:"Module"})),VL=qa($L);function GL(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var _=0,T=0,M=0,E=m.length;M!==E&&m[M]===0;)M++,_++;for(var A=(E-M)*u+1>>>0,S=new Uint8Array(A);M!==E;){for(var C=m[M],P=0,D=A-1;(C!==0||P<T)&&D!==-1;D--,P++)C+=256*S[D]>>>0,S[D]=C%s>>>0,C=C/s>>>0;if(C!==0)throw new Error("Non-zero carry");T=P,M++}for(var j=A-T;j!==A&&S[j]===0;)j++;for(var H=a.repeat(_);j<A;++j)H+=t.charAt(S[j]);return H}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var _=0,T=0,M=0;m[_]===a;)T++,_++;for(var E=(m.length-_)*l+1>>>0,A=new Uint8Array(E);m[_];){var S=m.charCodeAt(_);if(S>255)return;var C=e[S];if(C===255)return;for(var P=0,D=E-1;(C!==0||P<M)&&D!==-1;D--,P++)C+=s*A[D]>>>0,A[D]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");M=P,_++}for(var j=E-M;j!==E&&A[j]===0;)j++;for(var H=new Uint8Array(T+(E-j)),W=T;j!==E;)H[W++]=A[j++];return H}function w(m){var _=g(m);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var YL=GL;const qL=YL,ZL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var QL=qL(ZL);Object.defineProperty(pi,"__esModule",{value:!0});var on=De,XL=jc,tI=VL,Ma=Kr,JL=QL,lv=ii;function nI(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var e3=nI(XL),Sc=nI(JL);function Me(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(g){s(g)}}function l(f){try{u(r.throw(f))}catch(g){s(g)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((r=r.apply(t,[])).next())})}function z(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Ue(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Al,an,Yo,Gs,rI,iI,oI,Uu;const t3=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,n3=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,r3=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class sI{constructor(){Al.add(this),an.set(this,null),Yo.set(this,{}),Gs.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),z(this,Al,"m",iI).call(this),z(this,an,"f")&&(z(this,an,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),z(this,Al,"m",oI).call(this),z(this,an,"f")&&(z(this,an,"f").style.display="none"),(n=z(this,Yo,"f").close)===null||n===void 0||n.forEach(r=>r(e))},Uu.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Ue(this,an,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Me(this,void 0,void 0,function*(){console.log("Injecting modal"),z(this,Al,"m",rI).call(this)})}addEventListener(e,n){var r;return!((r=z(this,Yo,"f")[e])===null||r===void 0)&&r.push(n)||(z(this,Yo,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;z(this,Yo,"f")[e]=(r=z(this,Yo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}an=new WeakMap,Yo=new WeakMap,Gs=new WeakMap,Uu=new WeakMap,Al=new WeakSet,rI=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){z(this,an,"f")||Ue(this,an,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Ue(this,an,document.createElement("div")),z(this,an,"f").id="mobile-wallet-adapter-embedded-root-ui",z(this,an,"f").innerHTML=t3,z(this,an,"f").style.display="none";const e=z(this,an,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=n3+this.contentStyles;const r=document.createElement("div");r.innerHTML=r3,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(z(this,an,"f")),document.body.appendChild(r)},iI=function(){if(!z(this,an,"f")||z(this,Gs,"f"))return;[...z(this,an,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",z(this,Uu,"f")),Ue(this,Gs,!0)},oI=function(){if(!z(this,Gs,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",z(this,Uu,"f")),!z(this,an,"f")))return;[...z(this,an,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Ue(this,Gs,!1)};class i3 extends sI{constructor(){super(...arguments),this.contentStyles=s3,this.contentHtml=o3}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Me(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Me(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield e3.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const o3=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,s3=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,aI="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function po(t){return window.btoa(String.fromCharCode.call(null,...t))}function Pn(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Ys,fs,ig,og,sg,ag,Il,Cn,Si,Qi,qs,qo,zu,kl,ju,lg,Wu,lI,cg,Fu,Zs,Hu,Rl,Ku,Qs,Tl,$u,ug,dg,Vu,Gu,fg,hg,Yu,Xs,hs,pg,gg,yg,mg,Ml,Ln,Xi,Ji,Js,Zo,qu,Nl,Zu,Qu,Lr,wg,Xu,cI,vg,Ju,xl,_g,Ol,ed,ea,Cl,td,Sg,Eg,nd,rd,bg,Ag,id;const jm="Mobile Wallet Adapter",uI=64,dI=[on.SolanaSignAndSendTransaction,on.SolanaSignTransaction,on.SolanaSignMessage,on.SolanaSignIn];class fI{constructor(e){Ys.add(this),fs.set(this,{}),ig.set(this,"1.0.0"),og.set(this,jm),sg.set(this,"https://solanamobile.com/wallets"),ag.set(this,aI),Il.set(this,void 0),Cn.set(this,void 0),Si.set(this,void 0),Qi.set(this,!1),qs.set(this,0),qo.set(this,[]),zu.set(this,void 0),kl.set(this,void 0),ju.set(this,void 0),lg.set(this,(n,r)=>{var i;return!((i=z(this,fs,"f")[n])===null||i===void 0)&&i.push(r)||(z(this,fs,"f")[n]=[r]),()=>z(this,Ys,"m",lI).call(this,n,r)}),cg.set(this,({silent:n}={})=>Me(this,void 0,void 0,function*(){if(z(this,Qi,"f")||this.connected)return{accounts:this.accounts};Ue(this,Qi,!0);try{if(n){const r=yield z(this,Si,"f").get();if(r)yield z(this,Hu,"f").call(this,r.capabilities),yield z(this,Zs,"f").call(this,r);else return{accounts:this.accounts}}else yield z(this,Fu,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Ue(this,Qi,!1)}return{accounts:this.accounts}})),Fu.set(this,n=>Me(this,void 0,void 0,function*(){try{const r=yield z(this,Si,"f").get();if(r)return z(this,Zs,"f").call(this,r),r;const i=yield z(this,zu,"f").select(z(this,qo,"f"));return yield z(this,Qs,"f").call(this,o=>Me(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:z(this,Il,"f"),sign_in_payload:n})]),l=z(this,$u,"f").call(this,a.accounts),u=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([z(this,Hu,"f").call(this,s),z(this,Si,"f").set(u),z(this,Zs,"f").call(this,u)]),u}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Zs.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=z(this,Cn,"f")==null||((r=z(this,Cn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||z(this,Cn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Ue(this,Cn,n),i&&z(this,Ys,"m",Wu).call(this,"change",{accounts:this.accounts})})),Hu.set(this,n=>Me(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,o=on.SolanaSignAndSendTransaction in this.features!==i||on.SolanaSignTransaction in this.features!==r;Ue(this,kl,Object.assign(Object.assign({},(i||!i&&!r)&&{[on.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:z(this,Vu,"f")}}),r&&{[on.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:z(this,Gu,"f")}})),o&&z(this,Ys,"m",Wu).call(this,"change",{features:this.features})})),Rl.set(this,(n,r,i)=>Me(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=z(this,Cn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:z(this,Il,"f"),chain:i})]),u=z(this,$u,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:u,chain:i,capabilities:a});Promise.all([z(this,Si,"f").set(f),z(this,Zs,"f").call(this,f)])}catch(a){throw z(this,Ku,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Ku.set(this,()=>Me(this,void 0,void 0,function*(){var n;z(this,Si,"f").clear(),Ue(this,Qi,!1),Ue(this,qs,(n=z(this,qs,"f"),n++,n)),Ue(this,Cn,void 0),z(this,Ys,"m",Wu).call(this,"change",{accounts:this.accounts})})),Qs.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=(r=z(this,Cn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,s=z(this,qs,"f");try{return yield tI.transact(n,o)}catch(a){throw z(this,qs,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield z(this,ju,"f").call(this,this)),a}})),Tl.set(this,()=>{if(!z(this,Cn,"f"))throw new Error("Wallet not connected");return{authToken:z(this,Cn,"f").auth_token,chain:z(this,Cn,"f").chain}}),$u.set(this,n=>n.map(r=>{var i,o;const s=Pn(r.address);return{address:Sc.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:z(this,qo,"f"),features:(o=r.features)!==null&&o!==void 0?o:dI}})),ug.set(this,n=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=z(this,Tl,"f").call(this);try{const o=n.map(s=>po(s));return yield z(this,Qs,"f").call(this,s=>Me(this,void 0,void 0,function*(){return yield z(this,Rl,"f").call(this,s,r,i),(yield s.signTransactions({payloads:o})).signed_payloads.map(Pn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),dg.set(this,(n,r)=>Me(this,void 0,void 0,function*(){const{authToken:i,chain:o}=z(this,Tl,"f").call(this);try{return yield z(this,Qs,"f").call(this,s=>Me(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),z(this,Rl,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions){const u=po(n);return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[u]}))).signatures.map(Pn)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Vu.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield z(this,dg,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),Gu.set(this,(...n)=>Me(this,void 0,void 0,function*(){return(yield z(this,ug,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),fg.set(this,(...n)=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=z(this,Tl,"f").call(this),o=n.map(({account:a})=>po(a.publicKey)),s=n.map(({message:a})=>po(a));try{return yield z(this,Qs,"f").call(this,a=>Me(this,void 0,void 0,function*(){return yield z(this,Rl,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(Pn).map(u=>({signedMessage:u,signature:u.slice(-uI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),hg.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield z(this,Yu,"f").call(this,i));else return[yield z(this,Yu,"f").call(this,n[0])];return r})),Yu.set(this,n=>Me(this,void 0,void 0,function*(){var r,i,o;Ue(this,Qi,!0);try{const s=yield z(this,Fu,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(u=>u.address==a);return{account:Object.assign(Object.assign({},l??{address:Sc.default.encode(Pn(a))}),{publicKey:Pn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:z(this,qo,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:Pn(s.sign_in_result.signed_message),signature:Pn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Ue(this,Qi,!1)}})),Ue(this,Si,e.authorizationCache),Ue(this,Il,e.appIdentity),Ue(this,qo,e.chains),Ue(this,zu,e.chainSelector),Ue(this,ju,e.onWalletNotFound),Ue(this,kl,{[on.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:z(this,Vu,"f")},[on.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:z(this,Gu,"f")}})}get version(){return z(this,ig,"f")}get name(){return z(this,og,"f")}get url(){return z(this,sg,"f")}get icon(){return z(this,ag,"f")}get chains(){return z(this,qo,"f")}get features(){return Object.assign({[Ma.StandardConnect]:{version:"1.0.0",connect:z(this,cg,"f")},[Ma.StandardDisconnect]:{version:"1.0.0",disconnect:z(this,Ku,"f")},[Ma.StandardEvents]:{version:"1.0.0",on:z(this,lg,"f")},[on.SolanaSignMessage]:{version:"1.0.0",signMessage:z(this,fg,"f")},[on.SolanaSignIn]:{version:"1.0.0",signIn:z(this,hg,"f")}},z(this,kl,"f"))}get accounts(){var e,n;return(n=(e=z(this,Cn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!z(this,Cn,"f")}get isAuthorized(){return!!z(this,Cn,"f")}get currentAuthorization(){return z(this,Cn,"f")}get cachedAuthorizationResult(){return z(this,Si,"f").get()}}fs=new WeakMap,ig=new WeakMap,og=new WeakMap,sg=new WeakMap,ag=new WeakMap,Il=new WeakMap,Cn=new WeakMap,Si=new WeakMap,Qi=new WeakMap,qs=new WeakMap,qo=new WeakMap,zu=new WeakMap,kl=new WeakMap,ju=new WeakMap,lg=new WeakMap,cg=new WeakMap,Fu=new WeakMap,Zs=new WeakMap,Hu=new WeakMap,Rl=new WeakMap,Ku=new WeakMap,Qs=new WeakMap,Tl=new WeakMap,$u=new WeakMap,ug=new WeakMap,dg=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,fg=new WeakMap,hg=new WeakMap,Yu=new WeakMap,Ys=new WeakSet,Wu=function(e,...n){var r;(r=z(this,fs,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},lI=function(e,n){var r;z(this,fs,"f")[e]=(r=z(this,fs,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class hI{constructor(e){Xs.add(this),hs.set(this,{}),pg.set(this,"1.0.0"),gg.set(this,jm),yg.set(this,"https://solanamobile.com/wallets"),mg.set(this,aI),Ml.set(this,void 0),Ln.set(this,void 0),Xi.set(this,void 0),Ji.set(this,!1),Js.set(this,0),Zo.set(this,[]),qu.set(this,void 0),Nl.set(this,void 0),Zu.set(this,void 0),Qu.set(this,void 0),Lr.set(this,void 0),wg.set(this,(n,r)=>{var i;return!((i=z(this,hs,"f")[n])===null||i===void 0)&&i.push(r)||(z(this,hs,"f")[n]=[r]),()=>z(this,Xs,"m",cI).call(this,n,r)}),vg.set(this,({silent:n}={})=>Me(this,void 0,void 0,function*(){if(z(this,Ji,"f")||this.connected)return{accounts:this.accounts};Ue(this,Ji,!0);try{yield z(this,Ju,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Ue(this,Ji,!1)}return{accounts:this.accounts}})),Ju.set(this,n=>Me(this,void 0,void 0,function*(){try{const r=yield z(this,Xi,"f").get();if(r)return z(this,xl,"f").call(this,r),r;z(this,Lr,"f")&&Ue(this,Lr,void 0,"f");const i=yield z(this,qu,"f").select(z(this,Zo,"f"));return yield z(this,ea,"f").call(this,o=>Me(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:z(this,Ml,"f"),sign_in_payload:n})]),l=z(this,td,"f").call(this,a.accounts),u=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([z(this,_g,"f").call(this,s),z(this,Xi,"f").set(u),z(this,xl,"f").call(this,u)]),u}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),xl.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=z(this,Ln,"f")==null||((r=z(this,Ln,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||z(this,Ln,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Ue(this,Ln,n),i&&z(this,Xs,"m",Xu).call(this,"change",{accounts:this.accounts})})),_g.set(this,n=>Me(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),o=on.SolanaSignAndSendTransaction in this.features!==i||on.SolanaSignTransaction in this.features!==r;Ue(this,Nl,Object.assign(Object.assign({},i&&{[on.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:z(this,nd,"f")}}),r&&{[on.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:z(this,rd,"f")}})),o&&z(this,Xs,"m",Xu).call(this,"change",{features:this.features})})),Ol.set(this,(n,r,i)=>Me(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=z(this,Ln,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:z(this,Ml,"f"),chain:i})]),u=z(this,td,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:u,chain:i,capabilities:a});Promise.all([z(this,Xi,"f").set(f),z(this,xl,"f").call(this,f)])}catch(a){throw z(this,ed,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),ed.set(this,()=>Me(this,void 0,void 0,function*(){var n,r;(n=z(this,Lr,"f"))===null||n===void 0||n.close(),z(this,Xi,"f").clear(),Ue(this,Ji,!1),Ue(this,Js,(r=z(this,Js,"f"),r++,r)),Ue(this,Ln,void 0),Ue(this,Lr,void 0),z(this,Xs,"m",Xu).call(this,"change",{accounts:this.accounts})})),ea.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=(r=z(this,Ln,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:z(this,Qu,"f")}),a=z(this,Js,"f"),l=new i3;if(z(this,Lr,"f"))return n(z(this,Lr,"f").wallet);try{const{associationUrl:u,close:f,wallet:g}=yield tI.startRemoteScenario(s),w=l.addEventListener("close",m=>{m&&f()});return l.initWithQR(u.toString()),l.open(),Ue(this,Lr,{close:f,wallet:yield g},"f"),w(),l.close(),yield n(z(this,Lr,"f").wallet)}catch(u){throw l.close(),z(this,Js,"f")!==a&&(yield new Promise(()=>{})),u instanceof Error&&u.name==="SolanaMobileWalletAdapterError"&&u.code==="ERROR_WALLET_NOT_FOUND"&&(yield z(this,Zu,"f").call(this,this)),u}})),Cl.set(this,()=>{if(!z(this,Ln,"f"))throw new Error("Wallet not connected");return{authToken:z(this,Ln,"f").auth_token,chain:z(this,Ln,"f").chain}}),td.set(this,n=>n.map(r=>{var i,o;const s=Pn(r.address);return{address:Sc.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:z(this,Zo,"f"),features:(o=r.features)!==null&&o!==void 0?o:dI}})),Sg.set(this,n=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=z(this,Cl,"f").call(this);try{return yield z(this,ea,"f").call(this,o=>Me(this,void 0,void 0,function*(){return yield z(this,Ol,"f").call(this,o,r,i),(yield o.signTransactions({payloads:n.map(po)})).signed_payloads.map(Pn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Eg.set(this,(n,r)=>Me(this,void 0,void 0,function*(){const{authToken:i,chain:o}=z(this,Cl,"f").call(this);try{return yield z(this,ea,"f").call(this,s=>Me(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),z(this,Ol,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[po(n)]}))).signatures.map(Pn)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),nd.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield z(this,Eg,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),rd.set(this,(...n)=>Me(this,void 0,void 0,function*(){return(yield z(this,Sg,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),bg.set(this,(...n)=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=z(this,Cl,"f").call(this),o=n.map(({account:a})=>po(a.publicKey)),s=n.map(({message:a})=>po(a));try{return yield z(this,ea,"f").call(this,a=>Me(this,void 0,void 0,function*(){return yield z(this,Ol,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(Pn).map(u=>({signedMessage:u,signature:u.slice(-uI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Ag.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield z(this,id,"f").call(this,i));else return[yield z(this,id,"f").call(this,n[0])];return r})),id.set(this,n=>Me(this,void 0,void 0,function*(){var r,i,o;Ue(this,Ji,!0);try{const s=yield z(this,Ju,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(u=>u.address==a);return{account:Object.assign(Object.assign({},l??{address:Sc.default.encode(Pn(a))}),{publicKey:Pn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:z(this,Zo,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:Pn(s.sign_in_result.signed_message),signature:Pn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Ue(this,Ji,!1)}})),Ue(this,Xi,e.authorizationCache),Ue(this,Ml,e.appIdentity),Ue(this,Zo,e.chains),Ue(this,qu,e.chainSelector),Ue(this,Qu,e.remoteHostAuthority),Ue(this,Zu,e.onWalletNotFound),Ue(this,Nl,{[on.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:z(this,nd,"f")},[on.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:z(this,rd,"f")}})}get version(){return z(this,pg,"f")}get name(){return z(this,gg,"f")}get url(){return z(this,yg,"f")}get icon(){return z(this,mg,"f")}get chains(){return z(this,Zo,"f")}get features(){return Object.assign({[Ma.StandardConnect]:{version:"1.0.0",connect:z(this,vg,"f")},[Ma.StandardDisconnect]:{version:"1.0.0",disconnect:z(this,ed,"f")},[Ma.StandardEvents]:{version:"1.0.0",on:z(this,wg,"f")},[on.SolanaSignMessage]:{version:"1.0.0",signMessage:z(this,bg,"f")},[on.SolanaSignIn]:{version:"1.0.0",signIn:z(this,Ag,"f")}},z(this,Nl,"f"))}get accounts(){var e,n;return(n=(e=z(this,Ln,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!z(this,Lr,"f")&&!!z(this,Ln,"f")}get isAuthorized(){return!!z(this,Ln,"f")}get currentAuthorization(){return z(this,Ln,"f")}get cachedAuthorizationResult(){return z(this,Xi,"f").get()}}hs=new WeakMap,pg=new WeakMap,gg=new WeakMap,yg=new WeakMap,mg=new WeakMap,Ml=new WeakMap,Ln=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Js=new WeakMap,Zo=new WeakMap,qu=new WeakMap,Nl=new WeakMap,Zu=new WeakMap,Qu=new WeakMap,Lr=new WeakMap,wg=new WeakMap,vg=new WeakMap,Ju=new WeakMap,xl=new WeakMap,_g=new WeakMap,Ol=new WeakMap,ed=new WeakMap,ea=new WeakMap,Cl=new WeakMap,td=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,nd=new WeakMap,rd=new WeakMap,bg=new WeakMap,Ag=new WeakMap,id=new WeakMap,Xs=new WeakSet,Xu=function(e,...n){var r;(r=z(this,hs,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},cI=function(e,n){var r;z(this,hs,"f")[e]=(r=z(this,hs,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var a3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},l3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},od;function cv(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new c3(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let c3=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),od.set(this,void 0),a3(this,od,e,"f")}get detail(){return l3(this,od,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};od=new WeakMap;function u3(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function d3(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function f3(t){u3()?cv(new fI(t)):d3()&&t.remoteHostAuthority!==void 0&&cv(new hI(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const h3="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",p3="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class g3 extends sI{constructor(){super(...arguments),this.contentStyles=m3,this.contentHtml=y3}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=h3,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=p3,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const y3=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,m3=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function pI(){return Me(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new g3;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function w3(){return()=>Me(this,void 0,void 0,function*(){pI()})}const xp="SolanaMobileWalletAdapterDefaultAuthorizationCache";function v3(){let t;try{t=window.localStorage}catch{}return{clear(){return Me(this,void 0,void 0,function*(){if(t)try{t.removeItem(xp)}catch{}})},get(){return Me(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(xp));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):Sc.default.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Me(this,void 0,void 0,function*(){if(t)try{t.setItem(xp,JSON.stringify(e))}catch{}})}}}function _3(){return{select(t){return Me(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(lv.SOLANA_MAINNET_CHAIN)?lv.SOLANA_MAINNET_CHAIN:t[0]})}}}pi.LocalSolanaMobileWalletAdapterWallet=fI;pi.RemoteSolanaMobileWalletAdapterWallet=hI;pi.SolanaMobileWalletAdapterWalletName=jm;pi.createDefaultAuthorizationCache=v3;pi.createDefaultChainSelector=_3;pi.createDefaultWalletNotFoundHandler=w3;pi.defaultErrorModalWalletNotFoundHandler=pI;pi.registerMwa=f3;Object.defineProperty(Do,"__esModule",{value:!0});var ln=M4,sd=qb,ns=De,Ya=pi;function ut(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(g){s(g)}}function l(f){try{u(r.throw(f))}catch(g){s(g)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((r=r.apply(t,[])).next())})}function be(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ar(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Ig="standard:connect",S3="standard:disconnect",E3="standard:events";function Op(t){return window.btoa(String.fromCharCode.call(null,...t))}function b3(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var fn,It,so,Mi,ad,Ii,Qo,kg,Rg,gI,af,ld,no;const A3="Mobile Wallet Adapter",I3=64;function k3(t){return"version"in t}function Wm(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class yI extends ln.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),fn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),It.set(this,void 0),so.set(this,!1),Mi.set(this,b3()?ln.WalletReadyState.Loadable:ln.WalletReadyState.Unsupported),ad.set(this,void 0),Ii.set(this,void 0),Qo.set(this,void 0),kg.set(this,r=>ut(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){be(this,fn,"m",gI).call(this);const i=yield be(this,ad,"f").call(this,r.accounts);i!==be(this,Ii,"f")&&(ar(this,Ii,i),ar(this,Qo,void 0),this.emit("connect",this.publicKey))}})),ar(this,ad,r=>ut(this,void 0,void 0,function*(){var i;const o=yield n.addressSelector.select(r.map(({publicKey:s})=>Op(s)));return(i=r.find(({publicKey:s})=>Op(s)===o))!==null&&i!==void 0?i:r[0]})),ar(this,It,e),be(this,It,"f").features[E3].on("change",be(this,kg,"f")),this.name=be(this,It,"f").name,this.icon=be(this,It,"f").icon,this.url=be(this,It,"f").url}get publicKey(){var e;if(!be(this,Qo,"f")&&be(this,Ii,"f"))try{ar(this,Qo,new sd.PublicKey(be(this,Ii,"f").publicKey),"f")}catch(n){throw new ln.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=be(this,Qo,"f"))!==null&&e!==void 0?e:null}get connected(){return be(this,It,"f").connected}get connecting(){return be(this,so,"f")}get readyState(){return be(this,Mi,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ut(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return ut(this,void 0,void 0,function*(){be(this,fn,"m",Rg).call(this,!0)})}connect(){return ut(this,void 0,void 0,function*(){be(this,fn,"m",Rg).call(this)})}performAuthorization(e){return ut(this,void 0,void 0,function*(){try{const n=yield be(this,It,"f").cachedAuthorizationResult;return n?(yield be(this,It,"f").features[Ig].connect({silent:!0}),n):(e?yield be(this,It,"f").features[ns.SolanaSignIn].signIn(e):yield be(this,It,"f").features[Ig].connect(),yield yield be(this,It,"f").cachedAuthorizationResult)}catch(n){throw new ln.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return ut(this,void 0,void 0,function*(){return yield be(this,fn,"m",no).call(this,()=>ut(this,void 0,void 0,function*(){ar(this,so,!1),ar(this,Qo,void 0),ar(this,Ii,void 0),yield be(this,It,"f").features[S3].disconnect(),this.emit("disconnect")}))})}signIn(e){return ut(this,void 0,void 0,function*(){return be(this,fn,"m",no).call(this,()=>ut(this,void 0,void 0,function*(){var n;if(be(this,Mi,"f")!==ln.WalletReadyState.Installed&&be(this,Mi,"f")!==ln.WalletReadyState.Loadable)throw new ln.WalletNotReadyError;ar(this,so,!0);try{const r=yield be(this,It,"f").features[ns.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new ln.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{ar(this,so,!1)}}))})}signMessage(e){return ut(this,void 0,void 0,function*(){return yield be(this,fn,"m",no).call(this,()=>ut(this,void 0,void 0,function*(){const n=be(this,fn,"m",af).call(this);try{return(yield be(this,It,"f").features[ns.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new ln.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return ut(this,void 0,void 0,function*(){return yield be(this,fn,"m",no).call(this,()=>ut(this,void 0,void 0,function*(){const i=be(this,fn,"m",af).call(this);try{let o=function(){let s;switch(n.commitment){case"confirmed":case"finalized":case"processed":s=n.commitment;break;default:s="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=s;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(s==="finalized"?2:s==="confirmed"?1:0)?a:s};if(ns.SolanaSignAndSendTransaction in be(this,It,"f").features){const s=Wm(be(this,It,"f").currentAuthorization.chain),[a]=(yield be(this,It,"f").features[ns.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:s,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Op(l.signature));return a}else{const[s]=yield be(this,fn,"m",ld).call(this,[e]);if(k3(s))return yield n.sendTransaction(s);{const a=s.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new ln.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return ut(this,void 0,void 0,function*(){return yield be(this,fn,"m",no).call(this,()=>ut(this,void 0,void 0,function*(){const[n]=yield be(this,fn,"m",ld).call(this,[e]);return n}))})}signAllTransactions(e){return ut(this,void 0,void 0,function*(){return yield be(this,fn,"m",no).call(this,()=>ut(this,void 0,void 0,function*(){return yield be(this,fn,"m",ld).call(this,e)}))})}}It=new WeakMap,so=new WeakMap,Mi=new WeakMap,ad=new WeakMap,Ii=new WeakMap,Qo=new WeakMap,kg=new WeakMap,fn=new WeakSet,Rg=function(e=!1){return ut(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield be(this,fn,"m",no).call(this,()=>ut(this,void 0,void 0,function*(){if(be(this,Mi,"f")!==ln.WalletReadyState.Installed&&be(this,Mi,"f")!==ln.WalletReadyState.Loadable)throw new ln.WalletNotReadyError;ar(this,so,!0);try{yield be(this,It,"f").features[Ig].connect({silent:e})}catch(n){throw new ln.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{ar(this,so,!1)}}))})},gI=function(){be(this,Mi,"f")!==ln.WalletReadyState.Installed&&this.emit("readyStateChange",ar(this,Mi,ln.WalletReadyState.Installed))},af=function(){if(!be(this,It,"f").isAuthorized||!be(this,Ii,"f"))throw new ln.WalletNotConnectedError;return be(this,Ii,"f")},ld=function(e){return ut(this,void 0,void 0,function*(){const n=be(this,fn,"m",af).call(this);try{if(ns.SolanaSignTransaction in be(this,It,"f").features)return be(this,It,"f").features[ns.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,a=o[0]*I3+1;return sd.VersionedMessage.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?sd.Transaction.from(o):sd.VersionedTransaction.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new ln.WalletSignTransactionError(r==null?void 0:r.message,r)}})},no=function(e){return ut(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class mI extends yI{constructor(e){var n;const r=Wm((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new Ya.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>ut(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:Ya.createDefaultChainSelector(),onWalletNotFound:()=>ut(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class R3 extends yI{constructor(e){const n=Wm(e.chain);super(new Ya.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>ut(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:Ya.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>ut(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class T3 extends mI{}function M3(){return{select(t){return ut(this,void 0,void 0,function*(){return t[0]})}}}function N3(){return Ya.createDefaultAuthorizationCache()}function x3(t){return ut(this,void 0,void 0,function*(){return Ya.defaultErrorModalWalletNotFoundHandler()})}function O3(){return x3}Do.LocalSolanaMobileWalletAdapter=mI;Do.RemoteSolanaMobileWalletAdapter=R3;var C3=Do.SolanaMobileWalletAdapter=T3,cd=Do.SolanaMobileWalletAdapterWalletName=A3,L3=Do.createDefaultAddressSelector=M3,B3=Do.createDefaultAuthorizationResultCache=N3,P3=Do.createDefaultWalletNotFoundHandler=O3,D3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},U3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ud;function z3(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new j3(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class j3 extends Event{get detail(){return D3(this,ud,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),ud.set(this,void 0),U3(this,ud,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ud=new WeakMap;function W3(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var me=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},nn=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},_n,Vn,ps,gs,Xo,Ll,lf,Ge,cf,Tg,dd,Mg,Gl,Ng,uv,dv,fv,hv;class F3 extends Nm{get name(){return me(this,Ge,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return me(this,Ge,"f").icon}get readyState(){return me(this,cf,"f")}get publicKey(){return me(this,ps,"f")}get connecting(){return me(this,gs,"f")}get supportedTransactionVersions(){return me(this,lf,"f")}get wallet(){return me(this,Ge,"f")}get standard(){return!0}constructor({wallet:e}){super(),_n.add(this),Vn.set(this,void 0),ps.set(this,void 0),gs.set(this,void 0),Xo.set(this,void 0),Ll.set(this,void 0),lf.set(this,void 0),Ge.set(this,void 0),cf.set(this,typeof window>"u"||typeof document>"u"?ze.Unsupported:ze.Installed),Ng.set(this,n=>{if("accounts"in n){const r=me(this,Ge,"f").accounts[0];me(this,Vn,"f")&&!me(this,Xo,"f")&&r!==me(this,Vn,"f")&&(r?me(this,_n,"m",dd).call(this,r):(this.emit("error",new Dc),me(this,_n,"m",Mg).call(this)))}"features"in n&&me(this,_n,"m",Gl).call(this)}),nn(this,Ge,e,"f"),nn(this,Vn,null,"f"),nn(this,ps,null,"f"),nn(this,gs,!1,"f"),nn(this,Xo,!1,"f"),nn(this,Ll,me(this,Ge,"f").features[Kr.StandardEvents].on("change",me(this,Ng,"f")),"f"),me(this,_n,"m",Gl).call(this)}destroy(){nn(this,Vn,null,"f"),nn(this,ps,null,"f"),nn(this,gs,!1,"f"),nn(this,Xo,!1,"f");const e=me(this,Ll,"f");e&&(nn(this,Ll,null,"f"),e())}async autoConnect(){return me(this,_n,"m",Tg).call(this,{silent:!0})}async connect(){return me(this,_n,"m",Tg).call(this)}async disconnect(){if(Kr.StandardDisconnect in me(this,Ge,"f").features)try{nn(this,Xo,!0,"f"),await me(this,Ge,"f").features[Kr.StandardDisconnect].disconnect()}catch(e){this.emit("error",new al(e==null?void 0:e.message,e))}finally{nn(this,Xo,!1,"f")}me(this,_n,"m",Mg).call(this)}async sendTransaction(e,n,r={}){try{const i=me(this,Vn,"f");if(!i)throw new yt;let o;if(De.SolanaSignAndSendTransaction in me(this,Ge,"f").features)if(i.features.includes(De.SolanaSignAndSendTransaction))o=De.SolanaSignAndSendTransaction;else if(De.SolanaSignTransaction in me(this,Ge,"f").features&&i.features.includes(De.SolanaSignTransaction))o=De.SolanaSignTransaction;else throw new Ci;else if(De.SolanaSignTransaction in me(this,Ge,"f").features){if(!i.features.includes(De.SolanaSignTransaction))throw new Ci;o=De.SolanaSignTransaction}else throw new fo;const s=wL(n.rpcEndpoint);if(!i.chains.includes(s))throw new oi;try{const{signers:a,...l}=r;let u;if(jr(e)?(a!=null&&a.length&&e.sign(a),u=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),u=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===De.SolanaSignAndSendTransaction){const[f]=await me(this,Ge,"f").features[De.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,chain:s,transaction:u,options:{preflightCommitment:Mp(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Lt.encode(f.signature)}else{const[f]=await me(this,Ge,"f").features[De.SolanaSignTransaction].signTransaction({account:i,chain:s,transaction:u,options:{preflightCommitment:Mp(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(f.signedTransaction,{...l,preflightCommitment:Mp(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof At?a:new oi(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}Vn=new WeakMap,ps=new WeakMap,gs=new WeakMap,Xo=new WeakMap,Ll=new WeakMap,lf=new WeakMap,Ge=new WeakMap,cf=new WeakMap,Ng=new WeakMap,_n=new WeakSet,Tg=async function(e){try{if(this.connected||this.connecting)return;if(me(this,cf,"f")!==ze.Installed)throw new xo;if(nn(this,gs,!0,"f"),!me(this,Ge,"f").accounts.length)try{await me(this,Ge,"f").features[Kr.StandardConnect].connect(e)}catch(r){throw new Ts(r==null?void 0:r.message,r)}const n=me(this,Ge,"f").accounts[0];if(!n)throw new Ci;me(this,_n,"m",dd).call(this,n)}catch(n){throw this.emit("error",n),n}finally{nn(this,gs,!1,"f")}},dd=function(e){let n;try{n=new X(e.address)}catch(r){throw new Oo(r==null?void 0:r.message,r)}nn(this,Vn,e,"f"),nn(this,ps,n,"f"),me(this,_n,"m",Gl).call(this),this.emit("connect",n)},Mg=function(){nn(this,Vn,null,"f"),nn(this,ps,null,"f"),me(this,_n,"m",Gl).call(this),this.emit("disconnect")},Gl=function(){var n,r;const e=De.SolanaSignAndSendTransaction in me(this,Ge,"f").features?me(this,Ge,"f").features[De.SolanaSignAndSendTransaction].supportedTransactionVersions:me(this,Ge,"f").features[De.SolanaSignTransaction].supportedTransactionVersions;nn(this,lf,W3(e,["legacy"])?null:new Set(e),"f"),De.SolanaSignTransaction in me(this,Ge,"f").features&&((n=me(this,Vn,"f"))!=null&&n.features.includes(De.SolanaSignTransaction))?(this.signTransaction=me(this,_n,"m",uv),this.signAllTransactions=me(this,_n,"m",dv)):(delete this.signTransaction,delete this.signAllTransactions),De.SolanaSignMessage in me(this,Ge,"f").features&&((r=me(this,Vn,"f"))!=null&&r.features.includes(De.SolanaSignMessage))?this.signMessage=me(this,_n,"m",fv):delete this.signMessage,De.SolanaSignIn in me(this,Ge,"f").features?this.signIn=me(this,_n,"m",hv):delete this.signIn},uv=async function(e){try{const n=me(this,Vn,"f");if(!n)throw new yt;if(!(De.SolanaSignTransaction in me(this,Ge,"f").features))throw new fo;if(!n.features.includes(De.SolanaSignTransaction))throw new Ci;try{const i=(await me(this,Ge,"f").features[De.SolanaSignTransaction].signTransaction({account:n,transaction:jr(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return jr(e)?wc.deserialize(i):Pe.from(i)}catch(r){throw r instanceof At?r:new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},dv=async function(e){try{const n=me(this,Vn,"f");if(!n)throw new yt;if(!(De.SolanaSignTransaction in me(this,Ge,"f").features))throw new fo;if(!n.features.includes(De.SolanaSignTransaction))throw new Ci;try{const r=await me(this,Ge,"f").features[De.SolanaSignTransaction].signTransaction(...e.map(i=>({account:n,transaction:jr(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const s=r[o].signedTransaction;return jr(i)?wc.deserialize(s):Pe.from(s)})}catch(r){throw new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},fv=async function(e){try{const n=me(this,Vn,"f");if(!n)throw new yt;if(!(De.SolanaSignMessage in me(this,Ge,"f").features))throw new fo;if(!n.features.includes(De.SolanaSignMessage))throw new Ci;try{return(await me(this,Ge,"f").features[De.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Uc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},hv=async function(e={}){try{if(!(De.SolanaSignIn in me(this,Ge,"f").features))throw new fo;let n;try{[n]=await me(this,Ge,"f").features[De.SolanaSignIn].signIn(e)}catch(r){throw new q0(r==null?void 0:r.message,r)}if(!n)throw new q0;return me(this,_n,"m",dd).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const H3=SA;var K3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},fd;let ur;const oh=new Set;function V3(t){Yl=void 0,oh.add(t)}function G3(t){Yl=void 0,oh.delete(t)}const ya={};function Y3(){if(ur||(ur=Object.freeze({register:pv,get:q3,on:Z3}),typeof window>"u"))return ur;const t=Object.freeze({register:pv});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Q3(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return ur}function pv(...t){var e;return t=t.filter(n=>!oh.has(n)),t.length?(t.forEach(n=>V3(n)),(e=ya.register)==null||e.forEach(n=>xg(()=>n(...t))),function(){var r;t.forEach(i=>G3(i)),(r=ya.unregister)==null||r.forEach(i=>xg(()=>i(...t)))}):()=>{}}let Yl;function q3(){return Yl||(Yl=[...oh]),Yl}function Z3(t,e){var n;return(n=ya[t])!=null&&n.push(e)||(ya[t]=[e]),function(){var i;ya[t]=(i=ya[t])==null?void 0:i.filter(o=>e!==o)}}function xg(t){try{t()}catch(e){console.error(e)}}class Q3 extends Event{get detail(){return K3(this,fd,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),fd.set(this,void 0),$3(this,fd,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}fd=new WeakMap;function X3(){if(ur||(ur=Y3(),typeof window>"u"))return ur;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),ur;const{register:e}=ur,n=(...r)=>r.forEach(i=>xg(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),ur}return n(...t),ur}function J3(t){const e=gv(()=>new Set),{get:n,on:r}=gv(()=>X3()),[i,o]=te.useState(()=>yv(n()));te.useEffect(()=>{const a=[r("register",(...l)=>o(u=>[...u,...yv(l)])),r("unregister",(...l)=>o(u=>u.filter(f=>l.some(g=>g===f.wallet))))];return()=>a.forEach(l=>l())},[r]);const s=e6(i);return te.useEffect(()=>{if(!s)return;const a=new Set(i);new Set(s.filter(u=>!a.has(u))).forEach(u=>u.destroy())},[s,i]),te.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),te.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function gv(t){const e=te.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function e6(t){const e=te.useRef(void 0);return te.useEffect(()=>{e.current=t}),e.current}function yv(t){return t.filter(H3).map(e=>new F3({wallet:e}))}var Na;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Na||(Na={}));function t6(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function n6({adapters:t,userAgentString:e}){return t.some(n=>n.name!==cd&&n.readyState===ze.Installed)?Na.DESKTOP_WEB:e&&/android/i.test(e)&&!t6(e)?Na.MOBILE_WEB:Na.DESKTOP_WEB}function r6(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function i6({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){const l=te.useRef(!1),[u,f]=te.useState(!1),g=te.useRef(!1),[w,m]=te.useState(!1),[_,T]=te.useState(()=>(n==null?void 0:n.publicKey)??null),[M,E]=te.useState(()=>(n==null?void 0:n.connected)??!1),A=te.useRef(s);te.useEffect(()=>(A.current=s,()=>{A.current=void 0}),[s]);const S=te.useRef((d,v)=>(r.current||(A.current?A.current(d,v):(console.error(d,v),d instanceof xo&&typeof window<"u"&&v&&window.open(v.url,"_blank"))),d)),[C,P]=te.useState(()=>e.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==ze.Unsupported));te.useEffect(()=>{P(v=>e.map((k,I)=>{const x=v[I];return x&&x.adapter===k&&x.readyState===k.readyState?x:{adapter:k,readyState:k.readyState}}).filter(({readyState:k})=>k!==ze.Unsupported));function d(v){P(k=>{const I=k.findIndex(({adapter:B})=>B===this);if(I===-1)return k;const{adapter:x}=k[I];return[...k.slice(0,I),{adapter:x,readyState:v},...k.slice(I+1)].filter(({readyState:B})=>B!==ze.Unsupported)})}return e.forEach(v=>v.on("readyStateChange",d,v)),()=>{e.forEach(v=>v.off("readyStateChange",d,v))}},[n,e]);const D=te.useMemo(()=>C.find(d=>d.adapter===n)??null,[n,C]);te.useEffect(()=>{if(!n)return;const d=I=>{T(I),l.current=!1,f(!1),E(!0),g.current=!1,m(!1)},v=()=>{r.current||(T(null),l.current=!1,f(!1),E(!1),g.current=!1,m(!1))},k=I=>{S.current(I,n)};return n.on("connect",d),n.on("disconnect",v),n.on("error",k),()=>{n.off("connect",d),n.off("disconnect",v),n.off("error",k),v()}},[n,r]);const j=te.useRef(!1);te.useEffect(()=>()=>{j.current=!1},[n]),te.useEffect(()=>{j.current||l.current||M||!i||!((D==null?void 0:D.readyState)===ze.Installed||(D==null?void 0:D.readyState)===ze.Loadable)||(l.current=!0,f(!0),j.current=!0,async function(){try{await i()}catch{o()}finally{f(!1),l.current=!1}}())},[M,i,o,D]);const H=te.useCallback(async(d,v,k)=>{if(!n)throw S.current(new nv);if(!M)throw S.current(new yt,n);return await n.sendTransaction(d,v,k)},[n,M]),W=te.useMemo(()=>n&&"signTransaction"in n?async d=>{if(!M)throw S.current(new yt,n);return await n.signTransaction(d)}:void 0,[n,M]),Y=te.useMemo(()=>n&&"signAllTransactions"in n?async d=>{if(!M)throw S.current(new yt,n);return await n.signAllTransactions(d)}:void 0,[n,M]),Z=te.useMemo(()=>n&&"signMessage"in n?async d=>{if(!M)throw S.current(new yt,n);return await n.signMessage(d)}:void 0,[n,M]),V=te.useMemo(()=>n&&"signIn"in n?async d=>await n.signIn(d):void 0,[n]),b=te.useCallback(async()=>{if(l.current||g.current||D!=null&&D.adapter.connected)return;if(!D)throw S.current(new nv);const{adapter:d,readyState:v}=D;if(!(v===ze.Installed||v===ze.Loadable))throw S.current(new xo,d);l.current=!0,f(!0);try{await d.connect()}catch(k){throw o(),k}finally{f(!1),l.current=!1}},[o,D]),c=te.useCallback(async()=>{if(!g.current&&n){g.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),g.current=!1}}},[n]);return ne.createElement(EA.Provider,{value:{autoConnect:!!i,wallets:C,wallet:D,publicKey:_,connected:M,connecting:u,disconnecting:w,select:a,connect:b,disconnect:c,sendTransaction:H,signTransaction:W,signAllTransactions:Y,signMessage:Z,signIn:V}},t)}let Cp;function o6(){var t;return Cp===void 0&&(Cp=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),Cp}function mv(t){const e=o6();return n6({adapters:t,userAgentString:e})===Na.MOBILE_WEB}function s6(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function a6({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:o}=w4(),s=J3(e),a=te.useMemo(()=>{if(!mv(s))return null;const A=s.find(S=>S.name===cd);return A||new C3({addressSelector:L3(),appIdentity:{uri:s6()},authorizationResultCache:B3(),cluster:r6(o==null?void 0:o.rpcEndpoint),onWalletNotFound:P3()})},[s,o==null?void 0:o.rpcEndpoint]),l=te.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[u,f]=T4(r,null),g=te.useMemo(()=>l.find(A=>A.name===u)??null,[l,u]),w=te.useCallback(A=>{u!==A&&(g&&g.name!==cd&&g.disconnect(),f(A))},[g,f,u]);te.useEffect(()=>{if(!g)return;function A(){T.current||f(null)}return g.on("disconnect",A),()=>{g.off("disconnect",A)}},[g,s,f,u]);const m=te.useRef(!1),_=te.useMemo(()=>{if(!(!n||!g))return async()=>{(n===!0||await n(g))&&(m.current?await g.connect():await g.autoConnect())}},[n,g]),T=te.useRef(!1);te.useEffect(()=>{if(u===cd&&mv(s)){T.current=!1;return}function A(){T.current=!0}return window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A)}},[s,u]);const M=te.useCallback(()=>{g&&w(null)},[g,w]),E=te.useCallback(A=>{m.current=!0,w(A)},[w]);return ne.createElement(i6,{wallets:l,adapter:g,isUnloadingRef:T,onAutoConnectRequest:_,onConnectError:M,onError:i,onSelectWallet:E},t)}const wI={setVisible(t){console.error(vI("call","setVisible"))},visible:!1};Object.defineProperty(wI,"visible",{get(){return console.error(vI("read","visible")),!1}});function vI(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const _I=te.createContext(wI);function SI(){return te.useContext(_I)}function l6({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:i,disconnecting:o,publicKey:s,select:a,wallet:l,wallets:u}=Cm();let f;r?f="connecting":n?f="connected":o?f="disconnecting":l?f="has-wallet":f="no-wallet";const g=te.useCallback(()=>{e().catch(()=>{})},[e]),w=te.useCallback(()=>{i().catch(()=>{})},[i]),m=te.useCallback(()=>{t({onSelectWallet:a,wallets:u})},[t,a,u]);return{buttonState:f,onConnect:f==="has-wallet"?g:void 0,onDisconnect:f!=="disconnecting"&&f!=="no-wallet"?w:void 0,onSelectWallet:m,publicKey:s??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const EI=t=>ne.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&ne.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&ne.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),bI=({wallet:t,...e})=>t&&ne.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function c6({walletIcon:t,walletName:e,...n}){return ne.createElement(EI,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?ne.createElement(bI,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function u6({children:t,labels:e,...n}){const{setVisible:r}=SI(),{buttonState:i,onConnect:o,onDisconnect:s,publicKey:a,walletIcon:l,walletName:u}=l6({onSelectWallet(){r(!0)}}),[f,g]=te.useState(!1),[w,m]=te.useState(!1),_=te.useRef(null);te.useEffect(()=>{const M=E=>{const A=_.current;!A||A.contains(E.target)||m(!1)};return document.addEventListener("mousedown",M),document.addEventListener("touchstart",M),()=>{document.removeEventListener("mousedown",M),document.removeEventListener("touchstart",M)}},[]);const T=te.useMemo(()=>{if(t)return t;if(a){const M=a.toBase58();return M.slice(0,4)+".."+M.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return ne.createElement("div",{className:"wallet-adapter-dropdown"},ne.createElement(c6,{...n,"aria-expanded":w,style:{pointerEvents:w?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":m(!0);break}},walletIcon:l,walletName:u},T),ne.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${w&&"wallet-adapter-dropdown-list-active"}`,ref:_,role:"menu"},a?ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),g(!0),setTimeout(()=>g(!1),400)},role:"menuitem"},f?e.copied:e["copy-address"]):null,ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),s?ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(),m(!1)},role:"menuitem"},e.disconnect):null))}const wv=({id:t,children:e,expanded:n=!1})=>{const r=te.useRef(null),i=te.useRef(!0),o="height 250ms ease-out",s=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return te.useLayoutEffect(()=>{n?s():a()},[n]),te.useLayoutEffect(()=>{const l=r.current;if(!l)return;function u(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function f(g){l&&g.target===l&&g.propertyName==="height"&&u()}return i.current&&(u(),i.current=!1),l.addEventListener("transitionend",f),()=>l.removeEventListener("transitionend",f)},[n]),ne.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},Lp=({handleClick:t,tabIndex:e,wallet:n})=>ne.createElement("li",null,ne.createElement(EI,{onClick:t,startIcon:ne.createElement(bI,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===ze.Installed&&ne.createElement("span",null,"Detected"))),d6=()=>ne.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),ne.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),ne.createElement("g",{clipPath:"url(#clip0_880_5115)"},ne.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),ne.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),ne.createElement("defs",null,ne.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("clipPath",{id:"clip0_880_5115"},ne.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),f6=({className:t="",container:e="body"})=>{const n=te.useRef(null),{wallets:r,select:i}=Cm(),{setVisible:o}=SI(),[s,a]=te.useState(!1),[l,u]=te.useState(!1),[f,g]=te.useState(null),[w,m]=te.useMemo(()=>{const S=[],C=[];for(const P of r)P.readyState===ze.Installed?S.push(P):C.push(P);return S.length?[S,C]:[C,[]]},[r]),_=te.useCallback(()=>{u(!1),setTimeout(()=>o(!1),150)},[o]),T=te.useCallback(S=>{S.preventDefault(),_()},[_]),M=te.useCallback((S,C)=>{i(C),T(S)},[i,T]),E=te.useCallback(()=>a(!s),[s]),A=te.useCallback(S=>{const C=n.current;if(!C)return;const P=C.querySelectorAll("button"),D=P[0],j=P[P.length-1];S.shiftKey?document.activeElement===D&&(j.focus(),S.preventDefault()):document.activeElement===j&&(D.focus(),S.preventDefault())},[n]);return te.useLayoutEffect(()=>{const S=P=>{P.key==="Escape"?_():P.key==="Tab"&&A(P)},{overflow:C}=window.getComputedStyle(document.body);return setTimeout(()=>u(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",S,!1),()=>{document.body.style.overflow=C,window.removeEventListener("keydown",S,!1)}},[_,A]),te.useLayoutEffect(()=>g(document.querySelector(e)),[e]),f&&jS.createPortal(ne.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},ne.createElement("div",{className:"wallet-adapter-modal-container"},ne.createElement("div",{className:"wallet-adapter-modal-wrapper"},ne.createElement("button",{onClick:T,className:"wallet-adapter-modal-button-close"},ne.createElement("svg",{width:"14",height:"14"},ne.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),w.length?ne.createElement(ne.Fragment,null,ne.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),ne.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(S=>ne.createElement(Lp,{key:S.adapter.name,handleClick:C=>M(C,S.adapter.name),wallet:S})),m.length?ne.createElement(wv,{expanded:s,id:"wallet-adapter-modal-collapse"},m.map(S=>ne.createElement(Lp,{key:S.adapter.name,handleClick:C=>M(C,S.adapter.name),tabIndex:s?0:-1,wallet:S}))):null),m.length?ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},ne.createElement("span",null,s?"Less ":"More ","options"),ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):ne.createElement(ne.Fragment,null,ne.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),ne.createElement("div",{className:"wallet-adapter-modal-middle"},ne.createElement(d6,null)),m.length?ne.createElement(ne.Fragment,null,ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},ne.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),ne.createElement(wv,{expanded:s,id:"wallet-adapter-modal-collapse"},ne.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(S=>ne.createElement(Lp,{key:S.adapter.name,handleClick:C=>M(C,S.adapter.name),tabIndex:s?0:-1,wallet:S}))))):null))),ne.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:T})),f)},h6=({children:t,...e})=>{const[n,r]=te.useState(!1);return ne.createElement(_I.Provider,{value:{visible:n,setVisible:r}},t,n&&ne.createElement(f6,{...e}))},p6={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function vv(t){return ne.createElement(u6,{...t,labels:p6})}const g6="modulepreload",y6=function(t){return"/Investor_App_DMD/"+t},_v={},sh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=y6(l),l in _v)return;_v[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":g6,u||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),u)return new Promise((w,m)=>{g.addEventListener("load",w),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var Fm={exports:{}},xa=typeof Reflect=="object"?Reflect:null,Sv=xa&&typeof xa.apply=="function"?xa.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},hd;xa&&typeof xa.ownKeys=="function"?hd=xa.ownKeys:Object.getOwnPropertySymbols?hd=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:hd=function(e){return Object.getOwnPropertyNames(e)};function m6(t){console&&console.warn&&console.warn(t)}var AI=Number.isNaN||function(e){return e!==e};function dt(){dt.init.call(this)}Fm.exports=dt;Fm.exports.once=S6;dt.EventEmitter=dt;dt.prototype._events=void 0;dt.prototype._eventsCount=0;dt.prototype._maxListeners=void 0;var Ev=10;function ah(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(dt,"defaultMaxListeners",{enumerable:!0,get:function(){return Ev},set:function(t){if(typeof t!="number"||t<0||AI(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ev=t}});dt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};dt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||AI(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function II(t){return t._maxListeners===void 0?dt.defaultMaxListeners:t._maxListeners}dt.prototype.getMaxListeners=function(){return II(this)};dt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")Sv(l,this,n);else for(var u=l.length,f=NI(l,u),r=0;r<u;++r)Sv(f[r],this,n);return!0};function kI(t,e,n,r){var i,o,s;if(ah(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=II(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,m6(a)}return t}dt.prototype.addListener=function(e,n){return kI(this,e,n,!1)};dt.prototype.on=dt.prototype.addListener;dt.prototype.prependListener=function(e,n){return kI(this,e,n,!0)};function w6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function RI(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=w6.bind(r);return i.listener=n,r.wrapFn=i,i}dt.prototype.once=function(e,n){return ah(n),this.on(e,RI(this,e,n)),this};dt.prototype.prependOnceListener=function(e,n){return ah(n),this.prependListener(e,RI(this,e,n)),this};dt.prototype.removeListener=function(e,n){var r,i,o,s,a;if(ah(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():v6(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};dt.prototype.off=dt.prototype.removeListener;dt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function TI(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?_6(i):NI(i,i.length)}dt.prototype.listeners=function(e){return TI(this,e,!0)};dt.prototype.rawListeners=function(e){return TI(this,e,!1)};dt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):MI.call(t,e)};dt.prototype.listenerCount=MI;function MI(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}dt.prototype.eventNames=function(){return this._eventsCount>0?hd(this._events):[]};function NI(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function v6(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function _6(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function S6(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}xI(t,e,o,{once:!0}),e!=="error"&&E6(t,i,{once:!0})})}function E6(t,e,n){typeof t.on=="function"&&xI(t,"error",e,n)}function xI(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var b6=Fm.exports;const a8=Ms(b6),A6={},OI=(t,e)=>{A6[t]=e},lh=t=>{class e extends Error{constructor(i,o,s){super(i||t,s);ft(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,o)for(const a in o)this[a]=o[a];if(s&&I6(s)&&"cause"in s&&!this.cause){const a=s.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return e};function I6(t){return typeof t=="object"}const l8=lh("DisconnectedDevice"),c8=lh("DisconnectedDeviceDuringOperation"),u8=lh("TransportOpenUserCancelled"),d8=lh("TransportRaceCondition");var bv;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(bv||(bv={}));class k6 extends Error{constructor(n,r){const i="TransportError";super(n||i);ft(this,"id");this.name=i,this.message=n,this.stack=new Error(n).stack,this.id=r}}OI("TransportError",t=>new k6(t.message,t.id));const ql={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function R6(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class Fc extends Error{constructor(n,{canBeMappedToChildError:r=!0}={}){const i=Object.keys(ql).find(l=>ql[l]===n)||"UNKNOWN_ERROR",o=R6(n)||i,s=n.toString(16),a=`Ledger device: ${o} (0x${s})`;super(a);ft(this,"statusCode");ft(this,"statusText");if(this.name="TransportStatusError",this.statusCode=n,this.statusText=i,Object.setPrototypeOf(this,Fc.prototype),r&&n===ql.LOCKED_DEVICE)return new Hm(a)}}class Hm extends Fc{constructor(e){super(ql.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,Hm.prototype)}}OI("TransportStatusError",t=>new Fc(t.statusCode));let CI=0;const ro=[],f8=(t,e,n)=>{const r={type:t,id:String(++CI),date:new Date};e&&(r.message=e),LI(r)},T6=({type:t,message:e,data:n,context:r})=>{const i={type:t,id:String(++CI),date:new Date};e&&(i.message=e),n&&(i.data=n),r&&(i.context=r),LI(i)};class pd{constructor(e,n){ft(this,"type");ft(this,"context");this.type=e,this.context=n}trace(e,n){T6({type:this.type,message:e,data:n,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new pd(e,this.context)}withContext(e){return new pd(this.type,e)}withUpdatedContext(e){return new pd(this.type,{...this.context,...e})}}const M6=t=>(ro.push(t),()=>{const e=ro.indexOf(t);e!==-1&&(ro[e]=ro[ro.length-1],ro.pop())});function LI(t){for(let e=0;e<ro.length;e++)try{ro[e](t)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=M6);function N6(t,e){const r=Buffer.alloc(17);let i=r.writeUInt8(4,0);return i=r.writeUInt32BE(wu(44),i),i=r.writeUInt32BE(wu(501),i),i=r.writeUInt32BE(wu(t),i),r.writeUInt32BE(wu(e),i),r}const x6=1<<31>>>0;function wu(t){return(t|x6)>>>0}const O6=5,C6=6,L6=0,B6=1,P6=1,D6=2,vu=255,Av=224;async function U6(t,e){const n=await BI(t,O6,L6,e);return new X(n)}async function z6(t,e,n){const r=Buffer.alloc(1);r.writeUInt8(1,0);const i=jr(e)?e.message.serialize():e.serializeMessage(),o=Buffer.concat([r,n,i]);return await BI(t,C6,B6,o)}async function BI(t,e,n,r){let i=0,o=0;if(r.length>vu)for(;r.length-o>vu;){const l=r.slice(o,o+vu);if((await t.send(Av,e,n,i|D6,l)).length!==2)throw new Fc(ql.INCORRECT_DATA);i|=P6,o+=vu}const s=r.slice(o),a=await t.send(Av,e,n,i,s);return a.slice(0,a.length-2)}const j6="Ledger";class W6 extends Om{constructor(e={}){super(),this.name=j6,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?ze.Unsupported:ze.Loadable,this._disconnected=()=>{const n=this._transport;n&&(n.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new Dc),this.emit("disconnect"))},this._derivationPath=e.derivationPath||N6(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ze.Loadable)throw new xo;this._connecting=!0;let e;try{e=(await sh(async()=>{const{default:i}=await import("./TransportWebHID-E3huAuj6.js");return{default:i}},[])).default}catch(i){throw new Gf(i==null?void 0:i.message,i)}let n;try{n=await e.create()}catch(i){throw new Ts(i==null?void 0:i.message,i)}let r;try{r=await U6(n,this._derivationPath)}catch(i){throw new Oo(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),this._transport=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(n){this.emit("error",new al(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._transport,r=this._publicKey;if(!n||!r)throw new yt;try{const i=await z6(n,e,this._derivationPath);e.addSignature(r,i)}catch(i){throw new er(i==null?void 0:i.message,i)}return e}catch(n){throw this.emit("error",n),n}}}const F6="Phantom";class H6 extends zc{constructor(e={}){super(),this.name=F6,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ze.Unsupported:ze.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Dc),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new X(n.toBytes())}catch(i){this.emit("error",new Oo(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==ze.Unsupported&&(ef()?(this._readyState=ze.Loadable,this.emit("readyStateChange",this._readyState)):xm(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=ze.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===ze.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===ze.Loadable){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${o}`;return}if(this.readyState!==ze.Installed)throw new xo;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new Ts(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Ci;let r;try{r=new X(n.publicKey.toBytes())}catch(i){throw new Oo(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new al(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new yt;try{const{signers:o,...s}=r;jr(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof At?o:new oi(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signTransaction(e)||e}catch(r){throw new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signAllTransactions(e)||e}catch(r){throw new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new yt;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Uc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const K6="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var rt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},gd,ys,Og,Cg,Lg,Bn,Bg,PI,DI,Pg,Dg,Ug,zg,jg;class V6{constructor(){gd.add(this),ys.set(this,{}),Og.set(this,"1.0.0"),Cg.set(this,"MetaMask"),Lg.set(this,K6),Bn.set(this,null),Bg.set(this,(e,n)=>{var r;return(r=rt(this,ys,"f")[e])!=null&&r.push(n)||(rt(this,ys,"f")[e]=[n]),()=>rt(this,gd,"m",DI).call(this,e,n)}),Pg.set(this,async()=>{if(!rt(this,Bn,"f")){let e;try{e=(await sh(async()=>{const{default:n}=await import("./index-l5SF2Qqa.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}$6(this,Bn,new e,"f"),rt(this,Bn,"f").on("standard_change",n=>rt(this,gd,"m",PI).call(this,"change",n))}return this.accounts.length||await rt(this,Bn,"f").connect(),{accounts:this.accounts}}),Dg.set(this,async()=>{rt(this,Bn,"f")&&await rt(this,Bn,"f").disconnect()}),Ug.set(this,async(...e)=>{if(!rt(this,Bn,"f"))throw new yt;return await rt(this,Bn,"f").standardSignAndSendTransaction(...e)}),zg.set(this,async(...e)=>{if(!rt(this,Bn,"f"))throw new yt;return await rt(this,Bn,"f").standardSignTransaction(...e)}),jg.set(this,async(...e)=>{if(!rt(this,Bn,"f"))throw new yt;return await rt(this,Bn,"f").standardSignMessage(...e)})}get version(){return rt(this,Og,"f")}get name(){return rt(this,Cg,"f")}get icon(){return rt(this,Lg,"f")}get chains(){return[ii.SOLANA_MAINNET_CHAIN,ii.SOLANA_DEVNET_CHAIN,ii.SOLANA_TESTNET_CHAIN]}get features(){return{[Kr.StandardConnect]:{version:"1.0.0",connect:rt(this,Pg,"f")},[Kr.StandardDisconnect]:{version:"1.0.0",disconnect:rt(this,Dg,"f")},[Kr.StandardEvents]:{version:"1.0.0",on:rt(this,Bg,"f")},[De.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:rt(this,Ug,"f")},[De.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:rt(this,zg,"f")},[De.SolanaSignMessage]:{version:"1.0.0",signMessage:rt(this,jg,"f")}}}get accounts(){return rt(this,Bn,"f")?rt(this,Bn,"f").standardAccounts:[]}}ys=new WeakMap,Og=new WeakMap,Cg=new WeakMap,Lg=new WeakMap,Bn=new WeakMap,Bg=new WeakMap,Pg=new WeakMap,Dg=new WeakMap,Ug=new WeakMap,zg=new WeakMap,jg=new WeakMap,gd=new WeakSet,PI=function(e,...n){var r;(r=rt(this,ys,"f")[e])==null||r.forEach(i=>i.apply(null,n))},DI=function(e,n){var r;rt(this,ys,"f")[e]=(r=rt(this,ys,"f")[e])==null?void 0:r.filter(i=>n!==i)};let Iv=!1;function G6(){Iv||(z3(new V6),Iv=!0)}async function Y6(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var o,s;const i=r.data;(i==null?void 0:i.target)==="metamask-inpage"&&((o=i.data)==null?void 0:o.name)==="metamask-provider"&&(((s=i.data.data)==null?void 0:s.id)===t?(window.removeEventListener("message",n),i.data.data.error||G6()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const q6="Solflare";class Z6 extends zc{constructor(e={}){super(),this.name=q6,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ze.Unsupported:ze.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Dc),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new X(n.toBytes())}catch(i){this.emit("error",new Oo(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==ze.Unsupported&&(xm(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=ze.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),Y6())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===ze.Loadable&&ef()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ze.Loadable&&this._readyState!==ze.Installed)throw new xo;if(this.readyState===ze.Loadable&&ef()){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${o}`;return}let e;try{e=(await sh(async()=>{const{default:i}=await import("./index-DD4_Psp6.js");return{default:i}},[])).default}catch(i){throw new Gf(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new fo(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new Ts(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Ts;let r;try{r=new X(n.publicKey.toBytes())}catch(i){throw new Oo(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new al(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new yt;try{const{signers:o,...s}=r;return jr(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,s)}catch(o){throw o instanceof At?o:new oi(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signTransaction(e)||e}catch(r){throw new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signAllTransactions(e)||e}catch(r){throw new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signMessage(e,"utf8")}catch(r){throw new Uc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const Q6="Torus";class X6 extends zc{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=Q6,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?ze.Unsupported:ze.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ze.Loadable)throw new xo;this._connecting=!0;let e;try{e=(await sh(async()=>{const{default:o}=await import("./solanaEmbed.esm-4Q63YTWO.js");return{default:o}},[])).default}catch(o){throw new Gf(o==null?void 0:o.message,o)}let n;try{n=window.torus||new e}catch(o){throw new fo(o==null?void 0:o.message,o)}if(!n.isInitialized)try{await n.init(this._params)}catch(o){throw new Ts(o==null?void 0:o.message,o)}let r;try{r=await n.login()}catch(o){throw new Ci(o==null?void 0:o.message,o)}let i;try{i=new X(r[0])}catch(o){throw new Oo(o==null?void 0:o.message,o)}this._wallet=n,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(n){this.emit("error",new al(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new yt;try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof At?o:new oi(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signTransaction(e)||e}catch(r){throw new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signAllTransactions(e)||e}catch(r){throw new er(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new yt;try{return await n.signMessage(e)}catch(r){throw new Uc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const J6="EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro",eB={name:"dmd_anchor",version:"0.1.0",spec:"0.1.0"},tB=[{name:"auto_whitelist_self",docs:["Käufer kann sich selbst whitelisten, wenn seine Wallet >= 0,5 SOL hält.","Keine Founder-Signatur nötig. BuyerState wird bei Bedarf angelegt."],discriminator:[58,140,157,210,236,85,159,240],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"buy_dmd",discriminator:[118,112,238,202,214,39,149,203],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",writable:!0},{name:"treasury",writable:!0},{name:"vault_token_account",docs:["NEU: Vault-ATA (Owner = PDA)"],writable:!0},{name:"buyer_token_account",docs:["Käufer-ATA"],writable:!0},{name:"buyer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"sol_contribution",type:"u64"}]},{name:"claim_reward",discriminator:[149,95,181,242,94,90,158,162],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[]},{name:"claim_reward_v2",discriminator:[0,178,84,58,172,64,185,217],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"vault_token_account",writable:!0},{name:"buyer_token_account",writable:!0},{name:"buyer",signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"founder"}]}},{name:"founder",writable:!0,signer:!0},{name:"mint",writable:!0},{name:"founder_token_account",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"initial_price_sol",type:"u64"}]},{name:"sell_dmd",discriminator:[129,244,102,89,109,152,241,129],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"sell_dmd_v2",discriminator:[84,193,171,169,74,251,221,217],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"vault_token_account",writable:!0},{name:"buyer_token_account",writable:!0},{name:"treasury",docs:["Treasury zahlt SOL aus (Signer!)"],writable:!0,signer:!0},{name:"founder",docs:["Founder erhält 65%-Anteil (von der Penalty)"],writable:!0},{name:"buyer",signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_tokens",type:"u64"}]},{name:"set_manual_price",discriminator:[6,210,4,51,43,53,139,140],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"founder",signer:!0}],args:[{name:"lamports_per_10k",type:"u64"}]},{name:"swap_exact_dmd_for_sol",docs:["SELL Swap: Token vom User zurück zum Vault, berechnet SOL via Manual-Preis,","Hold-Penalty (innerhalb 30 Tagen volle PENALTY_MAX, sonst PENALTY_MIN? -> klassisch nach deinem V2-Stil: Penalty nur wenn Hold nicht erfüllt),","Auszahlung aus Treasury an User + 65/35 auf Penalty an Founder/Treasury."],discriminator:[207,148,8,253,245,84,97,226],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"user"}]}},{name:"vault_token_account",docs:["Vault-ATA (Owner = PDA)"],writable:!0},{name:"user_dmd_ata",docs:["User-ATA"],writable:!0},{name:"treasury",docs:["Treasury zahlt SOL & split"],writable:!0},{name:"founder",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_in_dmd",type:"u64"},{name:"min_out_sol",type:"u64"}]},{name:"swap_exact_sol_for_dmd",docs:["BUY Swap: nimmt `amount_in_lamports`, Auto-WL, 60/40-Split,","überträgt DMD aus Vault-ATA → User-ATA; setzt min_out_dmd als Slippage-Schutz."],discriminator:[64,104,47,179,12,0,23,147],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"user"}]}},{name:"vault_token_account",docs:["Vault-ATA (Owner = PDA)"],writable:!0},{name:"user_dmd_ata",docs:["User-ATA"],writable:!0},{name:"founder",docs:["Auszahlung 60/40"],writable:!0},{name:"treasury",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_in_lamports",type:"u64"},{name:"min_out_dmd",type:"u64"}]},{name:"toggle_public_sale",discriminator:[48,110,255,143,126,24,42,91],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"founder",signer:!0}],args:[{name:"active",type:"bool"}]},{name:"whitelist_add",discriminator:[200,159,194,141,100,114,107,154],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer",docs:["Der Buyer, dessen Whitelist-Status gesetzt wird"]},{name:"buyer_state",docs:['PDA: [b"buyer", vault, buyer] – wird bei Bedarf angelegt'],writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",docs:["Nur Founder darf whitelisten und zahlt ggf. die Miete"],writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"status",type:"bool"}]}],nB=[{name:"BuyerState",discriminator:[196,226,50,172,9,123,201,250]},{name:"Vault",discriminator:[211,8,232,43,2,152,117,119]}],rB=[{code:6e3,name:"NotWhitelisted",msg:"Du bist nicht auf der Whitelist."},{code:6001,name:"ClaimTooEarly",msg:"Claim zu früh."},{code:6002,name:"SellTooEarly",msg:"Zu früh verkauft."},{code:6003,name:"HoldTooShort",msg:"Nicht lange genug gehalten."},{code:6004,name:"PresaleLimitReached",msg:"Presale Limit erreicht."},{code:6005,name:"Unauthorized",msg:"Nicht berechtigt."},{code:6006,name:"InsufficientFounderInit",msg:"Founder Initialisierung zu niedrig."},{code:6007,name:"MathOverflow",msg:"Arithmetischer Überlauf."},{code:6008,name:"ContributionOutOfRange",msg:"Beitrag außerhalb des erlaubten Bereichs (0.5–10 SOL)."},{code:6009,name:"InvalidPrice",msg:"Ungültiger Preis."}],iB=[{name:"BuyerState",type:{kind:"struct",fields:[{name:"total_dmd",type:"u64"},{name:"last_reward_claim",type:"i64"},{name:"last_sell",type:"i64"},{name:"holding_since",type:"i64"},{name:"last_buy_day",type:"i64"},{name:"buy_count_today",type:"u64"},{name:"whitelisted",type:"bool"}]}},{name:"Vault",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"total_supply",type:"u64"},{name:"presale_sold",type:"u64"},{name:"initial_price_sol",type:"u64"},{name:"public_sale_active",type:"bool"},{name:"mint",type:"pubkey"},{name:"mint_decimals",type:"u8"}]}}],UI={address:J6,metadata:eB,instructions:tB,accounts:nB,errors:rB,types:iB},oB={BASE_URL:"/Investor_App_DMD/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEV_SOL_PRICE:"1",VITE_DMD_MINT:"3rCZT3Xw6jvU4JWatQPsivS8fQ7gV7GjUfJnbTk9Ssn5",VITE_PROGRAM_ID:"EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro",VITE_RPC_URL:"https://mainnet.helius-rpc.com/?api-key=cba27cb3-9d36-4095-ae3a-4025bc7ff611",VITE_SOL_USD:"200",VITE_TREASURY:"CEUmazdgtbUCcQyLq6NCm4BuQbvCsYFzKsS5wdRvZehV"},sB=5e3,Wo=t=>typeof t=="number"&&isFinite(t)&&t>.5&&t<1e4;async function vl(t,e,n=sB){const r=new AbortController,i=setTimeout(()=>r.abort(),n);try{const o=await fetch(t,{...e,signal:r.signal,cache:"no-store",mode:"cors"});if(!o.ok)throw new Error(`HTTP ${o.status}`);return await o.json()}finally{clearTimeout(i)}}function Fo(t,e){console.log(`[price] ${t} OK -> $${e.toFixed(4)}`)}function or(t,e){console.warn(`[price] ${t} miss`,e??"")}async function Bp(){var t,e,n,r,i,o,s,a;try{const l="https://price.jup.ag/v6/price?ids=SOL&_="+Date.now(),u=await vl(l,{headers:{pragma:"no-cache","cache-control":"no-cache"}}),f=((e=(t=u==null?void 0:u.data)==null?void 0:t.SOL)==null?void 0:e.price)??((n=u==null?void 0:u.data)==null?void 0:n.SOL);if(Wo(f))return Fo("Jupiter v6",f),f;or("Jupiter v6 shape",u)}catch(l){or("Jupiter v6 error",l)}try{const l="https://price.jup.ag/v4/price?ids=SOL&_="+Date.now(),u=await vl(l,{headers:{pragma:"no-cache","cache-control":"no-cache"}}),f=((i=(r=u==null?void 0:u.data)==null?void 0:r.SOL)==null?void 0:i.price)??((o=u==null?void 0:u.data)==null?void 0:o.SOL);if(Wo(f))return Fo("Jupiter v4",f),f;or("Jupiter v4 shape",u)}catch(l){or("Jupiter v4 error",l)}try{const l="https://hermes.pyth.network/v2/price/latest?ids=Crypto.SOL%2FUSD&_="+Date.now(),u=await vl(l),f=(u==null?void 0:u.parsed)??(u==null?void 0:u.data)??null;if(Array.isArray(f)&&f.length){const g=f[0];if(g!=null&&g.price&&typeof g.price.price=="number"){const m=g.price.expo||0,_=g.price.price*Math.pow(10,m);if(Wo(_))return Fo("Pyth Hermes (expo)",_),_}const w=(s=g==null?void 0:g.prices)==null?void 0:s.usd;if(Wo(w))return Fo("Pyth Hermes (usd)",w),w}or("Pyth shape",u)}catch(l){or("Pyth error",l)}try{const l="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd&_="+Date.now(),u=await vl(l),f=(a=u==null?void 0:u.solana)==null?void 0:a.usd;if(Wo(f))return Fo("CoinGecko",f),f;or("CoinGecko shape",u)}catch(l){or("CoinGecko error",l)}try{const l="https://min-api.cryptocompare.com/data/price?fsym=SOL&tsyms=USD&_="+Date.now(),u=await vl(l),f=u==null?void 0:u.USD;if(Wo(f))return Fo("CryptoCompare",f),f;or("CryptoCompare shape",u)}catch(l){or("CryptoCompare error",l)}try{const l=oB||{};if(l.VITE_DEV_SOL_PRICE==="1"){const u=Number(l.VITE_SOL_USD||"0");if(Wo(u))return Fo("DEV_FALLBACK",u),u;or("DEV_FALLBACK bad value",u)}}catch(l){or("DEV_FALLBACK error",l)}return or("ALL SOURCES"),0}typeof window<"u"&&!window.Buffer&&(window.Buffer=de.Buffer);const Km=new X("EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro"),zI="https://mainnet.helius-rpc.com/?api-key=cba27cb3-9d36-4095-ae3a-4025bc7ff611",Wg=new X("3rCZT3Xw6jvU4JWatQPsivS8fQ7gV7GjUfJnbTk9Ssn5"),Zi=new X("CEUmazdgtbUCcQyLq6NCm4BuQbvCsYFzKsS5wdRvZehV"),Ho=new X("AqPFb5LWQuzKiyoKTX9XgUwsYWoFvpeE8E8uzQvnDTzT"),ma=new X("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),jI=new X("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),aB=60*60*24*30,lB=60*60*24*90,WI=y4.bytes.utf8,wi=()=>X.findProgramAddressSync([WI.encode("vault")],Km)[0],Ko=(t,e)=>X.findProgramAddressSync([WI.encode("buyer"),t.toBuffer(),e.toBuffer()],Km)[0],vi=t=>X.findProgramAddressSync([t.toBuffer(),ma.toBuffer(),Wg.toBuffer()],jI)[0];function kv(t,e,n,r){return new et({programId:jI,keys:[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:bt.programId,isSigner:!1,isWritable:!1},{pubkey:ma,isSigner:!1,isWritable:!1}],data:de.Buffer.alloc(0)})}const cB=new VC(UI),Pp=new YC(UI);function Ks(t,e,n={}){return new et({programId:Km,keys:e,data:cB.encode(t,n)})}function uB(){var nt;const t=Cm(),[e]=te.useState(()=>new ym(zI,"confirmed")),n={skipPreflight:!0},r=!!t.publicKey,[i,o]=te.useState(""),[s,a]=te.useState(null),[l,u]=te.useState(0),[f,g]=te.useState(null),[w,m]=te.useState(null),[_,T]=te.useState(null),[M,E]=te.useState(null),[A,S]=te.useState(!1),[C,P]=te.useState(9),[D,j]=te.useState("1.0"),[H,W]=te.useState("10000"),[Y,Z]=te.useState("1.0"),[V,b]=te.useState(!1),[c,d]=te.useState("1.0");function v(Q){if(!Q||Q<=0)return null;const he=100/Q;return Math.floor(he*Go)}async function k(Q){if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");if(!t.publicKey.equals(Ho))return o("❌ Nur Founder dürfen den Manual-Preis setzen.");try{o("Setze Manual-Preis …");const ve=[{pubkey:wi(),isSigner:!1,isWritable:!0},{pubkey:Ho,isSigner:!0,isWritable:!1},{pubkey:bt.programId,isSigner:!1,isWritable:!1}],Qe=Ks("set_manual_price",ve,{lamports_per_10k:new lr(Q)}),_e=new Pe().add(Qe);_e.feePayer=t.publicKey,_e.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const Ie=await t.sendTransaction(_e,e,{skipPreflight:!0});o(`✅ Manual-Preis gesetzt: ${Ie}`),m(Q)}catch(he){o(`❌ Set Manual Price fehlgeschlagen: ${(he==null?void 0:he.message)??he}`)}}te.useEffect(()=>{let Q=!0;(async()=>{try{const ve=wi(),Qe=vi(ve),[_e,Ie,Bt,Fe]=await Promise.all([e.getAccountInfo(ve),e.getBalance(Zi),Bp(),e.getTokenAccountBalance(Qe).then(Ne=>{var lt;return((lt=Ne==null?void 0:Ne.value)==null?void 0:lt.uiAmount)??0}).catch(()=>0)]);if(!Q)return;if(a(Ie/Go),u(Bt),g(Date.now()),T(Fe),_e!=null&&_e.data){const Ne=Pp.decode("Vault",_e.data);m(Number(Ne.initial_price_sol??0)),P(Number(Ne.mint_decimals??9))}}catch(ve){console.error(ve)}})();const he=setInterval(()=>{e.getBalance(Zi).then(ve=>a(ve/Go)).catch(()=>{}),Bp().then(ve=>{u(ve),g(Date.now())}).catch(()=>{})},15e3);return()=>{Q=!1,clearInterval(he)}},[e]),te.useEffect(()=>{let Q=!0;(async()=>{if(!r||!t.publicKey){E(null),S(!1);return}try{const ve=wi(),Qe=Ko(ve,t.publicKey),_e=await e.getAccountInfo(Qe);if(!Q)return;if(!_e){E(null),S(!1);return}const Ie=Pp.decode("BuyerState",_e.data);E(Ie),S(!!Ie.whitelisted)}catch{E(null),S(!1)}})();const he=setInterval(async()=>{if(!r||!t.publicKey)return;const ve=wi(),Qe=Ko(ve,t.publicKey),_e=await e.getAccountInfo(Qe).catch(()=>null);if(_e){const Ie=Pp.decode("BuyerState",_e.data);E(Ie),S(!!Ie.whitelisted)}},2e4);return()=>{Q=!1,clearInterval(he)}},[r,e,t.publicKey]),te.useEffect(()=>{if(!V||!t.publicKey||!t.publicKey.equals(Ho))return;let Q=!0;const he=setInterval(async()=>{try{const ve=await Bp(),Qe=v(ve);if(!Q||Qe==null||w==null)return;Math.abs((Qe-w)/w)*100>Number(c||"1")&&await k(Qe)}catch{}},6e4);return()=>{Q=!1,clearInterval(he)}},[V,t.publicKey,w,c]);const I=w!=null?w/Go:null,x=I!=null?I/1e4:null,B=x!=null&&l>0?x*l:null,N=_!=null&&B!=null?_*B:null;async function p(Q,he,ve){const Qe=[],_e=vi(he),Ie=vi(ve),[Bt,Fe]=await Promise.all([e.getAccountInfo(_e),e.getAccountInfo(Ie)]);return Bt||Qe.push(kv(Q,_e,he,Wg)),Fe||Qe.push(kv(Q,Ie,ve,Wg)),{ixs:Qe,buyerAta:_e,vaultAta:Ie}}const L=Q=>Q==null?"…":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Q),oe=Q=>Q==null?"—":new Date(Q).toLocaleTimeString("de-DE",{hour12:!1}),ie=(Q,he=0,ve=9)=>Q==null?"…":new Intl.NumberFormat("en-US",{minimumFractionDigits:he,maximumFractionDigits:ve}).format(Q),ae=(Q,he=6)=>Q==null?"…":(typeof Q=="number"?Q:Number(Q)).toFixed(he);async function Re(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");o("Whitelist wird geprüft…");const Q=t.publicKey,he=wi(),ve=Ko(he,Q),Qe=[{pubkey:he,isSigner:!1,isWritable:!0},{pubkey:ve,isSigner:!1,isWritable:!0},{pubkey:Q,isSigner:!0,isWritable:!0},{pubkey:bt.programId,isSigner:!1,isWritable:!1}],_e=Ks("auto_whitelist_self",Qe,{}),Ie=new Pe().add(_e);Ie.feePayer=Q,Ie.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const Bt=await t.sendTransaction(Ie,e,n);o(`✅ Auto-Whitelist gesendet: ${Bt}`)}catch(Q){o(`❌ Auto-Whitelist fehlgeschlagen: ${(Q==null?void 0:Q.message)??Q}`)}}async function Ae(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");o("Bereite Kauf vor…");const Q=t.publicKey,he=wi(),ve=Ko(he,Q),{ixs:Qe,buyerAta:_e,vaultAta:Ie}=await p(Q,Q,he),Bt=new lr(Math.floor(parseFloat(D)*Go));if(Bt.lte(new lr(0)))return alert("Ungültiger SOL-Betrag.");const Fe=[{pubkey:he,isSigner:!1,isWritable:!0},{pubkey:ve,isSigner:!1,isWritable:!0},{pubkey:Ho,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:Q,isSigner:!0,isWritable:!0},{pubkey:ma,isSigner:!1,isWritable:!1},{pubkey:bt.programId,isSigner:!1,isWritable:!1}],Ne=Ks("buy_dmd",Fe,{sol_contribution:Bt}),lt=new Pe;Qe.forEach(ct=>lt.add(ct)),lt.add(Ne),lt.feePayer=Q,lt.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const Xe=await t.sendTransaction(lt,e,n);o(`✅ Buy gesendet: ${Xe}`)}catch(Q){o(`❌ Buy fehlgeschlagen: ${(Q==null?void 0:Q.message)??Q}`)}}async function Ee(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");const Q=t.publicKey;if(!M)return o("❌ Kein BuyerState – zuerst via Buy erwerben.");const he=Math.floor(Date.now()/1e3);if(he-Number(M.holding_since??0)<aB)return o("❌ Hold zu kurz (30 Tage).");if(Number(M.last_reward_claim??0)&&he-Number(M.last_reward_claim)<lB)return o("❌ Claim zu früh (90 Tage).");o("Sende Claim …");const ve=wi(),Qe=Ko(ve,Q),_e=vi(ve),Ie=vi(Q),Fe=Ks("claim_reward_v2",[{pubkey:ve,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!0},{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:Q,isSigner:!0,isWritable:!1},{pubkey:ma,isSigner:!1,isWritable:!1}],{}),Ne=new Pe().add(Fe);Ne.feePayer=Q,Ne.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const lt=await t.sendTransaction(Ne,e,n);o(`✅ Claim gesendet: ${lt}`)}catch(Q){o(`❌ Claim fehlgeschlagen: ${(Q==null?void 0:Q.message)??Q}`)}}async function St(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");const Q=t.publicKey,he=wi(),ve=Ko(he,Q),Qe=vi(he),_e=vi(Q),{ixs:Ie}=await p(Q,Q,he),Bt=new lr(Math.floor(parseFloat(D)*Go));if(Bt.lte(new lr(0)))return o("❌ Ungültiger SOL-Betrag.");if(w==null)return o("❌ Manual-Preis unbekannt.");const Fe=Number(Bt.toString())*1e4/Number(w),Ne=10**C,lt=Math.floor(Fe*Ne),Xe=Math.floor(lt*Math.max(0,1-Number(Y||"0")/100)),ct=[{pubkey:he,isSigner:!1,isWritable:!0},{pubkey:ve,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!0},{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:Ho,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!0},{pubkey:Q,isSigner:!0,isWritable:!0},{pubkey:ma,isSigner:!1,isWritable:!1},{pubkey:bt.programId,isSigner:!1,isWritable:!1}],zn=Ks("swap_exact_sol_for_dmd",ct,{amount_in_lamports:Bt,min_out_dmd:new lr(Xe)}),He=new Pe;Ie.forEach(h=>He.add(h)),He.add(zn),He.feePayer=Q,He.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const R=await t.sendTransaction(He,e,n);o(`✅ Swap SOL→DMD gesendet: ${R}`)}catch(Q){o(`❌ Swap SOL→DMD fehlgeschlagen: ${(Q==null?void 0:Q.message)??Q}`)}}async function tt(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");const Q=t.publicKey,he=wi(),ve=Ko(he,Q),Qe=vi(he),_e=vi(Q),{ixs:Ie}=await p(Q,Q,he),Bt=10**C,Fe=Math.floor(parseFloat(H)*Bt),Ne=new lr(Fe);if(Ne.lte(new lr(0)))return o("❌ Ungültiger DMD-Betrag.");if(w==null)return o("❌ Manual-Preis unbekannt.");const lt=Fe/Bt*(Number(w)/1e4),Xe=Math.floor(lt*Math.max(0,1-Number(Y||"0")/100)),ct=[{pubkey:he,isSigner:!1,isWritable:!0},{pubkey:ve,isSigner:!1,isWritable:!0},{pubkey:Qe,isSigner:!1,isWritable:!0},{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!0},{pubkey:Ho,isSigner:!1,isWritable:!0},{pubkey:Q,isSigner:!0,isWritable:!0},{pubkey:ma,isSigner:!1,isWritable:!1},{pubkey:bt.programId,isSigner:!1,isWritable:!1}],zn=Ks("swap_exact_dmd_for_sol",ct,{amount_in_dmd:Ne,min_out_sol:new lr(Xe)}),He=new Pe;Ie.forEach(h=>He.add(h)),He.add(zn),He.feePayer=Q,He.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const R=await t.sendTransaction(He,e,n);o(`✅ Swap DMD→SOL gesendet: ${R}`)}catch(Q){o(`❌ Swap DMD→SOL fehlgeschlagen: ${(Q==null?void 0:Q.message)??Q}`)}}return ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{style:{position:"fixed",top:16,right:16,zIndex:50},children:ee.jsx(vv,{})}),ee.jsxs("main",{children:[ee.jsxs("div",{className:"btn-grid",style:{marginBottom:24},children:[ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"DMD Pricing"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Target"}),ee.jsx("b",{children:"$0.0100 / DMD"})]}),(()=>{const Q=l>0?.01/l:null;return ee.jsxs(ee.Fragment,{children:[ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"≈ SOL / DMD"}),ee.jsx("b",{children:Q==null?"…":new Intl.NumberFormat("en-US",{maximumFractionDigits:9}).format(Q)})]}),ee.jsxs("div",{className:"kv small muted",children:[ee.jsx("span",{children:"SOL Spot"}),ee.jsx("b",{children:l&&l>0?"$"+l.toFixed(2)+" · Jupiter"+(f?" · "+oe(f):""):"…"})]})]})})(),ee.jsx("div",{className:"hr"}),ee.jsx("div",{className:"muted small",children:"On-chain Manual"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"SOL / 10k"}),ee.jsx("b",{children:ae(I,6)})]}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"SOL / DMD"}),ee.jsx("b",{children:ie(x,0,9)})]}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"USD / DMD"}),ee.jsx("b",{children:B==null?"…":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:6}).format(B)})]}),r&&((nt=t.publicKey)==null?void 0:nt.equals(Ho))&&ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"hr"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Abweichungsschwelle"}),ee.jsx("input",{value:c,onChange:Q=>d(Q.target.value),className:"input input--sm",style:{maxWidth:90}}),ee.jsx("span",{className:"small muted",children:"%"})]}),ee.jsxs("div",{className:"btn-grid",style:{marginTop:8},children:[ee.jsx("button",{className:"action-btn",onClick:async()=>{if(l<=0)return o("❌ SOL-Spot unbekannt.");const Q=v(l);if(!Q)return o("❌ Zielberechnung fehlgeschlagen.");await k(Q)},children:"Sync auf $0.01"}),ee.jsx("button",{className:"action-btn",onClick:()=>b(!V),style:{opacity:V?1:.7},children:V?"Auto-Sync: AN":"Auto-Sync: AUS"})]}),ee.jsxs("div",{className:"small muted",style:{marginTop:6},children:["Auto-Sync setzt den Manual-Preis alle 60 s neu, wenn die Abweichung > ",c,"% ist."]})]})]}),ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Treasury"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"SOL"}),ee.jsx("b",{children:s==null?"…":s.toFixed(4)})]}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"USD"}),ee.jsx("b",{children:s!=null&&l>0?L(s*l):"…"})]}),ee.jsxs("div",{className:"kv small muted",children:[ee.jsx("span",{children:"Treasury"}),ee.jsx("span",{className:"mono",children:Zi?Zi.toBase58().slice(0,4)+"…"+Zi.toBase58().slice(-4):"…"})]}),ee.jsx("div",{className:"hr"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Presale Pool (DMD)"}),ee.jsx("b",{children:_==null?"…":_.toLocaleString()})]}),N!=null&&ee.jsxs("div",{className:"small muted",children:["≈ ",L(N)," @ Manual"]})]})]}),r&&ee.jsxs("div",{className:"panel",style:{marginBottom:20},children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Whitelist"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Status"}),ee.jsx("span",{className:"chip",children:A?"Aktiv ✅":"Nicht aktiv ❌"})]}),!A&&ee.jsx("button",{className:"btn",onClick:Re,children:"Auto-Whitelist (≥ 0,5 SOL)"})]}),r&&A?ee.jsxs("div",{className:"btn-grid",children:[ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"SOL → DMD"}),ee.jsx("label",{className:"small muted",children:"Betrag (SOL)"}),ee.jsx("input",{value:D,onChange:Q=>j(Q.target.value),className:"input",placeholder:"z. B. 1.5"}),ee.jsx("div",{className:"small muted",style:{marginTop:8},children:"Slippage (%)"}),ee.jsx("input",{value:Y,onChange:Q=>Z(Q.target.value),className:"input input--sm"}),ee.jsxs("div",{className:"btn-grid",style:{marginTop:12},children:[ee.jsx("button",{className:"action-btn",onClick:Ae,children:"BUY DMD"}),ee.jsx("button",{className:"action-btn",onClick:St,children:"SWAP SOL→DMD"})]})]}),ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"DMD → SOL"}),ee.jsx("label",{className:"small muted",children:"Betrag (DMD)"}),ee.jsx("input",{value:H,onChange:Q=>W(Q.target.value),className:"input",placeholder:"z. B. 10000"}),ee.jsx("div",{className:"small muted",style:{marginTop:8},children:"Slippage (%)"}),ee.jsx("input",{value:Y,onChange:Q=>Z(Q.target.value),className:"input input--sm"}),ee.jsxs("div",{className:"btn-grid",style:{marginTop:12},children:[ee.jsx("button",{className:"action-btn",title:"Verkauf folgt – Treasury Signatur nötig",disabled:!0,style:{opacity:.6,cursor:"not-allowed"},children:"SELL DMD"}),ee.jsx("button",{className:"action-btn",onClick:tt,children:"SWAP DMD→SOL"}),ee.jsx("button",{className:"action-btn",onClick:Ee,children:"CLAIM REWARDS"})]})]})]}):r?ee.jsxs("div",{className:"panel",style:{marginTop:20,textAlign:"center"},children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Whitelist benötigt"}),ee.jsx("p",{className:"small muted",style:{marginBottom:12},children:"Deine Wallet ist verbunden, aber noch nicht freigeschaltet."}),ee.jsx("button",{className:"btn",onClick:Re,children:"Auto-Whitelist (≥ 0,5 SOL)"})]}):ee.jsxs("div",{className:"panel",style:{marginTop:20,textAlign:"center"},children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Wallet verbinden"}),ee.jsx("p",{className:"small muted",children:"Verbinde eine Wallet, um Whitelist & Trading zu nutzen."}),ee.jsx("div",{style:{marginTop:12},children:ee.jsx(vv,{})})]}),ee.jsx("p",{className:"small muted",style:{marginTop:12,whiteSpace:"pre-wrap"},children:i})]})]})}function dB(){const t=te.useMemo(()=>[new H6,new Z6,new W6,new X6],[]);return ee.jsx(v4,{endpoint:zI,children:ee.jsx(a6,{wallets:t,autoConnect:!0,children:ee.jsx(h6,{children:ee.jsx(uB,{})})})})}typeof window<"u"&&!window.Buffer&&(window.Buffer=de.Buffer);const FI=document.getElementById("root");if(!FI)throw new Error("Root-Element nicht gefunden");Dp.createRoot(FI).render(ee.jsx(ne.StrictMode,{children:ee.jsx(dB,{})}));export{a8 as C,c8 as D,pd as L,X as P,ql as S,Pe as T,wc as V,k6 as a,Fc as b,d8 as c,u8 as d,l8 as e,de as f,Ms as g,b6 as h,Ut as i,De as j,f8 as l,kR as r,MT as s};
