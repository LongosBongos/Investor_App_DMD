var NI=Object.defineProperty;var xI=(t,e,n)=>e in t?NI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ut=(t,e,n)=>xI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ga(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ev={exports:{}},lf={},bv={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=Symbol.for("react.element"),OI=Symbol.for("react.portal"),CI=Symbol.for("react.fragment"),LI=Symbol.for("react.strict_mode"),BI=Symbol.for("react.profiler"),PI=Symbol.for("react.provider"),DI=Symbol.for("react.context"),UI=Symbol.for("react.forward_ref"),zI=Symbol.for("react.suspense"),jI=Symbol.for("react.memo"),WI=Symbol.for("react.lazy"),qm=Symbol.iterator;function FI(t){return t===null||typeof t!="object"?null:(t=qm&&t[qm]||t["@@iterator"],typeof t=="function"?t:null)}var Av={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iv=Object.assign,kv={};function Ya(t,e,n){this.props=t,this.context=e,this.refs=kv,this.updater=n||Av}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rv(){}Rv.prototype=Ya.prototype;function zg(t,e,n){this.props=t,this.context=e,this.refs=kv,this.updater=n||Av}var jg=zg.prototype=new Rv;jg.constructor=zg;Iv(jg,Ya.prototype);jg.isPureReactComponent=!0;var Zm=Array.isArray,Tv=Object.prototype.hasOwnProperty,Wg={current:null},Mv={key:!0,ref:!0,__self:!0,__source:!0};function Nv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Tv.call(e,r)&&!Mv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_u,type:t,key:o,ref:s,props:i,_owner:Wg.current}}function HI(t,e){return{$$typeof:_u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fg(t){return typeof t=="object"&&t!==null&&t.$$typeof===_u}function KI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qm=/\/+/g;function Ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KI(""+t.key):e.toString(36)}function vc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case _u:case OI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ih(s,0):r,Zm(i)?(n="",t!=null&&(n=t.replace(Qm,"$&/")+"/"),vc(i,e,n,"",function(c){return c})):i!=null&&(Fg(i)&&(i=HI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Qm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Zm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ih(o,a);s+=vc(o,e,n,l,i)}else if(l=FI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ih(o,a++),s+=vc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Wu(t,e,n){if(t==null)return t;var r=[],i=0;return vc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $I(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},_c={transition:null},VI={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:_c,ReactCurrentOwner:Wg};function xv(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Wu,forEach:function(t,e,n){Wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!Fg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=Ya;Ke.Fragment=CI;Ke.Profiler=BI;Ke.PureComponent=zg;Ke.StrictMode=LI;Ke.Suspense=zI;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI;Ke.act=xv;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Iv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Tv.call(e,l)&&!Mv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_u,type:t.type,key:i,ref:o,props:r,_owner:s}};Ke.createContext=function(t){return t={$$typeof:DI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PI,_context:t},t.Consumer=t};Ke.createElement=Nv;Ke.createFactory=function(t){var e=Nv.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:UI,render:t}};Ke.isValidElement=Fg;Ke.lazy=function(t){return{$$typeof:WI,_payload:{_status:-1,_result:t},_init:$I}};Ke.memo=function(t,e){return{$$typeof:jI,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=_c.transition;_c.transition={};try{t()}finally{_c.transition=e}};Ke.unstable_act=xv;Ke.useCallback=function(t,e){return Hn.current.useCallback(t,e)};Ke.useContext=function(t){return Hn.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return Hn.current.useEffect(t,e)};Ke.useId=function(){return Hn.current.useId()};Ke.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return Hn.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};Ke.useRef=function(t){return Hn.current.useRef(t)};Ke.useState=function(t){return Hn.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return Hn.current.useTransition()};Ke.version="18.3.1";bv.exports=Ke;var te=bv.exports;const ne=Ts(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI=te,YI=Symbol.for("react.element"),qI=Symbol.for("react.fragment"),ZI=Object.prototype.hasOwnProperty,QI=GI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XI={key:!0,ref:!0,__self:!0,__source:!0};function Ov(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ZI.call(e,r)&&!XI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YI,type:t,key:o,ref:s,props:i,_owner:QI.current}}lf.Fragment=qI;lf.jsx=Ov;lf.jsxs=Ov;Ev.exports=lf;var ee=Ev.exports,de={},uf={};uf.byteLength=t2;uf.toByteArray=r2;uf.fromByteArray=s2;var Qr=[],Er=[],JI=typeof Uint8Array<"u"?Uint8Array:Array,kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ds=0,e2=kh.length;Ds<e2;++Ds)Qr[Ds]=kh[Ds],Er[kh.charCodeAt(Ds)]=Ds;Er[45]=62;Er[95]=63;function Cv(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function t2(t){var e=Cv(t),n=e[0],r=e[1];return(n+r)*3/4-r}function n2(t,e,n){return(e+n)*3/4-n}function r2(t){var e,n=Cv(t),r=n[0],i=n[1],o=new JI(n2(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Er[t.charCodeAt(l)]<<18|Er[t.charCodeAt(l+1)]<<12|Er[t.charCodeAt(l+2)]<<6|Er[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Er[t.charCodeAt(l)]<<2|Er[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=Er[t.charCodeAt(l)]<<10|Er[t.charCodeAt(l+1)]<<4|Er[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function i2(t){return Qr[t>>18&63]+Qr[t>>12&63]+Qr[t>>6&63]+Qr[t&63]}function o2(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(i2(r));return i.join("")}function s2(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(o2(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Qr[e>>2]+Qr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Qr[e>>10]+Qr[e>>4&63]+Qr[e<<2&63]+"=")),i.join("")}var Hg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Hg.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,f=-7,g=n?i-1:0,w=n?-1:1,m=t[e+g];for(g+=w,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+t[e+g],g+=w,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=s*256+t[e+g],g+=w,f-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(m?-1:1)*s*Math.pow(2,o-r)};Hg.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,f=(1<<c)-1,g=f>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,_=r?1:-1,R=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+g>=1?e+=w/l:e+=w*Math.pow(2,1-g),e*l>=2&&(s++,l/=2),s+g>=f?(a=0,s=f):s+g>=1?(a=(e*l-1)*Math.pow(2,i),s=s+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=a&255,m+=_,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+m]=s&255,m+=_,s/=256,c-=8);t[n+m-_]|=R*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=uf,n=Hg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const T=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(T,h),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const h=new Uint8Array(T);return Object.setPrototypeOf(h,a.prototype),h}function a(T,h,y){if(typeof T=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(T)}return l(T,h,y)}a.poolSize=8192;function l(T,h,y){if(typeof T=="string")return w(T,h);if(ArrayBuffer.isView(T))return _(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(rn(T,ArrayBuffer)||T&&rn(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rn(T,SharedArrayBuffer)||T&&rn(T.buffer,SharedArrayBuffer)))return R(T,h,y);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=T.valueOf&&T.valueOf();if(L!=null&&L!==T)return a.from(L,h,y);const W=N(T);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),h,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,h,y){return l(T,h,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function f(T,h,y){return c(T),T<=0?s(T):h!==void 0?typeof y=="string"?s(T).fill(h,y):s(T).fill(h):s(T)}a.alloc=function(T,h,y){return f(T,h,y)};function g(T){return c(T),s(T<0?0:E(T)|0)}a.allocUnsafe=function(T){return g(T)},a.allocUnsafeSlow=function(T){return g(T)};function w(T,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const y=S(T,h)|0;let L=s(y);const W=L.write(T,h);return W!==y&&(L=L.slice(0,W)),L}function m(T){const h=T.length<0?0:E(T.length)|0,y=s(h);for(let L=0;L<h;L+=1)y[L]=T[L]&255;return y}function _(T){if(rn(T,Uint8Array)){const h=new Uint8Array(T);return R(h.buffer,h.byteOffset,h.byteLength)}return m(T)}function R(T,h,y){if(h<0||T.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<h+(y||0))throw new RangeError('"length" is outside of buffer bounds');let L;return h===void 0&&y===void 0?L=new Uint8Array(T):y===void 0?L=new Uint8Array(T,h):L=new Uint8Array(T,h,y),Object.setPrototypeOf(L,a.prototype),L}function N(T){if(a.isBuffer(T)){const h=E(T.length)|0,y=s(h);return y.length===0||T.copy(y,0,0,h),y}if(T.length!==void 0)return typeof T.length!="number"||We(T.length)?s(0):m(T);if(T.type==="Buffer"&&Array.isArray(T.data))return m(T.data)}function E(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function A(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,y){if(rn(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),rn(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(h)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===y)return 0;let L=h.length,W=y.length;for(let K=0,q=Math.min(L,W);K<q;++K)if(h[K]!==y[K]){L=h[K],W=y[K];break}return L<W?-1:W<L?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,y){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let L;if(y===void 0)for(y=0,L=0;L<h.length;++L)y+=h[L].length;const W=a.allocUnsafe(y);let K=0;for(L=0;L<h.length;++L){let q=h[L];if(rn(q,Uint8Array))K+q.length>W.length?(a.isBuffer(q)||(q=a.from(q)),q.copy(W,K)):Uint8Array.prototype.set.call(W,q,K);else if(a.isBuffer(q))q.copy(W,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=q.length}return W};function S(T,h){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||rn(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const y=T.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&y===0)return 0;let W=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return be(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return Ue(T).length;default:if(W)return L?-1:be(T).length;h=(""+h).toLowerCase(),W=!0}}a.byteLength=S;function M(T,h,y){let L=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,h>>>=0,y<=h))return"";for(T||(T="utf8");;)switch(T){case"hex":return O(this,h,y);case"utf8":case"utf-8":return u(this,h,y);case"ascii":return k(this,h,y);case"latin1":case"binary":return I(this,h,y);case"base64":return b(this,h,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,h,y);default:if(L)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),L=!0}}a.prototype._isBuffer=!0;function C(T,h,y){const L=T[h];T[h]=T[y],T[y]=L}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<h;y+=2)C(this,y,y+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<h;y+=4)C(this,y,y+3),C(this,y+1,y+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<h;y+=8)C(this,y,y+7),C(this,y+1,y+6),C(this,y+2,y+5),C(this,y+3,y+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?u(this,0,h):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const y=t.INSPECT_MAX_BYTES;return h=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,y,L,W,K){if(rn(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(y===void 0&&(y=0),L===void 0&&(L=h?h.length:0),W===void 0&&(W=0),K===void 0&&(K=this.length),y<0||L>h.length||W<0||K>this.length)throw new RangeError("out of range index");if(W>=K&&y>=L)return 0;if(W>=K)return-1;if(y>=L)return 1;if(y>>>=0,L>>>=0,W>>>=0,K>>>=0,this===h)return 0;let q=K-W,Le=L-y;const Ne=Math.min(q,Le),Te=this.slice(W,K),pt=h.slice(y,L);for(let ke=0;ke<Ne;++ke)if(Te[ke]!==pt[ke]){q=Te[ke],Le=pt[ke];break}return q<Le?-1:Le<q?1:0};function D(T,h,y,L,W){if(T.length===0)return-1;if(typeof y=="string"?(L=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,We(y)&&(y=W?0:T.length-1),y<0&&(y=T.length+y),y>=T.length){if(W)return-1;y=T.length-1}else if(y<0)if(W)y=0;else return-1;if(typeof h=="string"&&(h=a.from(h,L)),a.isBuffer(h))return h.length===0?-1:U(T,h,y,L,W);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(T,h,y):Uint8Array.prototype.lastIndexOf.call(T,h,y):U(T,[h],y,L,W);throw new TypeError("val must be string, number or Buffer")}function U(T,h,y,L,W){let K=1,q=T.length,Le=h.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(T.length<2||h.length<2)return-1;K=2,q/=2,Le/=2,y/=2}function Ne(pt,ke){return K===1?pt[ke]:pt.readUInt16BE(ke*K)}let Te;if(W){let pt=-1;for(Te=y;Te<q;Te++)if(Ne(T,Te)===Ne(h,pt===-1?0:Te-pt)){if(pt===-1&&(pt=Te),Te-pt+1===Le)return pt*K}else pt!==-1&&(Te-=Te-pt),pt=-1}else for(y+Le>q&&(y=q-Le),Te=y;Te>=0;Te--){let pt=!0;for(let ke=0;ke<Le;ke++)if(Ne(T,Te+ke)!==Ne(h,ke)){pt=!1;break}if(pt)return Te}return-1}a.prototype.includes=function(h,y,L){return this.indexOf(h,y,L)!==-1},a.prototype.indexOf=function(h,y,L){return D(this,h,y,L,!0)},a.prototype.lastIndexOf=function(h,y,L){return D(this,h,y,L,!1)};function z(T,h,y,L){y=Number(y)||0;const W=T.length-y;L?(L=Number(L),L>W&&(L=W)):L=W;const K=h.length;L>K/2&&(L=K/2);let q;for(q=0;q<L;++q){const Le=parseInt(h.substr(q*2,2),16);if(We(Le))return q;T[y+q]=Le}return q}function j(T,h,y,L){return Ce(be(h,T.length-y),T,y,L)}function H(T,h,y,L){return Ce(Oe(h),T,y,L)}function Q(T,h,y,L){return Ce(Ue(h),T,y,L)}function V(T,h,y,L){return Ce(An(h,T.length-y),T,y,L)}a.prototype.write=function(h,y,L,W){if(y===void 0)W="utf8",L=this.length,y=0;else if(L===void 0&&typeof y=="string")W=y,L=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(L)?(L=L>>>0,W===void 0&&(W="utf8")):(W=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-y;if((L===void 0||L>K)&&(L=K),h.length>0&&(L<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let q=!1;for(;;)switch(W){case"hex":return z(this,h,y,L);case"utf8":case"utf-8":return j(this,h,y,L);case"ascii":case"latin1":case"binary":return H(this,h,y,L);case"base64":return Q(this,h,y,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,h,y,L);default:if(q)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(T,h,y){return h===0&&y===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(h,y))}function u(T,h,y){y=Math.min(T.length,y);const L=[];let W=h;for(;W<y;){const K=T[W];let q=null,Le=K>239?4:K>223?3:K>191?2:1;if(W+Le<=y){let Ne,Te,pt,ke;switch(Le){case 1:K<128&&(q=K);break;case 2:Ne=T[W+1],(Ne&192)===128&&(ke=(K&31)<<6|Ne&63,ke>127&&(q=ke));break;case 3:Ne=T[W+1],Te=T[W+2],(Ne&192)===128&&(Te&192)===128&&(ke=(K&15)<<12|(Ne&63)<<6|Te&63,ke>2047&&(ke<55296||ke>57343)&&(q=ke));break;case 4:Ne=T[W+1],Te=T[W+2],pt=T[W+3],(Ne&192)===128&&(Te&192)===128&&(pt&192)===128&&(ke=(K&15)<<18|(Ne&63)<<12|(Te&63)<<6|pt&63,ke>65535&&ke<1114112&&(q=ke))}}q===null?(q=65533,Le=1):q>65535&&(q-=65536,L.push(q>>>10&1023|55296),q=56320|q&1023),L.push(q),W+=Le}return v(L)}const d=4096;function v(T){const h=T.length;if(h<=d)return String.fromCharCode.apply(String,T);let y="",L=0;for(;L<h;)y+=String.fromCharCode.apply(String,T.slice(L,L+=d));return y}function k(T,h,y){let L="";y=Math.min(T.length,y);for(let W=h;W<y;++W)L+=String.fromCharCode(T[W]&127);return L}function I(T,h,y){let L="";y=Math.min(T.length,y);for(let W=h;W<y;++W)L+=String.fromCharCode(T[W]);return L}function O(T,h,y){const L=T.length;(!h||h<0)&&(h=0),(!y||y<0||y>L)&&(y=L);let W="";for(let K=h;K<y;++K)W+=lt[T[K]];return W}function P(T,h,y){const L=T.slice(h,y);let W="";for(let K=0;K<L.length-1;K+=2)W+=String.fromCharCode(L[K]+L[K+1]*256);return W}a.prototype.slice=function(h,y){const L=this.length;h=~~h,y=y===void 0?L:~~y,h<0?(h+=L,h<0&&(h=0)):h>L&&(h=L),y<0?(y+=L,y<0&&(y=0)):y>L&&(y=L),y<h&&(y=h);const W=this.subarray(h,y);return Object.setPrototypeOf(W,a.prototype),W};function x(T,h,y){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+h>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=this[h],K=1,q=0;for(;++q<y&&(K*=256);)W+=this[h+q]*K;return W},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=this[h+--y],K=1;for(;y>0&&(K*=256);)W+=this[h+--y]*K;return W},a.prototype.readUint8=a.prototype.readUInt8=function(h,y){return h=h>>>0,y||x(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,y){return h=h>>>0,y||x(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,y){return h=h>>>0,y||x(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,y){return h=h>>>0,y||x(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,y){return h=h>>>0,y||x(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=Un(function(h){h=h>>>0,_e(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&ye(h,this.length-8);const W=y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,K=this[++h]+this[++h]*2**8+this[++h]*2**16+L*2**24;return BigInt(W)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=Un(function(h){h=h>>>0,_e(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&ye(h,this.length-8);const W=y*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],K=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+L;return(BigInt(W)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=this[h],K=1,q=0;for(;++q<y&&(K*=256);)W+=this[h+q]*K;return K*=128,W>=K&&(W-=Math.pow(2,8*y)),W},a.prototype.readIntBE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=y,K=1,q=this[h+--W];for(;W>0&&(K*=256);)q+=this[h+--W]*K;return K*=128,q>=K&&(q-=Math.pow(2,8*y)),q},a.prototype.readInt8=function(h,y){return h=h>>>0,y||x(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,y){h=h>>>0,y||x(h,2,this.length);const L=this[h]|this[h+1]<<8;return L&32768?L|4294901760:L},a.prototype.readInt16BE=function(h,y){h=h>>>0,y||x(h,2,this.length);const L=this[h+1]|this[h]<<8;return L&32768?L|4294901760:L},a.prototype.readInt32LE=function(h,y){return h=h>>>0,y||x(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,y){return h=h>>>0,y||x(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=Un(function(h){h=h>>>0,_e(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&ye(h,this.length-8);const W=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(L<<24);return(BigInt(W)<<BigInt(32))+BigInt(y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=Un(function(h){h=h>>>0,_e(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&ye(h,this.length-8);const W=(y<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(W)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+L)}),a.prototype.readFloatLE=function(h,y){return h=h>>>0,y||x(h,4,this.length),n.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,y){return h=h>>>0,y||x(h,4,this.length),n.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,y){return h=h>>>0,y||x(h,8,this.length),n.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,y){return h=h>>>0,y||x(h,8,this.length),n.read(this,h,!1,52,8)};function p(T,h,y,L,W,K){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>W||h<K)throw new RangeError('"value" argument is out of bounds');if(y+L>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,y,L,W){if(h=+h,y=y>>>0,L=L>>>0,!W){const Le=Math.pow(2,8*L)-1;p(this,h,y,L,Le,0)}let K=1,q=0;for(this[y]=h&255;++q<L&&(K*=256);)this[y+q]=h/K&255;return y+L},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,y,L,W){if(h=+h,y=y>>>0,L=L>>>0,!W){const Le=Math.pow(2,8*L)-1;p(this,h,y,L,Le,0)}let K=L-1,q=1;for(this[y+K]=h&255;--K>=0&&(q*=256);)this[y+K]=h/q&255;return y+L},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,1,255,0),this[y]=h&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,65535,0),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,65535,0),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,4294967295,0),this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=h&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,4294967295,0),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4};function B(T,h,y,L,W){Z(h,L,W,T,y,7);let K=Number(h&BigInt(4294967295));T[y++]=K,K=K>>8,T[y++]=K,K=K>>8,T[y++]=K,K=K>>8,T[y++]=K;let q=Number(h>>BigInt(32)&BigInt(4294967295));return T[y++]=q,q=q>>8,T[y++]=q,q=q>>8,T[y++]=q,q=q>>8,T[y++]=q,y}function oe(T,h,y,L,W){Z(h,L,W,T,y,7);let K=Number(h&BigInt(4294967295));T[y+7]=K,K=K>>8,T[y+6]=K,K=K>>8,T[y+5]=K,K=K>>8,T[y+4]=K;let q=Number(h>>BigInt(32)&BigInt(4294967295));return T[y+3]=q,q=q>>8,T[y+2]=q,q=q>>8,T[y+1]=q,q=q>>8,T[y]=q,y+8}a.prototype.writeBigUInt64LE=Un(function(h,y=0){return B(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Un(function(h,y=0){return oe(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,y,L,W){if(h=+h,y=y>>>0,!W){const Ne=Math.pow(2,8*L-1);p(this,h,y,L,Ne-1,-Ne)}let K=0,q=1,Le=0;for(this[y]=h&255;++K<L&&(q*=256);)h<0&&Le===0&&this[y+K-1]!==0&&(Le=1),this[y+K]=(h/q>>0)-Le&255;return y+L},a.prototype.writeIntBE=function(h,y,L,W){if(h=+h,y=y>>>0,!W){const Ne=Math.pow(2,8*L-1);p(this,h,y,L,Ne-1,-Ne)}let K=L-1,q=1,Le=0;for(this[y+K]=h&255;--K>=0&&(q*=256);)h<0&&Le===0&&this[y+K+1]!==0&&(Le=1),this[y+K]=(h/q>>0)-Le&255;return y+L},a.prototype.writeInt8=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,1,127,-128),h<0&&(h=255+h+1),this[y]=h&255,y+1},a.prototype.writeInt16LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,32767,-32768),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeInt16BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,32767,-32768),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeInt32LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,2147483647,-2147483648),this[y]=h&255,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24,y+4},a.prototype.writeInt32BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4},a.prototype.writeBigInt64LE=Un(function(h,y=0){return B(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Un(function(h,y=0){return oe(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(T,h,y,L,W,K){if(y+L>T.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function ae(T,h,y,L,W){return h=+h,y=y>>>0,W||ie(T,h,y,4),n.write(T,h,y,L,23,4),y+4}a.prototype.writeFloatLE=function(h,y,L){return ae(this,h,y,!0,L)},a.prototype.writeFloatBE=function(h,y,L){return ae(this,h,y,!1,L)};function Re(T,h,y,L,W){return h=+h,y=y>>>0,W||ie(T,h,y,8),n.write(T,h,y,L,52,8),y+8}a.prototype.writeDoubleLE=function(h,y,L){return Re(this,h,y,!0,L)},a.prototype.writeDoubleBE=function(h,y,L){return Re(this,h,y,!1,L)},a.prototype.copy=function(h,y,L,W){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(L||(L=0),!W&&W!==0&&(W=this.length),y>=h.length&&(y=h.length),y||(y=0),W>0&&W<L&&(W=L),W===L||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),h.length-y<W-L&&(W=h.length-y+L);const K=W-L;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,L,W):Uint8Array.prototype.set.call(h,this.subarray(L,W),y),K},a.prototype.fill=function(h,y,L,W){if(typeof h=="string"){if(typeof y=="string"?(W=y,y=0,L=this.length):typeof L=="string"&&(W=L,L=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!a.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(h.length===1){const q=h.charCodeAt(0);(W==="utf8"&&q<128||W==="latin1")&&(h=q)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(y<0||this.length<y||this.length<L)throw new RangeError("Out of range index");if(L<=y)return this;y=y>>>0,L=L===void 0?this.length:L>>>0,h||(h=0);let K;if(typeof h=="number")for(K=y;K<L;++K)this[K]=h;else{const q=a.isBuffer(h)?h:a.from(h,W),Le=q.length;if(Le===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(K=0;K<L-y;++K)this[K+y]=q[K%Le]}return this};const Ae={};function Se(T,h,y){Ae[T]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(T,h){return`The "${T}" argument must be of type number. Received type ${typeof h}`},TypeError),Se("ERR_OUT_OF_RANGE",function(T,h,y){let L=`The value of "${T}" is out of range.`,W=y;return Number.isInteger(y)&&Math.abs(y)>2**32?W=wt(String(y)):typeof y=="bigint"&&(W=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(W=wt(W)),W+="n"),L+=` It must be ${h}. Received ${W}`,L},RangeError);function wt(T){let h="",y=T.length;const L=T[0]==="-"?1:0;for(;y>=L+4;y-=3)h=`_${T.slice(y-3,y)}${h}`;return`${T.slice(0,y)}${h}`}function Je(T,h,y){_e(h,"offset"),(T[h]===void 0||T[h+y]===void 0)&&ye(h,T.length-(y+1))}function Z(T,h,y,L,W,K){if(T>y||T<h){const q=typeof h=="bigint"?"n":"";let Le;throw h===0||h===BigInt(0)?Le=`>= 0${q} and < 2${q} ** ${(K+1)*8}${q}`:Le=`>= -(2${q} ** ${(K+1)*8-1}${q}) and < 2 ** ${(K+1)*8-1}${q}`,new Ae.ERR_OUT_OF_RANGE("value",Le,T)}Je(L,W,K)}function _e(T,h){if(typeof T!="number")throw new Ae.ERR_INVALID_ARG_TYPE(h,"number",T)}function ye(T,h,y){throw Math.floor(T)!==T?(_e(T,y),new Ae.ERR_OUT_OF_RANGE("offset","an integer",T)):h<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,T)}const Ie=/[^+/0-9A-Za-z-_]/g;function $e(T){if(T=T.split("=")[0],T=T.trim().replace(Ie,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function be(T,h){h=h||1/0;let y;const L=T.length;let W=null;const K=[];for(let q=0;q<L;++q){if(y=T.charCodeAt(q),y>55295&&y<57344){if(!W){if(y>56319){(h-=3)>-1&&K.push(239,191,189);continue}else if(q+1===L){(h-=3)>-1&&K.push(239,191,189);continue}W=y;continue}if(y<56320){(h-=3)>-1&&K.push(239,191,189),W=y;continue}y=(W-55296<<10|y-56320)+65536}else W&&(h-=3)>-1&&K.push(239,191,189);if(W=null,y<128){if((h-=1)<0)break;K.push(y)}else if(y<2048){if((h-=2)<0)break;K.push(y>>6|192,y&63|128)}else if(y<65536){if((h-=3)<0)break;K.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((h-=4)<0)break;K.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return K}function Oe(T){const h=[];for(let y=0;y<T.length;++y)h.push(T.charCodeAt(y)&255);return h}function An(T,h){let y,L,W;const K=[];for(let q=0;q<T.length&&!((h-=2)<0);++q)y=T.charCodeAt(q),L=y>>8,W=y%256,K.push(W),K.push(L);return K}function Ue(T){return e.toByteArray($e(T))}function Ce(T,h,y,L){let W;for(W=0;W<L&&!(W+y>=h.length||W>=T.length);++W)h[W+y]=T[W];return W}function rn(T,h){return T instanceof h||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===h.name}function We(T){return T!==T}const lt=function(){const T="0123456789abcdef",h=new Array(256);for(let y=0;y<16;++y){const L=y*16;for(let W=0;W<16;++W)h[L+W]=T[y]+T[W]}return h}();function Un(T){return typeof BigInt>"u"?Tt:T}function Tt(){throw new Error("BigInt not supported")}})(de);var Lp={},Lv={exports:{}},mr={},Bv={exports:{}},Pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,O){var P=I.length;I.push(O);e:for(;0<P;){var x=P-1>>>1,p=I[x];if(0<i(p,O))I[x]=O,I[P]=p,P=x;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],P=I.pop();if(P!==O){I[0]=P;e:for(var x=0,p=I.length,B=p>>>1;x<B;){var oe=2*(x+1)-1,ie=I[oe],ae=oe+1,Re=I[ae];if(0>i(ie,P))ae<p&&0>i(Re,ie)?(I[x]=Re,I[ae]=P,x=ae):(I[x]=ie,I[oe]=P,x=oe);else if(ae<p&&0>i(Re,P))I[x]=Re,I[ae]=P,x=ae;else break e}}return O}function i(I,O){var P=I.sortIndex-O.sortIndex;return P!==0?P:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,g=null,w=3,m=!1,_=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=I)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function M(I){if(R=!1,S(I),!_)if(n(l)!==null)_=!0,v(C);else{var O=n(c);O!==null&&k(M,O.startTime-I)}}function C(I,O){_=!1,R&&(R=!1,E(z),z=-1),m=!0;var P=w;try{for(S(O),g=n(l);g!==null&&(!(g.expirationTime>O)||I&&!Q());){var x=g.callback;if(typeof x=="function"){g.callback=null,w=g.priorityLevel;var p=x(g.expirationTime<=O);O=t.unstable_now(),typeof p=="function"?g.callback=p:g===n(l)&&r(l),S(O)}else r(l);g=n(l)}if(g!==null)var B=!0;else{var oe=n(c);oe!==null&&k(M,oe.startTime-O),B=!1}return B}finally{g=null,w=P,m=!1}}var D=!1,U=null,z=-1,j=5,H=-1;function Q(){return!(t.unstable_now()-H<j)}function V(){if(U!==null){var I=t.unstable_now();H=I;var O=!0;try{O=U(!0,I)}finally{O?b():(D=!1,U=null)}}else D=!1}var b;if(typeof A=="function")b=function(){A(V)};else if(typeof MessageChannel<"u"){var u=new MessageChannel,d=u.port2;u.port1.onmessage=V,b=function(){d.postMessage(null)}}else b=function(){N(V,0)};function v(I){U=I,D||(D=!0,b())}function k(I,O){z=N(function(){I(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,v(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(w){case 1:case 2:case 3:var O=3;break;default:O=w}var P=w;w=O;try{return I()}finally{w=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=w;w=I;try{return O()}finally{w=P}},t.unstable_scheduleCallback=function(I,O,P){var x=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?x+P:x):P=x,I){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=P+p,I={id:f++,callback:O,priorityLevel:I,startTime:P,expirationTime:p,sortIndex:-1},P>x?(I.sortIndex=P,e(c,I),n(l)===null&&I===n(c)&&(R?(E(z),z=-1):R=!0,k(M,P-x))):(I.sortIndex=p,e(l,I),_||m||(_=!0,v(C))),I},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(I){var O=w;return function(){var P=w;w=O;try{return I.apply(this,arguments)}finally{w=P}}}})(Pv);Bv.exports=Pv;var a2=Bv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2=te,yr=a2;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dv=new Set,Yl={};function Ms(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(Yl[t]=e,t=0;t<e.length;t++)Dv.add(e[t])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bp=Object.prototype.hasOwnProperty,u2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Jm={};function c2(t){return Bp.call(Jm,t)?!0:Bp.call(Xm,t)?!1:u2.test(t)?Jm[t]=!0:(Xm[t]=!0,!1)}function d2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f2(t,e,n,r){if(e===null||typeof e>"u"||d2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new Kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new Kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new Kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new Kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new Kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new Kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new Kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new Kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new Kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kg=/[\-:]([a-z])/g;function $g(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kg,$g);bn[e]=new Kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kg,$g);bn[e]=new Kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kg,$g);bn[e]=new Kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vg(t,e,n,r){var i=bn.hasOwnProperty(e)?bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f2(e,n,i,r)&&(n=null),r||i===null?c2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wi=l2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fu=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),zv=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Up=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),jv=Symbol.for("react.offscreen"),ew=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=ew&&t[ew]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,Rh;function wl(t){if(Rh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rh=e&&e[1]||""}return`
`+Rh+t}var Th=!1;function Mh(t,e){if(!t||Th)return"";Th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Th=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wl(t):""}function h2(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=Mh(t.type,!1),t;case 11:return t=Mh(t.type.render,!1),t;case 1:return t=Mh(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case Pp:return"Profiler";case Gg:return"StrictMode";case Dp:return"Suspense";case Up:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zv:return(t.displayName||"Context")+".Consumer";case Uv:return(t._context.displayName||"Context")+".Provider";case Yg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qg:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case Ji:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function p2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Io(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g2(t){var e=Wv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=g2(t))}function Fv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Wv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jp(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Io(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hv(t,e){e=e.checked,e!=null&&Vg(t,"checked",e,!1)}function Wp(t,e){Hv(t,e);var n=Io(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fp(t,e.type,Io(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fp(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vl=Array.isArray;function ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Io(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(vl(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Io(n)}}function Kv(t,e){var n=Io(e.value),r=Io(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $v(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$v(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ku,Vv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ku=Ku||document.createElement("div"),Ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y2=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){y2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function Gv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function Yv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m2=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $p(t,e){if(e){if(m2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function Zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yp=null,wa=null,va=null;function ow(t){if(t=bu(t)){if(typeof Yp!="function")throw Error(re(280));var e=t.stateNode;e&&(e=pf(e),Yp(t.stateNode,t.type,e))}}function qv(t){wa?va?va.push(t):va=[t]:wa=t}function Zv(){if(wa){var t=wa,e=va;if(va=wa=null,ow(t),e)for(t=0;t<e.length;t++)ow(e[t])}}function Qv(t,e){return t(e)}function Xv(){}var Nh=!1;function Jv(t,e,n){if(Nh)return t(e,n);Nh=!0;try{return Qv(t,e,n)}finally{Nh=!1,(wa!==null||va!==null)&&(Xv(),Zv())}}function Zl(t,e){var n=t.stateNode;if(n===null)return null;var r=pf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var qp=!1;if(Bi)try{var al={};Object.defineProperty(al,"passive",{get:function(){qp=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{qp=!1}function w2(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Ll=!1,gd=null,yd=!1,Zp=null,v2={onError:function(t){Ll=!0,gd=t}};function _2(t,e,n,r,i,o,s,a,l){Ll=!1,gd=null,w2.apply(v2,arguments)}function S2(t,e,n,r,i,o,s,a,l){if(_2.apply(this,arguments),Ll){if(Ll){var c=gd;Ll=!1,gd=null}else throw Error(re(198));yd||(yd=!0,Zp=c)}}function Ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function e_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sw(t){if(Ns(t)!==t)throw Error(re(188))}function E2(t){var e=t.alternate;if(!e){if(e=Ns(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sw(i),t;if(o===r)return sw(i),e;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function t_(t){return t=E2(t),t!==null?n_(t):null}function n_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n_(t);if(e!==null)return e;t=t.sibling}return null}var r_=yr.unstable_scheduleCallback,aw=yr.unstable_cancelCallback,b2=yr.unstable_shouldYield,A2=yr.unstable_requestPaint,Lt=yr.unstable_now,I2=yr.unstable_getCurrentPriorityLevel,Qg=yr.unstable_ImmediatePriority,i_=yr.unstable_UserBlockingPriority,md=yr.unstable_NormalPriority,k2=yr.unstable_LowPriority,o_=yr.unstable_IdlePriority,cf=null,oi=null;function R2(t){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(cf,t,void 0,(t.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:N2,T2=Math.log,M2=Math.LN2;function N2(t){return t>>>=0,t===0?32:31-(T2(t)/M2|0)|0}var $u=64,Vu=4194304;function _l(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_l(a):(o&=s,o!==0&&(r=_l(o)))}else s=n&~i,s!==0?r=_l(s):o!==0&&(r=_l(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jr(e),i=1<<n,r|=t[n],e&=~i;return r}function x2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-jr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=x2(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s_(){var t=$u;return $u<<=1,!($u&4194240)&&($u=64),t}function xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jr(e),t[e]=n}function C2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Xg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var it=0;function a_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var l_,Jg,u_,c_,d_,Xp=!1,Gu=[],po=null,go=null,yo=null,Ql=new Map,Xl=new Map,ro=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lw(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(e.pointerId)}}function ll(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=bu(e),e!==null&&Jg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B2(t,e,n,r,i){switch(e){case"focusin":return po=ll(po,t,e,n,r,i),!0;case"dragenter":return go=ll(go,t,e,n,r,i),!0;case"mouseover":return yo=ll(yo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ql.set(o,ll(Ql.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xl.set(o,ll(Xl.get(o)||null,t,e,n,r,i)),!0}return!1}function f_(t){var e=ns(t.target);if(e!==null){var n=Ns(e);if(n!==null){if(e=n.tag,e===13){if(e=e_(n),e!==null){t.blockedOn=e,d_(t.priority,function(){u_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return e=bu(n),e!==null&&Jg(e),t.blockedOn=n,!1;e.shift()}return!0}function uw(t,e,n){Sc(t)&&n.delete(e)}function P2(){Xp=!1,po!==null&&Sc(po)&&(po=null),go!==null&&Sc(go)&&(go=null),yo!==null&&Sc(yo)&&(yo=null),Ql.forEach(uw),Xl.forEach(uw)}function ul(t,e){t.blockedOn===e&&(t.blockedOn=null,Xp||(Xp=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,P2)))}function Jl(t){function e(i){return ul(i,t)}if(0<Gu.length){ul(Gu[0],t);for(var n=1;n<Gu.length;n++){var r=Gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(po!==null&&ul(po,t),go!==null&&ul(go,t),yo!==null&&ul(yo,t),Ql.forEach(e),Xl.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)f_(n),n.blockedOn===null&&ro.shift()}var _a=Wi.ReactCurrentBatchConfig,vd=!0;function D2(t,e,n,r){var i=it,o=_a.transition;_a.transition=null;try{it=1,ey(t,e,n,r)}finally{it=i,_a.transition=o}}function U2(t,e,n,r){var i=it,o=_a.transition;_a.transition=null;try{it=4,ey(t,e,n,r)}finally{it=i,_a.transition=o}}function ey(t,e,n,r){if(vd){var i=Jp(t,e,n,r);if(i===null)Wh(t,e,r,_d,n),lw(t,r);else if(B2(i,t,e,n,r))r.stopPropagation();else if(lw(t,r),e&4&&-1<L2.indexOf(t)){for(;i!==null;){var o=bu(i);if(o!==null&&l_(o),o=Jp(t,e,n,r),o===null&&Wh(t,e,r,_d,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Wh(t,e,r,null,n)}}var _d=null;function Jp(t,e,n,r){if(_d=null,t=Zg(r),t=ns(t),t!==null)if(e=Ns(t),e===null)t=null;else if(n=e.tag,n===13){if(t=e_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _d=t,null}function h_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I2()){case Qg:return 1;case i_:return 4;case md:case k2:return 16;case o_:return 536870912;default:return 16}default:return 16}}var so=null,ty=null,Ec=null;function p_(){if(Ec)return Ec;var t,e=ty,n=e.length,r,i="value"in so?so.value:so.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ec=i.slice(t,1<r?1-r:void 0)}function bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function cw(){return!1}function wr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yu:cw,this.isPropagationStopped=cw,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=wr(qa),Eu=kt({},qa,{view:0,detail:0}),z2=wr(Eu),Oh,Ch,cl,df=kt({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cl&&(cl&&t.type==="mousemove"?(Oh=t.screenX-cl.screenX,Ch=t.screenY-cl.screenY):Ch=Oh=0,cl=t),Oh)},movementY:function(t){return"movementY"in t?t.movementY:Ch}}),dw=wr(df),j2=kt({},df,{dataTransfer:0}),W2=wr(j2),F2=kt({},Eu,{relatedTarget:0}),Lh=wr(F2),H2=kt({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),K2=wr(H2),$2=kt({},qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V2=wr($2),G2=kt({},qa,{data:0}),fw=wr(G2),Y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z2[t])?!!e[t]:!1}function ry(){return Q2}var X2=kt({},Eu,{key:function(t){if(t.key){var e=Y2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(t){return t.type==="keypress"?bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J2=wr(X2),ek=kt({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hw=wr(ek),tk=kt({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry}),nk=wr(tk),rk=kt({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ik=wr(rk),ok=kt({},df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sk=wr(ok),ak=[9,13,27,32],iy=Bi&&"CompositionEvent"in window,Bl=null;Bi&&"documentMode"in document&&(Bl=document.documentMode);var lk=Bi&&"TextEvent"in window&&!Bl,g_=Bi&&(!iy||Bl&&8<Bl&&11>=Bl),pw=" ",gw=!1;function y_(t,e){switch(t){case"keyup":return ak.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function uk(t,e){switch(t){case"compositionend":return m_(e);case"keypress":return e.which!==32?null:(gw=!0,pw);case"textInput":return t=e.data,t===pw&&gw?null:t;default:return null}}function ck(t,e){if(na)return t==="compositionend"||!iy&&y_(t,e)?(t=p_(),Ec=ty=so=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g_&&e.locale!=="ko"?null:e.data;default:return null}}var dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dk[t.type]:e==="textarea"}function w_(t,e,n,r){qv(r),e=Sd(e,"onChange"),0<e.length&&(n=new ny("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pl=null,eu=null;function fk(t){M_(t,0)}function ff(t){var e=oa(t);if(Fv(e))return t}function hk(t,e){if(t==="change")return e}var v_=!1;if(Bi){var Bh;if(Bi){var Ph="oninput"in document;if(!Ph){var mw=document.createElement("div");mw.setAttribute("oninput","return;"),Ph=typeof mw.oninput=="function"}Bh=Ph}else Bh=!1;v_=Bh&&(!document.documentMode||9<document.documentMode)}function ww(){Pl&&(Pl.detachEvent("onpropertychange",__),eu=Pl=null)}function __(t){if(t.propertyName==="value"&&ff(eu)){var e=[];w_(e,eu,t,Zg(t)),Jv(fk,e)}}function pk(t,e,n){t==="focusin"?(ww(),Pl=e,eu=n,Pl.attachEvent("onpropertychange",__)):t==="focusout"&&ww()}function gk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ff(eu)}function yk(t,e){if(t==="click")return ff(e)}function mk(t,e){if(t==="input"||t==="change")return ff(e)}function wk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kr=typeof Object.is=="function"?Object.is:wk;function tu(t,e){if(Kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bp.call(e,i)||!Kr(t[i],e[i]))return!1}return!0}function vw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _w(t,e){var n=vw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vw(n)}}function S_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E_(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vk(t){var e=E_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&S_(n.ownerDocument.documentElement,n)){if(r!==null&&oy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_w(n,o);var s=_w(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _k=Bi&&"documentMode"in document&&11>=document.documentMode,ra=null,e0=null,Dl=null,t0=!1;function Sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t0||ra==null||ra!==pd(r)||(r=ra,"selectionStart"in r&&oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&tu(Dl,r)||(Dl=r,r=Sd(e0,"onSelect"),0<r.length&&(e=new ny("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ra)))}function qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ia={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},Dh={},b_={};Bi&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function hf(t){if(Dh[t])return Dh[t];if(!ia[t])return t;var e=ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in b_)return Dh[t]=e[n];return t}var A_=hf("animationend"),I_=hf("animationiteration"),k_=hf("animationstart"),R_=hf("transitionend"),T_=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(t,e){T_.set(t,e),Ms(e,[t])}for(var Uh=0;Uh<Ew.length;Uh++){var zh=Ew[Uh],Sk=zh.toLowerCase(),Ek=zh[0].toUpperCase()+zh.slice(1);Oo(Sk,"on"+Ek)}Oo(A_,"onAnimationEnd");Oo(I_,"onAnimationIteration");Oo(k_,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(R_,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function bw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S2(r,e,void 0,t),t.currentTarget=null}function M_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;bw(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;bw(i,a,c),o=l}}}if(yd)throw t=Zp,yd=!1,Zp=null,t}function gt(t,e){var n=e[s0];n===void 0&&(n=e[s0]=new Set);var r=t+"__bubble";n.has(r)||(N_(e,t,2,!1),n.add(r))}function jh(t,e,n){var r=0;e&&(r|=4),N_(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[Zu]){t[Zu]=!0,Dv.forEach(function(n){n!=="selectionchange"&&(bk.has(n)||jh(n,!1,t),jh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,jh("selectionchange",!1,e))}}function N_(t,e,n,r){switch(h_(e)){case 1:var i=D2;break;case 4:i=U2;break;default:i=ey}n=i.bind(null,e,n,t),i=void 0,!qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ns(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Jv(function(){var c=o,f=Zg(n),g=[];e:{var w=T_.get(t);if(w!==void 0){var m=ny,_=t;switch(t){case"keypress":if(bc(n)===0)break e;case"keydown":case"keyup":m=J2;break;case"focusin":_="focus",m=Lh;break;case"focusout":_="blur",m=Lh;break;case"beforeblur":case"afterblur":m=Lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=W2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nk;break;case A_:case I_:case k_:m=K2;break;case R_:m=ik;break;case"scroll":m=z2;break;case"wheel":m=sk;break;case"copy":case"cut":case"paste":m=V2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hw}var R=(e&4)!==0,N=!R&&t==="scroll",E=R?w!==null?w+"Capture":null:w;R=[];for(var A=c,S;A!==null;){S=A;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,E!==null&&(M=Zl(A,E),M!=null&&R.push(ru(A,M,S)))),N)break;A=A.return}0<R.length&&(w=new m(w,_,null,n,f),g.push({event:w,listeners:R}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",w&&n!==Gp&&(_=n.relatedTarget||n.fromElement)&&(ns(_)||_[Pi]))break e;if((m||w)&&(w=f.window===f?f:(w=f.ownerDocument)?w.defaultView||w.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?ns(_):null,_!==null&&(N=Ns(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(R=dw,M="onMouseLeave",E="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(R=hw,M="onPointerLeave",E="onPointerEnter",A="pointer"),N=m==null?w:oa(m),S=_==null?w:oa(_),w=new R(M,A+"leave",m,n,f),w.target=N,w.relatedTarget=S,M=null,ns(f)===c&&(R=new R(E,A+"enter",_,n,f),R.target=S,R.relatedTarget=N,M=R),N=M,m&&_)t:{for(R=m,E=_,A=0,S=R;S;S=Us(S))A++;for(S=0,M=E;M;M=Us(M))S++;for(;0<A-S;)R=Us(R),A--;for(;0<S-A;)E=Us(E),S--;for(;A--;){if(R===E||E!==null&&R===E.alternate)break t;R=Us(R),E=Us(E)}R=null}else R=null;m!==null&&Aw(g,w,m,R,!1),_!==null&&N!==null&&Aw(g,N,_,R,!0)}}e:{if(w=c?oa(c):window,m=w.nodeName&&w.nodeName.toLowerCase(),m==="select"||m==="input"&&w.type==="file")var C=hk;else if(yw(w))if(v_)C=mk;else{C=gk;var D=pk}else(m=w.nodeName)&&m.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(C=yk);if(C&&(C=C(t,c))){w_(g,C,n,f);break e}D&&D(t,w,c),t==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&Fp(w,"number",w.value)}switch(D=c?oa(c):window,t){case"focusin":(yw(D)||D.contentEditable==="true")&&(ra=D,e0=c,Dl=null);break;case"focusout":Dl=e0=ra=null;break;case"mousedown":t0=!0;break;case"contextmenu":case"mouseup":case"dragend":t0=!1,Sw(g,n,f);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":Sw(g,n,f)}var U;if(iy)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else na?y_(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(g_&&n.locale!=="ko"&&(na||z!=="onCompositionStart"?z==="onCompositionEnd"&&na&&(U=p_()):(so=f,ty="value"in so?so.value:so.textContent,na=!0)),D=Sd(c,z),0<D.length&&(z=new fw(z,t,null,n,f),g.push({event:z,listeners:D}),U?z.data=U:(U=m_(n),U!==null&&(z.data=U)))),(U=lk?uk(t,n):ck(t,n))&&(c=Sd(c,"onBeforeInput"),0<c.length&&(f=new fw("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:c}),f.data=U))}M_(g,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zl(t,n),o!=null&&r.unshift(ru(t,o,i)),o=Zl(t,e),o!=null&&r.push(ru(t,o,i))),t=t.return}return r}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Aw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Zl(n,o),l!=null&&s.unshift(ru(n,l,a))):i||(l=Zl(n,o),l!=null&&s.push(ru(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Ak=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function Iw(t){return(typeof t=="string"?t:""+t).replace(Ak,`
`).replace(Ik,"")}function Qu(t,e,n){if(e=Iw(e),Iw(t)!==e&&n)throw Error(re(425))}function Ed(){}var n0=null,r0=null;function i0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var o0=typeof setTimeout=="function"?setTimeout:void 0,kk=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,Rk=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(t){return kw.resolve(null).then(t).catch(Tk)}:o0;function Tk(t){setTimeout(function(){throw t})}function Fh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jl(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Za,iu="__reactProps$"+Za,Pi="__reactContainer$"+Za,s0="__reactEvents$"+Za,Mk="__reactListeners$"+Za,Nk="__reactHandles$"+Za;function ns(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pi]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rw(t);t!==null;){if(n=t[Xr])return n;t=Rw(t)}return e}t=n,n=t.parentNode}return null}function bu(t){return t=t[Xr]||t[Pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function pf(t){return t[iu]||null}var a0=[],sa=-1;function Co(t){return{current:t}}function mt(t){0>sa||(t.current=a0[sa],a0[sa]=null,sa--)}function ft(t,e){sa++,a0[sa]=t.current,t.current=e}var ko={},Dn=Co(ko),er=Co(!1),vs=ko;function xa(t,e){var n=t.type.contextTypes;if(!n)return ko;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tr(t){return t=t.childContextTypes,t!=null}function bd(){mt(er),mt(Dn)}function Tw(t,e,n){if(Dn.current!==ko)throw Error(re(168));ft(Dn,e),ft(er,n)}function x_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,p2(t)||"Unknown",i));return kt({},n,r)}function Ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ko,vs=Dn.current,ft(Dn,t),ft(er,er.current),!0}function Mw(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=x_(t,e,vs),r.__reactInternalMemoizedMergedChildContext=t,mt(er),mt(Dn),ft(Dn,t)):mt(er),ft(er,n)}var Ei=null,gf=!1,Hh=!1;function O_(t){Ei===null?Ei=[t]:Ei.push(t)}function xk(t){gf=!0,O_(t)}function Lo(){if(!Hh&&Ei!==null){Hh=!0;var t=0,e=it;try{var n=Ei;for(it=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ei=null,gf=!1}catch(i){throw Ei!==null&&(Ei=Ei.slice(t+1)),r_(Qg,Lo),i}finally{it=e,Hh=!1}}return null}var aa=[],la=0,Id=null,kd=0,Ar=[],Ir=0,_s=null,Mi=1,Ni="";function Ko(t,e){aa[la++]=kd,aa[la++]=Id,Id=t,kd=e}function C_(t,e,n){Ar[Ir++]=Mi,Ar[Ir++]=Ni,Ar[Ir++]=_s,_s=t;var r=Mi;t=Ni;var i=32-jr(r)-1;r&=~(1<<i),n+=1;var o=32-jr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Mi=1<<32-jr(e)+i|n<<i|r,Ni=o+t}else Mi=1<<o|n<<i|r,Ni=t}function sy(t){t.return!==null&&(Ko(t,1),C_(t,1,0))}function ay(t){for(;t===Id;)Id=aa[--la],aa[la]=null,kd=aa[--la],aa[la]=null;for(;t===_s;)_s=Ar[--Ir],Ar[Ir]=null,Ni=Ar[--Ir],Ar[Ir]=null,Mi=Ar[--Ir],Ar[Ir]=null}var hr=null,fr=null,vt=!1,Dr=null;function L_(t,e){var n=kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,fr=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_s!==null?{id:Mi,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hr=t,fr=null,!0):!1;default:return!1}}function l0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function u0(t){if(vt){var e=fr;if(e){var n=e;if(!Nw(t,e)){if(l0(t))throw Error(re(418));e=mo(n.nextSibling);var r=hr;e&&Nw(t,e)?L_(r,n):(t.flags=t.flags&-4097|2,vt=!1,hr=t)}}else{if(l0(t))throw Error(re(418));t.flags=t.flags&-4097|2,vt=!1,hr=t}}}function xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function Xu(t){if(t!==hr)return!1;if(!vt)return xw(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!i0(t.type,t.memoizedProps)),e&&(e=fr)){if(l0(t))throw B_(),Error(re(418));for(;e;)L_(t,e),e=mo(e.nextSibling)}if(xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fr=mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=hr?mo(t.stateNode.nextSibling):null;return!0}function B_(){for(var t=fr;t;)t=mo(t.nextSibling)}function Oa(){fr=hr=null,vt=!1}function ly(t){Dr===null?Dr=[t]:Dr.push(t)}var Ok=Wi.ReactCurrentBatchConfig;function dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ow(t){var e=t._init;return e(t._payload)}function P_(t){function e(E,A){if(t){var S=E.deletions;S===null?(E.deletions=[A],E.flags|=16):S.push(A)}}function n(E,A){if(!t)return null;for(;A!==null;)e(E,A),A=A.sibling;return null}function r(E,A){for(E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function i(E,A){return E=So(E,A),E.index=0,E.sibling=null,E}function o(E,A,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<A?(E.flags|=2,A):S):(E.flags|=2,A)):(E.flags|=1048576,A)}function s(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,A,S,M){return A===null||A.tag!==6?(A=Zh(S,E.mode,M),A.return=E,A):(A=i(A,S),A.return=E,A)}function l(E,A,S,M){var C=S.type;return C===ta?f(E,A,S.props.children,M,S.key):A!==null&&(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ji&&Ow(C)===A.type)?(M=i(A,S.props),M.ref=dl(E,A,S),M.return=E,M):(M=Nc(S.type,S.key,S.props,null,E.mode,M),M.ref=dl(E,A,S),M.return=E,M)}function c(E,A,S,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=Qh(S,E.mode,M),A.return=E,A):(A=i(A,S.children||[]),A.return=E,A)}function f(E,A,S,M,C){return A===null||A.tag!==7?(A=ms(S,E.mode,M,C),A.return=E,A):(A=i(A,S),A.return=E,A)}function g(E,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Zh(""+A,E.mode,S),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Fu:return S=Nc(A.type,A.key,A.props,null,E.mode,S),S.ref=dl(E,null,A),S.return=E,S;case ea:return A=Qh(A,E.mode,S),A.return=E,A;case Ji:var M=A._init;return g(E,M(A._payload),S)}if(vl(A)||sl(A))return A=ms(A,E.mode,S,null),A.return=E,A;Ju(E,A)}return null}function w(E,A,S,M){var C=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(E,A,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fu:return S.key===C?l(E,A,S,M):null;case ea:return S.key===C?c(E,A,S,M):null;case Ji:return C=S._init,w(E,A,C(S._payload),M)}if(vl(S)||sl(S))return C!==null?null:f(E,A,S,M,null);Ju(E,S)}return null}function m(E,A,S,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(S)||null,a(A,E,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Fu:return E=E.get(M.key===null?S:M.key)||null,l(A,E,M,C);case ea:return E=E.get(M.key===null?S:M.key)||null,c(A,E,M,C);case Ji:var D=M._init;return m(E,A,S,D(M._payload),C)}if(vl(M)||sl(M))return E=E.get(S)||null,f(A,E,M,C,null);Ju(A,M)}return null}function _(E,A,S,M){for(var C=null,D=null,U=A,z=A=0,j=null;U!==null&&z<S.length;z++){U.index>z?(j=U,U=null):j=U.sibling;var H=w(E,U,S[z],M);if(H===null){U===null&&(U=j);break}t&&U&&H.alternate===null&&e(E,U),A=o(H,A,z),D===null?C=H:D.sibling=H,D=H,U=j}if(z===S.length)return n(E,U),vt&&Ko(E,z),C;if(U===null){for(;z<S.length;z++)U=g(E,S[z],M),U!==null&&(A=o(U,A,z),D===null?C=U:D.sibling=U,D=U);return vt&&Ko(E,z),C}for(U=r(E,U);z<S.length;z++)j=m(U,E,z,S[z],M),j!==null&&(t&&j.alternate!==null&&U.delete(j.key===null?z:j.key),A=o(j,A,z),D===null?C=j:D.sibling=j,D=j);return t&&U.forEach(function(Q){return e(E,Q)}),vt&&Ko(E,z),C}function R(E,A,S,M){var C=sl(S);if(typeof C!="function")throw Error(re(150));if(S=C.call(S),S==null)throw Error(re(151));for(var D=C=null,U=A,z=A=0,j=null,H=S.next();U!==null&&!H.done;z++,H=S.next()){U.index>z?(j=U,U=null):j=U.sibling;var Q=w(E,U,H.value,M);if(Q===null){U===null&&(U=j);break}t&&U&&Q.alternate===null&&e(E,U),A=o(Q,A,z),D===null?C=Q:D.sibling=Q,D=Q,U=j}if(H.done)return n(E,U),vt&&Ko(E,z),C;if(U===null){for(;!H.done;z++,H=S.next())H=g(E,H.value,M),H!==null&&(A=o(H,A,z),D===null?C=H:D.sibling=H,D=H);return vt&&Ko(E,z),C}for(U=r(E,U);!H.done;z++,H=S.next())H=m(U,E,z,H.value,M),H!==null&&(t&&H.alternate!==null&&U.delete(H.key===null?z:H.key),A=o(H,A,z),D===null?C=H:D.sibling=H,D=H);return t&&U.forEach(function(V){return e(E,V)}),vt&&Ko(E,z),C}function N(E,A,S,M){if(typeof S=="object"&&S!==null&&S.type===ta&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Fu:e:{for(var C=S.key,D=A;D!==null;){if(D.key===C){if(C=S.type,C===ta){if(D.tag===7){n(E,D.sibling),A=i(D,S.props.children),A.return=E,E=A;break e}}else if(D.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ji&&Ow(C)===D.type){n(E,D.sibling),A=i(D,S.props),A.ref=dl(E,D,S),A.return=E,E=A;break e}n(E,D);break}else e(E,D);D=D.sibling}S.type===ta?(A=ms(S.props.children,E.mode,M,S.key),A.return=E,E=A):(M=Nc(S.type,S.key,S.props,null,E.mode,M),M.ref=dl(E,A,S),M.return=E,E=M)}return s(E);case ea:e:{for(D=S.key;A!==null;){if(A.key===D)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){n(E,A.sibling),A=i(A,S.children||[]),A.return=E,E=A;break e}else{n(E,A);break}else e(E,A);A=A.sibling}A=Qh(S,E.mode,M),A.return=E,E=A}return s(E);case Ji:return D=S._init,N(E,A,D(S._payload),M)}if(vl(S))return _(E,A,S,M);if(sl(S))return R(E,A,S,M);Ju(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(n(E,A.sibling),A=i(A,S),A.return=E,E=A):(n(E,A),A=Zh(S,E.mode,M),A.return=E,E=A),s(E)):n(E,A)}return N}var Ca=P_(!0),D_=P_(!1),Rd=Co(null),Td=null,ua=null,uy=null;function cy(){uy=ua=Td=null}function dy(t){var e=Rd.current;mt(Rd),t._currentValue=e}function c0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sa(t,e){Td=t,uy=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qn=!0),t.firstContext=null)}function Mr(t){var e=t._currentValue;if(uy!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(Td===null)throw Error(re(308));ua=t,Td.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var rs=null;function fy(t){rs===null?rs=[t]:rs.push(t)}function U_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var eo=!1;function hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Di(t,n)}return i=r.interleaved,i===null?(e.next=e,fy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Di(t,n)}function Ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}function Cw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Md(t,e,n,r){var i=t.updateQueue;eo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,f=c=l=null,a=o;do{var w=a.lane,m=a.eventTime;if((r&w)===w){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,R=a;switch(w=e,m=n,R.tag){case 1:if(_=R.payload,typeof _=="function"){g=_.call(m,g,w);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=R.payload,w=typeof _=="function"?_.call(m,g,w):_,w==null)break e;g=kt({},g,w);break e;case 2:eo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[a]:w.push(a))}else m={eventTime:m,lane:w,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,l=g):f=f.next=m,s|=w;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;w=a,a=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(f===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Es|=s,t.lanes=s,t.memoizedState=g}}function Lw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var Au={},si=Co(Au),ou=Co(Au),su=Co(Au);function is(t){if(t===Au)throw Error(re(174));return t}function py(t,e){switch(ft(su,e),ft(ou,t),ft(si,Au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}mt(si),ft(si,e)}function La(){mt(si),mt(ou),mt(su)}function j_(t){is(su.current);var e=is(si.current),n=Kp(e,t.type);e!==n&&(ft(ou,t),ft(si,n))}function gy(t){ou.current===t&&(mt(si),mt(ou))}var bt=Co(0);function Nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function yy(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var Ic=Wi.ReactCurrentDispatcher,$h=Wi.ReactCurrentBatchConfig,Ss=0,It=null,an=null,hn=null,xd=!1,Ul=!1,au=0,Ck=0;function In(){throw Error(re(321))}function my(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function wy(t,e,n,r,i,o){if(Ss=o,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ic.current=t===null||t.memoizedState===null?Dk:Uk,t=n(r,i),Ul){o=0;do{if(Ul=!1,au=0,25<=o)throw Error(re(301));o+=1,hn=an=null,e.updateQueue=null,Ic.current=zk,t=n(r,i)}while(Ul)}if(Ic.current=Od,e=an!==null&&an.next!==null,Ss=0,hn=an=It=null,xd=!1,e)throw Error(re(300));return t}function vy(){var t=au!==0;return au=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?It.memoizedState=hn=t:hn=hn.next=t,hn}function Nr(){if(an===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=hn===null?It.memoizedState:hn.next;if(e!==null)hn=e,an=t;else{if(t===null)throw Error(re(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},hn===null?It.memoizedState=hn=t:hn=hn.next=t}return hn}function lu(t,e){return typeof e=="function"?e(t):e}function Vh(t){var e=Nr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=an,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((Ss&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=g,s=r):l=l.next=g,It.lanes|=f,Es|=f}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Kr(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,It.lanes|=o,Es|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gh(t){var e=Nr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Kr(o,e.memoizedState)||(Qn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function W_(){}function F_(t,e){var n=It,r=Nr(),i=e(),o=!Kr(r.memoizedState,i);if(o&&(r.memoizedState=i,Qn=!0),r=r.queue,_y($_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,uu(9,K_.bind(null,n,r,i,e),void 0,null),pn===null)throw Error(re(349));Ss&30||H_(n,e,i)}return i}function H_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K_(t,e,n,r){e.value=n,e.getSnapshot=r,V_(e)&&G_(t)}function $_(t,e,n){return n(function(){V_(e)&&G_(t)})}function V_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kr(t,n)}catch{return!0}}function G_(t){var e=Di(t,1);e!==null&&Wr(e,t,1,-1)}function Bw(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=Pk.bind(null,It,t),[e.memoizedState,t]}function uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Y_(){return Nr().memoizedState}function kc(t,e,n,r){var i=qr();It.flags|=t,i.memoizedState=uu(1|e,n,void 0,r===void 0?null:r)}function yf(t,e,n,r){var i=Nr();r=r===void 0?null:r;var o=void 0;if(an!==null){var s=an.memoizedState;if(o=s.destroy,r!==null&&my(r,s.deps)){i.memoizedState=uu(e,n,o,r);return}}It.flags|=t,i.memoizedState=uu(1|e,n,o,r)}function Pw(t,e){return kc(8390656,8,t,e)}function _y(t,e){return yf(2048,8,t,e)}function q_(t,e){return yf(4,2,t,e)}function Z_(t,e){return yf(4,4,t,e)}function Q_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X_(t,e,n){return n=n!=null?n.concat([t]):null,yf(4,4,Q_.bind(null,e,t),n)}function Sy(){}function J_(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eS(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tS(t,e,n){return Ss&21?(Kr(n,e)||(n=s_(),It.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qn=!0),t.memoizedState=n)}function Lk(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var r=$h.transition;$h.transition={};try{t(!1),e()}finally{it=n,$h.transition=r}}function nS(){return Nr().memoizedState}function Bk(t,e,n){var r=_o(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rS(t))iS(e,n);else if(n=U_(t,e,n,r),n!==null){var i=Wn();Wr(n,t,r,i),oS(n,e,r)}}function Pk(t,e,n){var r=_o(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rS(t))iS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Kr(a,s)){var l=e.interleaved;l===null?(i.next=i,fy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=U_(t,e,i,r),n!==null&&(i=Wn(),Wr(n,t,r,i),oS(n,e,r))}}function rS(t){var e=t.alternate;return t===It||e!==null&&e===It}function iS(t,e){Ul=xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}var Od={readContext:Mr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},Dk={readContext:Mr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:Mr,useEffect:Pw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kc(4194308,4,Q_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return kc(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bk.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:Bw,useDebugValue:Sy,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=Bw(!1),e=t[0];return t=Lk.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,i=qr();if(vt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),pn===null)throw Error(re(349));Ss&30||H_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Pw($_.bind(null,r,o,t),[t]),r.flags|=2048,uu(9,K_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=qr(),e=pn.identifierPrefix;if(vt){var n=Ni,r=Mi;n=(r&~(1<<32-jr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ck++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Uk={readContext:Mr,useCallback:J_,useContext:Mr,useEffect:_y,useImperativeHandle:X_,useInsertionEffect:q_,useLayoutEffect:Z_,useMemo:eS,useReducer:Vh,useRef:Y_,useState:function(){return Vh(lu)},useDebugValue:Sy,useDeferredValue:function(t){var e=Nr();return tS(e,an.memoizedState,t)},useTransition:function(){var t=Vh(lu)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:W_,useSyncExternalStore:F_,useId:nS,unstable_isNewReconciler:!1},zk={readContext:Mr,useCallback:J_,useContext:Mr,useEffect:_y,useImperativeHandle:X_,useInsertionEffect:q_,useLayoutEffect:Z_,useMemo:eS,useReducer:Gh,useRef:Y_,useState:function(){return Gh(lu)},useDebugValue:Sy,useDeferredValue:function(t){var e=Nr();return an===null?e.memoizedState=t:tS(e,an.memoizedState,t)},useTransition:function(){var t=Gh(lu)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:W_,useSyncExternalStore:F_,useId:nS,unstable_isNewReconciler:!1};function Lr(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function d0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mf={isMounted:function(t){return(t=t._reactInternals)?Ns(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=_o(t),o=Li(r,i);o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Wr(e,t,i,r),Ac(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=_o(t),o=Li(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Wr(e,t,i,r),Ac(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),r=_o(t),i=Li(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Wr(e,t,r,n),Ac(e,t,r))}};function Dw(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,o):!0}function sS(t,e,n){var r=!1,i=ko,o=e.contextType;return typeof o=="object"&&o!==null?o=Mr(o):(i=tr(e)?vs:Dn.current,r=e.contextTypes,o=(r=r!=null)?xa(t,i):ko),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Uw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mf.enqueueReplaceState(e,e.state,null)}function f0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Mr(o):(o=tr(e)?vs:Dn.current,i.context=xa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(d0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mf.enqueueReplaceState(i,i.state,null),Md(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var n="",r=e;do n+=h2(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jk=typeof WeakMap=="function"?WeakMap:Map;function aS(t,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ld||(Ld=!0,b0=r),h0(t,e)},n}function lS(t,e,n){n=Li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){h0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){h0(t,e),typeof r!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function zw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eR.bind(null,t,e,n),e.then(t,t))}function jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ww(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var Wk=Wi.ReactCurrentOwner,Qn=!1;function zn(t,e,n,r){e.child=t===null?D_(e,null,n,r):Ca(e,t.child,n,r)}function Fw(t,e,n,r,i){n=n.render;var o=e.ref;return Sa(e,i),r=wy(t,e,n,r,o,i),n=vy(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(vt&&n&&sy(e),e.flags|=1,zn(t,e,r,i),e.child)}function Hw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!My(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,uS(t,e,o,r,i)):(t=Nc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(s,r)&&t.ref===e.ref)return Ui(t,e,i)}return e.flags|=1,t=So(o,r),t.ref=e.ref,t.return=e,e.child=t}function uS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(tu(o,r)&&t.ref===e.ref)if(Qn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Qn=!0);else return e.lanes=t.lanes,Ui(t,e,i)}return p0(t,e,n,r,i)}function cS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(da,lr),lr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(da,lr),lr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ft(da,lr),lr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ft(da,lr),lr|=r;return zn(t,e,i,n),e.child}function dS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function p0(t,e,n,r,i){var o=tr(n)?vs:Dn.current;return o=xa(e,o),Sa(e,i),n=wy(t,e,n,r,o,i),r=vy(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(vt&&r&&sy(e),e.flags|=1,zn(t,e,n,i),e.child)}function Kw(t,e,n,r,i){if(tr(n)){var o=!0;Ad(e)}else o=!1;if(Sa(e,i),e.stateNode===null)Rc(t,e),sS(e,n,r),f0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mr(c):(c=tr(n)?vs:Dn.current,c=xa(e,c));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Uw(e,s,r,c),eo=!1;var w=e.memoizedState;s.state=w,Md(e,r,s,i),l=e.memoizedState,a!==r||w!==l||er.current||eo?(typeof f=="function"&&(d0(e,n,f,r),l=e.memoizedState),(a=eo||Dw(e,n,a,r,w,l,c))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,z_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lr(e.type,a),s.props=c,g=e.pendingProps,w=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mr(l):(l=tr(n)?vs:Dn.current,l=xa(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||w!==l)&&Uw(e,s,r,l),eo=!1,w=e.memoizedState,s.state=w,Md(e,r,s,i);var _=e.memoizedState;a!==g||w!==_||er.current||eo?(typeof m=="function"&&(d0(e,n,m,r),_=e.memoizedState),(c=eo||Dw(e,n,c,r,w,_,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return g0(t,e,n,r,o,i)}function g0(t,e,n,r,i,o){dS(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Mw(e,n,!1),Ui(t,e,o);r=e.stateNode,Wk.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ca(e,t.child,null,o),e.child=Ca(e,null,a,o)):zn(t,e,a,o),e.memoizedState=r.state,i&&Mw(e,n,!0),e.child}function fS(t){var e=t.stateNode;e.pendingContext?Tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tw(t,e.context,!1),py(t,e.containerInfo)}function $w(t,e,n,r,i){return Oa(),ly(i),e.flags|=256,zn(t,e,n,r),e.child}var y0={dehydrated:null,treeContext:null,retryLane:0};function m0(t){return{baseLanes:t,cachePool:null,transitions:null}}function hS(t,e,n){var r=e.pendingProps,i=bt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(bt,i&1),t===null)return u0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_f(s,r,0,null),t=ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=m0(n),e.memoizedState=y0,t):Ey(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Fk(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=So(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=So(a,o):(o=ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?m0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=y0,r}return o=t.child,t=o.sibling,r=So(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ey(t,e){return e=_f({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ec(t,e,n,r){return r!==null&&ly(r),Ca(e,t.child,null,n),t=Ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fk(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Yh(Error(re(422))),ec(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_f({mode:"visible",children:r.children},i,0,null),o=ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ca(e,t.child,null,s),e.child.memoizedState=m0(s),e.memoizedState=y0,o);if(!(e.mode&1))return ec(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(re(419)),r=Yh(o,r,void 0),ec(t,e,s,r)}if(a=(s&t.childLanes)!==0,Qn||a){if(r=pn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Di(t,i),Wr(r,t,i,-1))}return Ty(),r=Yh(Error(re(421))),ec(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,fr=mo(i.nextSibling),hr=e,vt=!0,Dr=null,t!==null&&(Ar[Ir++]=Mi,Ar[Ir++]=Ni,Ar[Ir++]=_s,Mi=t.id,Ni=t.overflow,_s=e),e=Ey(e,r.children),e.flags|=4096,e)}function Vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),c0(t.return,e,n)}function qh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zn(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vw(t,n,e);else if(t.tag===19)Vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ft(bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qh(e,!0,n,null,o);break;case"together":qh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=So(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=So(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hk(t,e,n){switch(e.tag){case 3:fS(e),Oa();break;case 5:j_(e);break;case 1:tr(e.type)&&Ad(e);break;case 4:py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ft(Rd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ft(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?hS(t,e,n):(ft(bt,bt.current&1),t=Ui(t,e,n),t!==null?t.sibling:null);ft(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,cS(t,e,n)}return Ui(t,e,n)}var gS,w0,yS,mS;gS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w0=function(){};yS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,is(si.current);var o=null;switch(n){case"input":i=jp(t,i),r=jp(t,r),o=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),o=[];break;case"textarea":i=Hp(t,i),r=Hp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ed)}$p(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};mS=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kk(t,e,n){var r=e.pendingProps;switch(ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return tr(e.type)&&bd(),kn(e),null;case 3:return r=e.stateNode,La(),mt(er),mt(Dn),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dr!==null&&(k0(Dr),Dr=null))),w0(t,e),kn(e),null;case 5:gy(e);var i=is(su.current);if(n=e.type,t!==null&&e.stateNode!=null)yS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return kn(e),null}if(t=is(si.current),Xu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Xr]=e,r[iu]=o,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<Sl.length;i++)gt(Sl[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":tw(r,o),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gt("invalid",r);break;case"textarea":rw(r,o),gt("invalid",r)}$p(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Qu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Qu(r.textContent,a,t),i=["children",""+a]):Yl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&gt("scroll",r)}switch(n){case"input":Hu(r),nw(r,o,!0);break;case"textarea":Hu(r),iw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$v(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Xr]=e,t[iu]=r,gS(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vp(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sl.length;i++)gt(Sl[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":tw(t,r),i=jp(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),gt("invalid",t);break;case"textarea":rw(t,r),i=Hp(t,r),gt("invalid",t);break;default:i=r}$p(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Yv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ql(t,l):typeof l=="number"&&ql(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gt("scroll",t):l!=null&&Vg(t,o,l,s))}switch(n){case"input":Hu(t),nw(t,r,!1);break;case"textarea":Hu(t),iw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Io(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ma(t,!!r.multiple,o,!1):r.defaultValue!=null&&ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)mS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=is(su.current),is(si.current),Xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(o=r.nodeValue!==n)&&(t=hr,t!==null))switch(t.tag){case 3:Qu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return kn(e),null;case 13:if(mt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&fr!==null&&e.mode&1&&!(e.flags&128))B_(),Oa(),e.flags|=98560,o=!1;else if(o=Xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Xr]=e}else Oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),o=!1}else Dr!==null&&(k0(Dr),Dr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?ln===0&&(ln=3):Ty())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return La(),w0(t,e),t===null&&nu(e.stateNode.containerInfo),kn(e),null;case 10:return dy(e.type._context),kn(e),null;case 17:return tr(e.type)&&bd(),kn(e),null;case 19:if(mt(bt),o=e.memoizedState,o===null)return kn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)fl(o,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Nd(t),s!==null){for(e.flags|=128,fl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(bt,bt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Lt()>Pa&&(e.flags|=128,r=!0,fl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Nd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vt)return kn(e),null}else 2*Lt()-o.renderingStartTime>Pa&&n!==1073741824&&(e.flags|=128,r=!0,fl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Lt(),e.sibling=null,n=bt.current,ft(bt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return Ry(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function $k(t,e){switch(ay(e),e.tag){case 1:return tr(e.type)&&bd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return La(),mt(er),mt(Dn),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gy(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return La(),null;case 10:return dy(e.type._context),null;case 22:case 23:return Ry(),null;case 24:return null;default:return null}}var tc=!1,Pn=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,he=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function v0(t,e,n){try{n()}catch(r){xt(t,e,r)}}var Gw=!1;function Gk(t,e){if(n0=vd,t=E_(),oy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,f=0,g=t,w=null;t:for(;;){for(var m;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(l=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(m=g.firstChild)!==null;)w=g,g=m;for(;;){if(g===t)break t;if(w===n&&++c===i&&(a=s),w===o&&++f===r&&(l=s),(m=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(r0={focusedElem:t,selectionRange:n},vd=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var R=_.memoizedProps,N=_.memoizedState,E=e.stateNode,A=E.getSnapshotBeforeUpdate(e.elementType===e.type?R:Lr(e.type,R),N);E.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(M){xt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return _=Gw,Gw=!1,_}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&v0(e,n,o)}i=i.next}while(i!==r)}}function wf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wS(t){var e=t.alternate;e!==null&&(t.alternate=null,wS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[iu],delete e[s0],delete e[Mk],delete e[Nk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vS(t){return t.tag===5||t.tag===3||t.tag===4}function Yw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function S0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ed));else if(r!==4&&(t=t.child,t!==null))for(S0(t,e,n),t=t.sibling;t!==null;)S0(t,e,n),t=t.sibling}function E0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(E0(t,e,n),t=t.sibling;t!==null;)E0(t,e,n),t=t.sibling}var mn=null,Pr=!1;function Hi(t,e,n){for(n=n.child;n!==null;)_S(t,e,n),n=n.sibling}function _S(t,e,n){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(cf,n)}catch{}switch(n.tag){case 5:Pn||ca(n,e);case 6:var r=mn,i=Pr;mn=null,Hi(t,e,n),mn=r,Pr=i,mn!==null&&(Pr?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(Pr?(t=mn,n=n.stateNode,t.nodeType===8?Fh(t.parentNode,n):t.nodeType===1&&Fh(t,n),Jl(t)):Fh(mn,n.stateNode));break;case 4:r=mn,i=Pr,mn=n.stateNode.containerInfo,Pr=!0,Hi(t,e,n),mn=r,Pr=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&v0(n,e,s),i=i.next}while(i!==r)}Hi(t,e,n);break;case 1:if(!Pn&&(ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,Hi(t,e,n),Pn=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vk),e.forEach(function(r){var i=nR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:mn=a.stateNode,Pr=!1;break e;case 3:mn=a.stateNode.containerInfo,Pr=!0;break e;case 4:mn=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(mn===null)throw Error(re(160));_S(o,s,i),mn=null,Pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){xt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SS(e,t),e=e.sibling}function SS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Or(e,t),Gr(t),r&4){try{zl(3,t,t.return),wf(3,t)}catch(R){xt(t,t.return,R)}try{zl(5,t,t.return)}catch(R){xt(t,t.return,R)}}break;case 1:Or(e,t),Gr(t),r&512&&n!==null&&ca(n,n.return);break;case 5:if(Or(e,t),Gr(t),r&512&&n!==null&&ca(n,n.return),t.flags&32){var i=t.stateNode;try{ql(i,"")}catch(R){xt(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Hv(i,o),Vp(a,s);var c=Vp(a,o);for(s=0;s<l.length;s+=2){var f=l[s],g=l[s+1];f==="style"?Yv(i,g):f==="dangerouslySetInnerHTML"?Vv(i,g):f==="children"?ql(i,g):Vg(i,f,g,c)}switch(a){case"input":Wp(i,o);break;case"textarea":Kv(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ma(i,!!o.multiple,m,!1):w!==!!o.multiple&&(o.defaultValue!=null?ma(i,!!o.multiple,o.defaultValue,!0):ma(i,!!o.multiple,o.multiple?[]:"",!1))}i[iu]=o}catch(R){xt(t,t.return,R)}}break;case 6:if(Or(e,t),Gr(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(R){xt(t,t.return,R)}}break;case 3:if(Or(e,t),Gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(R){xt(t,t.return,R)}break;case 4:Or(e,t),Gr(t);break;case 13:Or(e,t),Gr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Iy=Lt())),r&4&&qw(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(c=Pn)||f,Or(e,t),Pn=c):Or(e,t),Gr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(g=he=f;he!==null;){switch(w=he,m=w.child,w.tag){case 0:case 11:case 14:case 15:zl(4,w,w.return);break;case 1:ca(w,w.return);var _=w.stateNode;if(typeof _.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(R){xt(r,n,R)}}break;case 5:ca(w,w.return);break;case 22:if(w.memoizedState!==null){Qw(g);continue}}m!==null?(m.return=w,he=m):Qw(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gv("display",s))}catch(R){xt(t,t.return,R)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(R){xt(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Or(e,t),Gr(t),r&4&&qw(t);break;case 21:break;default:Or(e,t),Gr(t)}}function Gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vS(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ql(i,""),r.flags&=-33);var o=Yw(t);E0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Yw(t);S0(t,a,s);break;default:throw Error(re(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yk(t,e,n){he=t,ES(t)}function ES(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||tc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pn;a=tc;var c=Pn;if(tc=s,(Pn=l)&&!c)for(he=i;he!==null;)s=he,l=s.child,s.tag===22&&s.memoizedState!==null?Xw(i):l!==null?(l.return=s,he=l):Xw(i);for(;o!==null;)he=o,ES(o),o=o.sibling;he=i,tc=a,Pn=c}Zw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):Zw(t)}}function Zw(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||wf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Lw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Jl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Pn||e.flags&512&&_0(e)}catch(w){xt(e,e.return,w)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function Qw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function Xw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wf(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var o=e.return;try{_0(e)}catch(l){xt(e,o,l)}break;case 5:var s=e.return;try{_0(e)}catch(l){xt(e,s,l)}}}catch(l){xt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var qk=Math.ceil,Cd=Wi.ReactCurrentDispatcher,by=Wi.ReactCurrentOwner,Rr=Wi.ReactCurrentBatchConfig,Ye=0,pn=null,nn=null,Sn=0,lr=0,da=Co(0),ln=0,cu=null,Es=0,vf=0,Ay=0,jl=null,Yn=null,Iy=0,Pa=1/0,Si=null,Ld=!1,b0=null,vo=null,nc=!1,ao=null,Bd=0,Wl=0,A0=null,Tc=-1,Mc=0;function Wn(){return Ye&6?Lt():Tc!==-1?Tc:Tc=Lt()}function _o(t){return t.mode&1?Ye&2&&Sn!==0?Sn&-Sn:Ok.transition!==null?(Mc===0&&(Mc=s_()),Mc):(t=it,t!==0||(t=window.event,t=t===void 0?16:h_(t.type)),t):1}function Wr(t,e,n,r){if(50<Wl)throw Wl=0,A0=null,Error(re(185));Su(t,n,r),(!(Ye&2)||t!==pn)&&(t===pn&&(!(Ye&2)&&(vf|=n),ln===4&&io(t,Sn)),nr(t,r),n===1&&Ye===0&&!(e.mode&1)&&(Pa=Lt()+500,gf&&Lo()))}function nr(t,e){var n=t.callbackNode;O2(t,e);var r=wd(t,t===pn?Sn:0);if(r===0)n!==null&&aw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aw(n),e===1)t.tag===0?xk(Jw.bind(null,t)):O_(Jw.bind(null,t)),Rk(function(){!(Ye&6)&&Lo()}),n=null;else{switch(a_(r)){case 1:n=Qg;break;case 4:n=i_;break;case 16:n=md;break;case 536870912:n=o_;break;default:n=md}n=NS(n,bS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bS(t,e){if(Tc=-1,Mc=0,Ye&6)throw Error(re(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=wd(t,t===pn?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pd(t,r);else{e=r;var i=Ye;Ye|=2;var o=IS();(pn!==t||Sn!==e)&&(Si=null,Pa=Lt()+500,ys(t,e));do try{Xk();break}catch(a){AS(t,a)}while(!0);cy(),Cd.current=o,Ye=i,nn!==null?e=0:(pn=null,Sn=0,e=ln)}if(e!==0){if(e===2&&(i=Qp(t),i!==0&&(r=i,e=I0(t,i))),e===1)throw n=cu,ys(t,0),io(t,r),nr(t,Lt()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!Zk(i)&&(e=Pd(t,r),e===2&&(o=Qp(t),o!==0&&(r=o,e=I0(t,o))),e===1))throw n=cu,ys(t,0),io(t,r),nr(t,Lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:$o(t,Yn,Si);break;case 3:if(io(t,r),(r&130023424)===r&&(e=Iy+500-Lt(),10<e)){if(wd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=o0($o.bind(null,t,Yn,Si),e);break}$o(t,Yn,Si);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-jr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qk(r/1960))-r,10<r){t.timeoutHandle=o0($o.bind(null,t,Yn,Si),r);break}$o(t,Yn,Si);break;case 5:$o(t,Yn,Si);break;default:throw Error(re(329))}}}return nr(t,Lt()),t.callbackNode===n?bS.bind(null,t):null}function I0(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=Pd(t,e),t!==2&&(e=Yn,Yn=n,e!==null&&k0(e)),t}function k0(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function Zk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~Ay,e&=~vf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jr(e),r=1<<n;t[n]=-1,e&=~r}}function Jw(t){if(Ye&6)throw Error(re(327));Ea();var e=wd(t,0);if(!(e&1))return nr(t,Lt()),null;var n=Pd(t,e);if(t.tag!==0&&n===2){var r=Qp(t);r!==0&&(e=r,n=I0(t,r))}if(n===1)throw n=cu,ys(t,0),io(t,e),nr(t,Lt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$o(t,Yn,Si),nr(t,Lt()),null}function ky(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(Pa=Lt()+500,gf&&Lo())}}function bs(t){ao!==null&&ao.tag===0&&!(Ye&6)&&Ea();var e=Ye;Ye|=1;var n=Rr.transition,r=it;try{if(Rr.transition=null,it=1,t)return t()}finally{it=r,Rr.transition=n,Ye=e,!(Ye&6)&&Lo()}}function Ry(){lr=da.current,mt(da)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kk(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bd();break;case 3:La(),mt(er),mt(Dn),yy();break;case 5:gy(r);break;case 4:La();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:dy(r.type._context);break;case 22:case 23:Ry()}n=n.return}if(pn=t,nn=t=So(t.current,null),Sn=lr=e,ln=0,cu=null,Ay=vf=Es=0,Yn=jl=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}rs=null}return t}function AS(t,e){do{var n=nn;try{if(cy(),Ic.current=Od,xd){for(var r=It.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xd=!1}if(Ss=0,hn=an=It=null,Ul=!1,au=0,by.current=null,n===null||n.return===null){ln=1,cu=e,nn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=jw(s);if(m!==null){m.flags&=-257,Ww(m,s,a,o,e),m.mode&1&&zw(o,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var R=new Set;R.add(l),e.updateQueue=R}else _.add(l);break e}else{if(!(e&1)){zw(o,c,e),Ty();break e}l=Error(re(426))}}else if(vt&&a.mode&1){var N=jw(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Ww(N,s,a,o,e),ly(Ba(l,a));break e}}o=l=Ba(l,a),ln!==4&&(ln=2),jl===null?jl=[o]:jl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=aS(o,l,e);Cw(o,E);break e;case 1:a=l;var A=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(vo===null||!vo.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=lS(o,a,e);Cw(o,M);break e}}o=o.return}while(o!==null)}RS(n)}catch(C){e=C,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function IS(){var t=Cd.current;return Cd.current=Od,t===null?Od:t}function Ty(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||!(Es&268435455)&&!(vf&268435455)||io(pn,Sn)}function Pd(t,e){var n=Ye;Ye|=2;var r=IS();(pn!==t||Sn!==e)&&(Si=null,ys(t,e));do try{Qk();break}catch(i){AS(t,i)}while(!0);if(cy(),Ye=n,Cd.current=r,nn!==null)throw Error(re(261));return pn=null,Sn=0,ln}function Qk(){for(;nn!==null;)kS(nn)}function Xk(){for(;nn!==null&&!b2();)kS(nn)}function kS(t){var e=MS(t.alternate,t,lr);t.memoizedProps=t.pendingProps,e===null?RS(t):nn=e,by.current=null}function RS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$k(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,nn=null;return}}else if(n=Kk(n,e,lr),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);ln===0&&(ln=5)}function $o(t,e,n){var r=it,i=Rr.transition;try{Rr.transition=null,it=1,Jk(t,e,n,r)}finally{Rr.transition=i,it=r}return null}function Jk(t,e,n,r){do Ea();while(ao!==null);if(Ye&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(C2(t,o),t===pn&&(nn=pn=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nc||(nc=!0,NS(md,function(){return Ea(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rr.transition,Rr.transition=null;var s=it;it=1;var a=Ye;Ye|=4,by.current=null,Gk(t,n),SS(n,t),vk(r0),vd=!!n0,r0=n0=null,t.current=n,Yk(n),A2(),Ye=a,it=s,Rr.transition=o}else t.current=n;if(nc&&(nc=!1,ao=t,Bd=i),o=t.pendingLanes,o===0&&(vo=null),R2(n.stateNode),nr(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,t=b0,b0=null,t;return Bd&1&&t.tag!==0&&Ea(),o=t.pendingLanes,o&1?t===A0?Wl++:(Wl=0,A0=t):Wl=0,Lo(),null}function Ea(){if(ao!==null){var t=a_(Bd),e=Rr.transition,n=it;try{if(Rr.transition=null,it=16>t?16:t,ao===null)var r=!1;else{if(t=ao,ao=null,Bd=0,Ye&6)throw Error(re(331));var i=Ye;for(Ye|=4,he=t.current;he!==null;){var o=he,s=o.child;if(he.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(he=c;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:zl(8,f,o)}var g=f.child;if(g!==null)g.return=f,he=g;else for(;he!==null;){f=he;var w=f.sibling,m=f.return;if(wS(f),f===c){he=null;break}if(w!==null){w.return=m,he=w;break}he=m}}}var _=o.alternate;if(_!==null){var R=_.child;if(R!==null){_.child=null;do{var N=R.sibling;R.sibling=null,R=N}while(R!==null)}}he=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,he=s;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zl(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,he=E;break e}he=o.return}}var A=t.current;for(he=A;he!==null;){s=he;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,he=S;else e:for(s=A;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wf(9,a)}}catch(C){xt(a,a.return,C)}if(a===s){he=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,he=M;break e}he=a.return}}if(Ye=i,Lo(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(cf,t)}catch{}r=!0}return r}finally{it=n,Rr.transition=e}}return!1}function e1(t,e,n){e=Ba(n,e),e=aS(t,e,1),t=wo(t,e,1),e=Wn(),t!==null&&(Su(t,1,e),nr(t,e))}function xt(t,e,n){if(t.tag===3)e1(t,t,n);else for(;e!==null;){if(e.tag===3){e1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vo===null||!vo.has(r))){t=Ba(n,t),t=lS(e,t,1),e=wo(e,t,1),t=Wn(),e!==null&&(Su(e,1,t),nr(e,t));break}}e=e.return}}function eR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(Sn&n)===n&&(ln===4||ln===3&&(Sn&130023424)===Sn&&500>Lt()-Iy?ys(t,0):Ay|=n),nr(t,e)}function TS(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var n=Wn();t=Di(t,e),t!==null&&(Su(t,e,n),nr(t,n))}function tR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TS(t,n)}function nR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),TS(t,n)}var MS;MS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qn=!1,Hk(t,e,n);Qn=!!(t.flags&131072)}else Qn=!1,vt&&e.flags&1048576&&C_(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var i=xa(e,Dn.current);Sa(e,n),i=wy(null,e,r,t,i,n);var o=vy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(o=!0,Ad(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hy(e),i.updater=mf,e.stateNode=i,i._reactInternals=e,f0(e,r,t,n),e=g0(null,e,r,!0,o,n)):(e.tag=0,vt&&o&&sy(e),zn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iR(r),t=Lr(r,t),i){case 0:e=p0(null,e,r,t,n);break e;case 1:e=Kw(null,e,r,t,n);break e;case 11:e=Fw(null,e,r,t,n);break e;case 14:e=Hw(null,e,r,Lr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),p0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),Kw(t,e,r,i,n);case 3:e:{if(fS(e),t===null)throw Error(re(387));r=e.pendingProps,o=e.memoizedState,i=o.element,z_(t,e),Md(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ba(Error(re(423)),e),e=$w(t,e,r,n,i);break e}else if(r!==i){i=Ba(Error(re(424)),e),e=$w(t,e,r,n,i);break e}else for(fr=mo(e.stateNode.containerInfo.firstChild),hr=e,vt=!0,Dr=null,n=D_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),r===i){e=Ui(t,e,n);break e}zn(t,e,r,n)}e=e.child}return e;case 5:return j_(e),t===null&&u0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,i0(r,i)?s=null:o!==null&&i0(r,o)&&(e.flags|=32),dS(t,e),zn(t,e,s,n),e.child;case 6:return t===null&&u0(e),null;case 13:return hS(t,e,n);case 4:return py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):zn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),Fw(t,e,r,i,n);case 7:return zn(t,e,e.pendingProps,n),e.child;case 8:return zn(t,e,e.pendingProps.children,n),e.child;case 12:return zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ft(Rd,r._currentValue),r._currentValue=s,o!==null)if(Kr(o.value,s)){if(o.children===i.children&&!er.current){e=Ui(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Li(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),c0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),c0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sa(e,n),i=Mr(i),r=r(i),e.flags|=1,zn(t,e,r,n),e.child;case 14:return r=e.type,i=Lr(r,e.pendingProps),i=Lr(r.type,i),Hw(t,e,r,i,n);case 15:return uS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),Rc(t,e),e.tag=1,tr(r)?(t=!0,Ad(e)):t=!1,Sa(e,n),sS(e,r,i),f0(e,r,i,n),g0(null,e,r,!0,t,n);case 19:return pS(t,e,n);case 22:return cS(t,e,n)}throw Error(re(156,e.tag))};function NS(t,e){return r_(t,e)}function rR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(t,e,n,r){return new rR(t,e,n,r)}function My(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iR(t){if(typeof t=="function")return My(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yg)return 11;if(t===qg)return 14}return 2}function So(t,e){var n=t.alternate;return n===null?(n=kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")My(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ta:return ms(n.children,i,o,e);case Gg:s=8,i|=8;break;case Pp:return t=kr(12,n,e,i|2),t.elementType=Pp,t.lanes=o,t;case Dp:return t=kr(13,n,e,i),t.elementType=Dp,t.lanes=o,t;case Up:return t=kr(19,n,e,i),t.elementType=Up,t.lanes=o,t;case jv:return _f(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uv:s=10;break e;case zv:s=9;break e;case Yg:s=11;break e;case qg:s=14;break e;case Ji:s=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=kr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ms(t,e,n,r){return t=kr(7,t,r,e),t.lanes=n,t}function _f(t,e,n,r){return t=kr(22,t,r,e),t.elementType=jv,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=kr(6,t,null,e),t.lanes=n,t}function Qh(t,e,n){return e=kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ny(t,e,n,r,i,o,s,a,l){return t=new oR(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=kr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(o),t}function sR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xS(t){if(!t)return ko;t=t._reactInternals;e:{if(Ns(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(tr(n))return x_(t,n,e)}return e}function OS(t,e,n,r,i,o,s,a,l){return t=Ny(n,r,!0,t,i,o,s,a,l),t.context=xS(null),n=t.current,r=Wn(),i=_o(n),o=Li(r,i),o.callback=e??null,wo(n,o,i),t.current.lanes=i,Su(t,i,r),nr(t,r),t}function Sf(t,e,n,r){var i=e.current,o=Wn(),s=_o(i);return n=xS(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,s),t!==null&&(Wr(t,i,s,o),Ac(t,i,s)),s}function Dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xy(t,e){t1(t,e),(t=t.alternate)&&t1(t,e)}function aR(){return null}var CS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oy(t){this._internalRoot=t}Ef.prototype.render=Oy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Sf(t,e,null,null)};Ef.prototype.unmount=Oy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){Sf(null,t,null,null)}),e[Pi]=null}};function Ef(t){this._internalRoot=t}Ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=c_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&f_(t)}};function Cy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n1(){}function lR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Dd(s);o.call(c)}}var s=OS(e,r,t,0,null,!1,!1,"",n1);return t._reactRootContainer=s,t[Pi]=s.current,nu(t.nodeType===8?t.parentNode:t),bs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Dd(l);a.call(c)}}var l=Ny(t,0,!1,null,null,!1,!1,"",n1);return t._reactRootContainer=l,t[Pi]=l.current,nu(t.nodeType===8?t.parentNode:t),bs(function(){Sf(e,l,n,r)}),l}function Af(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Dd(s);a.call(l)}}Sf(e,s,t,i)}else s=lR(n,e,t,i,r);return Dd(s)}l_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_l(e.pendingLanes);n!==0&&(Xg(e,n|1),nr(e,Lt()),!(Ye&6)&&(Pa=Lt()+500,Lo()))}break;case 13:bs(function(){var r=Di(t,1);if(r!==null){var i=Wn();Wr(r,t,1,i)}}),xy(t,1)}};Jg=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Wn();Wr(e,t,134217728,n)}xy(t,134217728)}};u_=function(t){if(t.tag===13){var e=_o(t),n=Di(t,e);if(n!==null){var r=Wn();Wr(n,t,e,r)}xy(t,e)}};c_=function(){return it};d_=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};Yp=function(t,e,n){switch(e){case"input":if(Wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pf(r);if(!i)throw Error(re(90));Fv(r),Wp(r,i)}}}break;case"textarea":Kv(t,n);break;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}};Qv=ky;Xv=bs;var uR={usingClientEntryPoint:!1,Events:[bu,oa,pf,qv,Zv,ky]},hl={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cR={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=t_(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||aR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{cf=rc.inject(cR),oi=rc}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uR;mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cy(e))throw Error(re(200));return sR(t,e,null,n)};mr.createRoot=function(t,e){if(!Cy(t))throw Error(re(299));var n=!1,r="",i=CS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ny(t,1,!1,null,null,n,!1,r,i),t[Pi]=e.current,nu(t.nodeType===8?t.parentNode:t),new Oy(e)};mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=t_(e),t=t===null?null:t.stateNode,t};mr.flushSync=function(t){return bs(t)};mr.hydrate=function(t,e,n){if(!bf(e))throw Error(re(200));return Af(null,t,e,!0,n)};mr.hydrateRoot=function(t,e,n){if(!Cy(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=CS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=OS(e,null,t,1,n??null,i,!1,o,s),t[Pi]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ef(e)};mr.render=function(t,e,n){if(!bf(e))throw Error(re(200));return Af(null,t,e,!1,n)};mr.unmountComponentAtNode=function(t){if(!bf(t))throw Error(re(40));return t._reactRootContainer?(bs(function(){Af(null,null,t,!1,function(){t._reactRootContainer=null,t[Pi]=null})}),!0):!1};mr.unstable_batchedUpdates=ky;mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bf(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Af(t,e,n,!1,r)};mr.version="18.3.1-next-f1338f8080-20240426";function LS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LS)}catch(t){console.error(t)}}LS(),Lv.exports=mr;var BS=Lv.exports,r1=BS;Lp.createRoot=r1.createRoot,Lp.hydrateRoot=r1.hydrateRoot;var Ly={exports:{}};const dR={},fR=Object.freeze(Object.defineProperty({__proto__:null,default:dR},Symbol.toStringTag,{value:"Module"})),hR=Ga(fR);Ly.exports;(function(t){(function(e,n){function r(b,u){if(!b)throw new Error(u||"Assertion failed")}function i(b,u){b.super_=u;var d=function(){};d.prototype=u.prototype,b.prototype=new d,b.prototype.constructor=b}function o(b,u,d){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(b||0,u||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=hR.Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,d){return u.cmp(d)>0?u:d},o.min=function(u,d){return u.cmp(d)<0?u:d},o.prototype._init=function(u,d,v){if(typeof u=="number")return this._initNumber(u,d,v);if(typeof u=="object")return this._initArray(u,d,v);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var k=0;u[0]==="-"&&(k++,this.negative=1),k<u.length&&(d===16?this._parseHex(u,k,v):(this._parseBase(u,d,k),v==="le"&&this._initArray(this.toArray(),d,v)))},o.prototype._initNumber=function(u,d,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},o.prototype._initArray=function(u,d,v){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var I,O,P=0;if(v==="be")for(k=u.length-1,I=0;k>=0;k-=3)O=u[k]|u[k-1]<<8|u[k-2]<<16,this.words[I]|=O<<P&67108863,this.words[I+1]=O>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);else if(v==="le")for(k=0,I=0;k<u.length;k+=3)O=u[k]|u[k+1]<<8|u[k+2]<<16,this.words[I]|=O<<P&67108863,this.words[I+1]=O>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);return this._strip()};function a(b,u){var d=b.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+b)}function l(b,u,d){var v=a(b,d);return d-1>=u&&(v|=a(b,d-1)<<4),v}o.prototype._parseHex=function(u,d,v){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var I=0,O=0,P;if(v==="be")for(k=u.length-1;k>=d;k-=2)P=l(u,d,k)<<I,this.words[O]|=P&67108863,I>=18?(I-=18,O+=1,this.words[O]|=P>>>26):I+=8;else{var x=u.length-d;for(k=x%2===0?d+1:d;k<u.length;k+=2)P=l(u,d,k)<<I,this.words[O]|=P&67108863,I>=18?(I-=18,O+=1,this.words[O]|=P>>>26):I+=8}this._strip()};function c(b,u,d,v){for(var k=0,I=0,O=Math.min(b.length,d),P=u;P<O;P++){var x=b.charCodeAt(P)-48;k*=v,x>=49?I=x-49+10:x>=17?I=x-17+10:I=x,r(x>=0&&I<v,"Invalid character"),k+=I}return k}o.prototype._parseBase=function(u,d,v){this.words=[0],this.length=1;for(var k=0,I=1;I<=67108863;I*=d)k++;k--,I=I/d|0;for(var O=u.length-v,P=O%k,x=Math.min(O,O-P)+v,p=0,B=v;B<x;B+=k)p=c(u,B,B+k,d),this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(P!==0){var oe=1;for(p=c(u,B,u.length,d),B=0;B<P;B++)oe*=d;this.imuln(oe),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(b,u){b.words=u.words,b.length=u.length,b.negative=u.negative,b.red=u.red}if(o.prototype._move=function(u){f(u,this)},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,d){u=u||10,d=d|0||1;var v;if(u===16||u==="hex"){v="";for(var k=0,I=0,O=0;O<this.length;O++){var P=this.words[O],x=((P<<k|I)&16777215).toString(16);I=P>>>24-k&16777215,k+=2,k>=26&&(k-=26,O--),I!==0||O!==this.length-1?v=w[6-x.length]+x+v:v=x+v}for(I!==0&&(v=I.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var p=m[u],B=_[u];v="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var ie=oe.modrn(B).toString(u);oe=oe.idivn(B),oe.isZero()?v=ie+v:v=w[p-ie.length]+ie+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),o.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var R=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};o.prototype.toArrayLike=function(u,d,v){this._strip();var k=this.byteLength(),I=v||Math.max(1,k);r(k<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var O=R(u,I),P=d==="le"?"LE":"BE";return this["_toArrayLike"+P](O,k),O},o.prototype._toArrayLikeLE=function(u,d){for(var v=0,k=0,I=0,O=0;I<this.length;I++){var P=this.words[I]<<O|k;u[v++]=P&255,v<u.length&&(u[v++]=P>>8&255),v<u.length&&(u[v++]=P>>16&255),O===6?(v<u.length&&(u[v++]=P>>24&255),k=0,O=0):(k=P>>>24,O+=2)}if(v<u.length)for(u[v++]=k;v<u.length;)u[v++]=0},o.prototype._toArrayLikeBE=function(u,d){for(var v=u.length-1,k=0,I=0,O=0;I<this.length;I++){var P=this.words[I]<<O|k;u[v--]=P&255,v>=0&&(u[v--]=P>>8&255),v>=0&&(u[v--]=P>>16&255),O===6?(v>=0&&(u[v--]=P>>24&255),k=0,O=0):(k=P>>>24,O+=2)}if(v>=0)for(u[v--]=k;v>=0;)u[v--]=0},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var d=u,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},o.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,v=0;return d&8191||(v+=13,d>>>=13),d&127||(v+=7,d>>>=7),d&15||(v+=4,d>>>=4),d&3||(v+=2,d>>>=2),d&1||v++,v},o.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function N(b){for(var u=new Array(b.bitLength()),d=0;d<u.length;d++){var v=d/26|0,k=d%26;u[d]=b.words[v]>>>k&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(u+=v,v!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},o.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=d.length,this._strip()},o.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var d,v;this.length>u.length?(d=this,v=u):(d=u,v=this);for(var k=0;k<v.length;k++)this.words[k]=d.words[k]^v.words[k];if(this!==d)for(;k<d.length;k++)this.words[k]=d.words[k];return this.length=d.length,this._strip()},o.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,v=u%26;this._expand(d),v>0&&d--;for(var k=0;k<d;k++)this.words[k]=~this.words[k]&67108863;return v>0&&(this.words[k]=~this.words[k]&67108863>>26-v),this._strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,d){r(typeof u=="number"&&u>=0);var v=u/26|0,k=u%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<k:this.words[v]=this.words[v]&~(1<<k),this._strip()},o.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var v,k;this.length>u.length?(v=this,k=u):(v=u,k=this);for(var I=0,O=0;O<k.length;O++)d=(v.words[O]|0)+(k.words[O]|0)+I,this.words[O]=d&67108863,I=d>>>26;for(;I!==0&&O<v.length;O++)d=(v.words[O]|0)+I,this.words[O]=d&67108863,I=d>>>26;if(this.length=v.length,I!==0)this.words[this.length]=I,this.length++;else if(v!==this)for(;O<v.length;O++)this.words[O]=v.words[O];return this},o.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,I;v>0?(k=this,I=u):(k=u,I=this);for(var O=0,P=0;P<I.length;P++)d=(k.words[P]|0)-(I.words[P]|0)+O,O=d>>26,this.words[P]=d&67108863;for(;O!==0&&P<k.length;P++)d=(k.words[P]|0)+O,O=d>>26,this.words[P]=d&67108863;if(O===0&&P<k.length&&k!==this)for(;P<k.length;P++)this.words[P]=k.words[P];return this.length=Math.max(this.length,P),k!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function E(b,u,d){d.negative=u.negative^b.negative;var v=b.length+u.length|0;d.length=v,v=v-1|0;var k=b.words[0]|0,I=u.words[0]|0,O=k*I,P=O&67108863,x=O/67108864|0;d.words[0]=P;for(var p=1;p<v;p++){for(var B=x>>>26,oe=x&67108863,ie=Math.min(p,u.length-1),ae=Math.max(0,p-b.length+1);ae<=ie;ae++){var Re=p-ae|0;k=b.words[Re]|0,I=u.words[ae]|0,O=k*I+oe,B+=O/67108864|0,oe=O&67108863}d.words[p]=oe|0,x=B|0}return x!==0?d.words[p]=x|0:d.length--,d._strip()}var A=function(u,d,v){var k=u.words,I=d.words,O=v.words,P=0,x,p,B,oe=k[0]|0,ie=oe&8191,ae=oe>>>13,Re=k[1]|0,Ae=Re&8191,Se=Re>>>13,wt=k[2]|0,Je=wt&8191,Z=wt>>>13,_e=k[3]|0,ye=_e&8191,Ie=_e>>>13,$e=k[4]|0,be=$e&8191,Oe=$e>>>13,An=k[5]|0,Ue=An&8191,Ce=An>>>13,rn=k[6]|0,We=rn&8191,lt=rn>>>13,Un=k[7]|0,Tt=Un&8191,T=Un>>>13,h=k[8]|0,y=h&8191,L=h>>>13,W=k[9]|0,K=W&8191,q=W>>>13,Le=I[0]|0,Ne=Le&8191,Te=Le>>>13,pt=I[1]|0,ke=pt&8191,Pt=pt>>>13,Wm=I[2]|0,Dt=Wm&8191,Ut=Wm>>>13,Fm=I[3]|0,zt=Fm&8191,jt=Fm>>>13,Hm=I[4]|0,Wt=Hm&8191,Ft=Hm>>>13,Km=I[5]|0,Ht=Km&8191,Kt=Km>>>13,$m=I[6]|0,$t=$m&8191,Vt=$m>>>13,Vm=I[7]|0,Gt=Vm&8191,Yt=Vm>>>13,Gm=I[8]|0,qt=Gm&8191,Zt=Gm>>>13,Ym=I[9]|0,Qt=Ym&8191,Xt=Ym>>>13;v.negative=u.negative^d.negative,v.length=19,x=Math.imul(ie,Ne),p=Math.imul(ie,Te),p=p+Math.imul(ae,Ne)|0,B=Math.imul(ae,Te);var sh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(sh>>>26)|0,sh&=67108863,x=Math.imul(Ae,Ne),p=Math.imul(Ae,Te),p=p+Math.imul(Se,Ne)|0,B=Math.imul(Se,Te),x=x+Math.imul(ie,ke)|0,p=p+Math.imul(ie,Pt)|0,p=p+Math.imul(ae,ke)|0,B=B+Math.imul(ae,Pt)|0;var ah=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(ah>>>26)|0,ah&=67108863,x=Math.imul(Je,Ne),p=Math.imul(Je,Te),p=p+Math.imul(Z,Ne)|0,B=Math.imul(Z,Te),x=x+Math.imul(Ae,ke)|0,p=p+Math.imul(Ae,Pt)|0,p=p+Math.imul(Se,ke)|0,B=B+Math.imul(Se,Pt)|0,x=x+Math.imul(ie,Dt)|0,p=p+Math.imul(ie,Ut)|0,p=p+Math.imul(ae,Dt)|0,B=B+Math.imul(ae,Ut)|0;var lh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(lh>>>26)|0,lh&=67108863,x=Math.imul(ye,Ne),p=Math.imul(ye,Te),p=p+Math.imul(Ie,Ne)|0,B=Math.imul(Ie,Te),x=x+Math.imul(Je,ke)|0,p=p+Math.imul(Je,Pt)|0,p=p+Math.imul(Z,ke)|0,B=B+Math.imul(Z,Pt)|0,x=x+Math.imul(Ae,Dt)|0,p=p+Math.imul(Ae,Ut)|0,p=p+Math.imul(Se,Dt)|0,B=B+Math.imul(Se,Ut)|0,x=x+Math.imul(ie,zt)|0,p=p+Math.imul(ie,jt)|0,p=p+Math.imul(ae,zt)|0,B=B+Math.imul(ae,jt)|0;var uh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(uh>>>26)|0,uh&=67108863,x=Math.imul(be,Ne),p=Math.imul(be,Te),p=p+Math.imul(Oe,Ne)|0,B=Math.imul(Oe,Te),x=x+Math.imul(ye,ke)|0,p=p+Math.imul(ye,Pt)|0,p=p+Math.imul(Ie,ke)|0,B=B+Math.imul(Ie,Pt)|0,x=x+Math.imul(Je,Dt)|0,p=p+Math.imul(Je,Ut)|0,p=p+Math.imul(Z,Dt)|0,B=B+Math.imul(Z,Ut)|0,x=x+Math.imul(Ae,zt)|0,p=p+Math.imul(Ae,jt)|0,p=p+Math.imul(Se,zt)|0,B=B+Math.imul(Se,jt)|0,x=x+Math.imul(ie,Wt)|0,p=p+Math.imul(ie,Ft)|0,p=p+Math.imul(ae,Wt)|0,B=B+Math.imul(ae,Ft)|0;var ch=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(ch>>>26)|0,ch&=67108863,x=Math.imul(Ue,Ne),p=Math.imul(Ue,Te),p=p+Math.imul(Ce,Ne)|0,B=Math.imul(Ce,Te),x=x+Math.imul(be,ke)|0,p=p+Math.imul(be,Pt)|0,p=p+Math.imul(Oe,ke)|0,B=B+Math.imul(Oe,Pt)|0,x=x+Math.imul(ye,Dt)|0,p=p+Math.imul(ye,Ut)|0,p=p+Math.imul(Ie,Dt)|0,B=B+Math.imul(Ie,Ut)|0,x=x+Math.imul(Je,zt)|0,p=p+Math.imul(Je,jt)|0,p=p+Math.imul(Z,zt)|0,B=B+Math.imul(Z,jt)|0,x=x+Math.imul(Ae,Wt)|0,p=p+Math.imul(Ae,Ft)|0,p=p+Math.imul(Se,Wt)|0,B=B+Math.imul(Se,Ft)|0,x=x+Math.imul(ie,Ht)|0,p=p+Math.imul(ie,Kt)|0,p=p+Math.imul(ae,Ht)|0,B=B+Math.imul(ae,Kt)|0;var dh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(dh>>>26)|0,dh&=67108863,x=Math.imul(We,Ne),p=Math.imul(We,Te),p=p+Math.imul(lt,Ne)|0,B=Math.imul(lt,Te),x=x+Math.imul(Ue,ke)|0,p=p+Math.imul(Ue,Pt)|0,p=p+Math.imul(Ce,ke)|0,B=B+Math.imul(Ce,Pt)|0,x=x+Math.imul(be,Dt)|0,p=p+Math.imul(be,Ut)|0,p=p+Math.imul(Oe,Dt)|0,B=B+Math.imul(Oe,Ut)|0,x=x+Math.imul(ye,zt)|0,p=p+Math.imul(ye,jt)|0,p=p+Math.imul(Ie,zt)|0,B=B+Math.imul(Ie,jt)|0,x=x+Math.imul(Je,Wt)|0,p=p+Math.imul(Je,Ft)|0,p=p+Math.imul(Z,Wt)|0,B=B+Math.imul(Z,Ft)|0,x=x+Math.imul(Ae,Ht)|0,p=p+Math.imul(Ae,Kt)|0,p=p+Math.imul(Se,Ht)|0,B=B+Math.imul(Se,Kt)|0,x=x+Math.imul(ie,$t)|0,p=p+Math.imul(ie,Vt)|0,p=p+Math.imul(ae,$t)|0,B=B+Math.imul(ae,Vt)|0;var fh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(fh>>>26)|0,fh&=67108863,x=Math.imul(Tt,Ne),p=Math.imul(Tt,Te),p=p+Math.imul(T,Ne)|0,B=Math.imul(T,Te),x=x+Math.imul(We,ke)|0,p=p+Math.imul(We,Pt)|0,p=p+Math.imul(lt,ke)|0,B=B+Math.imul(lt,Pt)|0,x=x+Math.imul(Ue,Dt)|0,p=p+Math.imul(Ue,Ut)|0,p=p+Math.imul(Ce,Dt)|0,B=B+Math.imul(Ce,Ut)|0,x=x+Math.imul(be,zt)|0,p=p+Math.imul(be,jt)|0,p=p+Math.imul(Oe,zt)|0,B=B+Math.imul(Oe,jt)|0,x=x+Math.imul(ye,Wt)|0,p=p+Math.imul(ye,Ft)|0,p=p+Math.imul(Ie,Wt)|0,B=B+Math.imul(Ie,Ft)|0,x=x+Math.imul(Je,Ht)|0,p=p+Math.imul(Je,Kt)|0,p=p+Math.imul(Z,Ht)|0,B=B+Math.imul(Z,Kt)|0,x=x+Math.imul(Ae,$t)|0,p=p+Math.imul(Ae,Vt)|0,p=p+Math.imul(Se,$t)|0,B=B+Math.imul(Se,Vt)|0,x=x+Math.imul(ie,Gt)|0,p=p+Math.imul(ie,Yt)|0,p=p+Math.imul(ae,Gt)|0,B=B+Math.imul(ae,Yt)|0;var hh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(hh>>>26)|0,hh&=67108863,x=Math.imul(y,Ne),p=Math.imul(y,Te),p=p+Math.imul(L,Ne)|0,B=Math.imul(L,Te),x=x+Math.imul(Tt,ke)|0,p=p+Math.imul(Tt,Pt)|0,p=p+Math.imul(T,ke)|0,B=B+Math.imul(T,Pt)|0,x=x+Math.imul(We,Dt)|0,p=p+Math.imul(We,Ut)|0,p=p+Math.imul(lt,Dt)|0,B=B+Math.imul(lt,Ut)|0,x=x+Math.imul(Ue,zt)|0,p=p+Math.imul(Ue,jt)|0,p=p+Math.imul(Ce,zt)|0,B=B+Math.imul(Ce,jt)|0,x=x+Math.imul(be,Wt)|0,p=p+Math.imul(be,Ft)|0,p=p+Math.imul(Oe,Wt)|0,B=B+Math.imul(Oe,Ft)|0,x=x+Math.imul(ye,Ht)|0,p=p+Math.imul(ye,Kt)|0,p=p+Math.imul(Ie,Ht)|0,B=B+Math.imul(Ie,Kt)|0,x=x+Math.imul(Je,$t)|0,p=p+Math.imul(Je,Vt)|0,p=p+Math.imul(Z,$t)|0,B=B+Math.imul(Z,Vt)|0,x=x+Math.imul(Ae,Gt)|0,p=p+Math.imul(Ae,Yt)|0,p=p+Math.imul(Se,Gt)|0,B=B+Math.imul(Se,Yt)|0,x=x+Math.imul(ie,qt)|0,p=p+Math.imul(ie,Zt)|0,p=p+Math.imul(ae,qt)|0,B=B+Math.imul(ae,Zt)|0;var ph=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(ph>>>26)|0,ph&=67108863,x=Math.imul(K,Ne),p=Math.imul(K,Te),p=p+Math.imul(q,Ne)|0,B=Math.imul(q,Te),x=x+Math.imul(y,ke)|0,p=p+Math.imul(y,Pt)|0,p=p+Math.imul(L,ke)|0,B=B+Math.imul(L,Pt)|0,x=x+Math.imul(Tt,Dt)|0,p=p+Math.imul(Tt,Ut)|0,p=p+Math.imul(T,Dt)|0,B=B+Math.imul(T,Ut)|0,x=x+Math.imul(We,zt)|0,p=p+Math.imul(We,jt)|0,p=p+Math.imul(lt,zt)|0,B=B+Math.imul(lt,jt)|0,x=x+Math.imul(Ue,Wt)|0,p=p+Math.imul(Ue,Ft)|0,p=p+Math.imul(Ce,Wt)|0,B=B+Math.imul(Ce,Ft)|0,x=x+Math.imul(be,Ht)|0,p=p+Math.imul(be,Kt)|0,p=p+Math.imul(Oe,Ht)|0,B=B+Math.imul(Oe,Kt)|0,x=x+Math.imul(ye,$t)|0,p=p+Math.imul(ye,Vt)|0,p=p+Math.imul(Ie,$t)|0,B=B+Math.imul(Ie,Vt)|0,x=x+Math.imul(Je,Gt)|0,p=p+Math.imul(Je,Yt)|0,p=p+Math.imul(Z,Gt)|0,B=B+Math.imul(Z,Yt)|0,x=x+Math.imul(Ae,qt)|0,p=p+Math.imul(Ae,Zt)|0,p=p+Math.imul(Se,qt)|0,B=B+Math.imul(Se,Zt)|0,x=x+Math.imul(ie,Qt)|0,p=p+Math.imul(ie,Xt)|0,p=p+Math.imul(ae,Qt)|0,B=B+Math.imul(ae,Xt)|0;var gh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(gh>>>26)|0,gh&=67108863,x=Math.imul(K,ke),p=Math.imul(K,Pt),p=p+Math.imul(q,ke)|0,B=Math.imul(q,Pt),x=x+Math.imul(y,Dt)|0,p=p+Math.imul(y,Ut)|0,p=p+Math.imul(L,Dt)|0,B=B+Math.imul(L,Ut)|0,x=x+Math.imul(Tt,zt)|0,p=p+Math.imul(Tt,jt)|0,p=p+Math.imul(T,zt)|0,B=B+Math.imul(T,jt)|0,x=x+Math.imul(We,Wt)|0,p=p+Math.imul(We,Ft)|0,p=p+Math.imul(lt,Wt)|0,B=B+Math.imul(lt,Ft)|0,x=x+Math.imul(Ue,Ht)|0,p=p+Math.imul(Ue,Kt)|0,p=p+Math.imul(Ce,Ht)|0,B=B+Math.imul(Ce,Kt)|0,x=x+Math.imul(be,$t)|0,p=p+Math.imul(be,Vt)|0,p=p+Math.imul(Oe,$t)|0,B=B+Math.imul(Oe,Vt)|0,x=x+Math.imul(ye,Gt)|0,p=p+Math.imul(ye,Yt)|0,p=p+Math.imul(Ie,Gt)|0,B=B+Math.imul(Ie,Yt)|0,x=x+Math.imul(Je,qt)|0,p=p+Math.imul(Je,Zt)|0,p=p+Math.imul(Z,qt)|0,B=B+Math.imul(Z,Zt)|0,x=x+Math.imul(Ae,Qt)|0,p=p+Math.imul(Ae,Xt)|0,p=p+Math.imul(Se,Qt)|0,B=B+Math.imul(Se,Xt)|0;var yh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(yh>>>26)|0,yh&=67108863,x=Math.imul(K,Dt),p=Math.imul(K,Ut),p=p+Math.imul(q,Dt)|0,B=Math.imul(q,Ut),x=x+Math.imul(y,zt)|0,p=p+Math.imul(y,jt)|0,p=p+Math.imul(L,zt)|0,B=B+Math.imul(L,jt)|0,x=x+Math.imul(Tt,Wt)|0,p=p+Math.imul(Tt,Ft)|0,p=p+Math.imul(T,Wt)|0,B=B+Math.imul(T,Ft)|0,x=x+Math.imul(We,Ht)|0,p=p+Math.imul(We,Kt)|0,p=p+Math.imul(lt,Ht)|0,B=B+Math.imul(lt,Kt)|0,x=x+Math.imul(Ue,$t)|0,p=p+Math.imul(Ue,Vt)|0,p=p+Math.imul(Ce,$t)|0,B=B+Math.imul(Ce,Vt)|0,x=x+Math.imul(be,Gt)|0,p=p+Math.imul(be,Yt)|0,p=p+Math.imul(Oe,Gt)|0,B=B+Math.imul(Oe,Yt)|0,x=x+Math.imul(ye,qt)|0,p=p+Math.imul(ye,Zt)|0,p=p+Math.imul(Ie,qt)|0,B=B+Math.imul(Ie,Zt)|0,x=x+Math.imul(Je,Qt)|0,p=p+Math.imul(Je,Xt)|0,p=p+Math.imul(Z,Qt)|0,B=B+Math.imul(Z,Xt)|0;var mh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(mh>>>26)|0,mh&=67108863,x=Math.imul(K,zt),p=Math.imul(K,jt),p=p+Math.imul(q,zt)|0,B=Math.imul(q,jt),x=x+Math.imul(y,Wt)|0,p=p+Math.imul(y,Ft)|0,p=p+Math.imul(L,Wt)|0,B=B+Math.imul(L,Ft)|0,x=x+Math.imul(Tt,Ht)|0,p=p+Math.imul(Tt,Kt)|0,p=p+Math.imul(T,Ht)|0,B=B+Math.imul(T,Kt)|0,x=x+Math.imul(We,$t)|0,p=p+Math.imul(We,Vt)|0,p=p+Math.imul(lt,$t)|0,B=B+Math.imul(lt,Vt)|0,x=x+Math.imul(Ue,Gt)|0,p=p+Math.imul(Ue,Yt)|0,p=p+Math.imul(Ce,Gt)|0,B=B+Math.imul(Ce,Yt)|0,x=x+Math.imul(be,qt)|0,p=p+Math.imul(be,Zt)|0,p=p+Math.imul(Oe,qt)|0,B=B+Math.imul(Oe,Zt)|0,x=x+Math.imul(ye,Qt)|0,p=p+Math.imul(ye,Xt)|0,p=p+Math.imul(Ie,Qt)|0,B=B+Math.imul(Ie,Xt)|0;var wh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(wh>>>26)|0,wh&=67108863,x=Math.imul(K,Wt),p=Math.imul(K,Ft),p=p+Math.imul(q,Wt)|0,B=Math.imul(q,Ft),x=x+Math.imul(y,Ht)|0,p=p+Math.imul(y,Kt)|0,p=p+Math.imul(L,Ht)|0,B=B+Math.imul(L,Kt)|0,x=x+Math.imul(Tt,$t)|0,p=p+Math.imul(Tt,Vt)|0,p=p+Math.imul(T,$t)|0,B=B+Math.imul(T,Vt)|0,x=x+Math.imul(We,Gt)|0,p=p+Math.imul(We,Yt)|0,p=p+Math.imul(lt,Gt)|0,B=B+Math.imul(lt,Yt)|0,x=x+Math.imul(Ue,qt)|0,p=p+Math.imul(Ue,Zt)|0,p=p+Math.imul(Ce,qt)|0,B=B+Math.imul(Ce,Zt)|0,x=x+Math.imul(be,Qt)|0,p=p+Math.imul(be,Xt)|0,p=p+Math.imul(Oe,Qt)|0,B=B+Math.imul(Oe,Xt)|0;var vh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(vh>>>26)|0,vh&=67108863,x=Math.imul(K,Ht),p=Math.imul(K,Kt),p=p+Math.imul(q,Ht)|0,B=Math.imul(q,Kt),x=x+Math.imul(y,$t)|0,p=p+Math.imul(y,Vt)|0,p=p+Math.imul(L,$t)|0,B=B+Math.imul(L,Vt)|0,x=x+Math.imul(Tt,Gt)|0,p=p+Math.imul(Tt,Yt)|0,p=p+Math.imul(T,Gt)|0,B=B+Math.imul(T,Yt)|0,x=x+Math.imul(We,qt)|0,p=p+Math.imul(We,Zt)|0,p=p+Math.imul(lt,qt)|0,B=B+Math.imul(lt,Zt)|0,x=x+Math.imul(Ue,Qt)|0,p=p+Math.imul(Ue,Xt)|0,p=p+Math.imul(Ce,Qt)|0,B=B+Math.imul(Ce,Xt)|0;var _h=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(_h>>>26)|0,_h&=67108863,x=Math.imul(K,$t),p=Math.imul(K,Vt),p=p+Math.imul(q,$t)|0,B=Math.imul(q,Vt),x=x+Math.imul(y,Gt)|0,p=p+Math.imul(y,Yt)|0,p=p+Math.imul(L,Gt)|0,B=B+Math.imul(L,Yt)|0,x=x+Math.imul(Tt,qt)|0,p=p+Math.imul(Tt,Zt)|0,p=p+Math.imul(T,qt)|0,B=B+Math.imul(T,Zt)|0,x=x+Math.imul(We,Qt)|0,p=p+Math.imul(We,Xt)|0,p=p+Math.imul(lt,Qt)|0,B=B+Math.imul(lt,Xt)|0;var Sh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Sh>>>26)|0,Sh&=67108863,x=Math.imul(K,Gt),p=Math.imul(K,Yt),p=p+Math.imul(q,Gt)|0,B=Math.imul(q,Yt),x=x+Math.imul(y,qt)|0,p=p+Math.imul(y,Zt)|0,p=p+Math.imul(L,qt)|0,B=B+Math.imul(L,Zt)|0,x=x+Math.imul(Tt,Qt)|0,p=p+Math.imul(Tt,Xt)|0,p=p+Math.imul(T,Qt)|0,B=B+Math.imul(T,Xt)|0;var Eh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Eh>>>26)|0,Eh&=67108863,x=Math.imul(K,qt),p=Math.imul(K,Zt),p=p+Math.imul(q,qt)|0,B=Math.imul(q,Zt),x=x+Math.imul(y,Qt)|0,p=p+Math.imul(y,Xt)|0,p=p+Math.imul(L,Qt)|0,B=B+Math.imul(L,Xt)|0;var bh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(bh>>>26)|0,bh&=67108863,x=Math.imul(K,Qt),p=Math.imul(K,Xt),p=p+Math.imul(q,Qt)|0,B=Math.imul(q,Xt);var Ah=(P+x|0)+((p&8191)<<13)|0;return P=(B+(p>>>13)|0)+(Ah>>>26)|0,Ah&=67108863,O[0]=sh,O[1]=ah,O[2]=lh,O[3]=uh,O[4]=ch,O[5]=dh,O[6]=fh,O[7]=hh,O[8]=ph,O[9]=gh,O[10]=yh,O[11]=mh,O[12]=wh,O[13]=vh,O[14]=_h,O[15]=Sh,O[16]=Eh,O[17]=bh,O[18]=Ah,P!==0&&(O[19]=P,v.length++),v};Math.imul||(A=E);function S(b,u,d){d.negative=u.negative^b.negative,d.length=b.length+u.length;for(var v=0,k=0,I=0;I<d.length-1;I++){var O=k;k=0;for(var P=v&67108863,x=Math.min(I,u.length-1),p=Math.max(0,I-b.length+1);p<=x;p++){var B=I-p,oe=b.words[B]|0,ie=u.words[p]|0,ae=oe*ie,Re=ae&67108863;O=O+(ae/67108864|0)|0,Re=Re+P|0,P=Re&67108863,O=O+(Re>>>26)|0,k+=O>>>26,O&=67108863}d.words[I]=P,v=O,O=k}return v!==0?d.words[I]=v:d.length--,d._strip()}function M(b,u,d){return S(b,u,d)}o.prototype.mulTo=function(u,d){var v,k=this.length+u.length;return this.length===10&&u.length===10?v=A(this,u,d):k<63?v=E(this,u,d):k<1024?v=S(this,u,d):v=M(this,u,d),v},o.prototype.mul=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},o.prototype.mulf=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),M(this,u,d)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){var d=u<0;d&&(u=-u),r(typeof u=="number"),r(u<67108864);for(var v=0,k=0;k<this.length;k++){var I=(this.words[k]|0)*u,O=(I&67108863)+(v&67108863);v>>=26,v+=I/67108864|0,v+=O>>>26,this.words[k]=O&67108863}return v!==0&&(this.words[k]=v,this.length++),this.length=u===0?1:this.length,d?this.ineg():this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var d=N(u);if(d.length===0)return new o(1);for(var v=this,k=0;k<d.length&&d[k]===0;k++,v=v.sqr());if(++k<d.length)for(var I=v.sqr();k<d.length;k++,I=I.sqr())d[k]!==0&&(v=v.mul(I));return v},o.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,k=67108863>>>26-d<<26-d,I;if(d!==0){var O=0;for(I=0;I<this.length;I++){var P=this.words[I]&k,x=(this.words[I]|0)-P<<d;this.words[I]=x|O,O=P>>>26-d}O&&(this.words[I]=O,this.length++)}if(v!==0){for(I=this.length-1;I>=0;I--)this.words[I+v]=this.words[I];for(I=0;I<v;I++)this.words[I]=0;this.length+=v}return this._strip()},o.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,d,v){r(typeof u=="number"&&u>=0);var k;d?k=(d-d%26)/26:k=0;var I=u%26,O=Math.min((u-I)/26,this.length),P=67108863^67108863>>>I<<I,x=v;if(k-=O,k=Math.max(0,k),x){for(var p=0;p<O;p++)x.words[p]=this.words[p];x.length=O}if(O!==0)if(this.length>O)for(this.length-=O,p=0;p<this.length;p++)this.words[p]=this.words[p+O];else this.words[0]=0,this.length=1;var B=0;for(p=this.length-1;p>=0&&(B!==0||p>=k);p--){var oe=this.words[p]|0;this.words[p]=B<<26-I|oe>>>I,B=oe&P}return x&&B!==0&&(x.words[x.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(u,d,v){return r(this.negative===0),this.iushrn(u,d,v)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,k=1<<d;if(this.length<=v)return!1;var I=this.words[v];return!!(I&k)},o.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var k=67108863^67108863>>>d<<d;this.words[this.length-1]&=k}return this._strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,d,v){var k=u.length+v,I;this._expand(k);var O,P=0;for(I=0;I<u.length;I++){O=(this.words[I+v]|0)+P;var x=(u.words[I]|0)*d;O-=x&67108863,P=(O>>26)-(x/67108864|0),this.words[I+v]=O&67108863}for(;I<this.length-v;I++)O=(this.words[I+v]|0)+P,P=O>>26,this.words[I+v]=O&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,I=0;I<this.length;I++)O=-(this.words[I]|0)+P,P=O>>26,this.words[I]=O&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(u,d){var v=this.length-u.length,k=this.clone(),I=u,O=I.words[I.length-1]|0,P=this._countBits(O);v=26-P,v!==0&&(I=I.ushln(v),k.iushln(v),O=I.words[I.length-1]|0);var x=k.length-I.length,p;if(d!=="mod"){p=new o(null),p.length=x+1,p.words=new Array(p.length);for(var B=0;B<p.length;B++)p.words[B]=0}var oe=k.clone()._ishlnsubmul(I,1,x);oe.negative===0&&(k=oe,p&&(p.words[x]=1));for(var ie=x-1;ie>=0;ie--){var ae=(k.words[I.length+ie]|0)*67108864+(k.words[I.length+ie-1]|0);for(ae=Math.min(ae/O|0,67108863),k._ishlnsubmul(I,ae,ie);k.negative!==0;)ae--,k.negative=0,k._ishlnsubmul(I,1,ie),k.isZero()||(k.negative^=1);p&&(p.words[ie]=ae)}return p&&p._strip(),k._strip(),d!=="div"&&v!==0&&k.iushrn(v),{div:p||null,mod:k}},o.prototype.divmod=function(u,d,v){if(r(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var k,I,O;return this.negative!==0&&u.negative===0?(O=this.neg().divmod(u,d),d!=="mod"&&(k=O.div.neg()),d!=="div"&&(I=O.mod.neg(),v&&I.negative!==0&&I.iadd(u)),{div:k,mod:I}):this.negative===0&&u.negative!==0?(O=this.divmod(u.neg(),d),d!=="mod"&&(k=O.div.neg()),{div:k,mod:O.mod}):this.negative&u.negative?(O=this.neg().divmod(u.neg(),d),d!=="div"&&(I=O.mod.neg(),v&&I.negative!==0&&I.isub(u)),{div:O.div,mod:I}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modrn(u.words[0]))}:this._wordDiv(u,d)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(u):d.mod,k=u.ushrn(1),I=u.andln(1),O=v.cmp(k);return O<0||I===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modrn=function(u){var d=u<0;d&&(u=-u),r(u<=67108863);for(var v=(1<<26)%u,k=0,I=this.length-1;I>=0;I--)k=(v*k+(this.words[I]|0))%u;return d?-k:k},o.prototype.modn=function(u){return this.modrn(u)},o.prototype.idivn=function(u){var d=u<0;d&&(u=-u),r(u<=67108863);for(var v=0,k=this.length-1;k>=0;k--){var I=(this.words[k]|0)+v*67108864;this.words[k]=I/u|0,v=I%u}return this._strip(),d?this.ineg():this},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var k=new o(1),I=new o(0),O=new o(0),P=new o(1),x=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++x;for(var p=v.clone(),B=d.clone();!d.isZero();){for(var oe=0,ie=1;!(d.words[0]&ie)&&oe<26;++oe,ie<<=1);if(oe>0)for(d.iushrn(oe);oe-- >0;)(k.isOdd()||I.isOdd())&&(k.iadd(p),I.isub(B)),k.iushrn(1),I.iushrn(1);for(var ae=0,Re=1;!(v.words[0]&Re)&&ae<26;++ae,Re<<=1);if(ae>0)for(v.iushrn(ae);ae-- >0;)(O.isOdd()||P.isOdd())&&(O.iadd(p),P.isub(B)),O.iushrn(1),P.iushrn(1);d.cmp(v)>=0?(d.isub(v),k.isub(O),I.isub(P)):(v.isub(d),O.isub(k),P.isub(I))}return{a:O,b:P,gcd:v.iushln(x)}},o.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var k=new o(1),I=new o(0),O=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var P=0,x=1;!(d.words[0]&x)&&P<26;++P,x<<=1);if(P>0)for(d.iushrn(P);P-- >0;)k.isOdd()&&k.iadd(O),k.iushrn(1);for(var p=0,B=1;!(v.words[0]&B)&&p<26;++p,B<<=1);if(p>0)for(v.iushrn(p);p-- >0;)I.isOdd()&&I.iadd(O),I.iushrn(1);d.cmp(v)>=0?(d.isub(v),k.isub(I)):(v.isub(d),I.isub(k))}var oe;return d.cmpn(1)===0?oe=k:oe=I,oe.cmpn(0)<0&&oe.iadd(u),oe},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),v=u.clone();d.negative=0,v.negative=0;for(var k=0;d.isEven()&&v.isEven();k++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var I=d.cmp(v);if(I<0){var O=d;d=v,v=O}else if(I===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(k)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){r(typeof u=="number");var d=u%26,v=(u-d)/26,k=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=k,this;for(var I=k,O=v;I!==0&&O<this.length;O++){var P=this.words[O]|0;P+=I,I=P>>>26,P&=67108863,this.words[O]=P}return I!==0&&(this.words[O]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(u=-u),r(u<=67108863,"Number is too big");var k=this.words[0]|0;v=k===u?0:k<u?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var k=this.words[v]|0,I=u.words[v]|0;if(k!==I){k<I?d=-1:k>I&&(d=1);break}}return d},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new Q(u)},o.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var C={k256:null,p224:null,p192:null,p25519:null};function D(b,u){this.name=b,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},D.prototype.ireduce=function(u){var d=u,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var k=v<this.n?-1:d.ucmp(this.p);return k===0?(d.words[0]=0,d.length=1):k>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},D.prototype.split=function(u,d){u.iushrn(this.n,0,d)},D.prototype.imulK=function(u){return u.imul(this.k)};function U(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,D),U.prototype.split=function(u,d){for(var v=4194303,k=Math.min(u.length,9),I=0;I<k;I++)d.words[I]=u.words[I];if(d.length=k,u.length<=9){u.words[0]=0,u.length=1;return}var O=u.words[9];for(d.words[d.length++]=O&v,I=10;I<u.length;I++){var P=u.words[I]|0;u.words[I-10]=(P&v)<<4|O>>>22,O=P}O>>>=22,u.words[I-10]=O,O===0&&u.length>10?u.length-=10:u.length-=9},U.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,v=0;v<u.length;v++){var k=u.words[v]|0;d+=k*977,u.words[v]=d&67108863,d=k*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,D);function j(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(j,D);function H(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,D),H.prototype.imulK=function(u){for(var d=0,v=0;v<u.length;v++){var k=(u.words[v]|0)*19+d,I=k&67108863;k>>>=26,u.words[v]=I,d=k}return d!==0&&(u.words[u.length++]=d),u},o._prime=function(u){if(C[u])return C[u];var d;if(u==="k256")d=new U;else if(u==="p224")d=new z;else if(u==="p192")d=new j;else if(u==="p25519")d=new H;else throw new Error("Unknown prime "+u);return C[u]=d,d};function Q(b){if(typeof b=="string"){var u=o._prime(b);this.m=u.p,this.prime=u}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}Q.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},Q.prototype._verify2=function(u,d){r((u.negative|d.negative)===0,"red works only with positives"),r(u.red&&u.red===d.red,"red works only with red numbers")},Q.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},Q.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Q.prototype.add=function(u,d){this._verify2(u,d);var v=u.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},Q.prototype.iadd=function(u,d){this._verify2(u,d);var v=u.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},Q.prototype.sub=function(u,d){this._verify2(u,d);var v=u.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},Q.prototype.isub=function(u,d){this._verify2(u,d);var v=u.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},Q.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},Q.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},Q.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},Q.prototype.isqr=function(u){return this.imul(u,u.clone())},Q.prototype.sqr=function(u){return this.mul(u,u)},Q.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(u,v)}for(var k=this.m.subn(1),I=0;!k.isZero()&&k.andln(1)===0;)I++,k.iushrn(1);r(!k.isZero());var O=new o(1).toRed(this),P=O.redNeg(),x=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,x).cmp(P)!==0;)p.redIAdd(P);for(var B=this.pow(p,k),oe=this.pow(u,k.addn(1).iushrn(1)),ie=this.pow(u,k),ae=I;ie.cmp(O)!==0;){for(var Re=ie,Ae=0;Re.cmp(O)!==0;Ae++)Re=Re.redSqr();r(Ae<ae);var Se=this.pow(B,new o(1).iushln(ae-Ae-1));oe=oe.redMul(Se),B=Se.redSqr(),ie=ie.redMul(B),ae=Ae}return oe},Q.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Q.prototype.pow=function(u,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var v=4,k=new Array(1<<v);k[0]=new o(1).toRed(this),k[1]=u;for(var I=2;I<k.length;I++)k[I]=this.mul(k[I-1],u);var O=k[0],P=0,x=0,p=d.bitLength()%26;for(p===0&&(p=26),I=d.length-1;I>=0;I--){for(var B=d.words[I],oe=p-1;oe>=0;oe--){var ie=B>>oe&1;if(O!==k[0]&&(O=this.sqr(O)),ie===0&&P===0){x=0;continue}P<<=1,P|=ie,x++,!(x!==v&&(I!==0||oe!==0))&&(O=this.mul(O,k[P]),x=0,P=0)}p=26}return O},Q.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},Q.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},o.mont=function(u){return new V(u)};function V(b){Q.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,Q),V.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},V.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},V.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(d),k=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(k).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},V.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new o(0)._forceRed(this);var v=u.mul(d),k=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(k).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},V.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,Bt)})(Ly);var By=Ly.exports;const ar=Ts(By),zs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Iu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function du(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function zi(t,...e){if(!Iu(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function PS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");du(t.outputLen),du(t.blockLen)}function Da(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function DS(t,e){zi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pR(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ro(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Xh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Yr(t,e){return t<<32-e|t>>>e}const gR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yR(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function mR(t){for(let e=0;e<t.length;e++)t[e]=yR(t[e]);return t}const i1=gR?t=>t:mR,US=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wR=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ws(t){if(zi(t),US)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=wR[t[n]];return e}const gi={_0:48,_9:57,A:65,F:70,a:97,f:102};function o1(t){if(t>=gi._0&&t<=gi._9)return t-gi._0;if(t>=gi.A&&t<=gi.F)return t-(gi.A-10);if(t>=gi.a&&t<=gi.f)return t-(gi.a-10)}function Ud(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(US)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=o1(t.charCodeAt(o)),a=o1(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function vR(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function If(t){return typeof t=="string"&&(t=vR(t)),zi(t),t}function Jr(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];zi(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class Py{}function Dy(t){const e=r=>t().update(If(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Uy(t=32){if(zs&&typeof zs.getRandomValues=="function")return zs.getRandomValues(new Uint8Array(t));if(zs&&typeof zs.randomBytes=="function")return Uint8Array.from(zs.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function _R(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function SR(t,e,n){return t&e^~t&n}function ER(t,e,n){return t&e^t&n^e&n}class zS extends Py{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Xh(this.buffer)}update(e){Da(this),e=If(e),zi(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Xh(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Da(this),DS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Ro(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let g=s;g<i;g++)n[g]=0;_R(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Xh(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,f[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ki=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ic=BigInt(2**32-1),s1=BigInt(32);function bR(t,e=!1){return e?{h:Number(t&ic),l:Number(t>>s1&ic)}:{h:Number(t>>s1&ic)|0,l:Number(t&ic)|0}}function jS(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=bR(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const a1=(t,e,n)=>t>>>n,l1=(t,e,n)=>t<<32-n|e>>>n,js=(t,e,n)=>t>>>n|e<<32-n,Ws=(t,e,n)=>t<<32-n|e>>>n,oc=(t,e,n)=>t<<64-n|e>>>n-32,sc=(t,e,n)=>t>>>n-32|e<<64-n,AR=(t,e,n)=>t<<n|e>>>32-n,IR=(t,e,n)=>e<<n|t>>>32-n,kR=(t,e,n)=>e<<n-32|t>>>64-n,RR=(t,e,n)=>t<<n-32|e>>>64-n;function yi(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const TR=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),MR=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,NR=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),xR=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,OR=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),CR=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,LR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$i=new Uint32Array(64);class BR extends zS{constructor(e=32){super(64,e,8,!1),this.A=Ki[0]|0,this.B=Ki[1]|0,this.C=Ki[2]|0,this.D=Ki[3]|0,this.E=Ki[4]|0,this.F=Ki[5]|0,this.G=Ki[6]|0,this.H=Ki[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)$i[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const w=$i[g-15],m=$i[g-2],_=Yr(w,7)^Yr(w,18)^w>>>3,R=Yr(m,17)^Yr(m,19)^m>>>10;$i[g]=R+$i[g-7]+_+$i[g-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:f}=this;for(let g=0;g<64;g++){const w=Yr(a,6)^Yr(a,11)^Yr(a,25),m=f+w+SR(a,l,c)+LR[g]+$i[g]|0,R=(Yr(r,2)^Yr(r,13)^Yr(r,22))+ER(r,i,o)|0;f=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+R|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(r,i,o,s,a,l,c,f)}roundClean(){Ro($i)}destroy(){this.set(0,0,0,0,0,0,0,0),Ro(this.buffer)}}const WS=jS(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),PR=WS[0],DR=WS[1],Vi=new Uint32Array(80),Gi=new Uint32Array(80);class UR extends zS{constructor(e=64){super(128,e,16,!1),this.Ah=Rn[0]|0,this.Al=Rn[1]|0,this.Bh=Rn[2]|0,this.Bl=Rn[3]|0,this.Ch=Rn[4]|0,this.Cl=Rn[5]|0,this.Dh=Rn[6]|0,this.Dl=Rn[7]|0,this.Eh=Rn[8]|0,this.El=Rn[9]|0,this.Fh=Rn[10]|0,this.Fl=Rn[11]|0,this.Gh=Rn[12]|0,this.Gl=Rn[13]|0,this.Hh=Rn[14]|0,this.Hl=Rn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:f,Fh:g,Fl:w,Gh:m,Gl:_,Hh:R,Hl:N}=this;return[e,n,r,i,o,s,a,l,c,f,g,w,m,_,R,N]}set(e,n,r,i,o,s,a,l,c,f,g,w,m,_,R,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=f|0,this.Fh=g|0,this.Fl=w|0,this.Gh=m|0,this.Gl=_|0,this.Hh=R|0,this.Hl=N|0}process(e,n){for(let S=0;S<16;S++,n+=4)Vi[S]=e.getUint32(n),Gi[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const M=Vi[S-15]|0,C=Gi[S-15]|0,D=js(M,C,1)^js(M,C,8)^a1(M,C,7),U=Ws(M,C,1)^Ws(M,C,8)^l1(M,C,7),z=Vi[S-2]|0,j=Gi[S-2]|0,H=js(z,j,19)^oc(z,j,61)^a1(z,j,6),Q=Ws(z,j,19)^sc(z,j,61)^l1(z,j,6),V=NR(U,Q,Gi[S-7],Gi[S-16]),b=xR(V,D,H,Vi[S-7],Vi[S-16]);Vi[S]=b|0,Gi[S]=V|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:f,Eh:g,El:w,Fh:m,Fl:_,Gh:R,Gl:N,Hh:E,Hl:A}=this;for(let S=0;S<80;S++){const M=js(g,w,14)^js(g,w,18)^oc(g,w,41),C=Ws(g,w,14)^Ws(g,w,18)^sc(g,w,41),D=g&m^~g&R,U=w&_^~w&N,z=OR(A,C,U,DR[S],Gi[S]),j=CR(z,E,M,D,PR[S],Vi[S]),H=z|0,Q=js(r,i,28)^oc(r,i,34)^oc(r,i,39),V=Ws(r,i,28)^sc(r,i,34)^sc(r,i,39),b=r&o^r&a^o&a,u=i&s^i&l^s&l;E=R|0,A=N|0,R=m|0,N=_|0,m=g|0,_=w|0,{h:g,l:w}=yi(c|0,f|0,j|0,H|0),c=a|0,f=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const d=TR(H,V,u);r=MR(d,j,Q,b),i=d|0}({h:r,l:i}=yi(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=yi(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=yi(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:f}=yi(this.Dh|0,this.Dl|0,c|0,f|0),{h:g,l:w}=yi(this.Eh|0,this.El|0,g|0,w|0),{h:m,l:_}=yi(this.Fh|0,this.Fl|0,m|0,_|0),{h:R,l:N}=yi(this.Gh|0,this.Gl|0,R|0,N|0),{h:E,l:A}=yi(this.Hh|0,this.Hl|0,E|0,A|0),this.set(r,i,o,s,a,l,c,f,g,w,m,_,R,N,E,A)}roundClean(){Ro(Vi,Gi)}destroy(){Ro(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const FS=Dy(()=>new BR),zR=Dy(()=>new UR);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zy=BigInt(0),R0=BigInt(1);function As(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Ur(t,e,n=""){const r=Iu(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function ac(t){const e=t.toString(16);return e.length&1?"0"+e:e}function HS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?zy:BigInt("0x"+t)}function kf(t){return HS(ws(t))}function fu(t){return zi(t),HS(ws(Uint8Array.from(t).reverse()))}function jy(t,e){return Ud(t.toString(16).padStart(e*2,"0"))}function KS(t,e){return jy(t,e).reverse()}function Nt(t,e,n){let r;if(typeof e=="string")try{r=Ud(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Iu(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function u1(t){return Uint8Array.from(t)}const Jh=t=>typeof t=="bigint"&&zy<=t;function jR(t,e,n){return Jh(t)&&Jh(e)&&Jh(n)&&e<=t&&t<n}function T0(t,e,n,r){if(!jR(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function $S(t){let e;for(e=0;t>zy;t>>=R0,e+=1);return e}const ku=t=>(R0<<BigInt(t))-R0;function WR(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...m)=>n(s,o,...m),f=(m=r(0))=>{s=c(i(0),m),o=c(),m.length!==0&&(s=c(i(1),m),o=c())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const _=[];for(;m<e;){o=c();const R=o.slice();_.push(R),m+=o.length}return Jr(..._)};return(m,_)=>{l(),f(m);let R;for(;!(R=_(g()));)f();return l(),R}}function Ru(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function zd(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xn=BigInt(0),En=BigInt(1),os=BigInt(2),VS=BigInt(3),GS=BigInt(4),YS=BigInt(5),FR=BigInt(7),qS=BigInt(8),HR=BigInt(9),ZS=BigInt(16);function en(t,e){const n=t%e;return n>=Xn?n:e+n}function Mt(t,e,n){let r=t;for(;e-- >Xn;)r*=r,r%=n;return r}function c1(t,e){if(t===Xn)throw new Error("invert: expected non-zero number");if(e<=Xn)throw new Error("invert: expected positive modulus, got "+e);let n=en(t,e),r=e,i=Xn,o=En;for(;n!==Xn;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==En)throw new Error("invert: does not exist");return en(i,e)}function Wy(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function QS(t,e){const n=(t.ORDER+En)/GS,r=t.pow(e,n);return Wy(t,r,e),r}function KR(t,e){const n=(t.ORDER-YS)/qS,r=t.mul(e,os),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,os),i),a=t.mul(o,t.sub(s,t.ONE));return Wy(t,a,e),a}function $R(t){const e=xs(t),n=XS(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+FR)/ZS;return(a,l)=>{let c=a.pow(l,s),f=a.mul(c,r);const g=a.mul(c,i),w=a.mul(c,o),m=a.eql(a.sqr(f),l),_=a.eql(a.sqr(g),l);c=a.cmov(c,f,m),f=a.cmov(w,g,_);const R=a.eql(a.sqr(f),l),N=a.cmov(c,f,R);return Wy(a,N,l),N}}function XS(t){if(t<VS)throw new Error("sqrt is not defined for small field");let e=t-En,n=0;for(;e%os===Xn;)e/=os,n++;let r=os;const i=xs(t);for(;d1(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return QS;let o=i.pow(r,e);const s=(e+En)/os;return function(l,c){if(l.is0(c))return c;if(d1(l,c)!==1)throw new Error("Cannot find square root");let f=n,g=l.mul(l.ONE,o),w=l.pow(c,e),m=l.pow(c,s);for(;!l.eql(w,l.ONE);){if(l.is0(w))return l.ZERO;let _=1,R=l.sqr(w);for(;!l.eql(R,l.ONE);)if(_++,R=l.sqr(R),_===f)throw new Error("Cannot find square root");const N=En<<BigInt(f-_-1),E=l.pow(g,N);f=_,g=l.sqr(E),w=l.mul(w,g),m=l.mul(m,E)}return m}}function VR(t){return t%GS===VS?QS:t%qS===YS?KR:t%ZS===HR?$R(t):XS(t)}const GR=(t,e)=>(en(t,e)&En)===En,YR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qR(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=YR.reduce((r,i)=>(r[i]="function",r),e);return Ru(t,n),t}function ZR(t,e,n){if(n<Xn)throw new Error("invalid exponent, negatives unsupported");if(n===Xn)return t.ONE;if(n===En)return e;let r=t.ONE,i=e;for(;n>Xn;)n&En&&(r=t.mul(r,i)),i=t.sqr(i),n>>=En;return r}function JS(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function d1(t,e){const n=(t.ORDER-En)/os,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function eE(t,e){e!==void 0&&du(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function xs(t,e,n=!1,r={}){if(t<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const w=e;w.BITS&&(i=w.BITS),w.sqrt&&(o=w.sqrt),typeof w.isLE=="boolean"&&(n=w.isLE),typeof w.modFromBytes=="boolean"&&(s=w.modFromBytes),a=w.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=eE(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:ku(l),ZERO:Xn,ONE:En,allowedLengths:a,create:w=>en(w,t),isValid:w=>{if(typeof w!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof w);return Xn<=w&&w<t},is0:w=>w===Xn,isValidNot0:w=>!g.is0(w)&&g.isValid(w),isOdd:w=>(w&En)===En,neg:w=>en(-w,t),eql:(w,m)=>w===m,sqr:w=>en(w*w,t),add:(w,m)=>en(w+m,t),sub:(w,m)=>en(w-m,t),mul:(w,m)=>en(w*m,t),pow:(w,m)=>ZR(g,w,m),div:(w,m)=>en(w*c1(m,t),t),sqrN:w=>w*w,addN:(w,m)=>w+m,subN:(w,m)=>w-m,mulN:(w,m)=>w*m,inv:w=>c1(w,t),sqrt:o||(w=>(f||(f=VR(t)),f(g,w))),toBytes:w=>n?KS(w,c):jy(w,c),fromBytes:(w,m=!0)=>{if(a){if(!a.includes(w.length)||w.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+w.length);const R=new Uint8Array(c);R.set(w,n?0:R.length-w.length),w=R}if(w.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+w.length);let _=n?fu(w):kf(w);if(s&&(_=en(_,t)),!m&&!g.isValid(_))throw new Error("invalid field element: outside of range 0..ORDER");return _},invertBatch:w=>JS(g,w),cmov:(w,m,_)=>_?m:w});return Object.freeze(g)}function tE(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function nE(t){const e=tE(t);return e+Math.ceil(e/2)}function QR(t,e,n=!1){const r=t.length,i=tE(e),o=nE(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?fu(t):kf(t),a=en(s,e-En)+En;return n?KS(a,i):jy(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ua=BigInt(0),ss=BigInt(1);function jd(t,e){const n=e.negate();return t?n:e}function as(t,e){const n=JS(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function rE(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ep(t,e){rE(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=ku(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function f1(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=ss);const c=e*r,f=c+Math.abs(a)-1,g=a===0,w=a<0,m=e%2!==0;return{nextN:l,offset:f,isZero:g,isNeg:w,isNegF:m,offsetF:c}}function XR(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function JR(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const tp=new WeakMap,iE=new WeakMap;function np(t){return iE.get(t)||1}function h1(t){if(t!==Ua)throw new Error("invalid wNAF")}class oE{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Ua;)n&ss&&(r=r.add(i)),i=i.double(),n>>=ss;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=ep(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=ep(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:f,isNeg:g,isNegF:w,offsetF:m}=f1(r,a,s);r=l,f?o=o.add(jd(w,n[m])):i=i.add(jd(g,n[c]))}return h1(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=ep(e,this.bits);for(let s=0;s<o.windows&&r!==Ua;s++){const{nextN:a,offset:l,isZero:c,isNeg:f}=f1(r,s,o);if(r=a,!c){const g=n[l];i=i.add(f?g.negate():g)}}return h1(r),i}getPrecomputes(e,n,r){let i=tp.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),tp.set(n,i))),i}cached(e,n,r){const i=np(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=np(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){rE(n,this.bits),iE.set(e,n),tp.delete(e)}hasCache(e){return np(e)!==1}}function eT(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>Ua||r>Ua;)n&ss&&(o=o.add(i)),r&ss&&(s=s.add(i)),i=i.double(),n>>=ss,r>>=ss;return{p1:o,p2:s}}function sE(t,e,n,r){XR(n,t),JR(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=$S(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=ku(l),f=new Array(Number(c)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let w=s;for(let m=g;m>=0;m-=l){f.fill(s);for(let R=0;R<o;R++){const N=r[R],E=Number(N>>BigInt(m)&c);f[E]=f[E].add(n[R])}let _=s;for(let R=f.length-1,N=s;R>0;R--)N=N.add(f[R]),_=_.add(N);if(w=w.add(_),m!==0)for(let R=0;R<l;R++)w=w.double()}return w}function p1(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return qR(e),e}else return xs(t,{isLE:n})}function aE(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Ua))throw new Error(`CURVE.${l} must be positive bigint`)}const i=p1(e.p,n.Fp,r),o=p1(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yi=BigInt(0),dn=BigInt(1),rp=BigInt(2),tT=BigInt(8);function nT(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function rT(t,e={}){const n=aE("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;Ru(e,{},{uvRatio:"function"});const a=rp<<BigInt(i.BYTES*8)-dn,l=N=>r.create(N),c=e.uvRatio||((N,E)=>{try{return{isValid:!0,value:r.sqrt(r.div(N,E))}}catch{return{isValid:!1,value:Yi}}});if(!nT(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function f(N,E,A=!1){const S=A?dn:Yi;return T0("coordinate "+N,E,S,a),E}function g(N){if(!(N instanceof _))throw new Error("ExtendedPoint expected")}const w=zd((N,E)=>{const{X:A,Y:S,Z:M}=N,C=N.is0();E==null&&(E=C?tT:r.inv(M));const D=l(A*E),U=l(S*E),z=r.mul(M,E);if(C)return{x:Yi,y:dn};if(z!==dn)throw new Error("invZ was invalid");return{x:D,y:U}}),m=zd(N=>{const{a:E,d:A}=o;if(N.is0())throw new Error("bad point: ZERO");const{X:S,Y:M,Z:C,T:D}=N,U=l(S*S),z=l(M*M),j=l(C*C),H=l(j*j),Q=l(U*E),V=l(j*l(Q+z)),b=l(H+l(A*l(U*z)));if(V!==b)throw new Error("bad point: equation left != right (1)");const u=l(S*M),d=l(C*D);if(u!==d)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(E,A,S,M){this.X=f("x",E),this.Y=f("y",A),this.Z=f("z",S,!0),this.T=f("t",M),Object.freeze(this)}static CURVE(){return o}static fromAffine(E){if(E instanceof _)throw new Error("extended point not allowed");const{x:A,y:S}=E||{};return f("x",A),f("y",S),new _(A,S,dn,l(A*S))}static fromBytes(E,A=!1){const S=r.BYTES,{a:M,d:C}=o;E=u1(Ur(E,S,"point")),As(A,"zip215");const D=u1(E),U=E[S-1];D[S-1]=U&-129;const z=fu(D),j=A?a:r.ORDER;T0("point.y",z,Yi,j);const H=l(z*z),Q=l(H-dn),V=l(C*H-M);let{isValid:b,value:u}=c(Q,V);if(!b)throw new Error("bad point: invalid y coordinate");const d=(u&dn)===dn,v=(U&128)!==0;if(!A&&u===Yi&&v)throw new Error("bad point: x=0 and x_0=1");return v!==d&&(u=l(-u)),_.fromAffine({x:u,y:z})}static fromHex(E,A=!1){return _.fromBytes(Nt("point",E),A)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,A=!0){return R.createCache(this,E),A||this.multiply(rp),this}assertValidity(){m(this)}equals(E){g(E);const{X:A,Y:S,Z:M}=this,{X:C,Y:D,Z:U}=E,z=l(A*U),j=l(C*M),H=l(S*U),Q=l(D*M);return z===j&&H===Q}is0(){return this.equals(_.ZERO)}negate(){return new _(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:E}=o,{X:A,Y:S,Z:M}=this,C=l(A*A),D=l(S*S),U=l(rp*l(M*M)),z=l(E*C),j=A+S,H=l(l(j*j)-C-D),Q=z+D,V=Q-U,b=z-D,u=l(H*V),d=l(Q*b),v=l(H*b),k=l(V*Q);return new _(u,d,k,v)}add(E){g(E);const{a:A,d:S}=o,{X:M,Y:C,Z:D,T:U}=this,{X:z,Y:j,Z:H,T:Q}=E,V=l(M*z),b=l(C*j),u=l(U*S*Q),d=l(D*H),v=l((M+C)*(z+j)-V-b),k=d-u,I=d+u,O=l(b-A*V),P=l(v*k),x=l(I*O),p=l(v*O),B=l(k*I);return new _(P,x,B,p)}subtract(E){return this.add(E.negate())}multiply(E){if(!i.isValidNot0(E))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:A,f:S}=R.cached(this,E,M=>as(_,M));return as(_,[A,S])[0]}multiplyUnsafe(E,A=_.ZERO){if(!i.isValid(E))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return E===Yi?_.ZERO:this.is0()||E===dn?this:R.unsafe(this,E,S=>as(_,S),A)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return R.unsafe(this,o.n).is0()}toAffine(E){return w(this,E)}clearCofactor(){return s===dn?this:this.multiplyUnsafe(s)}toBytes(){const{x:E,y:A}=this.toAffine(),S=r.toBytes(A);return S[S.length-1]|=E&dn?128:0,S}toHex(){return ws(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(E){return as(_,E)}static msm(E,A){return sE(_,i,E,A)}_setWindowSize(E){this.precompute(E)}toRawBytes(){return this.toBytes()}}_.BASE=new _(o.Gx,o.Gy,dn,l(o.Gx*o.Gy)),_.ZERO=new _(Yi,dn,dn,Yi),_.Fp=r,_.Fn=i;const R=new oE(_,i.BITS);return _.BASE.precompute(8),_}function iT(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Ru(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||Uy,l=n.adjustScalarBytes||(j=>j),c=n.domain||((j,H,Q)=>{if(As(Q,"phflag"),H.length||Q)throw new Error("Contexts/pre-hash are not supported");return j});function f(j){return s.create(fu(j))}function g(j){const H=S.secretKey;j=Nt("private key",j,H);const Q=Nt("hashed private key",e(j),2*H),V=l(Q.slice(0,H)),b=Q.slice(H,2*H),u=f(V);return{head:V,prefix:b,scalar:u}}function w(j){const{head:H,prefix:Q,scalar:V}=g(j),b=i.multiply(V),u=b.toBytes();return{head:H,prefix:Q,scalar:V,point:b,pointBytes:u}}function m(j){return w(j).pointBytes}function _(j=Uint8Array.of(),...H){const Q=Jr(...H);return f(e(c(Q,Nt("context",j),!!r)))}function R(j,H,Q={}){j=Nt("message",j),r&&(j=r(j));const{prefix:V,scalar:b,pointBytes:u}=w(H),d=_(Q.context,V,j),v=i.multiply(d).toBytes(),k=_(Q.context,v,u,j),I=s.create(d+k*b);if(!s.isValid(I))throw new Error("sign failed: invalid s");const O=Jr(v,s.toBytes(I));return Ur(O,S.signature,"result")}const N={zip215:!0};function E(j,H,Q,V=N){const{context:b,zip215:u}=V,d=S.signature;j=Nt("signature",j,d),H=Nt("message",H),Q=Nt("publicKey",Q,S.publicKey),u!==void 0&&As(u,"zip215"),r&&(H=r(H));const v=d/2,k=j.subarray(0,v),I=fu(j.subarray(v,d));let O,P,x;try{O=t.fromBytes(Q,u),P=t.fromBytes(k,u),x=i.multiplyUnsafe(I)}catch{return!1}if(!u&&O.isSmallOrder())return!1;const p=_(b,P.toBytes(),O.toBytes(),H);return P.add(O.multiplyUnsafe(p)).subtract(x).clearCofactor().is0()}const A=o.BYTES,S={secretKey:A,publicKey:A,signature:2*A,seed:A};function M(j=a(S.seed)){return Ur(j,S.seed,"seed")}function C(j){const H=z.randomSecretKey(j);return{secretKey:H,publicKey:m(H)}}function D(j){return Iu(j)&&j.length===s.BYTES}function U(j,H){try{return!!t.fromBytes(j,H)}catch{return!1}}const z={getExtendedPublicKey:w,randomSecretKey:M,isValidSecretKey:D,isValidPublicKey:U,toMontgomery(j){const{y:H}=t.fromBytes(j),Q=S.publicKey,V=Q===32;if(!V&&Q!==57)throw new Error("only defined for 25519 and 448");const b=V?o.div(dn+H,dn-H):o.div(H-dn,H+dn);return o.toBytes(b)},toMontgomerySecret(j){const H=S.secretKey;Ur(j,H);const Q=e(j.subarray(0,H));return l(Q).subarray(0,H)},randomPrivateKey:M,precompute(j=8,H=t.BASE){return H.precompute(j,!1)}};return Object.freeze({keygen:C,getPublicKey:m,sign:R,verify:E,utils:z,Point:t,lengths:S})}function oT(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=xs(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function sT(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function aT(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=oT(t),o=rT(e,n),s=iT(o,r,i);return sT(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lT=BigInt(1),g1=BigInt(2);BigInt(3);const uT=BigInt(5),cT=BigInt(8),Fy=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),lE={p:Fy,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:cT,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function dT(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Fy,a=t*t%o*t%o,l=Mt(a,g1,o)*a%o,c=Mt(l,lT,o)*t%o,f=Mt(c,uT,o)*c%o,g=Mt(f,e,o)*f%o,w=Mt(g,n,o)*g%o,m=Mt(w,r,o)*w%o,_=Mt(m,i,o)*m%o,R=Mt(_,i,o)*m%o,N=Mt(R,e,o)*f%o;return{pow_p_5_8:Mt(N,g1,o)*t%o,b2:a}}function fT(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const y1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function hT(t,e){const n=Fy,r=en(e*e*e,n),i=en(r*r*e,n),o=dT(t*i).pow_p_5_8;let s=en(t*r*o,n);const a=en(e*s*s,n),l=s,c=en(s*y1,n),f=a===t,g=a===en(-t,n),w=a===en(-t*y1,n);return f&&(s=l),(g||w)&&(s=c),GR(s,n)&&(s=en(-s,n)),{isValid:f||g,value:s}}const pT=xs(lE.p,{isLE:!0}),gT={...lE,Fp:pT,hash:zR,adjustScalarBytes:fT,uvRatio:hT},Qa=aT(gT);var M0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=de,r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(M0,M0.exports);var yT=M0.exports,lc=yT.Buffer;function mT(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=lc.from(m)),!lc.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var _=0,R=0,N=0,E=m.length;N!==E&&m[N]===0;)N++,_++;for(var A=(E-N)*c+1>>>0,S=new Uint8Array(A);N!==E;){for(var M=m[N],C=0,D=A-1;(M!==0||C<R)&&D!==-1;D--,C++)M+=256*S[D]>>>0,S[D]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");R=C,N++}for(var U=A-R;U!==A&&S[U]===0;)U++;for(var z=a.repeat(_);U<A;++U)z+=t.charAt(S[U]);return z}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return lc.alloc(0);for(var _=0,R=0,N=0;m[_]===a;)R++,_++;for(var E=(m.length-_)*l+1>>>0,A=new Uint8Array(E);_<m.length;){var S=m.charCodeAt(_);if(S>255)return;var M=e[S];if(M===255)return;for(var C=0,D=E-1;(M!==0||C<N)&&D!==-1;D--,C++)M+=s*A[D]>>>0,A[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");N=C,_++}for(var U=E-N;U!==E&&A[U]===0;)U++;var z=lc.allocUnsafe(R+(E-U));z.fill(0,0,R);for(var j=R;U!==E;)z[j++]=A[U++];return z}function w(m){var _=g(m);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var wT=mT,vT=wT,_T="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",uE=vT(_T);const Ot=Ts(uE),Wd=FS;var vn={};function Ii(t,e,n){return e<=t&&t<=n}function Rf(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function ST(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function ET(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Fd=-1;function Hy(t){this.tokens=[].slice.call(t)}Hy.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Fd},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var za=-1;function ip(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Hd="utf-8";function Kd(t,e){if(!(this instanceof Kd))return new Kd(t,e);if(t=t!==void 0?String(t).toLowerCase():Hd,t!==Hd)throw new Error("Encoding not supported. Only utf-8 is supported");e=Rf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Kd.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Rf(n),this._streaming||(this._decoder=new bT({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Hy(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==za);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===za)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),ET(o)}};function $d(t,e){if(!(this instanceof $d))return new $d(t,e);if(t=t!==void 0?String(t).toLowerCase():Hd,t!==Hd)throw new Error("Encoding not supported. Only utf-8 is supported");e=Rf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}$d.prototype={encode:function(e,n){e=e?String(e):"",n=Rf(n),this._streaming||(this._encoder=new AT(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Hy(ST(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==za);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==za;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function bT(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===Fd&&i!==0)return i=0,ip(e);if(l===Fd)return za;if(i===0){if(Ii(l,0,127))return l;if(Ii(l,194,223))i=1,n=l-192;else if(Ii(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(Ii(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return ip(e);return n=n<<6*i,null}if(!Ii(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),ip(e);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function AT(t){t.fatal,this.handler=function(e,n){if(n===Fd)return za;if(Ii(n,0,127))return n;var r,i;Ii(n,128,2047)?(r=1,i=192):Ii(n,2048,65535)?(r=2,i=224):Ii(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const IT=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Kd,TextEncoder:$d},Symbol.toStringTag,{value:"Module"})),kT=Ga(IT);var RT=Bt&&Bt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),TT=Bt&&Bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ui=Bt&&Bt.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},MT=Bt&&Bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&RT(e,t,n);return TT(e,t),e},cE=Bt&&Bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vn,"__esModule",{value:!0});var dE=vn.deserializeUnchecked=mE=vn.deserialize=yE=vn.serialize=vn.BinaryReader=vn.BinaryWriter=vn.BorshError=vn.baseDecode=vn.baseEncode=void 0;const lo=cE(By),fE=cE(uE),NT=MT(kT),xT=typeof TextDecoder!="function"?NT.TextDecoder:TextDecoder,OT=new xT("utf-8",{fatal:!0});function CT(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),fE.default.encode(Buffer.from(t))}vn.baseEncode=CT;function LT(t){return Buffer.from(fE.default.decode(t))}vn.baseDecode=LT;const op=1024;class jn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}vn.BorshError=jn;class hE{constructor(){this.buf=Buffer.alloc(op),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(op)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lo.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lo.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lo.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new lo.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(op)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}vn.BinaryWriter=hE;function ci(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new jn("Reached the end of buffer when deserializing")}throw o}}}class vr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new lo.default(e,"le")}readU128(){const e=this.readBuffer(16);return new lo.default(e,"le")}readU256(){const e=this.readBuffer(32);return new lo.default(e,"le")}readU512(){const e=this.readBuffer(64);return new lo.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new jn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return OT.decode(n)}catch(r){throw new jn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}ui([ci],vr.prototype,"readU8",null);ui([ci],vr.prototype,"readU16",null);ui([ci],vr.prototype,"readU32",null);ui([ci],vr.prototype,"readU64",null);ui([ci],vr.prototype,"readU128",null);ui([ci],vr.prototype,"readU256",null);ui([ci],vr.prototype,"readU512",null);ui([ci],vr.prototype,"readString",null);ui([ci],vr.prototype,"readFixedArray",null);ui([ci],vr.prototype,"readArray",null);vn.BinaryReader=vr;function pE(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Xo(t,e,n,r,i){try{if(typeof r=="string")i[`write${pE(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new jn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new jn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)Xo(t,null,n[o],r[0],i)}else i.writeArray(n,o=>{Xo(t,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Xo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{Xo(t,e,s,r.key,i),Xo(t,e,o,r.value,i)});break}default:throw new jn(`FieldType ${r} unrecognized`)}else gE(t,n,i)}catch(o){throw o instanceof jn&&o.addToFieldPath(e),o}}function gE(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new jn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{Xo(t,i,e[i],o,n)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),Xo(t,s,e[s],a,n);break}}}else throw new jn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function BT(t,e,n=hE){const r=new n;return gE(t,e,r),r.toArray()}var yE=vn.serialize=BT;function Jo(t,e,n,r){try{if(typeof n=="string")return r[`read${pE(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(Jo(t,null,n[0],r));return i}else return r.readArray(()=>Jo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Jo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=Jo(t,e,n.key,r),l=Jo(t,e,n.value,r);i.set(a,l)}return i}return Ky(t,n,r)}catch(i){throw i instanceof jn&&i.addToFieldPath(e),i}}function Ky(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new jn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of t.get(e).fields)i[o]=Jo(t,o,s,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new jn(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=Jo(t,o,s,n);return new e({[o]:a})}throw new jn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function PT(t,e,n,r=vr){const i=new r(n),o=Ky(t,e,i);if(i.offset<n.length)throw new jn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var mE=vn.deserialize=PT;function DT(t,e,n,r=vr){const i=new r(n);return Ky(t,e,i)}dE=vn.deserializeUnchecked=DT;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.s16=Y.s8=Y.nu64be=Y.u48be=Y.u40be=Y.u32be=Y.u24be=Y.u16be=yn=Y.nu64=Y.u48=Y.u40=pe=Y.u32=Y.u24=br=Y.u16=Ge=Y.u8=Eo=Y.offset=Y.greedy=Y.Constant=Y.UTF8=Y.CString=Y.Blob=Y.Boolean=Y.BitField=Y.BitStructure=Y.VariantLayout=Y.Union=Y.UnionLayoutDiscriminator=Y.UnionDiscriminator=Y.Structure=Y.Sequence=Y.DoubleBE=Y.Double=Y.FloatBE=Y.Float=Y.NearInt64BE=Y.NearInt64=Y.NearUInt64BE=Y.NearUInt64=Y.IntBE=Y.Int=Y.UIntBE=Y.UInt=Y.OffsetLayout=Y.GreedyCount=Y.ExternalLayout=Y.bindConstructorLayout=Y.nameWithProperty=Y.Layout=Y.uint8ArrayToBuffer=Y.checkUint8Array=void 0;Y.constant=Y.utf8=Y.cstr=yt=Y.blob=Y.unionLayoutDiscriminator=Y.union=_n=Y.seq=Y.bits=ge=Y.struct=Y.f64be=Y.f64=Y.f32be=Y.f32=Y.ns64be=Y.s48be=Y.s40be=Y.s32be=Y.s24be=Y.s16be=cr=Y.ns64=Y.s48=Y.s40=Y.s32=Y.s24=void 0;const $y=de;function Xa(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Y.checkUint8Array=Xa;function Qe(t){return Xa(t),$y.Buffer.from(t.buffer,t.byteOffset,t.length)}Y.uint8ArrayToBuffer=Qe;let ot=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};Y.Layout=ot;function Vy(t,e){return e.property?t+"["+e.property+"]":t}Y.nameWithProperty=Vy;function UT(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ot))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Y.bindConstructorLayout=UT;let qn=class extends ot{isCount(){throw new Error("ExternalLayout is abstract")}};Y.ExternalLayout=qn;let wE=class extends qn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Xa(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};Y.GreedyCount=wE;let Gy=class extends qn{constructor(e,n=0,r){if(!(e instanceof ot))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Tr||this.layout instanceof Fr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};Y.OffsetLayout=Gy;let Tr=class extends ot{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Qe(n).writeUIntLE(e,r,this.span),this.span}};Y.UInt=Tr;let Fr=class extends ot{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Qe(n).writeUIntBE(e,r,this.span),this.span}};Y.UIntBE=Fr;let Os=class extends ot{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readIntLE(n,this.span)}encode(e,n,r=0){return Qe(n).writeIntLE(e,r,this.span),this.span}};Y.Int=Os;let Ja=class extends ot{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readIntBE(n,this.span)}encode(e,n,r=0){return Qe(n).writeIntBE(e,r,this.span),this.span}};Y.IntBE=Ja;const N0=Math.pow(2,32);function Tf(t){const e=Math.floor(t/N0),n=t-e*N0;return{hi32:e,lo32:n}}function Mf(t,e){return t*N0+e}let vE=class extends ot{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return Mf(o,i)}encode(e,n,r=0){const i=Tf(e),o=Qe(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};Y.NearUInt64=vE;let _E=class extends ot{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return Mf(i,o)}encode(e,n,r=0){const i=Tf(e),o=Qe(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Y.NearUInt64BE=_E;let SE=class extends ot{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return Mf(o,i)}encode(e,n,r=0){const i=Tf(e),o=Qe(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};Y.NearInt64=SE;let EE=class extends ot{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return Mf(i,o)}encode(e,n,r=0){const i=Tf(e),o=Qe(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Y.NearInt64BE=EE;let bE=class extends ot{constructor(e){super(4,e)}decode(e,n=0){return Qe(e).readFloatLE(n)}encode(e,n,r=0){return Qe(n).writeFloatLE(e,r),4}};Y.Float=bE;let AE=class extends ot{constructor(e){super(4,e)}decode(e,n=0){return Qe(e).readFloatBE(n)}encode(e,n,r=0){return Qe(n).writeFloatBE(e,r),4}};Y.FloatBE=AE;let IE=class extends ot{constructor(e){super(8,e)}decode(e,n=0){return Qe(e).readDoubleLE(n)}encode(e,n,r=0){return Qe(n).writeDoubleLE(e,r),8}};Y.Double=IE;let kE=class extends ot{constructor(e){super(8,e)}decode(e,n=0){return Qe(e).readDoubleBE(n)}encode(e,n,r=0){return Qe(n).writeDoubleBE(e,r),8}};Y.DoubleBE=kE;let RE=class extends ot{constructor(e,n,r){if(!(e instanceof ot))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof qn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof qn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof qn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let i=0,o=this.count;for(o instanceof qn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof qn&&this.count.encode(e.length,n,r),o}};Y.Sequence=RE;let TE=class extends ot{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof ot,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Xa(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};Y.Structure=TE;let Yy=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};Y.UnionDiscriminator=Yy;let Vd=class extends Yy{constructor(e,n){if(!(e instanceof qn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};Y.UnionLayoutDiscriminator=Vd;let qy=class extends ot{constructor(e,n,r){let i;if(e instanceof Tr||e instanceof Fr)i=new Vd(new Gy(e));else if(e instanceof qn&&e.isCount())i=new Vd(e);else if(e instanceof Yy)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ot))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof Tr||e instanceof Fr)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Tr||e instanceof Fr,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,o=i.decode(e,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,n+l)}else r=s.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new ME(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};Y.Union=qy;let ME=class extends ot{constructor(e,n,r,i){if(!(e instanceof qy))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof ot))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Y.VariantLayout=ME;function Ks(t){return 0>t&&(t+=4294967296),t}let Zy=class extends ot{constructor(e,n,r){if(!(e instanceof Tr||e instanceof Fr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Ks(o),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Qy(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new NE(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};Y.BitStructure=Zy;let Qy=class{constructor(e,n,r){if(!(e instanceof Zy))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=Ks(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ks(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ks(e&this.valueMask))throw new TypeError(Vy("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ks(e<<this.start);this.container._packedSetValue(Ks(n&~this.wordMask)|r)}};Y.BitField=Qy;let NE=class extends Qy{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Y.Boolean=NE;let xE=class extends ot{constructor(e,n){if(!(e instanceof qn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof qn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Qe(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof qn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Vy("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=Qe(e);return Qe(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof qn&&this.length.encode(i,n,r),i}};Y.Blob=xE;let OE=class extends ot{constructor(e){super(-1,e)}getSpan(e,n=0){Xa(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Qe(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=$y.Buffer.from(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=Qe(n);return i.copy(s,r),s[r+o]=0,o+1}};Y.CString=OE;let CE=class extends ot{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Xa(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Qe(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=$y.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Qe(n),r),o}};Y.UTF8=CE;let LE=class extends ot{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};Y.Constant=LE;Y.greedy=(t,e)=>new wE(t,e);var Eo=Y.offset=(t,e,n)=>new Gy(t,e,n),Ge=Y.u8=t=>new Tr(1,t),br=Y.u16=t=>new Tr(2,t);Y.u24=t=>new Tr(3,t);var pe=Y.u32=t=>new Tr(4,t);Y.u40=t=>new Tr(5,t);Y.u48=t=>new Tr(6,t);var yn=Y.nu64=t=>new vE(t);Y.u16be=t=>new Fr(2,t);Y.u24be=t=>new Fr(3,t);Y.u32be=t=>new Fr(4,t);Y.u40be=t=>new Fr(5,t);Y.u48be=t=>new Fr(6,t);Y.nu64be=t=>new _E(t);Y.s8=t=>new Os(1,t);Y.s16=t=>new Os(2,t);Y.s24=t=>new Os(3,t);Y.s32=t=>new Os(4,t);Y.s40=t=>new Os(5,t);Y.s48=t=>new Os(6,t);var cr=Y.ns64=t=>new SE(t);Y.s16be=t=>new Ja(2,t);Y.s24be=t=>new Ja(3,t);Y.s32be=t=>new Ja(4,t);Y.s40be=t=>new Ja(5,t);Y.s48be=t=>new Ja(6,t);Y.ns64be=t=>new EE(t);Y.f32=t=>new bE(t);Y.f32be=t=>new AE(t);Y.f64=t=>new IE(t);Y.f64be=t=>new kE(t);var ge=Y.struct=(t,e,n)=>new TE(t,e,n);Y.bits=(t,e,n)=>new Zy(t,e,n);var _n=Y.seq=(t,e,n)=>new RE(t,e,n);Y.union=(t,e,n)=>new qy(t,e,n);Y.unionLayoutDiscriminator=(t,e)=>new Vd(t,e);var yt=Y.blob=(t,e)=>new xE(t,e);Y.cstr=t=>new OE(t);Y.utf8=(t,e)=>new CE(t,e);Y.constant=(t,e)=>new LE(t,e);var zT=8078e3,jT=8078001,WT=8078004,FT=8078005,HT=8078006,KT=8078011;function BE(t){return Array.isArray(t)?"%5B"+t.map(BE).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function $T([t,e]){return`${t}=${BE(e)}`}function VT(t){const e=Object.entries(t).map($T).join("&");return btoa(e)}function GT(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${VT(e)}'`),`${n}\``}}var ba=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=GT(e,r);super(o,i);ut(this,"cause",this.cause);ut(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function YT(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function qT(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(YT(e,t));return t.write(e,n,0),n}})}function ZT(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Fs(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function QT(t,e){if(Fs(t)!==Fs(e))throw new ba(WT);if(Fs(t)&&Fs(e)&&t.fixedSize!==e.fixedSize)throw new ba(FT,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Fs(t)&&!Fs(e)&&t.maxSize!==e.maxSize)throw new ba(HT,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function XT(t,e,n=0){if(e.length-n<=0)throw new ba(zT,{codecDescription:t})}function JT(t,e,n,r=0){const i=n.length-r;if(i<e)throw new ba(jT,{bytesLength:i,codecDescription:t,expected:e})}function eM(t,e,n,r){if(r<e||r>n)throw new ba(KT,{codecDescription:t,max:n,min:e,value:r})}function PE(t){return(t==null?void 0:t.endian)!==1}function tM(t){return qT({fixedSize:t.size,write(e,n,r){t.range&&eM(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,PE(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function nM(t){return ZT({fixedSize:t.size,read(e,n=0){XT(t.name,e,n),JT(t.name,t.size,e,n);const r=new DataView(rM(e,n,t.size));return[t.get(r,PE(t.config)),n+t.size]}})}function rM(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var DE=(t={})=>tM({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),iM=(t={})=>nM({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),oM=(t={})=>QT(DE(t),iM(t));let sM=class extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function aM(t){return Tu(t)&&typeof t[Symbol.iterator]=="function"}function Tu(t){return typeof t=="object"&&t!=null}function Gd(t){return Tu(t)&&!Array.isArray(t)}function $r(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function lM(t){const{done:e,value:n}=t.next();return e?void 0:n}function uM(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${$r(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*m1(t,e,n,r){aM(t)||(t=[t]);for(const i of t){const o=uM(i,e,n,r);o&&(yield o)}}function*Xy(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,f,g]of e.entries(t,a)){const w=Xy(f,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,f],coerce:o,mask:s,message:n.message});for(const m of w)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(f=m[1],c===void 0?t=f:t instanceof Map?t.set(c,f):t instanceof Set?t.add(f):Tu(t)&&(f!==void 0||c in t)&&(t[c]=f))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let di=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const f=i(l,c);return m1(f,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const f=o(l,c);return m1(f,c,this,l)}:this.refiner=()=>[]}assert(e,n){return UE(e,this,n)}create(e,n){return le(e,this,n)}is(e){return zE(e,this)}mask(e,n){return cM(e,this,n)}validate(e,n={}){return Mu(e,this,n)}};function UE(t,e,n){const r=Mu(t,e,{message:n});if(r[0])throw r[0]}function le(t,e,n){const r=Mu(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function cM(t,e,n){const r=Mu(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function zE(t,e){return!Mu(t,e)[0]}function Mu(t,e,n={}){const r=Xy(t,e,n),i=lM(r);return i[0]?[new sM(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Cs(t,e){return new di({type:t,schema:null,validator:e})}function dM(){return Cs("any",()=>!0)}function ue(t){return new di({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${$r(e)}`}})}function li(){return Cs("boolean",t=>typeof t=="boolean")}function Jy(t){return Cs("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${$r(e)}`)}function At(t){const e=$r(t),n=typeof t;return new di({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${$r(r)}`}})}function fM(){return Cs("never",()=>!1)}function ce(t){return new di({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function $(){return Cs("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${$r(t)}`)}function ve(t){return new di({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function jE(t,e){return new di({type:"record",schema:null,*entries(n){if(Tu(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Gd(n)||`Expected an object, but received: ${$r(n)}`},coercer(n){return Gd(n)?{...n}:n}})}function se(){return Cs("string",t=>typeof t=="string"||`Expected a string, but received: ${$r(t)}`)}function em(t){const e=fM();return new di({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${$r(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function J(t){const e=Object.keys(t);return new di({type:"type",schema:t,*entries(n){if(Tu(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Gd(n)||`Expected an object, but received: ${$r(n)}`},coercer(n){return Gd(n)?{...n}:n}})}function Fn(t){const e=t.map(n=>n.type).join(" | ");return new di({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=Xy(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${$r(n)}`,...i]}})}function el(){return Cs("unknown",()=>!0)}function Nu(t,e,n){return new di({...t,coercer:(r,i)=>zE(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var uc,hM=new Uint8Array(16);function WE(){if(!uc&&(uc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uc(hM)}const pM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Nf(t){return typeof t=="string"&&pM.test(t)}var gn=[];for(var sp=0;sp<256;++sp)gn.push((sp+256).toString(16).substr(1));function xf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(gn[t[e+0]]+gn[t[e+1]]+gn[t[e+2]]+gn[t[e+3]]+"-"+gn[t[e+4]]+gn[t[e+5]]+"-"+gn[t[e+6]]+gn[t[e+7]]+"-"+gn[t[e+8]]+gn[t[e+9]]+"-"+gn[t[e+10]]+gn[t[e+11]]+gn[t[e+12]]+gn[t[e+13]]+gn[t[e+14]]+gn[t[e+15]]).toLowerCase();if(!Nf(n))throw TypeError("Stringified UUID is invalid");return n}var w1,ap,lp=0,up=0;function gM(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||w1,s=t.clockseq!==void 0?t.clockseq:ap;if(o==null||s==null){var a=t.random||(t.rng||WE)();o==null&&(o=w1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=ap=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:up+1,f=l-lp+(c-up)/1e4;if(f<0&&t.clockseq===void 0&&(s=s+1&16383),(f<0||l>lp)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lp=l,up=c,ap=s,l+=122192928e5;var g=((l&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var w=l/4294967296*1e4&268435455;i[r++]=w>>>8&255,i[r++]=w&255,i[r++]=w>>>24&15|16,i[r++]=w>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return e||xf(i)}function FE(t){if(!Nf(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function yM(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var mM="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wM="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function HE(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=yM(i)),typeof o=="string"&&(o=FE(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return xf(l)}try{r.name=t}catch{}return r.DNS=mM,r.URL=wM,r}function vM(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return _M(SM(EM(t),t.length*8))}function _M(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function KE(t){return(t+64>>>9<<4)+14+1}function SM(t,e){t[e>>5]|=128<<e%32,t[KE(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,l=r,c=i,f=o;n=Tn(n,r,i,o,t[s],7,-680876936),o=Tn(o,n,r,i,t[s+1],12,-389564586),i=Tn(i,o,n,r,t[s+2],17,606105819),r=Tn(r,i,o,n,t[s+3],22,-1044525330),n=Tn(n,r,i,o,t[s+4],7,-176418897),o=Tn(o,n,r,i,t[s+5],12,1200080426),i=Tn(i,o,n,r,t[s+6],17,-1473231341),r=Tn(r,i,o,n,t[s+7],22,-45705983),n=Tn(n,r,i,o,t[s+8],7,1770035416),o=Tn(o,n,r,i,t[s+9],12,-1958414417),i=Tn(i,o,n,r,t[s+10],17,-42063),r=Tn(r,i,o,n,t[s+11],22,-1990404162),n=Tn(n,r,i,o,t[s+12],7,1804603682),o=Tn(o,n,r,i,t[s+13],12,-40341101),i=Tn(i,o,n,r,t[s+14],17,-1502002290),r=Tn(r,i,o,n,t[s+15],22,1236535329),n=Mn(n,r,i,o,t[s+1],5,-165796510),o=Mn(o,n,r,i,t[s+6],9,-1069501632),i=Mn(i,o,n,r,t[s+11],14,643717713),r=Mn(r,i,o,n,t[s],20,-373897302),n=Mn(n,r,i,o,t[s+5],5,-701558691),o=Mn(o,n,r,i,t[s+10],9,38016083),i=Mn(i,o,n,r,t[s+15],14,-660478335),r=Mn(r,i,o,n,t[s+4],20,-405537848),n=Mn(n,r,i,o,t[s+9],5,568446438),o=Mn(o,n,r,i,t[s+14],9,-1019803690),i=Mn(i,o,n,r,t[s+3],14,-187363961),r=Mn(r,i,o,n,t[s+8],20,1163531501),n=Mn(n,r,i,o,t[s+13],5,-1444681467),o=Mn(o,n,r,i,t[s+2],9,-51403784),i=Mn(i,o,n,r,t[s+7],14,1735328473),r=Mn(r,i,o,n,t[s+12],20,-1926607734),n=Nn(n,r,i,o,t[s+5],4,-378558),o=Nn(o,n,r,i,t[s+8],11,-2022574463),i=Nn(i,o,n,r,t[s+11],16,1839030562),r=Nn(r,i,o,n,t[s+14],23,-35309556),n=Nn(n,r,i,o,t[s+1],4,-1530992060),o=Nn(o,n,r,i,t[s+4],11,1272893353),i=Nn(i,o,n,r,t[s+7],16,-155497632),r=Nn(r,i,o,n,t[s+10],23,-1094730640),n=Nn(n,r,i,o,t[s+13],4,681279174),o=Nn(o,n,r,i,t[s],11,-358537222),i=Nn(i,o,n,r,t[s+3],16,-722521979),r=Nn(r,i,o,n,t[s+6],23,76029189),n=Nn(n,r,i,o,t[s+9],4,-640364487),o=Nn(o,n,r,i,t[s+12],11,-421815835),i=Nn(i,o,n,r,t[s+15],16,530742520),r=Nn(r,i,o,n,t[s+2],23,-995338651),n=xn(n,r,i,o,t[s],6,-198630844),o=xn(o,n,r,i,t[s+7],10,1126891415),i=xn(i,o,n,r,t[s+14],15,-1416354905),r=xn(r,i,o,n,t[s+5],21,-57434055),n=xn(n,r,i,o,t[s+12],6,1700485571),o=xn(o,n,r,i,t[s+3],10,-1894986606),i=xn(i,o,n,r,t[s+10],15,-1051523),r=xn(r,i,o,n,t[s+1],21,-2054922799),n=xn(n,r,i,o,t[s+8],6,1873313359),o=xn(o,n,r,i,t[s+15],10,-30611744),i=xn(i,o,n,r,t[s+6],15,-1560198380),r=xn(r,i,o,n,t[s+13],21,1309151649),n=xn(n,r,i,o,t[s+4],6,-145523070),o=xn(o,n,r,i,t[s+11],10,-1120210379),i=xn(i,o,n,r,t[s+2],15,718787259),r=xn(r,i,o,n,t[s+9],21,-343485551),n=uo(n,a),r=uo(r,l),i=uo(i,c),o=uo(o,f)}return[n,r,i,o]}function EM(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(KE(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function uo(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function bM(t,e){return t<<e|t>>>32-e}function Of(t,e,n,r,i,o){return uo(bM(uo(uo(e,t),uo(r,o)),i),n)}function Tn(t,e,n,r,i,o,s){return Of(e&n|~e&r,t,e,i,o,s)}function Mn(t,e,n,r,i,o,s){return Of(e&r|n&~r,t,e,i,o,s)}function Nn(t,e,n,r,i,o,s){return Of(e^n^r,t,e,i,o,s)}function xn(t,e,n,r,i,o,s){return Of(n^(e|~r),t,e,i,o,s)}var AM=HE("v3",48,vM);function IM(t,e,n){t=t||{};var r=t.random||(t.rng||WE)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return xf(r)}function kM(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function cp(t,e){return t<<e|t>>>32-e}function RM(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=t[l*64+f*4]<<24|t[l*64+f*4+1]<<16|t[l*64+f*4+2]<<8|t[l*64+f*4+3];a[l]=c}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<s;++g){for(var w=new Uint32Array(80),m=0;m<16;++m)w[m]=a[g][m];for(var _=16;_<80;++_)w[_]=cp(w[_-3]^w[_-8]^w[_-14]^w[_-16],1);for(var R=n[0],N=n[1],E=n[2],A=n[3],S=n[4],M=0;M<80;++M){var C=Math.floor(M/20),D=cp(R,5)+kM(C,N,E,A)+S+e[C]+w[M]>>>0;S=A,A=E,E=cp(N,30)>>>0,N=R,R=D}n[0]=n[0]+R>>>0,n[1]=n[1]+N>>>0,n[2]=n[2]+E>>>0,n[3]=n[3]+A>>>0,n[4]=n[4]+S>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var TM=HE("v5",80,RM);const MM="00000000-0000-0000-0000-000000000000";function NM(t){if(!Nf(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const xM=Object.freeze(Object.defineProperty({__proto__:null,NIL:MM,parse:FE,stringify:xf,v1:gM,v3:AM,v4:IM,v5:TM,validate:Nf,version:NM},Symbol.toStringTag,{value:"Module"})),$E=Ga(xM),OM=$E.v4,CM=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return OM()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var LM=CM;const BM=$E.v4,PM=LM,hu=function(t,e){if(!(this instanceof hu))return new hu(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return BM()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var DM=hu;hu.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{o=PM(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(c)return r(f);throw f}if(!c)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,f){i._parseResponse(c,f,r)}),o};hu.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return n(null,r.filter(i),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const UM=Ts(DM);var VE={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),_=n?n+c:c;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,_=new Array(m);w<m;w++)_[w]=g[w].fn;return _},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,_){var R=n?n+c:c;if(!this._events[R])return!1;var N=this._events[R],E=arguments.length,A,S;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,_),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];N.fn.apply(N.context,A)}else{var M=N.length,C;for(S=0;S<M;S++)switch(N[S].once&&this.removeListener(c,N[S].fn,void 0,!0),E){case 1:N[S].fn.call(N[S].context);break;case 2:N[S].fn.call(N[S].context,f);break;case 3:N[S].fn.call(N[S].context,f,g);break;case 4:N[S].fn.call(N[S].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(E-1);C<E;C++)A[C-1]=arguments[C];N[S].fn.apply(N[S].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!w||_.once)&&(!g||_.context===g)&&s(this,m);else{for(var R=0,N=[],E=_.length;R<E;R++)(_[R].fn!==f||w&&!_[R].once||g&&_[R].context!==g)&&N.push(_[R]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(VE);var zM=VE.exports;const GE=Ts(zM);var jM=class extends GE{constructor(e,n,r){super();ut(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function WM(t,e){return new jM(t,e)}var FM=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},HM=class extends GE{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();ut(this,"address");ut(this,"rpc_id");ut(this,"queue");ut(this,"options");ut(this,"autoconnect");ut(this,"ready");ut(this,"reconnect");ut(this,"reconnect_timer_id");ut(this,"reconnect_interval");ut(this,"max_reconnects");ut(this,"rest_options");ut(this,"current_reconnects");ut(this,"generate_request_id");ut(this,"socket");ut(this,"webSocketFactory");ut(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new FM,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=de.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const KM=BigInt(0),pl=BigInt(1),$M=BigInt(2),VM=BigInt(7),GM=BigInt(256),YM=BigInt(113),YE=[],qE=[],ZE=[];for(let t=0,e=pl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],YE.push(2*(5*r+n)),qE.push((t+1)*(t+2)/2%64);let i=KM;for(let o=0;o<7;o++)e=(e<<pl^(e>>VM)*YM)%GM,e&$M&&(i^=pl<<(pl<<BigInt(o))-pl);ZE.push(i)}const QE=jS(ZE,!0),qM=QE[0],ZM=QE[1],v1=(t,e,n)=>n>32?kR(t,e,n):AR(t,e,n),_1=(t,e,n)=>n>32?RR(t,e,n):IR(t,e,n);function QM(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],f=n[l+1],g=v1(c,f,1)^n[a],w=_1(c,f,1)^n[a+1];for(let m=0;m<50;m+=10)t[s+m]^=g,t[s+m+1]^=w}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=qE[s],l=v1(i,o,a),c=_1(i,o,a),f=YE[s];i=t[f],o=t[f+1],t[f]=l,t[f+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=qM[r],t[1]^=ZM[r]}Ro(n)}class tm extends Py{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,du(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pR(this.state)}clone(){return this._cloneInto()}keccak(){i1(this.state32),QM(this.state32,this.rounds),i1(this.state32),this.posOut=0,this.pos=0}update(e){Da(this),e=If(e),zi(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Da(this,!1),zi(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return du(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(DS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ro(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new tm(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const XM=(t,e,n)=>Dy(()=>new tm(e,t,n)),S1=XM(1,136,256/8);class XE extends Py{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,PS(e);const r=If(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Ro(o)}update(e){return Da(this),this.iHash.update(e),this}digestInto(e){Da(this),zi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const JE=(t,e,n)=>new XE(t,e).update(n).digest();JE.create=(t,e)=>new XE(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const E1=(t,e)=>(t+(t>=0?e:-e)/eb)/e;function JM(t,e,n){const[[r,i],[o,s]]=e,a=E1(s*t,n),l=E1(-i*t,n);let c=t-a*r-l*o,f=-a*i-l*s;const g=c<xi,w=f<xi;g&&(c=-c),w&&(f=-f);const m=ku(Math.ceil($S(n)/2))+Aa;if(c<xi||c>=m||f<xi||f>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:c,k2neg:w,k2:f}}function x0(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function dp(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return As(n.lowS,"lowS"),As(n.prehash,"prehash"),n.format!==void 0&&x0(n.format),n}class eN extends Error{constructor(e=""){super(e)}}const bi={Err:eN,_tlv:{encode:(t,e)=>{const{Err:n}=bi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=ac(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?ac(i.length/2|128):"";return ac(t)+o+i+e},decode(t,e){const{Err:n}=bi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of c)s=s<<8|f;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=bi;if(t<xi)throw new e("integer: negative integers are not allowed");let n=ac(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=bi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return kf(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=bi,i=Nt("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:f}=r.decode(2,l);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=bi,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},xi=BigInt(0),Aa=BigInt(1),eb=BigInt(2),cc=BigInt(3),tN=BigInt(4);function fa(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Nt("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function nN(t,e={}){const n=aE("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;Ru(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=nb(r,i);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(V,b,u){const{x:d,y:v}=b.toAffine(),k=r.toBytes(d);if(As(u,"isCompressed"),u){f();const I=!r.isOdd(v);return Jr(tb(I),k)}else return Jr(Uint8Array.of(4),k,r.toBytes(v))}function w(V){Ur(V,void 0,"Point");const{publicKey:b,publicKeyUncompressed:u}=c,d=V.length,v=V[0],k=V.subarray(1);if(d===b&&(v===2||v===3)){const I=r.fromBytes(k);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const O=R(I);let P;try{P=r.sqrt(O)}catch(B){const oe=B instanceof Error?": "+B.message:"";throw new Error("bad point: is not on curve, sqrt error"+oe)}f();const x=r.isOdd(P);return(v&1)===1!==x&&(P=r.neg(P)),{x:I,y:P}}else if(d===u&&v===4){const I=r.BYTES,O=r.fromBytes(k.subarray(0,I)),P=r.fromBytes(k.subarray(I,I*2));if(!N(O,P))throw new Error("bad point: is not on curve");return{x:O,y:P}}else throw new Error(`bad point: got length ${d}, expected compressed=${b} or uncompressed=${u}`)}const m=e.toBytes||g,_=e.fromBytes||w;function R(V){const b=r.sqr(V),u=r.mul(b,V);return r.add(r.add(u,r.mul(V,o.a)),o.b)}function N(V,b){const u=r.sqr(b),d=R(V);return r.eql(u,d)}if(!N(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const E=r.mul(r.pow(o.a,cc),tN),A=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(E,A)))throw new Error("bad curve params: a or b");function S(V,b,u=!1){if(!r.isValid(b)||u&&r.is0(b))throw new Error(`bad point coordinate ${V}`);return b}function M(V){if(!(V instanceof j))throw new Error("ProjectivePoint expected")}function C(V){if(!l||!l.basises)throw new Error("no endo");return JM(V,l.basises,i.ORDER)}const D=zd((V,b)=>{const{X:u,Y:d,Z:v}=V;if(r.eql(v,r.ONE))return{x:u,y:d};const k=V.is0();b==null&&(b=k?r.ONE:r.inv(v));const I=r.mul(u,b),O=r.mul(d,b),P=r.mul(v,b);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:I,y:O}}),U=zd(V=>{if(V.is0()){if(e.allowInfinityPoint&&!r.is0(V.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:u}=V.toAffine();if(!r.isValid(b)||!r.isValid(u))throw new Error("bad point: x or y not field elements");if(!N(b,u))throw new Error("bad point: equation left != right");if(!V.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(V,b,u,d,v){return u=new j(r.mul(u.X,V),u.Y,u.Z),b=jd(d,b),u=jd(v,u),b.add(u)}class j{constructor(b,u,d){this.X=S("x",b),this.Y=S("y",u,!0),this.Z=S("z",d),Object.freeze(this)}static CURVE(){return o}static fromAffine(b){const{x:u,y:d}=b||{};if(!b||!r.isValid(u)||!r.isValid(d))throw new Error("invalid affine point");if(b instanceof j)throw new Error("projective point not allowed");return r.is0(u)&&r.is0(d)?j.ZERO:new j(u,d,r.ONE)}static fromBytes(b){const u=j.fromAffine(_(Ur(b,void 0,"point")));return u.assertValidity(),u}static fromHex(b){return j.fromBytes(Nt("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,u=!0){return Q.createCache(this,b),u||this.multiply(cc),this}assertValidity(){U(this)}hasEvenY(){const{y:b}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(b)}equals(b){M(b);const{X:u,Y:d,Z:v}=this,{X:k,Y:I,Z:O}=b,P=r.eql(r.mul(u,O),r.mul(k,v)),x=r.eql(r.mul(d,O),r.mul(I,v));return P&&x}negate(){return new j(this.X,r.neg(this.Y),this.Z)}double(){const{a:b,b:u}=o,d=r.mul(u,cc),{X:v,Y:k,Z:I}=this;let O=r.ZERO,P=r.ZERO,x=r.ZERO,p=r.mul(v,v),B=r.mul(k,k),oe=r.mul(I,I),ie=r.mul(v,k);return ie=r.add(ie,ie),x=r.mul(v,I),x=r.add(x,x),O=r.mul(b,x),P=r.mul(d,oe),P=r.add(O,P),O=r.sub(B,P),P=r.add(B,P),P=r.mul(O,P),O=r.mul(ie,O),x=r.mul(d,x),oe=r.mul(b,oe),ie=r.sub(p,oe),ie=r.mul(b,ie),ie=r.add(ie,x),x=r.add(p,p),p=r.add(x,p),p=r.add(p,oe),p=r.mul(p,ie),P=r.add(P,p),oe=r.mul(k,I),oe=r.add(oe,oe),p=r.mul(oe,ie),O=r.sub(O,p),x=r.mul(oe,B),x=r.add(x,x),x=r.add(x,x),new j(O,P,x)}add(b){M(b);const{X:u,Y:d,Z:v}=this,{X:k,Y:I,Z:O}=b;let P=r.ZERO,x=r.ZERO,p=r.ZERO;const B=o.a,oe=r.mul(o.b,cc);let ie=r.mul(u,k),ae=r.mul(d,I),Re=r.mul(v,O),Ae=r.add(u,d),Se=r.add(k,I);Ae=r.mul(Ae,Se),Se=r.add(ie,ae),Ae=r.sub(Ae,Se),Se=r.add(u,v);let wt=r.add(k,O);return Se=r.mul(Se,wt),wt=r.add(ie,Re),Se=r.sub(Se,wt),wt=r.add(d,v),P=r.add(I,O),wt=r.mul(wt,P),P=r.add(ae,Re),wt=r.sub(wt,P),p=r.mul(B,Se),P=r.mul(oe,Re),p=r.add(P,p),P=r.sub(ae,p),p=r.add(ae,p),x=r.mul(P,p),ae=r.add(ie,ie),ae=r.add(ae,ie),Re=r.mul(B,Re),Se=r.mul(oe,Se),ae=r.add(ae,Re),Re=r.sub(ie,Re),Re=r.mul(B,Re),Se=r.add(Se,Re),ie=r.mul(ae,Se),x=r.add(x,ie),ie=r.mul(wt,Se),P=r.mul(Ae,P),P=r.sub(P,ie),ie=r.mul(Ae,ae),p=r.mul(wt,p),p=r.add(p,ie),new j(P,x,p)}subtract(b){return this.add(b.negate())}is0(){return this.equals(j.ZERO)}multiply(b){const{endo:u}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let d,v;const k=I=>Q.cached(this,I,O=>as(j,O));if(u){const{k1neg:I,k1:O,k2neg:P,k2:x}=C(b),{p,f:B}=k(O),{p:oe,f:ie}=k(x);v=B.add(ie),d=z(u.beta,p,oe,I,P)}else{const{p:I,f:O}=k(b);d=I,v=O}return as(j,[d,v])[0]}multiplyUnsafe(b){const{endo:u}=e,d=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===xi||d.is0())return j.ZERO;if(b===Aa)return d;if(Q.hasCache(this))return this.multiply(b);if(u){const{k1neg:v,k1:k,k2neg:I,k2:O}=C(b),{p1:P,p2:x}=eT(j,d,k,O);return z(u.beta,P,x,v,I)}else return Q.unsafe(d,b)}multiplyAndAddUnsafe(b,u,d){const v=this.multiplyUnsafe(u).add(b.multiplyUnsafe(d));return v.is0()?void 0:v}toAffine(b){return D(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return s===Aa?!0:b?b(j,this):Q.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return s===Aa?this:b?b(j,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(b=!0){return As(b,"isCompressed"),this.assertValidity(),m(j,this,b)}toHex(b=!0){return ws(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return as(j,b)}static msm(b,u){return sE(j,i,b,u)}static fromPrivateKey(b){return j.BASE.multiply(fa(i,b))}}j.BASE=new j(o.Gx,o.Gy,r.ONE),j.ZERO=new j(r.ZERO,r.ONE,r.ZERO),j.Fp=r,j.Fn=i;const H=i.BITS,Q=new oE(j,e.endo?Math.ceil(H/2):H);return j.BASE.precompute(8),j}function tb(t){return Uint8Array.of(t?2:3)}function nb(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function rN(t,e={}){const{Fn:n}=t,r=e.randomBytes||Uy,i=Object.assign(nb(t.Fp,n),{seed:nE(n.ORDER)});function o(m){try{return!!fa(n,m)}catch{return!1}}function s(m,_){const{publicKey:R,publicKeyUncompressed:N}=i;try{const E=m.length;return _===!0&&E!==R||_===!1&&E!==N?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(i.seed)){return QR(Ur(m,i.seed,"seed"),n.ORDER)}function l(m,_=!0){return t.BASE.multiply(fa(n,m)).toBytes(_)}function c(m){const _=a(m);return{secretKey:_,publicKey:l(_)}}function f(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:_,publicKey:R,publicKeyUncompressed:N}=i;if(n.allowedLengths||_===R)return;const E=Nt("key",m).length;return E===R||E===N}function g(m,_,R=!0){if(f(m)===!0)throw new Error("first arg must be private key");if(f(_)===!1)throw new Error("second arg must be public key");const N=fa(n,m);return t.fromHex(_).multiply(N).toBytes(R)}return Object.freeze({getPublicKey:l,getSharedSecret:g,keygen:c,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:m=>fa(n,m),precompute(m=8,_=t.BASE){return _.precompute(m,!1)}},lengths:i})}function iN(t,e,n={}){PS(e),Ru(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Uy,i=n.hmac||((u,...d)=>JE(e,u,Jr(...d))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s,{keygen:c,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m}=rN(t,n),_={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},R="compact";function N(u){const d=a>>Aa;return u>d}function E(u,d){if(!s.isValidNot0(d))throw new Error(`invalid signature ${u}: out of range 1..Point.Fn.ORDER`);return d}function A(u,d){x0(d);const v=m.signature,k=d==="compact"?v:d==="recovered"?v+1:void 0;return Ur(u,k,`${d} signature`)}class S{constructor(d,v,k){this.r=E("r",d),this.s=E("s",v),k!=null&&(this.recovery=k),Object.freeze(this)}static fromBytes(d,v=R){A(d,v);let k;if(v==="der"){const{r:x,s:p}=bi.toSig(Ur(d));return new S(x,p)}v==="recovered"&&(k=d[0],v="compact",d=d.subarray(1));const I=s.BYTES,O=d.subarray(0,I),P=d.subarray(I,I*2);return new S(s.fromBytes(O),s.fromBytes(P),k)}static fromHex(d,v){return this.fromBytes(Ud(d),v)}addRecoveryBit(d){return new S(this.r,this.s,d)}recoverPublicKey(d){const v=o.ORDER,{r:k,s:I,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*eb<v&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const x=O===2||O===3?k+a:k;if(!o.isValid(x))throw new Error("recovery id 2 or 3 invalid");const p=o.toBytes(x),B=t.fromBytes(Jr(tb((O&1)===0),p)),oe=s.inv(x),ie=C(Nt("msgHash",d)),ae=s.create(-ie*oe),Re=s.create(I*oe),Ae=t.BASE.multiplyUnsafe(ae).add(B.multiplyUnsafe(Re));if(Ae.is0())throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return N(this.s)}toBytes(d=R){if(x0(d),d==="der")return Ud(bi.hexFromSig(this));const v=s.toBytes(this.r),k=s.toBytes(this.s);if(d==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Jr(Uint8Array.of(this.recovery),v,k)}return Jr(v,k)}toHex(d){return ws(this.toBytes(d))}assertValidity(){}static fromCompact(d){return S.fromBytes(Nt("sig",d),"compact")}static fromDER(d){return S.fromBytes(Nt("sig",d),"der")}normalizeS(){return this.hasHighS()?new S(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ws(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ws(this.toBytes("compact"))}}const M=n.bits2int||function(d){if(d.length>8192)throw new Error("input is too large");const v=kf(d),k=d.length*8-l;return k>0?v>>BigInt(k):v},C=n.bits2int_modN||function(d){return s.create(M(d))},D=ku(l);function U(u){return T0("num < 2^"+l,u,xi,D),s.toBytes(u)}function z(u,d){return Ur(u,void 0,"message"),d?Ur(e(u),void 0,"prehashed message"):u}function j(u,d,v){if(["recovered","canonical"].some(ae=>ae in v))throw new Error("sign() legacy options not supported");const{lowS:k,prehash:I,extraEntropy:O}=dp(v,_);u=z(u,I);const P=C(u),x=fa(s,d),p=[U(x),U(P)];if(O!=null&&O!==!1){const ae=O===!0?r(m.secretKey):O;p.push(Nt("extraEntropy",ae))}const B=Jr(...p),oe=P;function ie(ae){const Re=M(ae);if(!s.isValidNot0(Re))return;const Ae=s.inv(Re),Se=t.BASE.multiply(Re).toAffine(),wt=s.create(Se.x);if(wt===xi)return;const Je=s.create(Ae*s.create(oe+wt*x));if(Je===xi)return;let Z=(Se.x===wt?0:2)|Number(Se.y&Aa),_e=Je;return k&&N(Je)&&(_e=s.neg(Je),Z^=1),new S(wt,_e,Z)}return{seed:B,k2sig:ie}}function H(u,d,v={}){u=Nt("message",u);const{seed:k,k2sig:I}=j(u,d,v);return WR(e.outputLen,s.BYTES,i)(k,I)}function Q(u){let d;const v=typeof u=="string"||Iu(u),k=!v&&u!==null&&typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!v&&!k)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(k)d=new S(u.r,u.s);else if(v){try{d=S.fromBytes(Nt("sig",u),"der")}catch(I){if(!(I instanceof bi.Err))throw I}if(!d)try{d=S.fromBytes(Nt("sig",u),"compact")}catch{return!1}}return d||!1}function V(u,d,v,k={}){const{lowS:I,prehash:O,format:P}=dp(k,_);if(v=Nt("publicKey",v),d=z(Nt("message",d),O),"strict"in k)throw new Error("options.strict was renamed to lowS");const x=P===void 0?Q(u):S.fromBytes(Nt("sig",u),P);if(x===!1)return!1;try{const p=t.fromBytes(v);if(I&&x.hasHighS())return!1;const{r:B,s:oe}=x,ie=C(d),ae=s.inv(oe),Re=s.create(ie*ae),Ae=s.create(B*ae),Se=t.BASE.multiplyUnsafe(Re).add(p.multiplyUnsafe(Ae));return Se.is0()?!1:s.create(Se.x)===B}catch{return!1}}function b(u,d,v={}){const{prehash:k}=dp(v,_);return d=z(d,k),S.fromBytes(u,"recovered").recoverPublicKey(d).toBytes()}return Object.freeze({keygen:c,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m,Point:t,sign:H,verify:V,recoverPublicKey:b,Signature:S,hash:e})}function oN(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=xs(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function sN(t){const{CURVE:e,curveOpts:n}=oN(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function aN(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,eE(n.Fn.ORDER,n.Fn.BITS))})}function lN(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=sN(t),o=nN(e,n),s=iN(o,r,i);return aN(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uN(t,e){const n=r=>lN({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nm={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},cN={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},b1=BigInt(2);function dN(t){const e=nm.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,f=c*c*t%e,g=Mt(f,n,e)*f%e,w=Mt(g,n,e)*f%e,m=Mt(w,b1,e)*c%e,_=Mt(m,i,e)*m%e,R=Mt(_,o,e)*_%e,N=Mt(R,a,e)*R%e,E=Mt(N,l,e)*N%e,A=Mt(E,a,e)*R%e,S=Mt(A,n,e)*f%e,M=Mt(S,s,e)*_%e,C=Mt(M,r,e)*c%e,D=Mt(C,b1,e);if(!O0.eql(O0.sqr(D),t))throw new Error("Cannot find square root");return D}const O0=xs(nm.p,{sqrt:dN}),rm=uN({...nm,Fp:O0,lowS:!0,endo:cN},FS),fN=Qa.utils.randomPrivateKey,A1=()=>{const t=Qa.utils.randomPrivateKey(),e=Yd(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Yd=Qa.getPublicKey;function I1(t){try{return Qa.ExtendedPoint.fromHex(t),!0}catch{return!1}}const im=(t,e)=>Qa.sign(t,e.slice(0,32)),hN=Qa.verify,Pe=t=>de.Buffer.isBuffer(t)?t:t instanceof Uint8Array?de.Buffer.from(t.buffer,t.byteOffset,t.byteLength):de.Buffer.from(t);let om=class{constructor(e){Object.assign(this,e)}encode(){return de.Buffer.from(yE(Fl,this))}static decode(e){return mE(Fl,this,e)}static decodeUnchecked(e){return dE(Fl,this,e)}};class pN extends om{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Fl=new Map;var rb;const ib=32,ai=32;function gN(t){return t._bn!==void 0}let k1=1;class X extends om{constructor(e){if(super({}),this._bn=void 0,gN(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Ot.decode(e);if(n.length!=ai)throw new Error("Invalid public key input");this._bn=new ar(n)}else this._bn=new ar(e);if(this._bn.byteLength()>ai)throw new Error("Invalid public key input")}}static unique(){const e=new X(k1);return k1+=1,new X(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ot.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(de.Buffer);if(e.length===ai)return e;const n=de.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=de.Buffer.concat([e.toBuffer(),de.Buffer.from(n),r.toBuffer()]),o=Wd(i);return new X(o)}static createProgramAddressSync(e,n){let r=de.Buffer.alloc(0);e.forEach(function(o){if(o.length>ib)throw new TypeError("Max seed length exceeded");r=de.Buffer.concat([r,Pe(o)])}),r=de.Buffer.concat([r,n.toBuffer(),de.Buffer.from("ProgramDerivedAddress")]);const i=Wd(r);if(I1(i))throw new Error("Invalid seeds, address must fall off the curve");return new X(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(de.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new X(e);return I1(n.toBytes())}}rb=X;X.default=new rb("11111111111111111111111111111111");Fl.set(X,{kind:"struct",fields:[["_bn","u256"]]});class yN{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Pe(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Pe(fN()),this._publicKey=Pe(Yd(this._secretKey))}get publicKey(){return new X(this._publicKey)}get secretKey(){return de.Buffer.concat([this._secretKey,this._publicKey],64)}}const mN=new X("BPFLoader1111111111111111111111111111111111"),bo=1232,Cf=127,pu=64;class sm extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(sm.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class am extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(am.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ha extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ha.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class gu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const He=(t="publicKey")=>yt(32,t),wN=(t="signature")=>yt(64,t),ls=(t="string")=>{const e=ge([pe("length"),pe("lengthPadding"),yt(Eo(pe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:de.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>pe().span+pe().span+de.Buffer.from(o,"utf8").length,i},vN=(t="authorized")=>ge([He("staker"),He("withdrawer")],t),_N=(t="lockup")=>ge([cr("unixTimestamp"),cr("epoch"),He("custodian")],t),SN=(t="voteInit")=>ge([He("nodePubkey"),He("authorizedVoter"),He("authorizedWithdrawer"),Ge("commission")],t),EN=(t="voteAuthorizeWithSeedArgs")=>ge([pe("voteAuthorizationType"),He("currentAuthorityDerivedKeyOwnerPubkey"),ls("currentAuthorityDerivedKeySeed"),He("newAuthorized")],t);function ob(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return ob({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Vn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function dr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Ze(t,e){if(!t)throw new Error(e||"Assertion failed")}class Lf{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Lf(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ze(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Ze(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Ze(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new X(l)),...r.map(([l])=>new X(l)),...i.map(([l])=>new X(l)),...o.map(([l])=>new X(l))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new X(o),l=e.findIndex(c=>c.equals(a));l>=0&&(Ze(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const sb="Reached end of buffer unexpectedly";function ei(t){if(t.length===0)throw new Error(sb);return t.shift()}function Gn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(sb);return t.splice(...e)}class Vr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new X(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ot.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new gu(this.staticAccountKeys)}static compile(e){const n=Lf.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new gu(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ot.encode(a.data)}));return new Vr({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];dr(n,e);const r=this.instructions.map(g=>{const{accounts:w,programIdIndex:m}=g,_=Array.from(Ot.decode(g.data));let R=[];dr(R,w.length);let N=[];return dr(N,_.length),{programIdIndex:m,keyIndicesCount:de.Buffer.from(R),keyIndices:w,dataLength:de.Buffer.from(N),data:_}});let i=[];dr(i,r.length);let o=de.Buffer.alloc(bo);de.Buffer.from(i).copy(o);let s=i.length;r.forEach(g=>{const m=ge([Ge("programIdIndex"),yt(g.keyIndicesCount.length,"keyIndicesCount"),_n(Ge("keyIndex"),g.keyIndices.length,"keyIndices"),yt(g.dataLength.length,"dataLength"),_n(Ge("userdatum"),g.data.length,"data")]).encode(g,o,s);s+=m}),o=o.slice(0,s);const a=ge([yt(1,"numRequiredSignatures"),yt(1,"numReadonlySignedAccounts"),yt(1,"numReadonlyUnsignedAccounts"),yt(n.length,"keyCount"),_n(He("key"),e,"keys"),He("recentBlockhash")]),l={numRequiredSignatures:de.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:de.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:de.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:de.Buffer.from(n),keys:this.accountKeys.map(g=>Pe(g.toBytes())),recentBlockhash:Ot.decode(this.recentBlockhash)};let c=de.Buffer.alloc(2048);const f=a.encode(l,c);return o.copy(c,f),c.slice(0,f+o.length)}static from(e){let n=[...e];const r=ei(n);if(r!==(r&Cf))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ei(n),o=ei(n),s=Vn(n);let a=[];for(let w=0;w<s;w++){const m=Gn(n,0,ai);a.push(new X(de.Buffer.from(m)))}const l=Gn(n,0,ai),c=Vn(n);let f=[];for(let w=0;w<c;w++){const m=ei(n),_=Vn(n),R=Gn(n,0,_),N=Vn(n),E=Gn(n,0,N),A=Ot.encode(de.Buffer.from(E));f.push({programIdIndex:m,accounts:R,data:A})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Ot.encode(de.Buffer.from(l)),accountKeys:a,instructions:f};return new Vr(g)}}class Is{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new gu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Lf.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const f of o){const g=n.extractTableLookup(f);if(g!==void 0){const[w,{writable:m,readonly:_}]=g;r.push(w),i.writable.push(...m),i.readonly.push(..._)}}const[s,a]=n.getMessageComponents(),c=new gu(a,i).compileInstructions(e.instructions);return new Is({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();dr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();dr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();dr(o,this.addressTableLookups.length);const s=ge([Ge("prefix"),ge([Ge("numRequiredSignatures"),Ge("numReadonlySignedAccounts"),Ge("numReadonlyUnsignedAccounts")],"header"),yt(e.length,"staticAccountKeysLength"),_n(He(),this.staticAccountKeys.length,"staticAccountKeys"),He("recentBlockhash"),yt(r.length,"instructionsLength"),yt(n.length,"serializedInstructions"),yt(o.length,"addressTableLookupsLength"),yt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(bo),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:Ot.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(bo);for(const r of this.compiledInstructions){const i=Array();dr(i,r.accountKeyIndexes.length);const o=Array();dr(o,r.data.length);const s=ge([Ge("programIdIndex"),yt(i.length,"encodedAccountKeyIndexesLength"),_n(Ge(),r.accountKeyIndexes.length,"accountKeyIndexes"),yt(o.length,"encodedDataLength"),yt(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(bo);for(const r of this.addressTableLookups){const i=Array();dr(i,r.writableIndexes.length);const o=Array();dr(o,r.readonlyIndexes.length);const s=ge([He("accountKey"),yt(i.length,"encodedWritableIndexesLength"),_n(Ge(),r.writableIndexes.length,"writableIndexes"),yt(o.length,"encodedReadonlyIndexesLength"),_n(Ge(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=ei(n),i=r&Cf;Ze(r!==i,"Expected versioned message but received legacy message");const o=i;Ze(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:ei(n),numReadonlySignedAccounts:ei(n),numReadonlyUnsignedAccounts:ei(n)},a=[],l=Vn(n);for(let _=0;_<l;_++)a.push(new X(Gn(n,0,ai)));const c=Ot.encode(Gn(n,0,ai)),f=Vn(n),g=[];for(let _=0;_<f;_++){const R=ei(n),N=Vn(n),E=Gn(n,0,N),A=Vn(n),S=new Uint8Array(Gn(n,0,A));g.push({programIdIndex:R,accountKeyIndexes:E,data:S})}const w=Vn(n),m=[];for(let _=0;_<w;_++){const R=new X(Gn(n,0,ai)),N=Vn(n),E=Gn(n,0,N),A=Vn(n),S=Gn(n,0,A);m.push({accountKey:R,writableIndexes:E,readonlyIndexes:S})}return new Is({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:m})}}const lm={deserializeMessageVersion(t){const e=t[0],n=e&Cf;return n===e?"legacy":n},deserialize:t=>{const e=lm.deserializeMessageVersion(t);if(e==="legacy")return Vr.from(t);if(e===0)return Is.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vi=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const bN=de.Buffer.alloc(pu).fill(0);class tt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=de.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class De{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new tt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let R=0;R<n.length;R++)if(n[R].programId===void 0)throw new Error(`Transaction instruction index ${R} has undefined program id`);const i=[],o=[];n.forEach(R=>{R.keys.forEach(E=>{o.push({...E})});const N=R.programId.toString();i.includes(N)||i.push(N)}),i.forEach(R=>{o.push({pubkey:new X(R),isSigner:!1,isWritable:!1})});const s=[];o.forEach(R=>{const N=R.pubkey.toString(),E=s.findIndex(A=>A.pubkey.toString()===N);E>-1?(s[E].isWritable=s[E].isWritable||R.isWritable,s[E].isSigner=s[E].isSigner||R.isSigner):s.push(R)}),s.sort(function(R,N){if(R.isSigner!==N.isSigner)return R.isSigner?-1:1;if(R.isWritable!==N.isWritable)return R.isWritable?-1:1;const E={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return R.pubkey.toBase58().localeCompare(N.pubkey.toBase58(),"en",E)});const a=s.findIndex(R=>R.pubkey.equals(r));if(a>-1){const[R]=s.splice(a,1);R.isSigner=!0,R.isWritable=!0,s.unshift(R)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const R of this.signatures){const N=s.findIndex(E=>E.pubkey.equals(R.publicKey));if(N>-1)s[N].isSigner||(s[N].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${R.publicKey.toString()}`)}let l=0,c=0,f=0;const g=[],w=[];s.forEach(({pubkey:R,isSigner:N,isWritable:E})=>{N?(g.push(R.toString()),l+=1,E||(c+=1)):(w.push(R.toString()),E||(f+=1))});const m=g.concat(w),_=n.map(R=>{const{data:N,programId:E}=R;return{programIdIndex:m.indexOf(E.toString()),accounts:R.keys.map(A=>m.indexOf(A.pubkey.toString())),data:Ot.encode(N)}});return _.forEach(R=>{Ze(R.programIdIndex>=0),R.accounts.forEach(N=>Ze(N>=0))}),new Vr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:f},accountKeys:m,recentBlockhash:e,instructions:_})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=im(r,i.secretKey);this._addSignature(i.publicKey,Pe(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Ze(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=de.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):hN(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];dr(r,n.length);const i=r.length+n.length*64+e.length,o=de.Buffer.alloc(i);return Ze(n.length<256),de.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(Ze(s.length===64,"signature has invalid length"),de.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),Ze(o.length<=bo,`Transaction too large: ${o.length} > ${bo}`),o}get keys(){return Ze(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ze(this.instructions.length===1),this.instructions[0].programId}get data(){return Ze(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Vn(n);let i=[];for(let o=0;o<r;o++){const s=Gn(n,0,pu);i.push(Ot.encode(de.Buffer.from(s)))}return De.populate(Vr.from(n),i)}static populate(e,n=[]){const r=new De;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==Ot.encode(bN)?null:Ot.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new tt({keys:o,programId:e.accountKeys[i.programIdIndex],data:Ot.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class um{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;Ze(c>0,"Message header is invalid");const f=e.staticAccountKeys.length-s-l;Ze(f>=0,"Message header is invalid");const g=e.getAccountKeys(n),w=g.get(0);if(w===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const _ of i){const R=[];for(const E of _.accountKeyIndexes){const A=g.get(E);if(A===void 0)throw new Error(`Failed to find key for account key index ${E}`);const S=E<s;let M;S?M=E<c:E<g.staticAccountKeys.length?M=E-s<f:M=E-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,R.push({pubkey:A,isSigner:E<r.numRequiredSignatures,isWritable:M})}const N=g.get(_.programIdIndex);if(N===void 0)throw new Error(`Failed to find program id for program id index ${_.programIdIndex}`);m.push(new tt({programId:N,data:Pe(_.data),keys:R}))}return new um({payerKey:w,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Vr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Is.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class yu{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Ze(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(pu));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();dr(n,this.signatures.length);const r=ge([yt(n.length,"encodedSignaturesLength"),_n(wN(),this.signatures.length,"signatures"),yt(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let n=[...e];const r=[],i=Vn(n);for(let s=0;s<i;s++)r.push(new Uint8Array(Gn(n,0,pu)));const o=lm.deserialize(new Uint8Array(n));return new yu(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));Ze(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=im(n,i.secretKey)}}addSignature(e,n){Ze(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Ze(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const AN=160,IN=64,kN=AN/IN,ab=1e3/kN,Zr=new X("SysvarC1ock11111111111111111111111111111111"),RN=new X("SysvarEpochSchedu1e111111111111111111111111"),TN=new X("Sysvar1nstructions1111111111111111111111111"),xc=new X("SysvarRecentB1ockHashes11111111111111111111"),ja=new X("SysvarRent111111111111111111111111111111111"),MN=new X("SysvarRewards111111111111111111111111111111"),NN=new X("SysvarS1otHashes111111111111111111111111111"),xN=new X("SysvarS1otHistory11111111111111111111111111"),Oc=new X("SysvarStakeHistory1111111111111111111111111");class To extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const ON={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class we extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function C0(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw o!=null?new To({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function es(t){return new Promise(e=>setTimeout(e,t))}function Ve(t,e){const n=t.layout.span>=0?t.layout.span:ob(t,e),r=de.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function et(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const lb=yn("lamportsPerSignature"),ub=ge([pe("version"),pe("state"),He("authorizedPubkey"),He("nonce"),ge([lb],"feeCalculator")]),L0=ub.span;class Bf{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=ub.decode(Pe(e),0);return new Bf({authorizedPubkey:new X(n.authorizedPubkey),nonce:new X(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Wa(t){const e=yt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=oM();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}class CN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(dt))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=et(dt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new X(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=et(dt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=et(dt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new X(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=et(dt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:o}=et(dt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new X(n),seed:r,space:i,programId:new X(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=et(dt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new X(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=et(dt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new X(n),seed:r,programId:new X(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:o,programId:s}=et(dt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new X(n),seed:r,lamports:i,space:o,programId:new X(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=et(dt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new X(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),et(dt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=et(dt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=et(dt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new X(n)}}static checkProgramId(e){if(!e.equals(_t.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const dt=Object.freeze({Create:{index:0,layout:ge([pe("instruction"),cr("lamports"),cr("space"),He("programId")])},Assign:{index:1,layout:ge([pe("instruction"),He("programId")])},Transfer:{index:2,layout:ge([pe("instruction"),Wa("lamports")])},CreateWithSeed:{index:3,layout:ge([pe("instruction"),He("base"),ls("seed"),cr("lamports"),cr("space"),He("programId")])},AdvanceNonceAccount:{index:4,layout:ge([pe("instruction")])},WithdrawNonceAccount:{index:5,layout:ge([pe("instruction"),cr("lamports")])},InitializeNonceAccount:{index:6,layout:ge([pe("instruction"),He("authorized")])},AuthorizeNonceAccount:{index:7,layout:ge([pe("instruction"),He("authorized")])},Allocate:{index:8,layout:ge([pe("instruction"),cr("space")])},AllocateWithSeed:{index:9,layout:ge([pe("instruction"),He("base"),ls("seed"),cr("space"),He("programId")])},AssignWithSeed:{index:10,layout:ge([pe("instruction"),He("base"),ls("seed"),He("programId")])},TransferWithSeed:{index:11,layout:ge([pe("instruction"),Wa("lamports"),ls("seed"),He("programId")])},UpgradeNonceAccount:{index:12,layout:ge([pe("instruction")])}});class _t{constructor(){}static createAccount(e){const n=dt.Create,r=Ve(n,{lamports:e.lamports,space:e.space,programId:Pe(e.programId.toBuffer())});return new tt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=dt.TransferWithSeed;n=Ve(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Pe(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=dt.Transfer;n=Ve(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new tt({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=dt.AssignWithSeed;n=Ve(i,{base:Pe(e.basePubkey.toBuffer()),seed:e.seed,programId:Pe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=dt.Assign;n=Ve(i,{programId:Pe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new tt({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=dt.CreateWithSeed,r=Ve(n,{base:Pe(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Pe(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new tt({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new De;"basePubkey"in e&&"seed"in e?n.add(_t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:L0,programId:this.programId})):n.add(_t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:L0,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=dt.InitializeNonceAccount,r=Ve(n,{authorized:Pe(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xc,isSigner:!1,isWritable:!1},{pubkey:ja,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new tt(i)}static nonceAdvance(e){const n=dt.AdvanceNonceAccount,r=Ve(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:xc,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new tt(i)}static nonceWithdraw(e){const n=dt.WithdrawNonceAccount,r=Ve(n,{lamports:e.lamports});return new tt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:xc,isSigner:!1,isWritable:!1},{pubkey:ja,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=dt.AuthorizeNonceAccount,r=Ve(n,{authorized:Pe(e.newAuthorizedPubkey.toBuffer())});return new tt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=dt.AllocateWithSeed;n=Ve(i,{base:Pe(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Pe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=dt.Allocate;n=Ve(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new tt({keys:r,programId:this.programId,data:n})}}_t.programId=new X("11111111111111111111111111111111");const LN=bo-300;class ks{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ks.chunkSize)+1+1)}static async load(e,n,r,i,o){{const g=await e.getMinimumBalanceForRentExemption(o.length),w=await e.getAccountInfo(r.publicKey,"confirmed");let m=null;if(w!==null){if(w.executable)return console.error("Program load failed, account is already executable"),!1;w.data.length!==o.length&&(m=m||new De,m.add(_t.allocate({accountPubkey:r.publicKey,space:o.length}))),w.owner.equals(i)||(m=m||new De,m.add(_t.assign({accountPubkey:r.publicKey,programId:i}))),w.lamports<g&&(m=m||new De,m.add(_t.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:g-w.lamports})))}else m=new De().add(_t.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:g>0?g:1,space:o.length,programId:i}));m!==null&&await C0(e,m,[n,r],{commitment:"confirmed"})}const s=ge([pe("instruction"),pe("offset"),pe("bytesLength"),pe("bytesLengthPadding"),_n(Ge("byte"),Eo(pe(),-8),"bytes")]),a=ks.chunkSize;let l=0,c=o,f=[];for(;c.length>0;){const g=c.slice(0,a),w=de.Buffer.alloc(a+16);s.encode({instruction:0,offset:l,bytes:g,bytesLength:0,bytesLengthPadding:0},w);const m=new De().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:w});f.push(C0(e,m,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await es(1e3/4),l+=a,c=c.slice(a)}await Promise.all(f);{const g=ge([pe("instruction")]),w=de.Buffer.alloc(g.span);g.encode({instruction:1},w);const m=new De().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ja,isSigner:!1,isWritable:!1}],programId:i,data:w}),_="processed",R=await e.sendTransaction(m,[n,r],{preflightCommitment:_}),{context:N,value:E}=await e.confirmTransaction({signature:R,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},_);if(E.err)throw new Error(`Transaction ${R} failed (${JSON.stringify(E)})`);for(;;){try{if(await e.getSlot({commitment:_})>N.slot)break}catch{}await new Promise(A=>setTimeout(A,Math.round(ab/2)))}}return!0}}ks.chunkSize=LN;const BN=new X("BPFLoader2111111111111111111111111111111111");class PN{static getMinNumSignatures(e){return ks.getMinNumSignatures(e)}static load(e,n,r,i,o){return ks.load(e,n,r,o,i)}}function DN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fp,R1;function UN(){if(R1)return fp;R1=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,f,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(g=t.call(r),g==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(g==="[object Object]"){for(l=e(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],f=n(r[c],!1),f!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+f),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return fp=function(r){var i=n(r,!1);if(i!==void 0)return""+i},fp}var zN=UN(),T1=DN(zN);const gl=32;function hp(t){let e=0;for(;t>1;)t/=2,e++;return e}function jN(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class cb{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=hp(jN(e+gl+1))-hp(gl)-1,r=this.getSlotsInEpoch(n),i=e-(r-gl);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*gl:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+hp(gl)):this.slotsPerEpoch}}var WN=globalThis.fetch;class FN extends HM{constructor(e,n,r){const i=o=>{const s=WM(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function HN(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const M1=56;class B0{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=HN(KN,e),r=e.length-M1;Ze(r>=0,"lookup table is invalid"),Ze(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=ge([_n(He(),i,"addresses")]).decode(e.slice(M1));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new X(n.authority[0]):void 0,addresses:o.map(s=>new X(s))}}}const KN={index:1,layout:ge([pe("typeIndex"),Wa("deactivationSlot"),yn("lastExtendedSlot"),Ge("lastExtendedStartIndex"),Ge(),_n(He(),Eo(Ge(),-1),"authority")])},$N=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function VN(t){const e=t.match($N);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const Rt=Nu(Jy(X),se(),t=>new X(t)),db=em([se(),At("base64")]),cm=Nu(Jy(de.Buffer),db,t=>de.Buffer.from(t[0],"base64")),fb=30*1e3;function GN(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ct(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function N1(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function hb(t){return Fn([J({jsonrpc:At("2.0"),id:se(),result:t}),J({jsonrpc:At("2.0"),id:se(),error:J({code:el(),message:se(),data:ve(dM())})})])}const YN=hb(el());function Be(t){return Nu(hb(t),YN,e=>"error"in e?e:{...e,result:le(e.result,t)})}function Ct(t){return Be(J({context:J({slot:$()}),value:t}))}function Pf(t){return J({context:J({slot:$()}),value:t})}function pp(t,e){return t===0?new Is({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new X(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Ot.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Vr(e)}const qN=J({foundation:$(),foundationTerm:$(),initial:$(),taper:$(),terminal:$()}),ZN=Be(ue(ce(J({epoch:$(),effectiveSlot:$(),amount:$(),postBalance:$(),commission:ve(ce($()))})))),QN=ue(J({slot:$(),prioritizationFee:$()})),XN=J({total:$(),validator:$(),foundation:$(),epoch:$()}),JN=J({epoch:$(),slotIndex:$(),slotsInEpoch:$(),absoluteSlot:$(),blockHeight:ve($()),transactionCount:ve($())}),ex=J({slotsPerEpoch:$(),leaderScheduleSlotOffset:$(),warmup:li(),firstNormalEpoch:$(),firstNormalSlot:$()}),tx=jE(se(),ue($())),Ls=ce(Fn([J({}),se()])),nx=J({err:Ls}),rx=At("receivedSignature"),ix=J({"solana-core":se(),"feature-set":ve($())}),ox=J({program:se(),programId:Rt,parsed:el()}),sx=J({programId:Rt,accounts:ue(Rt),data:se()}),x1=Ct(J({err:ce(Fn([J({}),se()])),logs:ce(ue(se())),accounts:ve(ce(ue(ce(J({executable:li(),owner:se(),lamports:$(),data:ue(se()),rentEpoch:ve($())}))))),unitsConsumed:ve($()),returnData:ve(ce(J({programId:se(),data:em([se(),At("base64")])}))),innerInstructions:ve(ce(ue(J({index:$(),instructions:ue(Fn([ox,sx]))}))))})),ax=Ct(J({byIdentity:jE(se(),ue($())),range:J({firstSlot:$(),lastSlot:$()})}));function lx(t,e,n,r,i,o){const s=n||WN;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(f,g)=>{const w=await new Promise((m,_)=>{try{r(f,g,(R,N)=>m([R,N]))}catch(R){_(R)}});return await s(...w)}),new UM(async(f,g)=>{const w={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},lO)};try{let m=5,_,R=500;for(;l?_=await l(t,w):_=await s(t,w),!(_.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${_.status} ${_.statusText}.  Retrying after ${R}ms delay...`),await es(R),R*=2;const N=await _.text();_.ok?g(null,N):g(new Error(`${_.status} ${_.statusText}: ${N}`))}catch(m){m instanceof Error&&g(m)}},{})}function ux(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function cx(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const dx=Be(qN),fx=Be(XN),hx=Be(QN),px=Be(JN),gx=Be(ex),yx=Be(tx),mx=Be($()),wx=Ct(J({total:$(),circulating:$(),nonCirculating:$(),nonCirculatingAccounts:ue(Rt)})),P0=J({amount:se(),uiAmount:ce($()),decimals:$(),uiAmountString:ve(se())}),vx=Ct(ue(J({address:Rt,amount:se(),uiAmount:ce($()),decimals:$(),uiAmountString:ve(se())}))),_x=Ct(ue(J({pubkey:Rt,account:J({executable:li(),owner:Rt,lamports:$(),data:cm,rentEpoch:$()})}))),D0=J({program:se(),parsed:el(),space:$()}),Sx=Ct(ue(J({pubkey:Rt,account:J({executable:li(),owner:Rt,lamports:$(),data:D0,rentEpoch:$()})}))),Ex=Ct(ue(J({lamports:$(),address:Rt}))),mu=J({executable:li(),owner:Rt,lamports:$(),data:cm,rentEpoch:$()}),bx=J({pubkey:Rt,account:mu}),Ax=Nu(Fn([Jy(de.Buffer),D0]),Fn([db,D0]),t=>Array.isArray(t)?le(t,cm):t),U0=J({executable:li(),owner:Rt,lamports:$(),data:Ax,rentEpoch:$()}),Ix=J({pubkey:Rt,account:U0}),kx=J({state:Fn([At("active"),At("inactive"),At("activating"),At("deactivating")]),active:$(),inactive:$()}),Rx=Be(ue(J({signature:se(),slot:$(),err:Ls,memo:ce(se()),blockTime:ve(ce($()))}))),Tx=Be(ue(J({signature:se(),slot:$(),err:Ls,memo:ce(se()),blockTime:ve(ce($()))}))),Mx=J({subscription:$(),result:Pf(mu)}),Nx=J({pubkey:Rt,account:mu}),xx=J({subscription:$(),result:Pf(Nx)}),Ox=J({parent:$(),slot:$(),root:$()}),Cx=J({subscription:$(),result:Ox}),Lx=Fn([J({type:Fn([At("firstShredReceived"),At("completed"),At("optimisticConfirmation"),At("root")]),slot:$(),timestamp:$()}),J({type:At("createdBank"),parent:$(),slot:$(),timestamp:$()}),J({type:At("frozen"),slot:$(),timestamp:$(),stats:J({numTransactionEntries:$(),numSuccessfulTransactions:$(),numFailedTransactions:$(),maxTransactionsPerEntry:$()})}),J({type:At("dead"),slot:$(),timestamp:$(),err:se()})]),Bx=J({subscription:$(),result:Lx}),Px=J({subscription:$(),result:Pf(Fn([nx,rx]))}),Dx=J({subscription:$(),result:$()}),Ux=J({pubkey:se(),gossip:ce(se()),tpu:ce(se()),rpc:ce(se()),version:ce(se())}),O1=J({votePubkey:se(),nodePubkey:se(),activatedStake:$(),epochVoteAccount:li(),epochCredits:ue(em([$(),$(),$()])),commission:$(),lastVote:$(),rootSlot:ce($())}),zx=Be(J({current:ue(O1),delinquent:ue(O1)})),jx=Fn([At("processed"),At("confirmed"),At("finalized")]),Wx=J({slot:$(),confirmations:ce($()),err:Ls,confirmationStatus:ve(jx)}),Fx=Ct(ue(ce(Wx))),Hx=Be($()),pb=J({accountKey:Rt,writableIndexes:ue($()),readonlyIndexes:ue($())}),dm=J({signatures:ue(se()),message:J({accountKeys:ue(se()),header:J({numRequiredSignatures:$(),numReadonlySignedAccounts:$(),numReadonlyUnsignedAccounts:$()}),instructions:ue(J({accounts:ue($()),data:se(),programIdIndex:$()})),recentBlockhash:se(),addressTableLookups:ve(ue(pb))})}),gb=J({pubkey:Rt,signer:li(),writable:li(),source:ve(Fn([At("transaction"),At("lookupTable")]))}),yb=J({accountKeys:ue(gb),signatures:ue(se())}),mb=J({parsed:el(),program:se(),programId:Rt}),wb=J({accounts:ue(Rt),data:se(),programId:Rt}),Kx=Fn([wb,mb]),$x=Fn([J({parsed:el(),program:se(),programId:se()}),J({accounts:ue(se()),data:se(),programId:se()})]),vb=Nu(Kx,$x,t=>"accounts"in t?le(t,wb):le(t,mb)),_b=J({signatures:ue(se()),message:J({accountKeys:ue(gb),instructions:ue(vb),recentBlockhash:se(),addressTableLookups:ve(ce(ue(pb)))})}),qd=J({accountIndex:$(),mint:se(),owner:ve(se()),programId:ve(se()),uiTokenAmount:P0}),Sb=J({writable:ue(Rt),readonly:ue(Rt)}),Df=J({err:Ls,fee:$(),innerInstructions:ve(ce(ue(J({index:$(),instructions:ue(J({accounts:ue($()),data:se(),programIdIndex:$()}))})))),preBalances:ue($()),postBalances:ue($()),logMessages:ve(ce(ue(se()))),preTokenBalances:ve(ce(ue(qd))),postTokenBalances:ve(ce(ue(qd))),loadedAddresses:ve(Sb),computeUnitsConsumed:ve($()),costUnits:ve($())}),fm=J({err:Ls,fee:$(),innerInstructions:ve(ce(ue(J({index:$(),instructions:ue(vb)})))),preBalances:ue($()),postBalances:ue($()),logMessages:ve(ce(ue(se()))),preTokenBalances:ve(ce(ue(qd))),postTokenBalances:ve(ce(ue(qd))),loadedAddresses:ve(Sb),computeUnitsConsumed:ve($()),costUnits:ve($())}),tl=Fn([At(0),At("legacy")]),Bs=J({pubkey:se(),lamports:$(),postBalance:ce($()),rewardType:ce(se()),commission:ve(ce($()))}),Vx=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),transactions:ue(J({transaction:dm,meta:ce(Df),version:ve(tl)})),rewards:ve(ue(Bs)),blockTime:ce($()),blockHeight:ce($())}))),Gx=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),rewards:ve(ue(Bs)),blockTime:ce($()),blockHeight:ce($())}))),Yx=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),transactions:ue(J({transaction:yb,meta:ce(Df),version:ve(tl)})),rewards:ve(ue(Bs)),blockTime:ce($()),blockHeight:ce($())}))),qx=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),transactions:ue(J({transaction:_b,meta:ce(fm),version:ve(tl)})),rewards:ve(ue(Bs)),blockTime:ce($()),blockHeight:ce($())}))),Zx=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),transactions:ue(J({transaction:yb,meta:ce(fm),version:ve(tl)})),rewards:ve(ue(Bs)),blockTime:ce($()),blockHeight:ce($())}))),Qx=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),rewards:ve(ue(Bs)),blockTime:ce($()),blockHeight:ce($())}))),Xx=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),transactions:ue(J({transaction:dm,meta:ce(Df)})),rewards:ve(ue(Bs)),blockTime:ce($())}))),C1=Be(ce(J({blockhash:se(),previousBlockhash:se(),parentSlot:$(),signatures:ue(se()),blockTime:ce($())}))),gp=Be(ce(J({slot:$(),meta:ce(Df),blockTime:ve(ce($())),transaction:dm,version:ve(tl)}))),dc=Be(ce(J({slot:$(),transaction:_b,meta:ce(fm),blockTime:ve(ce($())),version:ve(tl)}))),Jx=Ct(J({blockhash:se(),lastValidBlockHeight:$()})),eO=Ct(li()),tO=J({slot:$(),numTransactions:$(),numSlots:$(),samplePeriodSecs:$()}),nO=Be(ue(tO)),rO=Ct(ce(J({feeCalculator:J({lamportsPerSignature:$()})}))),iO=Be(se()),oO=Be(se()),sO=J({err:Ls,logs:ue(se()),signature:se()}),aO=J({result:Pf(sO),subscription:$()}),lO={"solana-client":"js/1.0.0-maintenance"};class hm{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async f=>{const{commitment:g,config:w}=ct(f),m=this._buildArgs([],g,void 0,w),_=T1(m);return c[_]=c[_]??(async()=>{try{const R=await this._rpcRequest("getBlockHeight",m),N=le(R,Be($()));if("error"in N)throw new we(N.error,"failed to get block height information");return N.result}finally{delete c[_]}})(),await c[_]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=GN(e),this._rpcWsEndpoint=r||VN(e),this._rpcClient=lx(e,i,o,s,a,l),this._rpcRequest=ux(this._rpcClient),this._rpcBatchRequest=cx(this._rpcClient),this._rpcWebSocket=new FN(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=le(s,Ct($()));if("error"in a)throw new we(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=le(n,Be(ce($())));if("error"in r)throw new we(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=le(e,Be($()));if("error"in n)throw new we(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=le(e,mx);if("error"in n)throw new we(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=le(r,wx);if("error"in i)throw new we(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=le(i,Ct(P0));if("error"in o)throw new we(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=le(i,Ct(P0));if("error"in o)throw new we(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=ct(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=le(l,_x);if("error"in c)throw new we(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=le(s,Sx);if("error"in a)throw new we(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=le(i,Ex);if("error"in o)throw new we(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=le(i,vx);if("error"in o)throw new we(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=le(s,Ct(ce(mu)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=le(s,Ct(ce(U0)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=ct(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=le(a,Ct(ue(ce(U0))));if("error"in l)throw new we(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=ct(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=le(a,Ct(ue(ce(mu))));if("error"in l)throw new we(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=ct(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=le(a,Be(kx));if("error"in l)throw new we(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=ct(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:N1(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=ue(bx),f=s.withContext===!0?le(l,Ct(c)):le(l,Be(c));if("error"in f)throw new we(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=le(s,Be(ue(Ix)));if("error"in a)throw new we(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Ot.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ze(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(g,w)=>{r=void 0;const m={context:w,value:g};l({__type:vi.PROCESSED,response:m})},e);const f=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,w=>{w==="subscribed"&&g()})});(async()=>{if(await f,o)return;const g=await this.getSignatureStatus(n);if(o||g==null)return;const{context:w,value:m}=g;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:vi.PROCESSED,response:{context:w,value:m}})}})()}catch(f){c(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(g=>{const w=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await w();if(!o){for(;m<=r;)if(await es(1e3),o||(m=await w(),o))return;g({__type:vi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let f;try{const g=await Promise.race([c,l,s]);if(g.__type===vi.PROCESSED)f=g.response;else throw new sm(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let _=o,R=null;const N=async()=>{try{const{context:E,value:A}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return R=E.slot,A==null?void 0:A.nonce}catch{return _}};(async()=>{if(_=await N(),!a)for(;;){if(o!==_){m({__type:vi.NONCE_INVALID,slotInWhichNonceDidAdvance:R});return}if(await es(2e3),a||(_=await N(),a))return}})()}),{abortConfirmation:c,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),g=this.getCancellationPromise(n);let w;try{const m=await Promise.race([g,f,l]);if(m.__type===vi.PROCESSED)w=m.response;else{let _;for(;;){const R=await this.getSignatureStatus(s);if(R==null)break;if(R.context.slot<(m.slotInWhichNonceDidAdvance??r)){await es(400);continue}_=R;break}if(_!=null&&_.value){const R=e||"finalized",{confirmationStatus:N}=_.value;switch(R){case"processed":case"recent":if(N!=="processed"&&N!=="confirmed"&&N!=="finalized")throw new ha(s);break;case"confirmed":case"single":case"singleGossip":if(N!=="confirmed"&&N!=="finalized")throw new ha(s);break;case"finalized":case"max":case"root":if(N!=="finalized")throw new ha(s);break;default:}w={context:_.context,value:{err:_.value.err}}}else throw new ha(s)}}finally{a=!0,c()}return w}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:vi.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===vi.PROCESSED)a=l.response;else throw new am(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=le(e,Be(ue(Ux)));if("error"in n)throw new we(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=le(r,zx);if("error"in i)throw new we(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=ct(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=le(o,Be($()));if("error"in s)throw new we(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=ct(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=le(o,Be(se()));if("error"in s)throw new we(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=le(i,Be(ue(Rt)));if("error"in o)throw new we(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Ze(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=le(i,Fx);if("error"in o)throw new we(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=ct(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=le(o,Be($()));if("error"in s)throw new we(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=le(r,dx);if("error"in i)throw new we(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=ct(r),s=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=le(a,ZN);if("error"in l)throw new we(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=le(e,fx);if("error"in n)throw new we(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=ct(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=le(o,px);if("error"in s)throw new we(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=le(e,gx);if("error"in n)throw new we(n.error,"failed to get epoch schedule");const r=n.result;return new cb(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=le(e,yx);if("error"in n)throw new we(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=le(i,Hx);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=le(n,nO);if("error"in r)throw new we(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=le(i,rO);if("error"in o)throw new we(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Pe(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=le(o,Ct(ce($())));if("error"in s)throw new we(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=le(i,hx);if("error"in o)throw new we(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=ct(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=le(o,Jx);if("error"in s)throw new we(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=le(s,eO);if("error"in a)throw new we(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=le(e,Be(ix));if("error"in n)throw new we(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=le(e,Be(se()));if("error"in n)throw new we(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=le(s,Yx);if("error"in a)throw a.error;return a.result}case"none":{const a=le(s,Gx);if("error"in a)throw a.error;return a.result}default:{const a=le(s,Vx);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:f,version:g})=>({meta:f,transaction:{...c,message:pp(g,c.message)},version:g}))}:null}}}catch(a){throw new we(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=le(s,Zx);if("error"in a)throw a.error;return a.result}case"none":{const a=le(s,Qx);if("error"in a)throw a.error;return a.result}default:{const a=le(s,qx);if("error"in a)throw a.error;return a.result}}}catch(a){throw new we(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=le(o,ax);if("error"in s)throw new we(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=le(s,gp);if("error"in a)throw new we(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:pp(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=ct(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=le(s,dc);if("error"in a)throw new we(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=ct(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=le(l,dc);if("error"in c)throw new we(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=ct(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=le(l,gp);if("error"in c)throw new we(c.error,"failed to get transactions");const f=c.result;return f&&{...f,transaction:{...f.transaction,message:pp(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=le(i,Xx);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const f=new Vr(l.message);return{meta:c,transaction:{...l,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:De.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=le(o,Be(ue($())));if("error"in s)throw new we(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=le(i,C1);if("error"in o)throw new we(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=le(i,C1);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=le(i,gp);if("error"in o)throw new we(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Vr(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:De.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=le(i,dc);if("error"in o)throw new we(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=le(s,dc);if("error"in a)throw new we(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=le(o,Rx);if("error"in s)throw new we(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=le(o,Tx);if("error"in s)throw new we(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new B0({key:e,state:B0.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=Bf.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=le(r,iO);if("error"in i)throw new we(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await es(100);const r=Date.now()-this._blockhashInfo.lastFetch>=fb;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await es(ab/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=ct(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=le(o,Ct($()));if("error"in s)throw new we(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const R=e.serialize(),N=de.Buffer.from(R).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const E=n||{};E.encoding="base64","commitment"in E||(E.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const A=[N,E],S=await this._rpcRequest("simulateTransaction",A),M=le(S,x1);if("error"in M)throw new Error("failed to simulate transaction: "+M.error.message);return M.result}let i;if(e instanceof De){let _=e;i=new De,i.feePayer=_.feePayer,i.instructions=e.instructions,i.nonceInfo=_.nonceInfo,i.signatures=_.signatures}else i=De.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let _=this._disableBlockhashCaching;for(;;){const R=await this._blockhashWithExpiryBlockHeight(_);if(i.lastValidBlockHeight=R.lastValidBlockHeight,i.recentBlockhash=R.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const N=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(N)&&!this._blockhashInfo.transactionSignatures.includes(N)){this._blockhashInfo.simulatedSignatures.push(N);break}else _=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(r){const _=(Array.isArray(r)?r:s.nonProgramIds()).map(R=>R.toBase58());f.accounts={encoding:"base64",addresses:_}}o&&(f.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(f.innerInstructions=n.innerInstructions);const g=[c,f],w=await this._rpcRequest("simulateTransaction",g),m=le(w,x1);if("error"in m){let _;if("data"in m.error&&(_=m.error.data.logs,_&&Array.isArray(_))){const R=`
    `,N=R+_.join(R);console.error(m.error.message,N)}throw new To({action:"simulate",signature:"",transactionMessage:m.error.message,logs:_})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=Pe(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),l=le(a,oO);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new To({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=le(e,Mx);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=T1([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];Ze(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=ct(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=le(e,xx);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=ct(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:N1(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=le(e,aO);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=le(e,Cx);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=le(e,Bx);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=le(e,Px);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=le(e,Dx);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ia{constructor(e){this._keypair=void 0,this._keypair=e??A1()}static generate(){return new Ia(A1())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),o=Yd(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new Ia({publicKey:r,secretKey:e})}static fromSeed(e){const n=Yd(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Ia({publicKey:n,secretKey:r})}get publicKey(){return new X(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const ki=Object.freeze({CreateLookupTable:{index:0,layout:ge([pe("instruction"),Wa("recentSlot"),Ge("bumpSeed")])},FreezeLookupTable:{index:1,layout:ge([pe("instruction")])},ExtendLookupTable:{index:2,layout:ge([pe("instruction"),Wa(),_n(He(),Eo(pe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ge([pe("instruction")])},CloseLookupTable:{index:4,layout:ge([pe("instruction")])}});class uO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ki))if(s.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=et(ki.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=et(ki.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new X(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(pm.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class pm{constructor(){}static createLookupTable(e){const[n,r]=X.findProgramAddressSync([e.authority.toBuffer(),DE().encode(e.recentSlot)],this.programId),i=ki.CreateLookupTable,o=Ve(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:_t.programId,isSigner:!1,isWritable:!1}];return[new tt({programId:this.programId,keys:s,data:o}),n]}static freezeLookupTable(e){const n=ki.FreezeLookupTable,r=Ve(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new tt({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=ki.ExtendLookupTable,r=Ve(n,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:_t.programId,isSigner:!1,isWritable:!1}),new tt({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=ki.DeactivateLookupTable,r=Ve(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new tt({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=ki.CloseLookupTable,r=Ve(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new tt({programId:this.programId,keys:i,data:r})}}pm.programId=new X("AddressLookupTab1e1111111111111111111111111");class cO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Ge("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ti))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=et(ti.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=et(ti.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=et(ti.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=et(ti.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(gm.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ti=Object.freeze({RequestUnits:{index:0,layout:ge([Ge("instruction"),pe("units"),pe("additionalFee")])},RequestHeapFrame:{index:1,layout:ge([Ge("instruction"),pe("bytes")])},SetComputeUnitLimit:{index:2,layout:ge([Ge("instruction"),pe("units")])},SetComputeUnitPrice:{index:3,layout:ge([Ge("instruction"),Wa("microLamports")])}});class gm{constructor(){}static requestUnits(e){const n=ti.RequestUnits,r=Ve(n,e);return new tt({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=ti.RequestHeapFrame,r=Ve(n,e);return new tt({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=ti.SetComputeUnitLimit,r=Ve(n,e);return new tt({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=ti.SetComputeUnitPrice,r=Ve(n,{microLamports:BigInt(e.microLamports)});return new tt({keys:[],programId:this.programId,data:r})}}gm.programId=new X("ComputeBudget111111111111111111111111111111");const L1=64,B1=32,P1=64,D1=ge([Ge("numSignatures"),Ge("padding"),br("signatureOffset"),br("signatureInstructionIndex"),br("publicKeyOffset"),br("publicKeyInstructionIndex"),br("messageDataOffset"),br("messageDataSize"),br("messageInstructionIndex")]);class Uf{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:o}=e;Ze(n.length===B1,`Public Key must be ${B1} bytes but received ${n.length} bytes`),Ze(i.length===P1,`Signature must be ${P1} bytes but received ${i.length} bytes`);const s=D1.span,a=s+n.length,l=a+i.length,c=1,f=de.Buffer.alloc(l+r.length),g=o??65535;return D1.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:s,publicKeyInstructionIndex:g,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:g},f),f.fill(n,s),f.fill(i,a),f.fill(r,l),new tt({keys:[],programId:Uf.programId,data:f})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;Ze(n.length===L1,`Private key must be ${L1} bytes but received ${n.length} bytes`);try{const o=Ia.fromSecretKey(n),s=o.publicKey.toBytes(),a=im(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Uf.programId=new X("Ed25519SigVerify111111111111111111111111111");const dO=(t,e)=>{const n=rm.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};rm.utils.isValidPrivateKey;const fO=rm.getPublicKey,U1=32,yp=20,z1=64,hO=11,mp=ge([Ge("numSignatures"),br("signatureOffset"),Ge("signatureInstructionIndex"),br("ethAddressOffset"),Ge("ethAddressInstructionIndex"),br("messageDataOffset"),br("messageDataSize"),Ge("messageInstructionIndex"),yt(20,"ethAddress"),yt(64,"signature"),Ge("recoveryId")]);class ka{constructor(){}static publicKeyToEthAddress(e){Ze(e.length===z1,`Public key must be ${z1} bytes but received ${e.length} bytes`);try{return de.Buffer.from(S1(Pe(e))).slice(-yp)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return ka.createInstructionWithEthAddress({ethAddress:ka.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=de.Buffer.from(n.substr(2),"hex"):a=de.Buffer.from(n,"hex"):a=n,Ze(a.length===yp,`Address must be ${yp} bytes but received ${a.length} bytes`);const l=1+hO,c=l,f=l+a.length,g=f+i.length+1,w=1,m=de.Buffer.alloc(mp.span+r.length);return mp.encode({numSignatures:w,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:c,ethAddressInstructionIndex:s,messageDataOffset:g,messageDataSize:r.length,messageInstructionIndex:s,signature:Pe(i),ethAddress:Pe(a),recoveryId:o},m),m.fill(Pe(r),mp.span),new tt({keys:[],programId:ka.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;Ze(n.length===U1,`Private key must be ${U1} bytes but received ${n.length} bytes`);try{const o=Pe(n),s=fO(o,!1).slice(1),a=de.Buffer.from(S1(Pe(r))),[l,c]=dO(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:l,recoveryId:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}ka.programId=new X("KeccakSecp256k11111111111111111111111111111");var Eb;const bb=new X("StakeConfig11111111111111111111111111111111");class Ab{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class xu{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}Eb=xu;xu.default=new Eb(0,0,X.default);class pO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(fn))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=et(fn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ab(new X(n.staker),new X(n.withdrawer)),lockup:new xu(r.unixTimestamp,r.epoch,new X(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),et(fn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=et(fn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new X(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=et(fn.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new X(o),newAuthorizedPubkey:new X(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=et(fn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),et(fn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=et(fn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),et(fn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(zf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const fn=Object.freeze({Initialize:{index:0,layout:ge([pe("instruction"),vN(),_N()])},Authorize:{index:1,layout:ge([pe("instruction"),He("newAuthorized"),pe("stakeAuthorizationType")])},Delegate:{index:2,layout:ge([pe("instruction")])},Split:{index:3,layout:ge([pe("instruction"),cr("lamports")])},Withdraw:{index:4,layout:ge([pe("instruction"),cr("lamports")])},Deactivate:{index:5,layout:ge([pe("instruction")])},Merge:{index:7,layout:ge([pe("instruction")])},AuthorizeWithSeed:{index:8,layout:ge([pe("instruction"),He("newAuthorized"),pe("stakeAuthorizationType"),ls("authoritySeed"),He("authorityOwner")])}}),gO=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class zf{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,o=i||xu.default,s=fn.Initialize,a=Ve(s,{authorized:{staker:Pe(r.staker.toBuffer()),withdrawer:Pe(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Pe(o.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ja,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new tt(l)}static createAccountWithSeed(e){const n=new De;n.add(_t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const n=new De;n.add(_t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,o=fn.Delegate,s=Ve(o);return new De().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:Oc,isSigner:!1,isWritable:!1},{pubkey:bb,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=fn.Authorize,l=Ve(a,{newAuthorized:Pe(i.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new De().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:l}=e,c=fn.AuthorizeWithSeed,f=Ve(c,{newAuthorized:Pe(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Pe(o.toBuffer())}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Zr,isSigner:!1,isWritable:!1}];return l&&g.push({pubkey:l,isSigner:!0,isWritable:!1}),new De().add({keys:g,programId:this.programId,data:f})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=fn.Split,a=Ve(s,{lamports:o});return new tt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new De;return r.add(_t.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:l}=e,c=new De;return c.add(_t.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(_t.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,o=fn.Merge,s=Ve(o);return new De().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:Oc,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=fn.Withdraw,l=Ve(a,{lamports:o}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:Oc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new De().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=fn.Deactivate,o=Ve(i);return new De().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}zf.programId=new X("Stake11111111111111111111111111111111111111");zf.space=200;class Ib{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class yO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ni))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=et(ni.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Ib(new X(n.nodePubkey),new X(n.authorizedVoter),new X(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=et(ni.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new X(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=et(ni.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new X(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new X(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=et(ni.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(nl.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const ni=Object.freeze({InitializeAccount:{index:0,layout:ge([pe("instruction"),SN()])},Authorize:{index:1,layout:ge([pe("instruction"),He("newAuthorized"),pe("voteAuthorizationType")])},Withdraw:{index:3,layout:ge([pe("instruction"),cr("lamports")])},UpdateValidatorIdentity:{index:4,layout:ge([pe("instruction")])},AuthorizeWithSeed:{index:10,layout:ge([pe("instruction"),EN()])}}),mO=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class nl{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,o=ni.InitializeAccount,s=Ve(o,{voteInit:{nodePubkey:Pe(i.nodePubkey.toBuffer()),authorizedVoter:Pe(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Pe(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ja,isSigner:!1,isWritable:!1},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new tt(a)}static createAccount(e){const n=new De;return n.add(_t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=ni.Authorize,a=Ve(s,{newAuthorized:Pe(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new De().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,l=ni.AuthorizeWithSeed,c=Ve(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Pe(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Pe(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new De().add({keys:f,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=ni.Withdraw,a=Ve(s,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new De().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return nl.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=ni.UpdateValidatorIdentity,s=Ve(o),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new De().add({keys:a,programId:this.programId,data:s})}}nl.programId=new X("Vote111111111111111111111111111111111111111");nl.space=3762;const kb=new X("Va1idator1nfo111111111111111111111111111111"),wO=J({name:se(),website:ve(se()),details:ve(se()),iconUrl:ve(se()),keybaseUsername:ve(se())});class ym{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Vn(n)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new X(Gn(n,0,ai)),a=ei(n)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(kb)&&i[1].isSigner){const o=ls().decode(de.Buffer.from(n)),s=JSON.parse(o);return UE(s,wO),new ym(i[1].publicKey,s)}return null}}const vO=new X("Vote111111111111111111111111111111111111111"),_O=ge([He("nodePubkey"),He("authorizedWithdrawer"),Ge("commission"),yn(),_n(ge([yn("slot"),pe("confirmationCount")]),Eo(pe(),-8),"votes"),Ge("rootSlotValid"),yn("rootSlot"),yn(),_n(ge([yn("epoch"),He("authorizedVoter")]),Eo(pe(),-8),"authorizedVoters"),ge([_n(ge([He("authorizedPubkey"),yn("epochOfLastAuthorizedSwitch"),yn("targetEpoch")]),32,"buf"),yn("idx"),Ge("isEmpty")],"priorVoters"),yn(),_n(ge([yn("epoch"),yn("credits"),yn("prevCredits")]),Eo(pe(),-8),"epochCredits"),ge([yn("slot"),yn("timestamp")],"lastTimestamp")]);class mm{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=_O.decode(Pe(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new mm({nodePubkey:new X(r.nodePubkey),authorizedWithdrawer:new X(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(SO),priorVoters:EO(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function SO({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new X(t)}}function j1({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new X(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function EO({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(j1),...t.slice(0,e).map(j1)]}const W1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function bO(t,e){const n=e===!1?"http":"https";if(!t)return W1[n].devnet;const r=W1[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function AO(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),l=o&&o.commitment,f=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(f.err)throw a!=null?new To({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(f)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}const Vo=1e9,IO=Object.freeze(Object.defineProperty({__proto__:null,Account:yN,AddressLookupTableAccount:B0,AddressLookupTableInstruction:uO,AddressLookupTableProgram:pm,Authorized:Ab,BLOCKHASH_CACHE_TIMEOUT_MS:fb,BPF_LOADER_DEPRECATED_PROGRAM_ID:mN,BPF_LOADER_PROGRAM_ID:BN,BpfLoader:PN,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ti,ComputeBudgetInstruction:cO,ComputeBudgetProgram:gm,Connection:hm,Ed25519Program:Uf,Enum:pN,EpochSchedule:cb,FeeCalculatorLayout:lb,Keypair:Ia,LAMPORTS_PER_SOL:Vo,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:ki,Loader:ks,Lockup:xu,MAX_SEED_LENGTH:ib,Message:Vr,MessageAccountKeys:gu,MessageV0:Is,NONCE_ACCOUNT_LENGTH:L0,NonceAccount:Bf,PACKET_DATA_SIZE:bo,PUBLIC_KEY_LENGTH:ai,PublicKey:X,SIGNATURE_LENGTH_IN_BYTES:pu,SOLANA_SCHEMA:Fl,STAKE_CONFIG_ID:bb,STAKE_INSTRUCTION_LAYOUTS:fn,SYSTEM_INSTRUCTION_LAYOUTS:dt,SYSVAR_CLOCK_PUBKEY:Zr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:RN,SYSVAR_INSTRUCTIONS_PUBKEY:TN,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:xc,SYSVAR_RENT_PUBKEY:ja,SYSVAR_REWARDS_PUBKEY:MN,SYSVAR_SLOT_HASHES_PUBKEY:NN,SYSVAR_SLOT_HISTORY_PUBKEY:xN,SYSVAR_STAKE_HISTORY_PUBKEY:Oc,Secp256k1Program:ka,SendTransactionError:To,SolanaJSONRPCError:we,SolanaJSONRPCErrorCode:ON,StakeAuthorizationLayout:gO,StakeInstruction:pO,StakeProgram:zf,Struct:om,SystemInstruction:CN,SystemProgram:_t,Transaction:De,TransactionExpiredBlockheightExceededError:sm,TransactionExpiredNonceInvalidError:ha,TransactionExpiredTimeoutError:am,TransactionInstruction:tt,TransactionMessage:um,TransactionStatus:vi,VALIDATOR_INFO_KEY:kb,VERSION_PREFIX_MASK:Cf,VOTE_PROGRAM_ID:vO,ValidatorInfo:ym,VersionedMessage:lm,VersionedTransaction:yu,VoteAccount:mm,VoteAuthorizationLayout:mO,VoteInit:Ib,VoteInstruction:yO,VoteProgram:nl,clusterApiUrl:bO,sendAndConfirmRawTransaction:AO,sendAndConfirmTransaction:C0},Symbol.toStringTag,{value:"Module"}));var Rb={exports:{}};const kO=/[\p{Lu}]/u,RO=/[\p{Ll}]/u,F1=/^[\p{Lu}](?![\p{Lu}])/gu,Tb=/([\p{Alpha}\p{N}_]|$)/u,Mb=/[_.\- ]+/,TO=new RegExp("^"+Mb.source),H1=new RegExp(Mb.source+Tb.source,"gu"),K1=new RegExp("\\d+"+Tb.source,"gu"),MO=(t,e,n)=>{let r=!1,i=!1,o=!1;for(let s=0;s<t.length;s++){const a=t[s];r&&kO.test(a)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,o=i,i=!0,s++):i&&o&&RO.test(a)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),o=i,i=!1,r=!0):(r=e(a)===a&&n(a)!==a,o=i,i=n(a)===a&&e(a)!==a)}return t},NO=(t,e)=>(F1.lastIndex=0,t.replace(F1,n=>e(n))),xO=(t,e)=>(H1.lastIndex=0,K1.lastIndex=0,t.replace(H1,(n,r)=>e(r)).replace(K1,n=>e(n))),Nb=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=MO(t,n,r)),t=t.replace(TO,""),e.preserveConsecutiveUppercase?t=NO(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),xO(t,r))};Rb.exports=Nb;Rb.exports.default=Nb;var xe={},fe={};let st=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};fe.Layout=st;function wm(t,e){return e.property?t+"["+e.property+"]":t}fe.nameWithProperty=wm;function OO(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof st))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}fe.bindConstructorLayout=OO;let Zn=class extends st{isCount(){throw new Error("ExternalLayout is abstract")}};class xb extends Zn{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let vm=class extends Zn{constructor(e,n,r){if(!(e instanceof st))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof fi||this.layout instanceof Fi}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},fi=class extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},Fi=class extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class Ps extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class rl extends st{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const z0=Math.pow(2,32);function jf(t){const e=Math.floor(t/z0),n=t-e*z0;return{hi32:e,lo32:n}}function Wf(t,e){return t*z0+e}let CO=class extends st{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Wf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=jf(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}};class LO extends st{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),i=e.readUInt32BE(n+4);return Wf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=jf(e);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}let BO=class extends st{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Wf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=jf(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}};class PO extends st{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),i=e.readUInt32BE(n+4);return Wf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=jf(e);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}class Ob extends st{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class Cb extends st{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class Lb extends st{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class Bb extends st{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class Pb extends st{constructor(e,n,r){if(!(e instanceof st))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Zn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Zn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,i=this.count;if(i instanceof Zn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n){n===void 0&&(n=0);const r=[];let i=0,o=this.count;for(o instanceof Zn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r){r===void 0&&(r=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Zn&&this.count.encode(e.length,n,r),o}}let Db=class extends st{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof st,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},_m=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Zd=class extends _m{constructor(e,n){if(!(e instanceof Zn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},Sm=class extends st{constructor(e,n,r){const i=e instanceof fi||e instanceof Fi;if(i)e=new Zd(new vm(e));else if(e instanceof Zn&&e.isCount())e=new Zd(e);else if(!(e instanceof _m))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof st))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new Ub(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},Ub=class extends st{constructor(e,n,r,i){if(!(e instanceof Sm))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof st))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function $s(t){return 0>t&&(t+=4294967296),t}class Em extends st{constructor(e,n,r){if(!(e instanceof fi||e instanceof Fi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=$s(o),this},this._packedGetValue=function(){return i}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(i));return r}encode(e,n,r){r===void 0&&(r=0);const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Hl(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new zb(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class Hl{constructor(e,n,r){if(!(e instanceof Em))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=$s(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return $s(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==$s(e&this.valueMask))throw new TypeError(wm("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=$s(e<<this.start);this.container._packedSetValue($s(n&~this.wordMask)|r)}}let zb=class extends Hl{constructor(e,n){super(e,1,n)}decode(e,n){return!!Hl.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),Hl.prototype.encode.call(this,e)}},jb=class extends st{constructor(e,n){if(!(e instanceof Zn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Zn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Zn&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(wm("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof Zn&&this.length.encode(i,n,r),i}};class Wb extends st{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);return e.slice(n,n+i-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),n[r+o]=0,o+1}}class Fb extends st{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+i).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),o}}class Hb extends st{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}fe.ExternalLayout=Zn;fe.GreedyCount=xb;fe.OffsetLayout=vm;fe.UInt=fi;fe.UIntBE=Fi;fe.Int=Ps;fe.IntBE=rl;fe.Float=Ob;fe.FloatBE=Cb;fe.Double=Lb;fe.DoubleBE=Bb;fe.Sequence=Pb;fe.Structure=Db;fe.UnionDiscriminator=_m;fe.UnionLayoutDiscriminator=Zd;fe.Union=Sm;fe.VariantLayout=Ub;fe.BitStructure=Em;fe.BitField=Hl;fe.Boolean=zb;fe.Blob=jb;fe.CString=Wb;fe.UTF8=Fb;fe.Constant=Hb;fe.greedy=(t,e)=>new xb(t,e);fe.offset=(t,e,n)=>new vm(t,e,n);fe.u8=t=>new fi(1,t);fe.u16=t=>new fi(2,t);fe.u24=t=>new fi(3,t);fe.u32=t=>new fi(4,t);fe.u40=t=>new fi(5,t);fe.u48=t=>new fi(6,t);fe.nu64=t=>new CO(t);fe.u16be=t=>new Fi(2,t);fe.u24be=t=>new Fi(3,t);fe.u32be=t=>new Fi(4,t);fe.u40be=t=>new Fi(5,t);fe.u48be=t=>new Fi(6,t);fe.nu64be=t=>new LO(t);fe.s8=t=>new Ps(1,t);fe.s16=t=>new Ps(2,t);fe.s24=t=>new Ps(3,t);fe.s32=t=>new Ps(4,t);fe.s40=t=>new Ps(5,t);fe.s48=t=>new Ps(6,t);fe.ns64=t=>new BO(t);fe.s16be=t=>new rl(2,t);fe.s24be=t=>new rl(3,t);fe.s32be=t=>new rl(4,t);fe.s40be=t=>new rl(5,t);fe.s48be=t=>new rl(6,t);fe.ns64be=t=>new PO(t);fe.f32=t=>new Ob(t);fe.f32be=t=>new Cb(t);fe.f64=t=>new Lb(t);fe.f64be=t=>new Bb(t);fe.struct=(t,e,n)=>new Db(t,e,n);fe.bits=(t,e,n)=>new Em(t,e,n);fe.seq=(t,e,n)=>new Pb(t,e,n);fe.union=(t,e,n)=>new Sm(t,e,n);fe.unionLayoutDiscriminator=(t,e)=>new Zd(t,e);fe.blob=(t,e)=>new jb(t,e);fe.cstr=t=>new Wb(t);fe.utf8=(t,e)=>new Fb(t,e);fe.const=(t,e)=>new Hb(t,e);const Kb=Ga(IO);(function(t){var e=Bt&&Bt.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=a,t.i64=l,t.u128=c,t.i128=f,t.u256=g,t.i256=w,t.publicKey=_,t.option=N,t.bool=E,t.vec=M,t.tagged=C,t.vecU8=D,t.str=U,t.rustEnum=z,t.array=j,t.map=Q;const n=fe,r=Kb,i=e(By);var o=fe;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends n.Layout{constructor(b,u,d){super(b,d),this.blob=(0,n.blob)(b),this.signed=u}decode(b,u=0){const d=new i.default(this.blob.decode(b,u),10,"le");return this.signed?d.fromTwos(this.span*8).clone():d}encode(b,u,d=0){return this.signed&&(b=b.toTwos(this.span*8)),this.blob.encode(b.toArrayLike(Buffer,"le",this.span),u,d)}}function a(V){return new s(8,!1,V)}function l(V){return new s(8,!0,V)}function c(V){return new s(16,!1,V)}function f(V){return new s(16,!0,V)}function g(V){return new s(32,!1,V)}function w(V){return new s(32,!0,V)}class m extends n.Layout{constructor(b,u,d,v){super(b.span,v),this.layout=b,this.decoder=u,this.encoder=d}decode(b,u){return this.decoder(this.layout.decode(b,u))}encode(b,u,d){return this.layout.encode(this.encoder(b),u,d)}getSpan(b,u){return this.layout.getSpan(b,u)}}function _(V){return new m((0,n.blob)(32),b=>new r.PublicKey(b),b=>b.toBuffer(),V)}class R extends n.Layout{constructor(b,u){super(-1,u),this.layout=b,this.discriminator=(0,n.u8)()}encode(b,u,d=0){return b==null?this.discriminator.encode(0,u,d):(this.discriminator.encode(1,u,d),this.layout.encode(b,u,d+1)+1)}decode(b,u=0){const d=this.discriminator.decode(b,u);if(d===0)return null;if(d===1)return this.layout.decode(b,u+1);throw new Error("Invalid option "+this.property)}getSpan(b,u=0){const d=this.discriminator.decode(b,u);if(d===0)return 1;if(d===1)return this.layout.getSpan(b,u+1)+1;throw new Error("Invalid option "+this.property)}}function N(V,b){return new R(V,b)}function E(V){return new m((0,n.u8)(),A,S,V)}function A(V){if(V===0)return!1;if(V===1)return!0;throw new Error("Invalid bool: "+V)}function S(V){return V?1:0}function M(V,b){const u=(0,n.u32)("length"),d=(0,n.struct)([u,(0,n.seq)(V,(0,n.offset)(u,-u.span),"values")]);return new m(d,({values:v})=>v,v=>({values:v}),b)}function C(V,b,u){const d=(0,n.struct)([a("tag"),b.replicate("data")]);function v({tag:k,data:I}){if(!k.eq(V))throw new Error("Invalid tag, expected: "+V.toString("hex")+", got: "+k.toString("hex"));return I}return new m(d,v,k=>({tag:V,data:k}),u)}function D(V){const b=(0,n.u32)("length"),u=(0,n.struct)([b,(0,n.blob)((0,n.offset)(b,-b.span),"data")]);return new m(u,({data:d})=>d,d=>({data:d}),V)}function U(V){return new m(D(),b=>b.toString("utf-8"),b=>Buffer.from(b,"utf-8"),V)}function z(V,b,u){const d=(0,n.union)(u??(0,n.u8)(),b);return V.forEach((v,k)=>d.addVariant(k,v,v.property)),d}function j(V,b,u){const d=(0,n.struct)([(0,n.seq)(V,b,"values")]);return new m(d,({values:v})=>v,v=>({values:v}),u)}class H extends n.Layout{constructor(b,u,d){super(b.span+u.span,d),this.keyLayout=b,this.valueLayout=u}decode(b,u){u=u||0;const d=this.keyLayout.decode(b,u),v=this.valueLayout.decode(b,u+this.keyLayout.getSpan(b,u));return[d,v]}encode(b,u,d){d=d||0;const v=this.keyLayout.encode(b[0],u,d),k=this.valueLayout.encode(b[1],u,d+v);return v+k}getSpan(b,u){return this.keyLayout.getSpan(b,u)+this.valueLayout.getSpan(b,u)}}function Q(V,b,u){const d=(0,n.u32)("length"),v=(0,n.struct)([d,(0,n.seq)(new H(V,b),(0,n.offset)(d,-d.span),"values")]);return new m(v,({values:k})=>new Map(k),k=>({values:Array.from(k.entries())}),u)}})(xe);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function il(t){let e=t.length;for(;--e>=0;)t[e]=0}const DO=3,UO=258,$b=29,zO=256,jO=zO+1+$b,Vb=30,WO=512,FO=new Array((jO+2)*2);il(FO);const HO=new Array(Vb*2);il(HO);const KO=new Array(WO);il(KO);const $O=new Array(UO-DO+1);il($O);const VO=new Array($b);il(VO);const GO=new Array(Vb);il(GO);try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const j0=new Uint8Array(256);for(let t=0;t<256;t++)j0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;j0[254]=j0[254]=1;var YO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),_=n?n+c:c;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,_=new Array(m);w<m;w++)_[w]=g[w].fn;return _},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,_){var R=n?n+c:c;if(!this._events[R])return!1;var N=this._events[R],E=arguments.length,A,S;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,_),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];N.fn.apply(N.context,A)}else{var M=N.length,C;for(S=0;S<M;S++)switch(N[S].once&&this.removeListener(c,N[S].fn,void 0,!0),E){case 1:N[S].fn.call(N[S].context);break;case 2:N[S].fn.call(N[S].context,f);break;case 3:N[S].fn.call(N[S].context,f,g);break;case 4:N[S].fn.call(N[S].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(E-1);C<E;C++)A[C-1]=arguments[C];N[S].fn.apply(N[S].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!w||_.once)&&(!g||_.context===g)&&s(this,m);else{for(var R=0,N=[],E=_.length;R<E;R++)(_[R].fn!==f||w&&!_[R].once||g&&_[R].context!==g)&&N.push(_[R]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(YO);function qO(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((n,r)=>t.slice(r*e,(r+1)*e))}const Uo=t=>"version"in t;function ZO(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"0x")}function QO(t){t.indexOf("0x")===0&&(t=t.substr(2)),t.length%2===1&&(t="0"+t);let e=t.match(/.{2}/g);return e===null?de.Buffer.from([]):de.Buffer.from(e.map(n=>parseInt(n,16)))}var XO=Object.freeze({__proto__:null,encode:ZO,decode:QO});function JO(t){return new TextDecoder("utf-8").decode(t)}function eC(t){return new TextEncoder().encode(t)}var tC=Object.freeze({__proto__:null,decode:JO,encode:eC});function W0(t){return Ot.encode(t)}function nC(t){return Ot.decode(t)}var rC=Object.freeze({__proto__:null,encode:W0,decode:nC});function iC(t){return t.toString("base64")}function oC(t){return de.Buffer.from(t,"base64")}var sC=Object.freeze({__proto__:null,encode:iC,decode:oC}),aC=Object.freeze({__proto__:null,hex:XO,utf8:tC,bs58:rC,base64:sC});xe.struct([xe.publicKey("authority"),xe.vecU8("data")]);function pa(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}function lC(t){return t instanceof X?t:new X(t)}class uC extends TypeError{constructor(e,n){let r;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function cC(t){return Ra(t)&&typeof t[Symbol.iterator]=="function"}function Ra(t){return typeof t=="object"&&t!=null}function Mo(t){return typeof t=="string"?JSON.stringify(t):""+t}function dC(t){const{done:e,value:n}=t.next();return e?void 0:n}function fC(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Mo(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*$1(t,e,n,r){cC(t)||(t=[t]);for(const i of t){const o=fC(i,e,n,r);o&&(yield o)}}function*bm(t,e,n){n===void 0&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&Ra(e.schema)&&Ra(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l=!0;for(const c of e.validator(t,a))l=!1,yield[c,void 0];for(let[c,f,g]of e.entries(t,a)){const w=bm(f,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,f],coerce:o,mask:s});for(const m of w)m[0]?(l=!1,yield[m[0],void 0]):o&&(f=m[1],c===void 0?t=f:t instanceof Map?t.set(c,f):t instanceof Set?t.add(f):Ra(t)&&(t[c]=f))}if(l)for(const c of e.refiner(t,a))l=!1,yield[c,void 0];l&&(yield[void 0,t])}class Bo{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const f=i(l,c);return $1(f,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const f=o(l,c);return $1(f,c,this,l)}:this.refiner=()=>[]}assert(e){return hC(e,this)}create(e){return Am(e,this)}is(e){return Gb(e,this)}mask(e){return pC(e,this)}validate(e,n){return n===void 0&&(n={}),Ou(e,this,n)}}function hC(t,e){const n=Ou(t,e);if(n[0])throw n[0]}function Am(t,e){const n=Ou(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function pC(t,e){const n=Ou(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Gb(t,e){return!Ou(t,e)[0]}function Ou(t,e,n){n===void 0&&(n={});const r=bm(t,e,n),i=dC(r);return i[0]?[new uC(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Cu(t,e){return new Bo({type:t,schema:null,validator:e})}function gC(){return Cu("any",()=>!0)}function wp(t){return new Bo({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Mo(e)}})}function yC(){return Cu("boolean",t=>typeof t=="boolean")}function V1(t){const e=Mo(t);return new Bo({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+Mo(n)}})}function fc(t){return new Bo({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Cc(){return Cu("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Mo(t))}function Lc(t){return new Bo({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function us(){return Cu("string",t=>typeof t=="string"||"Expected a string, but received: "+Mo(t))}function Ao(t){const e=Object.keys(t);return new Bo({type:"type",schema:t,*entries(n){if(Ra(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ra(n)||"Expected an object, but received: "+Mo(n)}})}function Yb(t){const e=t.map(n=>n.type).join(" | ");return new Bo({type:"union",schema:null,coercer(n,r){return(t.find(o=>{const[s]=o.validate(n,{coerce:!0});return!s})||Im()).coercer(n,r)},validator(n,r){const i=[];for(const o of t){const[...s]=bm(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Mo(n),...i]}})}function Im(){return Cu("unknown",()=>!0)}function mC(t,e,n){return new Bo({...t,coercer:(r,i)=>Gb(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}async function wC(t,e,n,r){t=lC(t),r||(r=kC());const i=new De;if(i.add(new tt({programId:t,keys:e??[],data:n})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(i,[])}const G1=99;async function vC(t,e,n){return(await qb(t,e,n)).map(i=>i?{publicKey:i.publicKey,account:i.account}:null)}async function qb(t,e,n){if(e.length<=G1)return await Y1(t,e,n);{const r=qO(e,G1);return(await Promise.all(r.map(o=>Y1(t,o,n)))).flat()}}async function Y1(t,e,n){const r=n??t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map((a,l)=>a===null?null:{publicKey:e[l],account:a,context:o})}async function Zb(t,e,n,r,i){var o;n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),f={encoding:"base64",commitment:r??t.commitment};if(i){const _=(Array.isArray(i)?i:s.nonProgramIds()).map(R=>R.toBase58());f.accounts={encoding:"base64",addresses:_}}n&&n.length>0&&(f.sigVerify=!0);const g=[c,f],w=await t._rpcRequest("simulateTransaction",g),m=Am(w,bC);if("error"in m){let _;if("data"in m.error&&(_=(o=m.error.data)===null||o===void 0?void 0:o.logs,_&&Array.isArray(_))){const R=`
    `,N=R+_.join(R);console.error(m.error.message,N)}throw new To("failed to simulate transaction: "+m.error.message,_)}return m.result}function _C(t){return mC(Qb(t),SC,e=>"error"in e?e:{...e,result:Am(e.result,t)})}const SC=Qb(Im());function Qb(t){return Yb([Ao({jsonrpc:V1("2.0"),id:us(),result:t}),Ao({jsonrpc:V1("2.0"),id:us(),error:Ao({code:Im(),message:us(),data:Lc(gC())})})])}function EC(t){return _C(Ao({context:Ao({slot:Cc()}),value:t}))}const bC=EC(Ao({err:fc(Yb([Ao({}),us()])),logs:fc(wp(us())),accounts:Lc(fc(wp(fc(Ao({executable:yC(),owner:us(),lamports:Cc(),data:wp(us()),rentEpoch:Lc(Cc())}))))),unitsConsumed:Lc(Cc())}));var AC=Object.freeze({__proto__:null,invoke:wC,getMultipleAccounts:vC,getMultipleAccountsAndContext:qb,simulateTransaction:Zb});class Qd{constructor(e,n,r=Qd.defaultOptions()){this.connection=e,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=Qd.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var i,o,s,a;if(r===void 0&&(r=this.opts),Uo(e))n&&e.sign(n);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const c of n)e.partialSign(c);e=await this.wallet.signTransaction(e);const l=e.serialize();try{return await q1(this.connection,l,r)}catch(c){if(c instanceof F0){const f=W0(Uo(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=e.signature)!==null&&s!==void 0?s:new Uint8Array),g=Uo(e)?0:void 0,w=await this.connection.getTransaction(f,{commitment:"confirmed",maxSupportedTransactionVersion:g});if(w){const m=(a=w.meta)===null||a===void 0?void 0:a.logMessages;throw m?new To(c.message,m):c}else throw c}else throw c}}async sendAll(e,n){var r,i,o;n===void 0&&(n=this.opts);const s=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let a=e.map(f=>{var g,w;if(Uo(f.tx)){let m=f.tx;return f.signers&&m.sign(f.signers),m}else{let m=f.tx,_=(g=f.signers)!==null&&g!==void 0?g:[];return m.feePayer=(w=m.feePayer)!==null&&w!==void 0?w:this.wallet.publicKey,m.recentBlockhash=s,_.forEach(R=>{m.partialSign(R)}),m}});const l=await this.wallet.signAllTransactions(a),c=[];for(let f=0;f<a.length;f+=1){const g=l[f],w=g.serialize();try{c.push(await q1(this.connection,w,n))}catch(m){if(m instanceof F0){const _=W0(Uo(g)?((r=g.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=g.signature)!==null&&i!==void 0?i:new Uint8Array),R=Uo(g)?0:void 0,N=await this.connection.getTransaction(_,{commitment:"confirmed",maxSupportedTransactionVersion:R});if(N){const E=(o=N.meta)===null||o===void 0?void 0:o.logMessages;throw E?new To(m.message,E):m}else throw m}else throw m}}return c}async simulate(e,n,r,i){let o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,s;if(Uo(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),s=await Zb(this.connection,e,n,r,i)),s.value.err)throw new IC(s.value);return s.value}}class IC extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function q1(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await t.sendRawTransaction(e,r);if(n!=null&&n.blockhash)if(r.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await t.confirmTransaction({abortSignal:a,signature:s,...n.blockhash},n&&n.commitment)).value}else i=(await t.confirmTransaction({signature:s,...n.blockhash},n&&n.commitment)).value;else i=(await t.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new F0(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class F0 extends Error{constructor(e){super(e)}}function kC(){return Qd.local()}var RC=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function TC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G={};Object.defineProperty(G,"__esModule",{value:!0});G.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=G.ANCHOR_ERROR__REQUIRE_VIOLATED=G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=G.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=G.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=G.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=G.ANCHOR_ERROR__CONSTRAINT_SPACE=G.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=G.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=G.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=G.ANCHOR_ERROR__CONSTRAINT_ZERO=G.ANCHOR_ERROR__CONSTRAINT_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_CLOSE=G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=G.ANCHOR_ERROR__CONSTRAINT_STATE=G.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=G.ANCHOR_ERROR__CONSTRAINT_SEEDS=G.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=G.ANCHOR_ERROR__CONSTRAINT_OWNER=G.ANCHOR_ERROR__CONSTRAINT_RAW=G.ANCHOR_ERROR__CONSTRAINT_SIGNER=G.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=G.ANCHOR_ERROR__CONSTRAINT_MUT=G.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=G.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=G.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=G.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=G.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=G.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0;G.ANCHOR_ERROR__DEPRECATED=G.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=G.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=G.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=G.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=G.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=G.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=G.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=G.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=G.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=G.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=G.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=G.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=G.ANCHOR_ERROR__INVALID_PROGRAM_ID=G.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=G.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=G.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=G.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=G.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=G.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=G.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=G.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=G.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=G.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0;G.ANCHOR_ERROR__INSTRUCTION_MISSING=100;G.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101;G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102;G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103;G.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3;G.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001;G.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002;G.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500;G.ANCHOR_ERROR__CONSTRAINT_MUT=2e3;G.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001;G.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002;G.ANCHOR_ERROR__CONSTRAINT_RAW=2003;G.ANCHOR_ERROR__CONSTRAINT_OWNER=2004;G.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005;G.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006;G.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007;G.ANCHOR_ERROR__CONSTRAINT_STATE=2008;G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009;G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010;G.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011;G.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012;G.ANCHOR_ERROR__CONSTRAINT_ZERO=2013;G.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014;G.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015;G.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016;G.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017;G.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018;G.ANCHOR_ERROR__CONSTRAINT_SPACE=2019;G.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020;G.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021;G.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022;G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029;G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030;G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031;G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032;G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033;G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034;G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035;G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036;G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037;G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038;G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039;G.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;G.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;G.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502;G.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503;G.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504;G.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505;G.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506;G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3;G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001;G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002;G.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003;G.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004;G.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005;G.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006;G.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007;G.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008;G.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009;G.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010;G.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011;G.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012;G.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013;G.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014;G.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015;G.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016;G.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017;G.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100;G.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101;G.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;G.ANCHOR_ERROR__DEPRECATED=5e3;const MC=new Set(["debug-logs"]),Xb=new Map;function NC(t){if(!MC.has(t))throw new Error("Invalid feature");Xb.set(t,!0)}function xC(t){return Xb.get(t)!==void 0}var OC=Object.freeze({__proto__:null,set:NC,isSet:xC});class zo extends Error{constructor(e){super(e),this.name="IdlError"}}class Xe{static fieldLayout(e,n=[],r){const i=e.name;switch(e.type){case"bool":return xe.bool(i);case"u8":return xe.u8(i);case"i8":return xe.i8(i);case"u16":return xe.u16(i);case"i16":return xe.i16(i);case"u32":return xe.u32(i);case"i32":return xe.i32(i);case"f32":return xe.f32(i);case"u64":return xe.u64(i);case"i64":return xe.i64(i);case"f64":return xe.f64(i);case"u128":return xe.u128(i);case"i128":return xe.i128(i);case"u256":return xe.u256(i);case"i256":return xe.i256(i);case"bytes":return xe.vecU8(i);case"string":return xe.str(i);case"pubkey":return xe.publicKey(i);default:{if("option"in e.type)return xe.option(Xe.fieldLayout({type:e.type.option},n,r),i);if("vec"in e.type)return xe.vec(Xe.fieldLayout({type:e.type.vec},n,r),i);if("array"in e.type){let[o,s]=e.type.array;return s=Xe.resolveArrayLen(s,r),xe.array(Xe.fieldLayout({type:o},n,r),s,i)}if("defined"in e.type){if(!n)throw new zo("User defined types not provided");const o=e.type.defined.name,s=n.find(a=>a.name===o);if(!s)throw new zo(`Type not found: ${e.name}`);return Xe.typeDefLayout({typeDef:s,types:n,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new zo(`Invalid generic field: ${e.name}`);return Xe.fieldLayout({...e,type:o.type},n)}throw new zo(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=pa(e.type.fields,()=>[],s=>s.map(a=>{const l=i&&Xe.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Xe.fieldLayout(a,n,l)}),s=>s.map((a,l)=>{const c=i&&Xe.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Xe.fieldLayout({name:l.toString(),type:a},n,c)}));return xe.struct(o,r)}case"enum":{const o=e.type.variants.map(s=>{const a=pa(s.fields,()=>[],l=>l.map(c=>{const f=i&&Xe.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:i});return Xe.fieldLayout(c,n,f)}),l=>l.map((c,f)=>{const g=i&&Xe.resolveGenericArgs({type:c,typeDef:e,genericArgs:i});return Xe.fieldLayout({name:f.toString(),type:c},n,g)}));return xe.struct(a,s.name)});return r!==void 0?xe.rustEnum(o).replicate(r):xe.rustEnum(o,r)}case"type":return Xe.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Xe.typeSize(e.option,n,r);if("coption"in e)return 4+Xe.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Xe.resolveArrayLen(s,r),Xe.typeSize(o,n,r)*s}if("defined"in e){const o=(i=n.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new zo(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const l=r??e.defined.generics,c=l&&Xe.resolveGenericArgs({type:a,typeDef:o,genericArgs:l});return Xe.typeSize(a,n,c)};switch(o.type.kind){case"struct":return pa(o.type.fields,()=>[0],a=>a.map(l=>s(l.type)),a=>a.map(l=>s(l))).reduce((a,l)=>a+l,0);case"enum":{const a=o.type.variants.map(l=>pa(l.fields,()=>[0],c=>c.map(f=>s(f.type)),c=>c.map(f=>s(f))).reduce((c,f)=>c+f,0));return Math.max(...a)+1}case"type":return Xe.typeSize(o.type.alias,n,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new zo(`Invalid generic: ${e.generic}`);return Xe.typeSize(o.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new zo("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in n.generics){const s=n.generics[o];if("generic"in e&&s.name===e.generic)return[r[o]];if("option"in e){const a=Xe.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Xe.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,l]=e.array,c=typeof l=="object",f=Xe.resolveGenericArgs({type:a,typeDef:n,genericArgs:r,isDefined:i})||[];if(c){const g=n.generics.findIndex(w=>w.name===l.generic);g!==-1&&f.push(r[g])}if(f.length>0){if(!i)return f;if(f[0].kind==="type"&&f[1].kind==="const")return[{kind:"type",type:{array:[f[0].type,+f[1].value]}}]}if(c&&s.name===l.generic){const g=r[o];return i?[{kind:"type",type:{array:[a,+g.value]}}]:[g]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Xe.resolveGenericArgs({type:a.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class CC{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const i=r.name,o=r.args.map(a=>Xe.fieldLayout(a,e.types)),s=xe.struct(o,i);return[i,{discriminator:r.discriminator,layout:s}]});this.ixLayouts=new Map(n)}encode(e,n){const r=de.Buffer.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o);return de.Buffer.concat([de.Buffer.from(i.discriminator),s])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?de.Buffer.from(e,"hex"):Ot.decode(e));for(const[r,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(de.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,n){return or.format(e,n,this.idl)}}class or{static format(e,n,r){const i=r.instructions.find(l=>e.name===l.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(l=>({name:l.name,type:or.formatIdlType(l.type),data:or.formatIdlData(l,e.data[l.name],r.types)})),s=or.flattenIdlAccounts(i.accounts),a=n.map((l,c)=>c<s.length?{name:s[c].name,...l}:{name:void 0,...l});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return or.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return or.formatIdlDataDefined(o,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+pa(e.type.fields,()=>"",i=>Object.entries(n).map(([o,s])=>{const a=i.find(l=>l.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+or.formatIdlData(a,s,r)}).join(", "),i=>Object.entries(n).map(([o,s])=>o+": "+or.formatIdlData({name:"",type:i[o]},s,r)).join(", "))+" }";case"enum":{const i=Object.keys(n)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=n[i];return pa(o.fields,()=>i,a=>{const l=Object.keys(s).map(c=>{const f=s[c],g=a.find(w=>w.name===c);if(!g)throw new Error(`Field not found: ${c}`);return c+": "+or.formatIdlData(g,f,r)}).join(", ");return`${i} { ${l} }`},a=>{const l=Object.entries(s).map(([c,f])=>c+": "+or.formatIdlData({name:"",type:a[c]},f,r)).join(", ");return`${i} { ${l} }`})}case"type":return or.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const i=LC(r.name);if(r.hasOwnProperty("accounts")){const o=n?`${n} > ${i}`:i;return or.flattenIdlAccounts(r.accounts,o)}else return{...r,name:n?`${n} > ${i}`:i}}).flat()}}function LC(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class BC{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const o=n.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Xe.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(r)}async encode(e,n){const r=de.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o),a=this.accountDiscriminator(e);return de.Buffer.concat([a,s])}decode(e,n){const r=this.accountDiscriminator(e);if(r.compare(n.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(de.Buffer.from(r.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const r=this.accountDiscriminator(e),i=n.subarray(r.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(i)}memcmp(e,n){const r=this.accountDiscriminator(e);return{offset:0,bytes:Ot.encode(n?de.Buffer.concat([r,n]):r)}}size(e){return this.accountDiscriminator(e).length+Xe.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const r=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return de.Buffer.from(r.discriminator)}}class rr{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Ff=rr;function PC(t,e){return e.property?t+"["+e.property+"]":t}class cs extends rr{isCount(){throw new Error("ExternalLayout is abstract")}}class Jb extends cs{constructor(e,n,r){if(!(e instanceof rr))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Hf||this.layout instanceof eA}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class Hf extends rr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class eA extends rr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const H0=Math.pow(2,32);function tA(t){const e=Math.floor(t/H0),n=t-e*H0;return{hi32:e,lo32:n}}function nA(t,e){return t*H0+e}class DC extends rr{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return nA(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=tA(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class UC extends rr{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return nA(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=tA(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class zC extends rr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof rr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class rA{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Z1 extends rA{constructor(e,n){if(!(e instanceof cs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class iA extends rr{constructor(e,n,r){const i=e instanceof Hf||e instanceof eA;if(i)e=new Z1(new Jb(e));else if(e instanceof cs&&e.isCount())e=new Z1(e);else if(!(e instanceof rA))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof rr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new jC(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class jC extends rr{constructor(e,n,r,i){if(!(e instanceof iA))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof rr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class WC extends rr{constructor(e,n){if(!(e instanceof cs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof cs||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof cs&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(PC("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof cs&&this.length.encode(i,n,r),i}}var FC=(t,e,n)=>new Jb(t,e,n),HC=t=>new Hf(1,t),Ri=t=>new Hf(4,t),KC=t=>new DC(t),ji=t=>new UC(t),un=(t,e,n)=>new zC(t,e,n),oA=(t,e,n)=>new iA(t,e,n),Lu=(t,e)=>new WC(t,e);class $C extends Ff{constructor(e){super(-1,e),this.property=e,this.layout=un([Ri("length"),Ri("lengthPadding"),Lu(FC(Ri(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Ri().span+Ri().span+new ar(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function Kf(t){return new $C(t)}function xr(t){return Lu(32,t)}const _r=oA(Ri("instruction"));_r.addVariant(0,un([ji("lamports"),ji("space"),xr("owner")]),"createAccount");_r.addVariant(1,un([xr("owner")]),"assign");_r.addVariant(2,un([ji("lamports")]),"transfer");_r.addVariant(3,un([xr("base"),Kf("seed"),ji("lamports"),ji("space"),xr("owner")]),"createAccountWithSeed");_r.addVariant(4,un([xr("authorized")]),"advanceNonceAccount");_r.addVariant(5,un([ji("lamports")]),"withdrawNonceAccount");_r.addVariant(6,un([xr("authorized")]),"initializeNonceAccount");_r.addVariant(7,un([xr("authorized")]),"authorizeNonceAccount");_r.addVariant(8,un([ji("space")]),"allocate");_r.addVariant(9,un([xr("base"),Kf("seed"),ji("space"),xr("owner")]),"allocateWithSeed");_r.addVariant(10,un([xr("base"),Kf("seed"),xr("owner")]),"assignWithSeed");_r.addVariant(11,un([ji("lamports"),Kf("seed"),xr("owner")]),"transferWithSeed");Math.max(...Object.values(_r.registry).map(t=>t.span));class VC extends Ff{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function Q1(t){return new VC(Lu(32),e=>new X(e),e=>e.toBuffer(),t)}un([Ri("version"),Ri("state"),Q1("authorizedPubkey"),Q1("nonce"),un([KC("lamportsPerSignature")],"feeCalculator")]);function GC(t){return new TextDecoder().decode(Wd(t))}var YC=Object.freeze({__proto__:null,hash:GC});function qC(t,e,n){const r=de.Buffer.concat([t.toBuffer(),de.Buffer.from(e),n.toBuffer()]);return new X(Wd(r))}var ZC=Object.freeze({__proto__:null,createWithSeedSync:qC});const sA=new X("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),aA=new X("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function QC({mint:t,owner:e}){return X.findProgramAddressSync([e.toBuffer(),sA.toBuffer(),t.toBuffer()],aA)[0]}var XC=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:sA,ASSOCIATED_PROGRAM_ID:aA,associatedAddress:QC}),K0={exports:{}};(function(t,e){var n=typeof self<"u"?self:RC,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(u){return u&&DataView.prototype.isPrototypeOf(u)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(u){return u&&c.indexOf(Object.prototype.toString.call(u))>-1};function g(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function w(u){return typeof u!="string"&&(u=String(u)),u}function m(u){var d={next:function(){var v=u.shift();return{done:v===void 0,value:v}}};return a.iterable&&(d[Symbol.iterator]=function(){return d}),d}function _(u){this.map={},u instanceof _?u.forEach(function(d,v){this.append(v,d)},this):Array.isArray(u)?u.forEach(function(d){this.append(d[0],d[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(d){this.append(d,u[d])},this)}_.prototype.append=function(u,d){u=g(u),d=w(d);var v=this.map[u];this.map[u]=v?v+", "+d:d},_.prototype.delete=function(u){delete this.map[g(u)]},_.prototype.get=function(u){return u=g(u),this.has(u)?this.map[u]:null},_.prototype.has=function(u){return this.map.hasOwnProperty(g(u))},_.prototype.set=function(u,d){this.map[g(u)]=w(d)},_.prototype.forEach=function(u,d){for(var v in this.map)this.map.hasOwnProperty(v)&&u.call(d,this.map[v],v,this)},_.prototype.keys=function(){var u=[];return this.forEach(function(d,v){u.push(v)}),m(u)},_.prototype.values=function(){var u=[];return this.forEach(function(d){u.push(d)}),m(u)},_.prototype.entries=function(){var u=[];return this.forEach(function(d,v){u.push([v,d])}),m(u)},a.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function R(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function N(u){return new Promise(function(d,v){u.onload=function(){d(u.result)},u.onerror=function(){v(u.error)}})}function E(u){var d=new FileReader,v=N(d);return d.readAsArrayBuffer(u),v}function A(u){var d=new FileReader,v=N(d);return d.readAsText(u),v}function S(u){for(var d=new Uint8Array(u),v=new Array(d.length),k=0;k<d.length;k++)v[k]=String.fromCharCode(d[k]);return v.join("")}function M(u){if(u.slice)return u.slice(0);var d=new Uint8Array(u.byteLength);return d.set(new Uint8Array(u)),d.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:a.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:a.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():a.arrayBuffer&&a.blob&&l(u)?(this._bodyArrayBuffer=M(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||f(u))?this._bodyArrayBuffer=M(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var u=R(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?R(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var u=R(this);if(u)return u;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(u){var d=u.toUpperCase();return D.indexOf(d)>-1?d:u}function z(u,d){d=d||{};var v=d.body;if(u instanceof z){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,d.headers||(this.headers=new _(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!v&&u._bodyInit!=null&&(v=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new _(d.headers)),this.method=U(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function j(u){var d=new FormData;return u.trim().split("&").forEach(function(v){if(v){var k=v.split("="),I=k.shift().replace(/\+/g," "),O=k.join("=").replace(/\+/g," ");d.append(decodeURIComponent(I),decodeURIComponent(O))}}),d}function H(u){var d=new _,v=u.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(k){var I=k.split(":"),O=I.shift().trim();if(O){var P=I.join(":").trim();d.append(O,P)}}),d}C.call(z.prototype);function Q(u,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new _(d.headers),this.url=d.url||"",this._initBody(u)}C.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},Q.error=function(){var u=new Q(null,{status:0,statusText:""});return u.type="error",u};var V=[301,302,303,307,308];Q.redirect=function(u,d){if(V.indexOf(d)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:d,headers:{location:u}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,v){this.message=d,this.name=v;var k=Error(d);this.stack=k.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(u,d){return new Promise(function(v,k){var I=new z(u,d);if(I.signal&&I.signal.aborted)return k(new s.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function P(){O.abort()}O.onload=function(){var x={status:O.status,statusText:O.statusText,headers:H(O.getAllResponseHeaders()||"")};x.url="responseURL"in O?O.responseURL:x.headers.get("X-Request-URL");var p="response"in O?O.response:O.responseText;v(new Q(p,x))},O.onerror=function(){k(new TypeError("Network request failed"))},O.ontimeout=function(){k(new TypeError("Network request failed"))},O.onabort=function(){k(new s.DOMException("Aborted","AbortError"))},O.open(I.method,I.url,!0),I.credentials==="include"?O.withCredentials=!0:I.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&a.blob&&(O.responseType="blob"),I.headers.forEach(function(x,p){O.setRequestHeader(p,x)}),I.signal&&(I.signal.addEventListener("abort",P),O.onreadystatechange=function(){O.readyState===4&&I.signal.removeEventListener("abort",P)}),O.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=_,o.Request=z,o.Response=Q),s.Headers=_,s.Request=z,s.Response=Q,s.fetch=b,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(K0,K0.exports);var JC=TC(K0.exports);async function e4(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([lA(t,e),JC(r)]),s=(await o.json()).filter(l=>!l.aborted&&l.state==="Built"&&l.verified==="Verified");if(s.length===0)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a}async function lA(t,e){const n=await t.getAccountInfo(e);if(n===null)throw new Error("program account not found");const{program:r}=$0(n.data),i=await t.getAccountInfo(r.programdataAddress);if(i===null)throw new Error("program data account not found");const{programData:o}=$0(i.data);return o}const t4=xe.rustEnum([xe.struct([],"uninitialized"),xe.struct([xe.option(xe.publicKey(),"authorityAddress")],"buffer"),xe.struct([xe.publicKey("programdataAddress")],"program"),xe.struct([xe.u64("slot"),xe.option(xe.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,xe.u32());function $0(t){return t4.decode(t)}var n4=Object.freeze({__proto__:null,verifiedBuild:e4,fetchData:lA,decodeUpgradeableLoaderState:$0}),r4=Object.freeze({__proto__:null,sha256:YC,rpc:AC,publicKey:ZC,bytes:aC,token:XC,features:OC,registry:n4});function vp(t){return new uA(Lu(8),e=>km.fromBuffer(e),e=>e.toBuffer(),t)}function hc(t){return new uA(Lu(32),e=>new X(e),e=>e.toBuffer(),t)}function _p(t,e){return new i4(t,e)}class uA extends Ff{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class i4 extends Ff{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Ri()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}class km extends ar{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new km([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}un([hc("mint"),hc("owner"),vp("amount"),_p(hc(),"delegate"),(t=>{const e=oA(HC("discriminator"),null,t);return e.addVariant(0,un([]),"uninitialized"),e.addVariant(1,un([]),"initialized"),e.addVariant(2,un([]),"frozen"),e})("state"),_p(vp(),"isNative"),vp("delegatedAmount"),_p(hc(),"closeAuthority")]);new X("11111111111111111111111111111111");const cA=te.createContext({});function o4(){return te.useContext(cA)}const s4=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=te.useMemo(()=>new hm(e,n),[e,n]);return ne.createElement(cA.Provider,{value:{connection:r}},t)};var dA={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),_=n?n+c:c;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,_=new Array(m);w<m;w++)_[w]=g[w].fn;return _},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,_){var R=n?n+c:c;if(!this._events[R])return!1;var N=this._events[R],E=arguments.length,A,S;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,_),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];N.fn.apply(N.context,A)}else{var M=N.length,C;for(S=0;S<M;S++)switch(N[S].once&&this.removeListener(c,N[S].fn,void 0,!0),E){case 1:N[S].fn.call(N[S].context);break;case 2:N[S].fn.call(N[S].context,f);break;case 3:N[S].fn.call(N[S].context,f,g);break;case 4:N[S].fn.call(N[S].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(E-1);C<E;C++)A[C-1]=arguments[C];N[S].fn.apply(N[S].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var _=this._events[m];if(_.fn)_.fn===f&&(!w||_.once)&&(!g||_.context===g)&&s(this,m);else{for(var R=0,N=[],E=_.length;R<E;R++)(_[R].fn!==f||w&&!_[R].once||g&&_[R].context!==g)&&N.push(_[R]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(dA);var a4=dA.exports;const fA=Ts(a4);class St extends Error{constructor(e,n){super(e),this.error=n}}class No extends St{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class $f extends St{constructor(){super(...arguments),this.name="WalletLoadError"}}class co extends St{constructor(){super(...arguments),this.name="WalletConfigError"}}class Rs extends St{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Bu extends St{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class ol extends St{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Oi extends St{constructor(){super(...arguments),this.name="WalletAccountError"}}class xo extends St{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class l4 extends St{constructor(){super(...arguments),this.name="WalletKeypairError"}}class ht extends St{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class ii extends St{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Jn extends St{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Pu extends St{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class V0 extends St{constructor(){super(...arguments),this.name="WalletSignInError"}}class u4 extends St{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class c4 extends St{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class d4 extends St{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var Fe;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Fe||(Fe={}));class Rm extends fA{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new ht;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function Tm(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const o of e)o()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Xd(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function zr(t){return"version"in t}class Mm extends Rm{async sendTransaction(e,n,r={}){let i=!0;try{if(zr(e)){if(!this.supportedTransactionVersions)throw new ii("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new ii(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,r)}catch(o){throw o instanceof Jn?(i=!1,o):new ii(o==null?void 0:o.message,o)}}else try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,s)}catch(o){throw o instanceof Jn?(i=!1,o):new ii(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(zr(r)){if(!this.supportedTransactionVersions)throw new Jn("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Jn(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Du extends Mm{}class f4 extends Du{}var ze={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.SolanaSignAndSendTransaction=void 0;Vf.SolanaSignAndSendTransaction="solana:signAndSendTransaction";var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.SolanaSignIn=void 0;Gf.SolanaSignIn="solana:signIn";var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.SolanaSignMessage=void 0;Yf.SolanaSignMessage="solana:signMessage";var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.SolanaSignTransaction=void 0;qf.SolanaSignTransaction="solana:signTransaction";var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.SignAndSendAllTransactions=void 0;Zf.SignAndSendAllTransactions="solana:signAndSendAllTransactions";(function(t){var e=Bt&&Bt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Bt&&Bt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Vf,t),n(Gf,t),n(Yf,t),n(qf,t),n(Zf,t)})(ze);var Hr={},hA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Connect=t.StandardConnect=void 0,t.StandardConnect="standard:connect",t.Connect=t.StandardConnect})(hA);var pA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Disconnect=t.StandardDisconnect=void 0,t.StandardDisconnect="standard:disconnect",t.Disconnect=t.StandardDisconnect})(pA);var gA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.StandardEvents=void 0,t.StandardEvents="standard:events",t.Events=t.StandardEvents})(gA);(function(t){var e=Bt&&Bt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Bt&&Bt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(hA,t),n(pA,t),n(gA,t)})(Hr);function yA(t){return Hr.StandardConnect in t.features&&Hr.StandardEvents in t.features&&(ze.SolanaSignAndSendTransaction in t.features||ze.SolanaSignTransaction in t.features)}var G0;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(G0||(G0={}));const h4=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:Du,BaseSignInMessageSignerWalletAdapter:f4,BaseSignerWalletAdapter:Mm,BaseWalletAdapter:Rm,EventEmitter:fA,WalletAccountError:Oi,get WalletAdapterNetwork(){return G0},WalletConfigError:co,WalletConnectionError:Rs,WalletDisconnectedError:Bu,WalletDisconnectionError:ol,WalletError:St,WalletKeypairError:l4,WalletLoadError:$f,WalletNotConnectedError:ht,WalletNotReadyError:No,WalletPublicKeyError:xo,get WalletReadyState(){return Fe},WalletSendTransactionError:ii,WalletSignInError:V0,WalletSignMessageError:Pu,WalletSignTransactionError:Jn,WalletTimeoutError:u4,WalletWindowBlockedError:c4,WalletWindowClosedError:d4,isIosAndRedirectable:Xd,isVersionedTransaction:zr,isWalletAdapterCompatibleStandardWallet:yA,scopePollingDetectionStrategy:Tm},Symbol.toStringTag,{value:"Module"}));class X1 extends St{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const p4=[],Qf={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Br("call","select")},connect(){return Promise.reject(Br("call","connect"))},disconnect(){return Promise.reject(Br("call","disconnect"))},sendTransaction(){return Promise.reject(Br("call","sendTransaction"))},signTransaction(){return Promise.reject(Br("call","signTransaction"))},signAllTransactions(){return Promise.reject(Br("call","signAllTransactions"))},signMessage(){return Promise.reject(Br("call","signMessage"))},signIn(){return Promise.reject(Br("call","signIn"))}};Object.defineProperty(Qf,"wallets",{get(){return Br("read","wallets"),p4}});Object.defineProperty(Qf,"wallet",{get(){return Br("read","wallet"),null}});Object.defineProperty(Qf,"publicKey",{get(){return Br("read","publicKey"),null}});function Br(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const mA=te.createContext(Qf);function Nm(){return te.useContext(mA)}function g4(t,e){const n=te.useState(()=>{try{const o=localStorage.getItem(t);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=n[0],i=te.useRef(!0);return te.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,t]),n}var Po={};const y4=Ga(h4);var hi={},Uu={},m4=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},wA={},Sr={};let xm;const w4=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Sr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Sr.getSymbolTotalCodewords=function(e){return w4[e]};Sr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Sr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');xm=e};Sr.isKanjiModeEnabled=function(){return typeof xm<"u"};Sr.toSJIS=function(e){return xm(e)};var Xf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Xf);function vA(){this.buffer=[],this.length=0}vA.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var v4=vA;function zu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}zu.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};zu.prototype.get=function(t,e){return this.data[t*this.size+e]};zu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};zu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var _4=zu,_A={};(function(t){const e=Sr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(_A);var SA={};const S4=Sr.getSymbolSize,J1=7;SA.getPositions=function(e){const n=S4(e);return[[0,0],[n-J1,0],[0,n-J1]]};var EA={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,c=null,f=null;for(let g=0;g<o;g++){a=l=0,c=f=null;for(let w=0;w<o;w++){let m=i.get(g,w);m===c?a++:(a>=5&&(s+=e.N1+(a-5)),c=m,a=1),m=i.get(w,g),m===f?l++:(l>=5&&(s+=e.N1+(l-5)),f=m,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let f=0;f<o;f++)a=a<<1&2047|i.get(c,f),f>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(f,c),f>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){o(c),t.applyMask(c,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),f<l&&(l=f,a=c)}return a}})(EA);var Jf={};const fo=Xf,pc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],gc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Jf.getBlocksCount=function(e,n){switch(n){case fo.L:return pc[(e-1)*4+0];case fo.M:return pc[(e-1)*4+1];case fo.Q:return pc[(e-1)*4+2];case fo.H:return pc[(e-1)*4+3];default:return}};Jf.getTotalCodewordsCount=function(e,n){switch(n){case fo.L:return gc[(e-1)*4+0];case fo.M:return gc[(e-1)*4+1];case fo.Q:return gc[(e-1)*4+2];case fo.H:return gc[(e-1)*4+3];default:return}};var bA={},eh={};const Kl=new Uint8Array(512),Jd=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Kl[n]=e,Jd[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Kl[n]=Kl[n-255]})();eh.log=function(e){if(e<1)throw new Error("log("+e+")");return Jd[e]};eh.exp=function(e){return Kl[e]};eh.mul=function(e,n){return e===0||n===0?0:Kl[Jd[e]+Jd[n]]};(function(t){const e=eh;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(bA);const AA=bA;function Om(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Om.prototype.initialize=function(e){this.degree=e,this.genPoly=AA.generateECPolynomial(this.degree)};Om.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=AA.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var E4=Om,IA={},Do={},Cm={};Cm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var pi={};const kA="[0-9]+",b4="[A-Z $%*+\\-./:]+";let wu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wu=wu.replace(/u/g,"\\u");const A4="(?:(?![A-Z0-9 $%*+\\-./:]|"+wu+`)(?:.|[\r
]))+`;pi.KANJI=new RegExp(wu,"g");pi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");pi.BYTE=new RegExp(A4,"g");pi.NUMERIC=new RegExp(kA,"g");pi.ALPHANUMERIC=new RegExp(b4,"g");const I4=new RegExp("^"+wu+"$"),k4=new RegExp("^"+kA+"$"),R4=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");pi.testKanji=function(e){return I4.test(e)};pi.testNumeric=function(e){return k4.test(e)};pi.testAlphanumeric=function(e){return R4.test(e)};(function(t){const e=Cm,n=pi;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(Do);(function(t){const e=Sr,n=Jf,r=Xf,i=Do,o=Cm,s=7973,a=e.getBCHDigit(s);function l(w,m,_){for(let R=1;R<=40;R++)if(m<=t.getCapacity(R,_,w))return R}function c(w,m){return i.getCharCountIndicator(w,m)+4}function f(w,m){let _=0;return w.forEach(function(R){const N=c(R.mode,m);_+=N+R.getBitsLength()}),_}function g(w,m){for(let _=1;_<=40;_++)if(f(w,_)<=t.getCapacity(_,m,i.MIXED))return _}t.from=function(m,_){return o.isValid(m)?parseInt(m,10):_},t.getCapacity=function(m,_,R){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=i.BYTE);const N=e.getSymbolTotalCodewords(m),E=n.getTotalCodewordsCount(m,_),A=(N-E)*8;if(R===i.MIXED)return A;const S=A-c(R,m);switch(R){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(m,_){let R;const N=r.from(_,r.M);if(Array.isArray(m)){if(m.length>1)return g(m,N);if(m.length===0)return 1;R=m[0]}else R=m;return l(R.mode,R.getLength(),N)},t.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let _=m<<12;for(;e.getBCHDigit(_)-a>=0;)_^=s<<e.getBCHDigit(_)-a;return m<<12|_}})(IA);var RA={};const Y0=Sr,TA=1335,T4=21522,ev=Y0.getBCHDigit(TA);RA.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Y0.getBCHDigit(i)-ev>=0;)i^=TA<<Y0.getBCHDigit(i)-ev;return(r<<10|i)^T4};var MA={};const M4=Do;function Fa(t){this.mode=M4.NUMERIC,this.data=t.toString()}Fa.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Fa.prototype.getLength=function(){return this.data.length};Fa.prototype.getBitsLength=function(){return Fa.getBitsLength(this.data.length)};Fa.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var N4=Fa;const x4=Do,Sp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ha(t){this.mode=x4.ALPHANUMERIC,this.data=t}Ha.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ha.prototype.getLength=function(){return this.data.length};Ha.prototype.getBitsLength=function(){return Ha.getBitsLength(this.data.length)};Ha.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Sp.indexOf(this.data[n])*45;r+=Sp.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Sp.indexOf(this.data[n]),6)};var O4=Ha;const C4=Do;function Ka(t){this.mode=C4.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Ka.getBitsLength=function(e){return e*8};Ka.prototype.getLength=function(){return this.data.length};Ka.prototype.getBitsLength=function(){return Ka.getBitsLength(this.data.length)};Ka.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var L4=Ka;const B4=Do,P4=Sr;function $a(t){this.mode=B4.KANJI,this.data=t}$a.getBitsLength=function(e){return e*13};$a.prototype.getLength=function(){return this.data.length};$a.prototype.getBitsLength=function(){return $a.getBitsLength(this.data.length)};$a.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=P4.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var D4=$a,NA={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,f,g,w,m,_,R,N;!a.empty();){l=a.pop(),c=l.value,g=l.cost,w=n[c]||{};for(f in w)w.hasOwnProperty(f)&&(m=w[f],_=g+m,R=s[f],N=typeof s[f]>"u",(N||R>_)&&(s[f]=_,a.push(f,_),o[f]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(NA);var U4=NA.exports;(function(t){const e=Do,n=N4,r=O4,i=L4,o=D4,s=pi,a=Sr,l=U4;function c(E){return unescape(encodeURIComponent(E)).length}function f(E,A,S){const M=[];let C;for(;(C=E.exec(S))!==null;)M.push({data:C[0],index:C.index,mode:A,length:C[0].length});return M}function g(E){const A=f(s.NUMERIC,e.NUMERIC,E),S=f(s.ALPHANUMERIC,e.ALPHANUMERIC,E);let M,C;return a.isKanjiModeEnabled()?(M=f(s.BYTE,e.BYTE,E),C=f(s.KANJI,e.KANJI,E)):(M=f(s.BYTE_KANJI,e.BYTE,E),C=[]),A.concat(S,M,C).sort(function(U,z){return U.index-z.index}).map(function(U){return{data:U.data,mode:U.mode,length:U.length}})}function w(E,A){switch(A){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return o.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function m(E){return E.reduce(function(A,S){const M=A.length-1>=0?A[A.length-1]:null;return M&&M.mode===S.mode?(A[A.length-1].data+=S.data,A):(A.push(S),A)},[])}function _(E){const A=[];for(let S=0;S<E.length;S++){const M=E[S];switch(M.mode){case e.NUMERIC:A.push([M,{data:M.data,mode:e.ALPHANUMERIC,length:M.length},{data:M.data,mode:e.BYTE,length:M.length}]);break;case e.ALPHANUMERIC:A.push([M,{data:M.data,mode:e.BYTE,length:M.length}]);break;case e.KANJI:A.push([M,{data:M.data,mode:e.BYTE,length:c(M.data)}]);break;case e.BYTE:A.push([{data:M.data,mode:e.BYTE,length:c(M.data)}])}}return A}function R(E,A){const S={},M={start:{}};let C=["start"];for(let D=0;D<E.length;D++){const U=E[D],z=[];for(let j=0;j<U.length;j++){const H=U[j],Q=""+D+j;z.push(Q),S[Q]={node:H,lastCount:0},M[Q]={};for(let V=0;V<C.length;V++){const b=C[V];S[b]&&S[b].node.mode===H.mode?(M[b][Q]=w(S[b].lastCount+H.length,H.mode)-w(S[b].lastCount,H.mode),S[b].lastCount+=H.length):(S[b]&&(S[b].lastCount=H.length),M[b][Q]=w(H.length,H.mode)+4+e.getCharCountIndicator(H.mode,A))}}C=z}for(let D=0;D<C.length;D++)M[C[D]].end=0;return{map:M,table:S}}function N(E,A){let S;const M=e.getBestModeForData(E);if(S=e.from(A,M),S!==e.BYTE&&S.bit<M.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(M));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new o(E);case e.BYTE:return new i(E)}}t.fromArray=function(A){return A.reduce(function(S,M){return typeof M=="string"?S.push(N(M,null)):M.data&&S.push(N(M.data,M.mode)),S},[])},t.fromString=function(A,S){const M=g(A,a.isKanjiModeEnabled()),C=_(M),D=R(C,S),U=l.find_path(D.map,"start","end"),z=[];for(let j=1;j<U.length-1;j++)z.push(D.table[U[j]].node);return t.fromArray(m(z))},t.rawSplit=function(A){return t.fromArray(g(A,a.isKanjiModeEnabled()))}})(MA);const th=Sr,Ep=Xf,z4=v4,j4=_4,W4=_A,F4=SA,q0=EA,Z0=Jf,H4=E4,ef=IA,K4=RA,$4=Do,bp=MA;function V4(t,e){const n=t.size,r=F4.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function G4(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Y4(t,e){const n=W4.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function q4(t,e){const n=t.size,r=ef.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function Ap(t,e,n){const r=t.size,i=K4.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function Z4(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),t.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function Q4(t,e,n){const r=new z4;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),$4.getCharCountIndicator(l.mode,t)),l.write(r)});const i=th.getSymbolTotalCodewords(t),o=Z0.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return X4(r,t,e)}function X4(t,e,n){const r=th.getSymbolTotalCodewords(e),i=Z0.getTotalCodewordsCount(e,n),o=r-i,s=Z0.getBlocksCount(e,n),a=r%s,l=s-a,c=Math.floor(r/s),f=Math.floor(o/s),g=f+1,w=c-f,m=new H4(w);let _=0;const R=new Array(s),N=new Array(s);let E=0;const A=new Uint8Array(t.buffer);for(let U=0;U<s;U++){const z=U<l?f:g;R[U]=A.slice(_,_+z),N[U]=m.encode(R[U]),_+=z,E=Math.max(E,z)}const S=new Uint8Array(r);let M=0,C,D;for(C=0;C<E;C++)for(D=0;D<s;D++)C<R[D].length&&(S[M++]=R[D][C]);for(C=0;C<w;C++)for(D=0;D<s;D++)S[M++]=N[D][C];return S}function J4(t,e,n,r){let i;if(Array.isArray(t))i=bp.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const f=bp.rawSplit(t);c=ef.getBestVersionForData(f,n)}i=bp.fromString(t,c||40)}else throw new Error("Invalid data");const o=ef.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=Q4(e,n,i),a=th.getSymbolSize(e),l=new j4(a);return V4(l,e),G4(l),Y4(l,e),Ap(l,n,0),e>=7&&q4(l,e),Z4(l,s),isNaN(r)&&(r=q0.getBestMask(l,Ap.bind(null,l,n))),q0.applyMask(r,l),Ap(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}wA.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Ep.M,i,o;return typeof n<"u"&&(r=Ep.from(n.errorCorrectionLevel,Ep.M),i=ef.from(n.version),o=q0.from(n.maskPattern),n.toSJISFunc&&th.setToSJISFunction(n.toSJISFunc)),J4(e,i,r,o)};var xA={},Lm={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),c=Math.floor((s+o.margin*2)*l),f=o.margin*l,g=[o.color.light,o.color.dark];for(let w=0;w<c;w++)for(let m=0;m<c;m++){let _=(w*c+m)*4,R=o.color.light;if(w>=f&&m>=f&&w<c-f&&m<c-f){const N=Math.floor((w-f)/l),E=Math.floor((m-f)/l);R=g[a[N*s+E]?1:0]}r[_++]=R.r,r[_++]=R.g,r[_++]=R.b,r[_]=R.a}}})(Lm);(function(t){const e=Lm;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=r()),l=e.getOptions(l);const f=e.getImageWidth(o.modules.size,l),g=c.getContext("2d"),w=g.createImageData(f,f);return e.qrToImageData(w.data,o,l),n(g,c,f),g.putImageData(w,0,0),c},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=t.render(o,s,l),f=l.type||"image/png",g=l.rendererOpts||{};return c.toDataURL(f,g.quality)}})(xA);var OA={};const eL=Lm;function tv(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Ip(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function tL(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?Ip("M",l+n,.5+c+n):Ip("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=Ip("h",s),s=0)):i++}return r}OA.render=function(e,n,r){const i=eL.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+tv(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+tv(i.color.dark,"stroke")+' d="'+tL(s,o,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,w),w};const nL=m4,Q0=wA,CA=xA,rL=OA;function Bm(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!nL())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const f=Q0.create(n,r);l(t(f,e,r))}catch(f){c(f)}})}try{const l=Q0.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Uu.create=Q0.create;Uu.toCanvas=Bm.bind(null,CA.render);Uu.toDataURL=Bm.bind(null,CA.renderToDataURL);Uu.toString=Bm.bind(null,function(t,e,n){return rL.render(t,n)});function kp(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var ri={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(ri);const iL="https://api.mainnet-beta.solana.com";function oL(t){return t.includes(iL)?ri.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?ri.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?ri.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?ri.SOLANA_LOCALNET_CHAIN:ri.SOLANA_MAINNET_CHAIN}function sL(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const pr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class gr extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const aL={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class nh extends Error{constructor(...e){const[n,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function rt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function lL(t){return window.btoa(t)}function X0(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function uL(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Bc(t,e){return rt(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function cL(t){return sL(t)}function dL(t){return lL(cL(t))}const LA="solana:signTransactions",J0="solana:cloneAuthorization",fL="solana:signInWithSolana";function BA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return rt(this,void 0,void 0,function*(){const{method:o,params:s}=hL(r,i,t),a=yield e(o,s);return o==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield gL(s.sign_in_payload,a,e)),pL(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function hL(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:o}=r;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:s}=r;if(o)switch(n){case"legacy":{i="reauthorize",r={auth_token:o,identity:s};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function pL(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[LA];return r.supports_clone_authorization===!0&&i.push(J0),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(J0)})}}}return e}function gL(t,e,n){var r;return rt(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,s=dL(Object.assign(Object.assign({},t),{domain:i,address:o})),a=yield n("sign_messages",{addresses:[o],payloads:[s]});return{address:o,signed_message:s,signature:a.signed_payloads[0].slice(s.length)}})}const Ci=4;function yL(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Ci);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const eg=12,Pm=65;function mL(t,e,n){return rt(this,void 0,void 0,function*(){const r=yL(e),i=new Uint8Array(eg);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(DA(r,i),n,new TextEncoder().encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function PA(t,e){return rt(this,void 0,void 0,function*(){const n=t.slice(0,Ci),r=t.slice(Ci,Ci+eg),i=t.slice(Ci+eg),o=yield crypto.subtle.decrypt(DA(n,r),e,i);return wL().decode(o)})}function DA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Rp;function wL(){return Rp===void 0&&(Rp=new TextDecoder("utf-8")),Rp}function UA(){return rt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Pc(){return rt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function zA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function vL(){return jA(49152+Math.floor(Math.random()*16384))}function jA(t){if(t<49152||t>65535)throw new gr(pr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function WA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const _L="solana-wallet";function nv(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function FA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new gr(pr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${_L}:/`));const r=t.startsWith("/")?t:[...nv(n.pathname),...nv(t)].join("/");return new URL(r,n)}function SL(t,e,n,r=["v1"]){return rt(this,void 0,void 0,function*(){const i=jA(e),o=yield crypto.subtle.exportKey("raw",t),s=zA(o),a=FA("v1/associate/local",n);return a.searchParams.set("association",WA(s)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function EL(t,e,n,r,i=["v1"]){return rt(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",t),s=zA(o),a=FA("v1/associate/remote",r);return a.searchParams.set("association",WA(s)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${X0(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function HA(t,e){return rt(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return mL(n,r,e)})}function KA(t,e){return rt(this,void 0,void 0,function*(){const n=yield PA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new nh(r.id,r.error.code,r.error.message);return r})}function $A(t,e,n){return rt(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,Pm),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function VA(t,e){return rt(this,void 0,void 0,function*(){const n=yield PA(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new gr(pr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const tf={Firefox:0,Other:1};function bL(){return navigator.userAgent.indexOf("Firefox/")!==-1?tf.Firefox:tf.Other}function AL(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let yl=null;function IL(t){yl==null&&(yl=document.createElement("iframe"),yl.style.display="none",document.body.appendChild(yl)),yl.contentWindow.location.href=t.toString()}function kL(t){return rt(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=bL();switch(e){case tf.Firefox:IL(t);break;case tf.Other:{const n=AL();window.location.assign(t),yield n;break}default:}}catch{throw new gr(pr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function RL(t,e){return rt(this,void 0,void 0,function*(){const n=vL(),r=yield SL(t,n,e);return yield kL(r),n})}const nf={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},GA="com.solana.mobilewalletadapter.v1",rv="com.solana.mobilewalletadapter.v1.base64";function YA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new gr(pr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function qA(t){let e;try{e=new URL(t)}catch{throw new gr(pr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new gr(pr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function rf(t){return new DataView(t).getUint32(0,!1)}function TL(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,o=0,s;do{if(o>=n||o>r)throw new RangeError("Failed to decode varint");s=e[o++],i|=(s&127)<<7*o}while(s>=128);return{value:i,offset:o}}function ML(t){let{value:e,offset:n}=TL(t);return new Uint8Array(t.slice(n,n+e))}function NL(t,e){return rt(this,void 0,void 0,function*(){YA();const n=yield UA(),i=`ws://localhost:${yield RL(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const s=(()=>{const f=[...nf.retryDelayScheduleMs];return()=>f.length>1?f.shift():f[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((f,g)=>{let w;const m={},_=()=>rt(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}w.removeEventListener("open",_);const{associationKeypair:C}=c,D=yield Pc();w.send(yield Bc(D.publicKey,C.privateKey)),c={__type:"hello_req_sent",associationPublicKey:C.publicKey,ecdhPrivateKey:D.privateKey}}),R=C=>{C.wasClean?c={__type:"disconnected"}:g(new gr(pr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${C.code}: ${C.reason}).`,{closeEvent:C})),A()},N=C=>rt(this,void 0,void 0,function*(){A(),Date.now()-o>=nf.timeoutMs?g(new gr(pr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(D=>{const U=s();S=window.setTimeout(D,U)}),M())}),E=C=>rt(this,void 0,void 0,function*(){const D=yield C.data.arrayBuffer();switch(c.__type){case"connecting":if(D.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const U=yield Pc();w.send(yield Bc(U.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:U.privateKey};break;case"connected":try{const z=D.slice(0,Ci),j=rf(z);if(j!==l+1)throw new Error("Encrypted message has invalid sequence number");l=j;const H=yield KA(D,c.sharedSecret),Q=m[H.id];delete m[H.id],Q.resolve(H.result)}catch(z){if(z instanceof nh){const j=m[z.jsonRpcMessageId];delete m[z.jsonRpcMessageId],j.reject(z)}else throw z}break;case"hello_req_sent":{if(D.byteLength===0){const V=yield Pc();w.send(yield Bc(V.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:V.privateKey};break}const z=yield $A(D,c.associationPublicKey,c.ecdhPrivateKey),j=D.slice(Pm),H=j.byteLength!==0?yield rt(this,void 0,void 0,function*(){const V=j.slice(0,Ci),b=rf(V);if(b!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=b,VA(j,z)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:z,sessionProperties:H};const Q=BA(H.protocol_version,(V,b)=>rt(this,void 0,void 0,function*(){const u=a++;return w.send(yield HA({id:u,jsonrpc:"2.0",method:V,params:b??{}},z)),new Promise((d,v)=>{m[u]={resolve(k){switch(V){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=k;if(I!=null)try{qA(I)}catch(O){v(O);return}break}}d(k)},reject:v}})}));try{f(yield t(Q))}catch(V){g(V)}finally{A(),w.close()}break}}});let A,S;const M=()=>{A&&A(),c={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),w=new WebSocket(i,[GA]),w.addEventListener("open",_),w.addEventListener("close",R),w.addEventListener("error",N),w.addEventListener("message",E),A=()=>{window.clearTimeout(S),w.removeEventListener("open",_),w.removeEventListener("close",R),w.removeEventListener("error",N),w.removeEventListener("message",E)}};M()})})}function xL(t){return rt(this,void 0,void 0,function*(){YA();const e=yield UA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const R=[...nf.retryDelayScheduleMs];return()=>R.length>1?R.shift():R[0]})();let o=1,s=0,a,l={__type:"disconnected"},c,f,g=R=>rt(this,void 0,void 0,function*(){if(a=="base64"){const N=yield R.data;return uL(N).buffer}else return yield R.data.arrayBuffer()});const w=yield new Promise((R,N)=>{const E=()=>rt(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(rv)?a="base64":a="binary",c.removeEventListener("open",E)}),A=U=>{U.wasClean?l={__type:"disconnected"}:N(new gr(pr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${U.code}: ${U.reason}).`,{closeEvent:U})),f()},S=U=>rt(this,void 0,void 0,function*(){f(),Date.now()-r>=nf.timeoutMs?N(new gr(pr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(z=>{const j=i();C=window.setTimeout(z,j)}),D())}),M=U=>rt(this,void 0,void 0,function*(){const z=yield g(U);if(l.__type==="connecting"){if(z.byteLength==0)throw new Error("Encountered unexpected message while connecting");const j=ML(z);l={__type:"reflector_id_received",reflectorId:j};const H=yield EL(e.publicKey,t.remoteHostAuthority,j,t==null?void 0:t.baseUri);c.removeEventListener("message",M),R(H)}});let C;const D=()=>{f&&f(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[GA,rv]),c.addEventListener("open",E),c.addEventListener("close",A),c.addEventListener("error",S),c.addEventListener("message",M),f=()=>{window.clearTimeout(C),c.removeEventListener("open",E),c.removeEventListener("close",A),c.removeEventListener("error",S),c.removeEventListener("message",M)}};D()});let m=!1,_;return{associationUrl:w,close:()=>{c.close(),_()},wallet:new Promise((R,N)=>{const E={},A=S=>rt(this,void 0,void 0,function*(){const M=yield g(S);switch(l.__type){case"reflector_id_received":if(M.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const C=yield Pc(),D=yield Bc(C.publicKey,e.privateKey);a=="base64"?c.send(X0(D)):c.send(D),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:C.privateKey};break;case"connected":try{const U=M.slice(0,Ci),z=rf(U);if(z!==s+1)throw new Error("Encrypted message has invalid sequence number");s=z;const j=yield KA(M,l.sharedSecret),H=E[j.id];delete E[j.id],H.resolve(j.result)}catch(U){if(U instanceof nh){const z=E[U.jsonRpcMessageId];delete E[U.jsonRpcMessageId],z.reject(U)}else throw U}break;case"hello_req_sent":{const U=yield $A(M,l.associationPublicKey,l.ecdhPrivateKey),z=M.slice(Pm),j=z.byteLength!==0?yield rt(this,void 0,void 0,function*(){const Q=z.slice(0,Ci),V=rf(Q);if(V!==s+1)throw new Error("Encrypted message has invalid sequence number");return s=V,VA(z,U)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:U,sessionProperties:j};const H=BA(j.protocol_version,(Q,V)=>rt(this,void 0,void 0,function*(){const b=o++,u=yield HA({id:b,jsonrpc:"2.0",method:Q,params:V??{}},U);return a=="base64"?c.send(X0(u)):c.send(u),new Promise((d,v)=>{E[b]={resolve(k){switch(Q){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=k;if(I!=null)try{qA(I)}catch(O){v(O);return}break}}d(k)},reject:v}})}));m=!0;try{R(H)}catch(Q){N(Q)}break}}});c.addEventListener("message",A),_=()=>{c.removeEventListener("message",A),f(),m||N(new gr(pr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}const OL=Object.freeze(Object.defineProperty({__proto__:null,SolanaCloneAuthorization:J0,SolanaMobileWalletAdapterError:gr,SolanaMobileWalletAdapterErrorCode:pr,SolanaMobileWalletAdapterProtocolError:nh,SolanaMobileWalletAdapterProtocolErrorCode:aL,SolanaSignInWithSolana:fL,SolanaSignTransactions:LA,startRemoteScenario:xL,transact:NL},Symbol.toStringTag,{value:"Module"})),CL=Ga(OL);function LL(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var _=0,R=0,N=0,E=m.length;N!==E&&m[N]===0;)N++,_++;for(var A=(E-N)*c+1>>>0,S=new Uint8Array(A);N!==E;){for(var M=m[N],C=0,D=A-1;(M!==0||C<R)&&D!==-1;D--,C++)M+=256*S[D]>>>0,S[D]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");R=C,N++}for(var U=A-R;U!==A&&S[U]===0;)U++;for(var z=a.repeat(_);U<A;++U)z+=t.charAt(S[U]);return z}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var _=0,R=0,N=0;m[_]===a;)R++,_++;for(var E=(m.length-_)*l+1>>>0,A=new Uint8Array(E);m[_];){var S=m.charCodeAt(_);if(S>255)return;var M=e[S];if(M===255)return;for(var C=0,D=E-1;(M!==0||C<N)&&D!==-1;D--,C++)M+=s*A[D]>>>0,A[D]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");N=C,_++}for(var U=E-N;U!==E&&A[U]===0;)U++;for(var z=new Uint8Array(R+(E-U)),j=R;U!==E;)z[j++]=A[U++];return z}function w(m){var _=g(m);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var BL=LL;const PL=BL,DL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var UL=PL(DL);Object.defineProperty(hi,"__esModule",{value:!0});var tn=ze,zL=Uu,ZA=CL,Ta=Hr,jL=UL,iv=ri;function QA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var WL=QA(zL),vu=QA(jL);function Me(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function F(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function je(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var El,on,Go,Vs,XA,JA,eI,Dc;const FL=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,HL=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,KL=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class tI{constructor(){El.add(this),on.set(this,null),Go.set(this,{}),Vs.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),F(this,El,"m",JA).call(this),F(this,on,"f")&&(F(this,on,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),F(this,El,"m",eI).call(this),F(this,on,"f")&&(F(this,on,"f").style.display="none"),(n=F(this,Go,"f").close)===null||n===void 0||n.forEach(r=>r(e))},Dc.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),je(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Me(this,void 0,void 0,function*(){console.log("Injecting modal"),F(this,El,"m",XA).call(this)})}addEventListener(e,n){var r;return!((r=F(this,Go,"f")[e])===null||r===void 0)&&r.push(n)||(F(this,Go,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;F(this,Go,"f")[e]=(r=F(this,Go,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}on=new WeakMap,Go=new WeakMap,Vs=new WeakMap,Dc=new WeakMap,El=new WeakSet,XA=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){F(this,on,"f")||je(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}je(this,on,document.createElement("div")),F(this,on,"f").id="mobile-wallet-adapter-embedded-root-ui",F(this,on,"f").innerHTML=FL,F(this,on,"f").style.display="none";const e=F(this,on,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=HL+this.contentStyles;const r=document.createElement("div");r.innerHTML=KL,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(F(this,on,"f")),document.body.appendChild(r)},JA=function(){if(!F(this,on,"f")||F(this,Vs,"f"))return;[...F(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",F(this,Dc,"f")),je(this,Vs,!0)},eI=function(){if(!F(this,Vs,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",F(this,Dc,"f")),!F(this,on,"f")))return;[...F(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),je(this,Vs,!1)};class $L extends tI{constructor(){super(...arguments),this.contentStyles=GL,this.contentHtml=VL}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Me(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Me(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield WL.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const VL=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,GL=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,nI="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function ho(t){return window.btoa(String.fromCharCode.call(null,...t))}function Bn(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Gs,ds,tg,ng,rg,ig,bl,On,_i,Zi,Ys,Yo,Uc,Al,zc,og,jc,rI,sg,Wc,qs,Fc,Il,Hc,Zs,kl,Kc,ag,lg,$c,Vc,ug,cg,Gc,Qs,fs,dg,fg,hg,pg,Rl,Cn,Qi,Xi,Xs,qo,Yc,Tl,qc,Zc,Cr,gg,Qc,iI,yg,Xc,Ml,mg,Nl,Jc,Js,xl,ed,wg,vg,td,nd,_g,Sg,rd;const Dm="Mobile Wallet Adapter",oI=64,sI=[tn.SolanaSignAndSendTransaction,tn.SolanaSignTransaction,tn.SolanaSignMessage,tn.SolanaSignIn];class aI{constructor(e){Gs.add(this),ds.set(this,{}),tg.set(this,"1.0.0"),ng.set(this,Dm),rg.set(this,"https://solanamobile.com/wallets"),ig.set(this,nI),bl.set(this,void 0),On.set(this,void 0),_i.set(this,void 0),Zi.set(this,!1),Ys.set(this,0),Yo.set(this,[]),Uc.set(this,void 0),Al.set(this,void 0),zc.set(this,void 0),og.set(this,(n,r)=>{var i;return!((i=F(this,ds,"f")[n])===null||i===void 0)&&i.push(r)||(F(this,ds,"f")[n]=[r]),()=>F(this,Gs,"m",rI).call(this,n,r)}),sg.set(this,({silent:n}={})=>Me(this,void 0,void 0,function*(){if(F(this,Zi,"f")||this.connected)return{accounts:this.accounts};je(this,Zi,!0);try{if(n){const r=yield F(this,_i,"f").get();if(r)yield F(this,Fc,"f").call(this,r.capabilities),yield F(this,qs,"f").call(this,r);else return{accounts:this.accounts}}else yield F(this,Wc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{je(this,Zi,!1)}return{accounts:this.accounts}})),Wc.set(this,n=>Me(this,void 0,void 0,function*(){try{const r=yield F(this,_i,"f").get();if(r)return F(this,qs,"f").call(this,r),r;const i=yield F(this,Uc,"f").select(F(this,Yo,"f"));return yield F(this,Zs,"f").call(this,o=>Me(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:F(this,bl,"f"),sign_in_payload:n})]),l=F(this,Kc,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([F(this,Fc,"f").call(this,s),F(this,_i,"f").set(c),F(this,qs,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),qs.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=F(this,On,"f")==null||((r=F(this,On,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||F(this,On,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);je(this,On,n),i&&F(this,Gs,"m",jc).call(this,"change",{accounts:this.accounts})})),Fc.set(this,n=>Me(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,o=tn.SolanaSignAndSendTransaction in this.features!==i||tn.SolanaSignTransaction in this.features!==r;je(this,Al,Object.assign(Object.assign({},(i||!i&&!r)&&{[tn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:F(this,$c,"f")}}),r&&{[tn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:F(this,Vc,"f")}})),o&&F(this,Gs,"m",jc).call(this,"change",{features:this.features})})),Il.set(this,(n,r,i)=>Me(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=F(this,On,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:F(this,bl,"f"),chain:i})]),c=F(this,Kc,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:c,chain:i,capabilities:a});Promise.all([F(this,_i,"f").set(f),F(this,qs,"f").call(this,f)])}catch(a){throw F(this,Hc,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Hc.set(this,()=>Me(this,void 0,void 0,function*(){var n;F(this,_i,"f").clear(),je(this,Zi,!1),je(this,Ys,(n=F(this,Ys,"f"),n++,n)),je(this,On,void 0),F(this,Gs,"m",jc).call(this,"change",{accounts:this.accounts})})),Zs.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=(r=F(this,On,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,s=F(this,Ys,"f");try{return yield ZA.transact(n,o)}catch(a){throw F(this,Ys,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield F(this,zc,"f").call(this,this)),a}})),kl.set(this,()=>{if(!F(this,On,"f"))throw new Error("Wallet not connected");return{authToken:F(this,On,"f").auth_token,chain:F(this,On,"f").chain}}),Kc.set(this,n=>n.map(r=>{var i,o;const s=Bn(r.address);return{address:vu.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:F(this,Yo,"f"),features:(o=r.features)!==null&&o!==void 0?o:sI}})),ag.set(this,n=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,kl,"f").call(this);try{const o=n.map(s=>ho(s));return yield F(this,Zs,"f").call(this,s=>Me(this,void 0,void 0,function*(){return yield F(this,Il,"f").call(this,s,r,i),(yield s.signTransactions({payloads:o})).signed_payloads.map(Bn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),lg.set(this,(n,r)=>Me(this,void 0,void 0,function*(){const{authToken:i,chain:o}=F(this,kl,"f").call(this);try{return yield F(this,Zs,"f").call(this,s=>Me(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),F(this,Il,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions){const c=ho(n);return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[c]}))).signatures.map(Bn)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),$c.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield F(this,lg,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),Vc.set(this,(...n)=>Me(this,void 0,void 0,function*(){return(yield F(this,ag,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),ug.set(this,(...n)=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,kl,"f").call(this),o=n.map(({account:a})=>ho(a.publicKey)),s=n.map(({message:a})=>ho(a));try{return yield F(this,Zs,"f").call(this,a=>Me(this,void 0,void 0,function*(){return yield F(this,Il,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(Bn).map(c=>({signedMessage:c,signature:c.slice(-oI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),cg.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield F(this,Gc,"f").call(this,i));else return[yield F(this,Gc,"f").call(this,n[0])];return r})),Gc.set(this,n=>Me(this,void 0,void 0,function*(){var r,i,o;je(this,Zi,!0);try{const s=yield F(this,Wc,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(c=>c.address==a);return{account:Object.assign(Object.assign({},l??{address:vu.default.encode(Bn(a))}),{publicKey:Bn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:F(this,Yo,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:Bn(s.sign_in_result.signed_message),signature:Bn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{je(this,Zi,!1)}})),je(this,_i,e.authorizationCache),je(this,bl,e.appIdentity),je(this,Yo,e.chains),je(this,Uc,e.chainSelector),je(this,zc,e.onWalletNotFound),je(this,Al,{[tn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:F(this,$c,"f")},[tn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:F(this,Vc,"f")}})}get version(){return F(this,tg,"f")}get name(){return F(this,ng,"f")}get url(){return F(this,rg,"f")}get icon(){return F(this,ig,"f")}get chains(){return F(this,Yo,"f")}get features(){return Object.assign({[Ta.StandardConnect]:{version:"1.0.0",connect:F(this,sg,"f")},[Ta.StandardDisconnect]:{version:"1.0.0",disconnect:F(this,Hc,"f")},[Ta.StandardEvents]:{version:"1.0.0",on:F(this,og,"f")},[tn.SolanaSignMessage]:{version:"1.0.0",signMessage:F(this,ug,"f")},[tn.SolanaSignIn]:{version:"1.0.0",signIn:F(this,cg,"f")}},F(this,Al,"f"))}get accounts(){var e,n;return(n=(e=F(this,On,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!F(this,On,"f")}get isAuthorized(){return!!F(this,On,"f")}get currentAuthorization(){return F(this,On,"f")}get cachedAuthorizationResult(){return F(this,_i,"f").get()}}ds=new WeakMap,tg=new WeakMap,ng=new WeakMap,rg=new WeakMap,ig=new WeakMap,bl=new WeakMap,On=new WeakMap,_i=new WeakMap,Zi=new WeakMap,Ys=new WeakMap,Yo=new WeakMap,Uc=new WeakMap,Al=new WeakMap,zc=new WeakMap,og=new WeakMap,sg=new WeakMap,Wc=new WeakMap,qs=new WeakMap,Fc=new WeakMap,Il=new WeakMap,Hc=new WeakMap,Zs=new WeakMap,kl=new WeakMap,Kc=new WeakMap,ag=new WeakMap,lg=new WeakMap,$c=new WeakMap,Vc=new WeakMap,ug=new WeakMap,cg=new WeakMap,Gc=new WeakMap,Gs=new WeakSet,jc=function(e,...n){var r;(r=F(this,ds,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},rI=function(e,n){var r;F(this,ds,"f")[e]=(r=F(this,ds,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class lI{constructor(e){Qs.add(this),fs.set(this,{}),dg.set(this,"1.0.0"),fg.set(this,Dm),hg.set(this,"https://solanamobile.com/wallets"),pg.set(this,nI),Rl.set(this,void 0),Cn.set(this,void 0),Qi.set(this,void 0),Xi.set(this,!1),Xs.set(this,0),qo.set(this,[]),Yc.set(this,void 0),Tl.set(this,void 0),qc.set(this,void 0),Zc.set(this,void 0),Cr.set(this,void 0),gg.set(this,(n,r)=>{var i;return!((i=F(this,fs,"f")[n])===null||i===void 0)&&i.push(r)||(F(this,fs,"f")[n]=[r]),()=>F(this,Qs,"m",iI).call(this,n,r)}),yg.set(this,({silent:n}={})=>Me(this,void 0,void 0,function*(){if(F(this,Xi,"f")||this.connected)return{accounts:this.accounts};je(this,Xi,!0);try{yield F(this,Xc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{je(this,Xi,!1)}return{accounts:this.accounts}})),Xc.set(this,n=>Me(this,void 0,void 0,function*(){try{const r=yield F(this,Qi,"f").get();if(r)return F(this,Ml,"f").call(this,r),r;F(this,Cr,"f")&&je(this,Cr,void 0,"f");const i=yield F(this,Yc,"f").select(F(this,qo,"f"));return yield F(this,Js,"f").call(this,o=>Me(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:F(this,Rl,"f"),sign_in_payload:n})]),l=F(this,ed,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([F(this,mg,"f").call(this,s),F(this,Qi,"f").set(c),F(this,Ml,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Ml.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=F(this,Cn,"f")==null||((r=F(this,Cn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||F(this,Cn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);je(this,Cn,n),i&&F(this,Qs,"m",Qc).call(this,"change",{accounts:this.accounts})})),mg.set(this,n=>Me(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),o=tn.SolanaSignAndSendTransaction in this.features!==i||tn.SolanaSignTransaction in this.features!==r;je(this,Tl,Object.assign(Object.assign({},i&&{[tn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:F(this,td,"f")}}),r&&{[tn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:F(this,nd,"f")}})),o&&F(this,Qs,"m",Qc).call(this,"change",{features:this.features})})),Nl.set(this,(n,r,i)=>Me(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=F(this,Cn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:F(this,Rl,"f"),chain:i})]),c=F(this,ed,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:c,chain:i,capabilities:a});Promise.all([F(this,Qi,"f").set(f),F(this,Ml,"f").call(this,f)])}catch(a){throw F(this,Jc,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Jc.set(this,()=>Me(this,void 0,void 0,function*(){var n,r;(n=F(this,Cr,"f"))===null||n===void 0||n.close(),F(this,Qi,"f").clear(),je(this,Xi,!1),je(this,Xs,(r=F(this,Xs,"f"),r++,r)),je(this,Cn,void 0),je(this,Cr,void 0),F(this,Qs,"m",Qc).call(this,"change",{accounts:this.accounts})})),Js.set(this,n=>Me(this,void 0,void 0,function*(){var r;const i=(r=F(this,Cn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:F(this,Zc,"f")}),a=F(this,Xs,"f"),l=new $L;if(F(this,Cr,"f"))return n(F(this,Cr,"f").wallet);try{const{associationUrl:c,close:f,wallet:g}=yield ZA.startRemoteScenario(s),w=l.addEventListener("close",m=>{m&&f()});return l.initWithQR(c.toString()),l.open(),je(this,Cr,{close:f,wallet:yield g},"f"),w(),l.close(),yield n(F(this,Cr,"f").wallet)}catch(c){throw l.close(),F(this,Xs,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield F(this,qc,"f").call(this,this)),c}})),xl.set(this,()=>{if(!F(this,Cn,"f"))throw new Error("Wallet not connected");return{authToken:F(this,Cn,"f").auth_token,chain:F(this,Cn,"f").chain}}),ed.set(this,n=>n.map(r=>{var i,o;const s=Bn(r.address);return{address:vu.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:F(this,qo,"f"),features:(o=r.features)!==null&&o!==void 0?o:sI}})),wg.set(this,n=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,xl,"f").call(this);try{return yield F(this,Js,"f").call(this,o=>Me(this,void 0,void 0,function*(){return yield F(this,Nl,"f").call(this,o,r,i),(yield o.signTransactions({payloads:n.map(ho)})).signed_payloads.map(Bn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),vg.set(this,(n,r)=>Me(this,void 0,void 0,function*(){const{authToken:i,chain:o}=F(this,xl,"f").call(this);try{return yield F(this,Js,"f").call(this,s=>Me(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),F(this,Nl,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[ho(n)]}))).signatures.map(Bn)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),td.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield F(this,vg,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),nd.set(this,(...n)=>Me(this,void 0,void 0,function*(){return(yield F(this,wg,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),_g.set(this,(...n)=>Me(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,xl,"f").call(this),o=n.map(({account:a})=>ho(a.publicKey)),s=n.map(({message:a})=>ho(a));try{return yield F(this,Js,"f").call(this,a=>Me(this,void 0,void 0,function*(){return yield F(this,Nl,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(Bn).map(c=>({signedMessage:c,signature:c.slice(-oI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Sg.set(this,(...n)=>Me(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield F(this,rd,"f").call(this,i));else return[yield F(this,rd,"f").call(this,n[0])];return r})),rd.set(this,n=>Me(this,void 0,void 0,function*(){var r,i,o;je(this,Xi,!0);try{const s=yield F(this,Xc,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(c=>c.address==a);return{account:Object.assign(Object.assign({},l??{address:vu.default.encode(Bn(a))}),{publicKey:Bn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:F(this,qo,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:Bn(s.sign_in_result.signed_message),signature:Bn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{je(this,Xi,!1)}})),je(this,Qi,e.authorizationCache),je(this,Rl,e.appIdentity),je(this,qo,e.chains),je(this,Yc,e.chainSelector),je(this,Zc,e.remoteHostAuthority),je(this,qc,e.onWalletNotFound),je(this,Tl,{[tn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:F(this,td,"f")},[tn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:F(this,nd,"f")}})}get version(){return F(this,dg,"f")}get name(){return F(this,fg,"f")}get url(){return F(this,hg,"f")}get icon(){return F(this,pg,"f")}get chains(){return F(this,qo,"f")}get features(){return Object.assign({[Ta.StandardConnect]:{version:"1.0.0",connect:F(this,yg,"f")},[Ta.StandardDisconnect]:{version:"1.0.0",disconnect:F(this,Jc,"f")},[Ta.StandardEvents]:{version:"1.0.0",on:F(this,gg,"f")},[tn.SolanaSignMessage]:{version:"1.0.0",signMessage:F(this,_g,"f")},[tn.SolanaSignIn]:{version:"1.0.0",signIn:F(this,Sg,"f")}},F(this,Tl,"f"))}get accounts(){var e,n;return(n=(e=F(this,Cn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!F(this,Cr,"f")&&!!F(this,Cn,"f")}get isAuthorized(){return!!F(this,Cn,"f")}get currentAuthorization(){return F(this,Cn,"f")}get cachedAuthorizationResult(){return F(this,Qi,"f").get()}}fs=new WeakMap,dg=new WeakMap,fg=new WeakMap,hg=new WeakMap,pg=new WeakMap,Rl=new WeakMap,Cn=new WeakMap,Qi=new WeakMap,Xi=new WeakMap,Xs=new WeakMap,qo=new WeakMap,Yc=new WeakMap,Tl=new WeakMap,qc=new WeakMap,Zc=new WeakMap,Cr=new WeakMap,gg=new WeakMap,yg=new WeakMap,Xc=new WeakMap,Ml=new WeakMap,mg=new WeakMap,Nl=new WeakMap,Jc=new WeakMap,Js=new WeakMap,xl=new WeakMap,ed=new WeakMap,wg=new WeakMap,vg=new WeakMap,td=new WeakMap,nd=new WeakMap,_g=new WeakMap,Sg=new WeakMap,rd=new WeakMap,Qs=new WeakSet,Qc=function(e,...n){var r;(r=F(this,fs,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},iI=function(e,n){var r;F(this,fs,"f")[e]=(r=F(this,fs,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var YL=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},qL=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},id;function ov(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new ZL(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let ZL=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),id.set(this,void 0),YL(this,id,e,"f")}get detail(){return qL(this,id,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};id=new WeakMap;function QL(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function XL(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function JL(t){QL()?ov(new aI(t)):XL()&&t.remoteHostAuthority!==void 0&&ov(new lI(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const e3="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",t3="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class n3 extends tI{constructor(){super(...arguments),this.contentStyles=i3,this.contentHtml=r3}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=e3,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=t3,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const r3=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,i3=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function uI(){return Me(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new n3;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function o3(){return()=>Me(this,void 0,void 0,function*(){uI()})}const Tp="SolanaMobileWalletAdapterDefaultAuthorizationCache";function s3(){let t;try{t=window.localStorage}catch{}return{clear(){return Me(this,void 0,void 0,function*(){if(t)try{t.removeItem(Tp)}catch{}})},get(){return Me(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(Tp));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):vu.default.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Me(this,void 0,void 0,function*(){if(t)try{t.setItem(Tp,JSON.stringify(e))}catch{}})}}}function a3(){return{select(t){return Me(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(iv.SOLANA_MAINNET_CHAIN)?iv.SOLANA_MAINNET_CHAIN:t[0]})}}}hi.LocalSolanaMobileWalletAdapterWallet=aI;hi.RemoteSolanaMobileWalletAdapterWallet=lI;hi.SolanaMobileWalletAdapterWalletName=Dm;hi.createDefaultAuthorizationCache=s3;hi.createDefaultChainSelector=a3;hi.createDefaultWalletNotFoundHandler=o3;hi.defaultErrorModalWalletNotFoundHandler=uI;hi.registerMwa=JL;Object.defineProperty(Po,"__esModule",{value:!0});var sn=y4,od=Kb,ts=ze,Va=hi;function at(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Ee(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function sr(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Eg="standard:connect",l3="standard:disconnect",u3="standard:events";function Mp(t){return window.btoa(String.fromCharCode.call(null,...t))}function c3(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var cn,Et,oo,Ti,sd,Ai,Zo,bg,Ag,cI,of,ad,to;const d3="Mobile Wallet Adapter",f3=64;function h3(t){return"version"in t}function Um(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class dI extends sn.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),cn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Et.set(this,void 0),oo.set(this,!1),Ti.set(this,c3()?sn.WalletReadyState.Loadable:sn.WalletReadyState.Unsupported),sd.set(this,void 0),Ai.set(this,void 0),Zo.set(this,void 0),bg.set(this,r=>at(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Ee(this,cn,"m",cI).call(this);const i=yield Ee(this,sd,"f").call(this,r.accounts);i!==Ee(this,Ai,"f")&&(sr(this,Ai,i),sr(this,Zo,void 0),this.emit("connect",this.publicKey))}})),sr(this,sd,r=>at(this,void 0,void 0,function*(){var i;const o=yield n.addressSelector.select(r.map(({publicKey:s})=>Mp(s)));return(i=r.find(({publicKey:s})=>Mp(s)===o))!==null&&i!==void 0?i:r[0]})),sr(this,Et,e),Ee(this,Et,"f").features[u3].on("change",Ee(this,bg,"f")),this.name=Ee(this,Et,"f").name,this.icon=Ee(this,Et,"f").icon,this.url=Ee(this,Et,"f").url}get publicKey(){var e;if(!Ee(this,Zo,"f")&&Ee(this,Ai,"f"))try{sr(this,Zo,new od.PublicKey(Ee(this,Ai,"f").publicKey),"f")}catch(n){throw new sn.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Ee(this,Zo,"f"))!==null&&e!==void 0?e:null}get connected(){return Ee(this,Et,"f").connected}get connecting(){return Ee(this,oo,"f")}get readyState(){return Ee(this,Ti,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return at(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return at(this,void 0,void 0,function*(){Ee(this,cn,"m",Ag).call(this,!0)})}connect(){return at(this,void 0,void 0,function*(){Ee(this,cn,"m",Ag).call(this)})}performAuthorization(e){return at(this,void 0,void 0,function*(){try{const n=yield Ee(this,Et,"f").cachedAuthorizationResult;return n?(yield Ee(this,Et,"f").features[Eg].connect({silent:!0}),n):(e?yield Ee(this,Et,"f").features[ts.SolanaSignIn].signIn(e):yield Ee(this,Et,"f").features[Eg].connect(),yield yield Ee(this,Et,"f").cachedAuthorizationResult)}catch(n){throw new sn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return at(this,void 0,void 0,function*(){return yield Ee(this,cn,"m",to).call(this,()=>at(this,void 0,void 0,function*(){sr(this,oo,!1),sr(this,Zo,void 0),sr(this,Ai,void 0),yield Ee(this,Et,"f").features[l3].disconnect(),this.emit("disconnect")}))})}signIn(e){return at(this,void 0,void 0,function*(){return Ee(this,cn,"m",to).call(this,()=>at(this,void 0,void 0,function*(){var n;if(Ee(this,Ti,"f")!==sn.WalletReadyState.Installed&&Ee(this,Ti,"f")!==sn.WalletReadyState.Loadable)throw new sn.WalletNotReadyError;sr(this,oo,!0);try{const r=yield Ee(this,Et,"f").features[ts.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new sn.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{sr(this,oo,!1)}}))})}signMessage(e){return at(this,void 0,void 0,function*(){return yield Ee(this,cn,"m",to).call(this,()=>at(this,void 0,void 0,function*(){const n=Ee(this,cn,"m",of).call(this);try{return(yield Ee(this,Et,"f").features[ts.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new sn.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return at(this,void 0,void 0,function*(){return yield Ee(this,cn,"m",to).call(this,()=>at(this,void 0,void 0,function*(){const i=Ee(this,cn,"m",of).call(this);try{let o=function(){let s;switch(n.commitment){case"confirmed":case"finalized":case"processed":s=n.commitment;break;default:s="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=s;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(s==="finalized"?2:s==="confirmed"?1:0)?a:s};if(ts.SolanaSignAndSendTransaction in Ee(this,Et,"f").features){const s=Um(Ee(this,Et,"f").currentAuthorization.chain),[a]=(yield Ee(this,Et,"f").features[ts.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:s,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Mp(l.signature));return a}else{const[s]=yield Ee(this,cn,"m",ad).call(this,[e]);if(h3(s))return yield n.sendTransaction(s);{const a=s.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new sn.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return at(this,void 0,void 0,function*(){return yield Ee(this,cn,"m",to).call(this,()=>at(this,void 0,void 0,function*(){const[n]=yield Ee(this,cn,"m",ad).call(this,[e]);return n}))})}signAllTransactions(e){return at(this,void 0,void 0,function*(){return yield Ee(this,cn,"m",to).call(this,()=>at(this,void 0,void 0,function*(){return yield Ee(this,cn,"m",ad).call(this,e)}))})}}Et=new WeakMap,oo=new WeakMap,Ti=new WeakMap,sd=new WeakMap,Ai=new WeakMap,Zo=new WeakMap,bg=new WeakMap,cn=new WeakSet,Ag=function(e=!1){return at(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ee(this,cn,"m",to).call(this,()=>at(this,void 0,void 0,function*(){if(Ee(this,Ti,"f")!==sn.WalletReadyState.Installed&&Ee(this,Ti,"f")!==sn.WalletReadyState.Loadable)throw new sn.WalletNotReadyError;sr(this,oo,!0);try{yield Ee(this,Et,"f").features[Eg].connect({silent:e})}catch(n){throw new sn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{sr(this,oo,!1)}}))})},cI=function(){Ee(this,Ti,"f")!==sn.WalletReadyState.Installed&&this.emit("readyStateChange",sr(this,Ti,sn.WalletReadyState.Installed))},of=function(){if(!Ee(this,Et,"f").isAuthorized||!Ee(this,Ai,"f"))throw new sn.WalletNotConnectedError;return Ee(this,Ai,"f")},ad=function(e){return at(this,void 0,void 0,function*(){const n=Ee(this,cn,"m",of).call(this);try{if(ts.SolanaSignTransaction in Ee(this,Et,"f").features)return Ee(this,Et,"f").features[ts.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,a=o[0]*f3+1;return od.VersionedMessage.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?od.Transaction.from(o):od.VersionedTransaction.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new sn.WalletSignTransactionError(r==null?void 0:r.message,r)}})},to=function(e){return at(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class fI extends dI{constructor(e){var n;const r=Um((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new Va.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>at(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:Va.createDefaultChainSelector(),onWalletNotFound:()=>at(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class p3 extends dI{constructor(e){const n=Um(e.chain);super(new Va.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>at(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:Va.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>at(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class g3 extends fI{}function y3(){return{select(t){return at(this,void 0,void 0,function*(){return t[0]})}}}function m3(){return Va.createDefaultAuthorizationCache()}function w3(t){return at(this,void 0,void 0,function*(){return Va.defaultErrorModalWalletNotFoundHandler()})}function v3(){return w3}Po.LocalSolanaMobileWalletAdapter=fI;Po.RemoteSolanaMobileWalletAdapter=p3;var _3=Po.SolanaMobileWalletAdapter=g3,ld=Po.SolanaMobileWalletAdapterWalletName=d3,S3=Po.createDefaultAddressSelector=y3,E3=Po.createDefaultAuthorizationResultCache=m3,b3=Po.createDefaultWalletNotFoundHandler=v3,A3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},I3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ud;function k3(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new R3(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class R3 extends Event{get detail(){return A3(this,ud,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),ud.set(this,void 0),I3(this,ud,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ud=new WeakMap;function T3(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var me=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},wn,$n,hs,ps,Qo,Ol,sf,qe,af,Ig,cd,kg,$l,Rg,sv,av,lv,uv;class M3 extends Rm{get name(){return me(this,qe,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return me(this,qe,"f").icon}get readyState(){return me(this,af,"f")}get publicKey(){return me(this,hs,"f")}get connecting(){return me(this,ps,"f")}get supportedTransactionVersions(){return me(this,sf,"f")}get wallet(){return me(this,qe,"f")}get standard(){return!0}constructor({wallet:e}){super(),wn.add(this),$n.set(this,void 0),hs.set(this,void 0),ps.set(this,void 0),Qo.set(this,void 0),Ol.set(this,void 0),sf.set(this,void 0),qe.set(this,void 0),af.set(this,typeof window>"u"||typeof document>"u"?Fe.Unsupported:Fe.Installed),Rg.set(this,n=>{if("accounts"in n){const r=me(this,qe,"f").accounts[0];me(this,$n,"f")&&!me(this,Qo,"f")&&r!==me(this,$n,"f")&&(r?me(this,wn,"m",cd).call(this,r):(this.emit("error",new Bu),me(this,wn,"m",kg).call(this)))}"features"in n&&me(this,wn,"m",$l).call(this)}),Jt(this,qe,e,"f"),Jt(this,$n,null,"f"),Jt(this,hs,null,"f"),Jt(this,ps,!1,"f"),Jt(this,Qo,!1,"f"),Jt(this,Ol,me(this,qe,"f").features[Hr.StandardEvents].on("change",me(this,Rg,"f")),"f"),me(this,wn,"m",$l).call(this)}destroy(){Jt(this,$n,null,"f"),Jt(this,hs,null,"f"),Jt(this,ps,!1,"f"),Jt(this,Qo,!1,"f");const e=me(this,Ol,"f");e&&(Jt(this,Ol,null,"f"),e())}async autoConnect(){return me(this,wn,"m",Ig).call(this,{silent:!0})}async connect(){return me(this,wn,"m",Ig).call(this)}async disconnect(){if(Hr.StandardDisconnect in me(this,qe,"f").features)try{Jt(this,Qo,!0,"f"),await me(this,qe,"f").features[Hr.StandardDisconnect].disconnect()}catch(e){this.emit("error",new ol(e==null?void 0:e.message,e))}finally{Jt(this,Qo,!1,"f")}me(this,wn,"m",kg).call(this)}async sendTransaction(e,n,r={}){try{const i=me(this,$n,"f");if(!i)throw new ht;let o;if(ze.SolanaSignAndSendTransaction in me(this,qe,"f").features)if(i.features.includes(ze.SolanaSignAndSendTransaction))o=ze.SolanaSignAndSendTransaction;else if(ze.SolanaSignTransaction in me(this,qe,"f").features&&i.features.includes(ze.SolanaSignTransaction))o=ze.SolanaSignTransaction;else throw new Oi;else if(ze.SolanaSignTransaction in me(this,qe,"f").features){if(!i.features.includes(ze.SolanaSignTransaction))throw new Oi;o=ze.SolanaSignTransaction}else throw new co;const s=oL(n.rpcEndpoint);if(!i.chains.includes(s))throw new ii;try{const{signers:a,...l}=r;let c;if(zr(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===ze.SolanaSignAndSendTransaction){const[f]=await me(this,qe,"f").features[ze.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:kp(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Ot.encode(f.signature)}else{const[f]=await me(this,qe,"f").features[ze.SolanaSignTransaction].signTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:kp(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(f.signedTransaction,{...l,preflightCommitment:kp(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof St?a:new ii(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}$n=new WeakMap,hs=new WeakMap,ps=new WeakMap,Qo=new WeakMap,Ol=new WeakMap,sf=new WeakMap,qe=new WeakMap,af=new WeakMap,Rg=new WeakMap,wn=new WeakSet,Ig=async function(e){try{if(this.connected||this.connecting)return;if(me(this,af,"f")!==Fe.Installed)throw new No;if(Jt(this,ps,!0,"f"),!me(this,qe,"f").accounts.length)try{await me(this,qe,"f").features[Hr.StandardConnect].connect(e)}catch(r){throw new Rs(r==null?void 0:r.message,r)}const n=me(this,qe,"f").accounts[0];if(!n)throw new Oi;me(this,wn,"m",cd).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Jt(this,ps,!1,"f")}},cd=function(e){let n;try{n=new X(e.address)}catch(r){throw new xo(r==null?void 0:r.message,r)}Jt(this,$n,e,"f"),Jt(this,hs,n,"f"),me(this,wn,"m",$l).call(this),this.emit("connect",n)},kg=function(){Jt(this,$n,null,"f"),Jt(this,hs,null,"f"),me(this,wn,"m",$l).call(this),this.emit("disconnect")},$l=function(){var n,r;const e=ze.SolanaSignAndSendTransaction in me(this,qe,"f").features?me(this,qe,"f").features[ze.SolanaSignAndSendTransaction].supportedTransactionVersions:me(this,qe,"f").features[ze.SolanaSignTransaction].supportedTransactionVersions;Jt(this,sf,T3(e,["legacy"])?null:new Set(e),"f"),ze.SolanaSignTransaction in me(this,qe,"f").features&&((n=me(this,$n,"f"))!=null&&n.features.includes(ze.SolanaSignTransaction))?(this.signTransaction=me(this,wn,"m",sv),this.signAllTransactions=me(this,wn,"m",av)):(delete this.signTransaction,delete this.signAllTransactions),ze.SolanaSignMessage in me(this,qe,"f").features&&((r=me(this,$n,"f"))!=null&&r.features.includes(ze.SolanaSignMessage))?this.signMessage=me(this,wn,"m",lv):delete this.signMessage,ze.SolanaSignIn in me(this,qe,"f").features?this.signIn=me(this,wn,"m",uv):delete this.signIn},sv=async function(e){try{const n=me(this,$n,"f");if(!n)throw new ht;if(!(ze.SolanaSignTransaction in me(this,qe,"f").features))throw new co;if(!n.features.includes(ze.SolanaSignTransaction))throw new Oi;try{const i=(await me(this,qe,"f").features[ze.SolanaSignTransaction].signTransaction({account:n,transaction:zr(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return zr(e)?yu.deserialize(i):De.from(i)}catch(r){throw r instanceof St?r:new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},av=async function(e){try{const n=me(this,$n,"f");if(!n)throw new ht;if(!(ze.SolanaSignTransaction in me(this,qe,"f").features))throw new co;if(!n.features.includes(ze.SolanaSignTransaction))throw new Oi;try{const r=await me(this,qe,"f").features[ze.SolanaSignTransaction].signTransaction(...e.map(i=>({account:n,transaction:zr(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const s=r[o].signedTransaction;return zr(i)?yu.deserialize(s):De.from(s)})}catch(r){throw new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},lv=async function(e){try{const n=me(this,$n,"f");if(!n)throw new ht;if(!(ze.SolanaSignMessage in me(this,qe,"f").features))throw new co;if(!n.features.includes(ze.SolanaSignMessage))throw new Oi;try{return(await me(this,qe,"f").features[ze.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Pu(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},uv=async function(e={}){try{if(!(ze.SolanaSignIn in me(this,qe,"f").features))throw new co;let n;try{[n]=await me(this,qe,"f").features[ze.SolanaSignIn].signIn(e)}catch(r){throw new V0(r==null?void 0:r.message,r)}if(!n)throw new V0;return me(this,wn,"m",cd).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const N3=yA;var x3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},O3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},dd;let ur;const rh=new Set;function C3(t){Vl=void 0,rh.add(t)}function L3(t){Vl=void 0,rh.delete(t)}const ga={};function B3(){if(ur||(ur=Object.freeze({register:cv,get:P3,on:D3}),typeof window>"u"))return ur;const t=Object.freeze({register:cv});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new U3(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return ur}function cv(...t){var e;return t=t.filter(n=>!rh.has(n)),t.length?(t.forEach(n=>C3(n)),(e=ga.register)==null||e.forEach(n=>Tg(()=>n(...t))),function(){var r;t.forEach(i=>L3(i)),(r=ga.unregister)==null||r.forEach(i=>Tg(()=>i(...t)))}):()=>{}}let Vl;function P3(){return Vl||(Vl=[...rh]),Vl}function D3(t,e){var n;return(n=ga[t])!=null&&n.push(e)||(ga[t]=[e]),function(){var i;ga[t]=(i=ga[t])==null?void 0:i.filter(o=>e!==o)}}function Tg(t){try{t()}catch(e){console.error(e)}}class U3 extends Event{get detail(){return x3(this,dd,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),dd.set(this,void 0),O3(this,dd,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}dd=new WeakMap;function z3(){if(ur||(ur=B3(),typeof window>"u"))return ur;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),ur;const{register:e}=ur,n=(...r)=>r.forEach(i=>Tg(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),ur}return n(...t),ur}function j3(t){const e=dv(()=>new Set),{get:n,on:r}=dv(()=>z3()),[i,o]=te.useState(()=>fv(n()));te.useEffect(()=>{const a=[r("register",(...l)=>o(c=>[...c,...fv(l)])),r("unregister",(...l)=>o(c=>c.filter(f=>l.some(g=>g===f.wallet))))];return()=>a.forEach(l=>l())},[r]);const s=W3(i);return te.useEffect(()=>{if(!s)return;const a=new Set(i);new Set(s.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[s,i]),te.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),te.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function dv(t){const e=te.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function W3(t){const e=te.useRef(void 0);return te.useEffect(()=>{e.current=t}),e.current}function fv(t){return t.filter(N3).map(e=>new M3({wallet:e}))}var Ma;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Ma||(Ma={}));function F3(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function H3({adapters:t,userAgentString:e}){return t.some(n=>n.name!==ld&&n.readyState===Fe.Installed)?Ma.DESKTOP_WEB:e&&/android/i.test(e)&&!F3(e)?Ma.MOBILE_WEB:Ma.DESKTOP_WEB}function K3(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function $3({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){const l=te.useRef(!1),[c,f]=te.useState(!1),g=te.useRef(!1),[w,m]=te.useState(!1),[_,R]=te.useState(()=>(n==null?void 0:n.publicKey)??null),[N,E]=te.useState(()=>(n==null?void 0:n.connected)??!1),A=te.useRef(s);te.useEffect(()=>(A.current=s,()=>{A.current=void 0}),[s]);const S=te.useRef((d,v)=>(r.current||(A.current?A.current(d,v):(console.error(d,v),d instanceof No&&typeof window<"u"&&v&&window.open(v.url,"_blank"))),d)),[M,C]=te.useState(()=>e.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==Fe.Unsupported));te.useEffect(()=>{C(v=>e.map((k,I)=>{const O=v[I];return O&&O.adapter===k&&O.readyState===k.readyState?O:{adapter:k,readyState:k.readyState}}).filter(({readyState:k})=>k!==Fe.Unsupported));function d(v){C(k=>{const I=k.findIndex(({adapter:P})=>P===this);if(I===-1)return k;const{adapter:O}=k[I];return[...k.slice(0,I),{adapter:O,readyState:v},...k.slice(I+1)].filter(({readyState:P})=>P!==Fe.Unsupported)})}return e.forEach(v=>v.on("readyStateChange",d,v)),()=>{e.forEach(v=>v.off("readyStateChange",d,v))}},[n,e]);const D=te.useMemo(()=>M.find(d=>d.adapter===n)??null,[n,M]);te.useEffect(()=>{if(!n)return;const d=I=>{R(I),l.current=!1,f(!1),E(!0),g.current=!1,m(!1)},v=()=>{r.current||(R(null),l.current=!1,f(!1),E(!1),g.current=!1,m(!1))},k=I=>{S.current(I,n)};return n.on("connect",d),n.on("disconnect",v),n.on("error",k),()=>{n.off("connect",d),n.off("disconnect",v),n.off("error",k),v()}},[n,r]);const U=te.useRef(!1);te.useEffect(()=>()=>{U.current=!1},[n]),te.useEffect(()=>{U.current||l.current||N||!i||!((D==null?void 0:D.readyState)===Fe.Installed||(D==null?void 0:D.readyState)===Fe.Loadable)||(l.current=!0,f(!0),U.current=!0,async function(){try{await i()}catch{o()}finally{f(!1),l.current=!1}}())},[N,i,o,D]);const z=te.useCallback(async(d,v,k)=>{if(!n)throw S.current(new X1);if(!N)throw S.current(new ht,n);return await n.sendTransaction(d,v,k)},[n,N]),j=te.useMemo(()=>n&&"signTransaction"in n?async d=>{if(!N)throw S.current(new ht,n);return await n.signTransaction(d)}:void 0,[n,N]),H=te.useMemo(()=>n&&"signAllTransactions"in n?async d=>{if(!N)throw S.current(new ht,n);return await n.signAllTransactions(d)}:void 0,[n,N]),Q=te.useMemo(()=>n&&"signMessage"in n?async d=>{if(!N)throw S.current(new ht,n);return await n.signMessage(d)}:void 0,[n,N]),V=te.useMemo(()=>n&&"signIn"in n?async d=>await n.signIn(d):void 0,[n]),b=te.useCallback(async()=>{if(l.current||g.current||D!=null&&D.adapter.connected)return;if(!D)throw S.current(new X1);const{adapter:d,readyState:v}=D;if(!(v===Fe.Installed||v===Fe.Loadable))throw S.current(new No,d);l.current=!0,f(!0);try{await d.connect()}catch(k){throw o(),k}finally{f(!1),l.current=!1}},[o,D]),u=te.useCallback(async()=>{if(!g.current&&n){g.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),g.current=!1}}},[n]);return ne.createElement(mA.Provider,{value:{autoConnect:!!i,wallets:M,wallet:D,publicKey:_,connected:N,connecting:c,disconnecting:w,select:a,connect:b,disconnect:u,sendTransaction:z,signTransaction:j,signAllTransactions:H,signMessage:Q,signIn:V}},t)}let Np;function V3(){var t;return Np===void 0&&(Np=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),Np}function hv(t){const e=V3();return H3({adapters:t,userAgentString:e})===Ma.MOBILE_WEB}function G3(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Y3({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:o}=o4(),s=j3(e),a=te.useMemo(()=>{if(!hv(s))return null;const A=s.find(S=>S.name===ld);return A||new _3({addressSelector:S3(),appIdentity:{uri:G3()},authorizationResultCache:E3(),cluster:K3(o==null?void 0:o.rpcEndpoint),onWalletNotFound:b3()})},[s,o==null?void 0:o.rpcEndpoint]),l=te.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[c,f]=g4(r,null),g=te.useMemo(()=>l.find(A=>A.name===c)??null,[l,c]),w=te.useCallback(A=>{c!==A&&(g&&g.name!==ld&&g.disconnect(),f(A))},[g,f,c]);te.useEffect(()=>{if(!g)return;function A(){R.current||f(null)}return g.on("disconnect",A),()=>{g.off("disconnect",A)}},[g,s,f,c]);const m=te.useRef(!1),_=te.useMemo(()=>{if(!(!n||!g))return async()=>{(n===!0||await n(g))&&(m.current?await g.connect():await g.autoConnect())}},[n,g]),R=te.useRef(!1);te.useEffect(()=>{if(c===ld&&hv(s)){R.current=!1;return}function A(){R.current=!0}return window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A)}},[s,c]);const N=te.useCallback(()=>{g&&w(null)},[g,w]),E=te.useCallback(A=>{m.current=!0,w(A)},[w]);return ne.createElement($3,{wallets:l,adapter:g,isUnloadingRef:R,onAutoConnectRequest:_,onConnectError:N,onError:i,onSelectWallet:E},t)}const hI={setVisible(t){console.error(pI("call","setVisible"))},visible:!1};Object.defineProperty(hI,"visible",{get(){return console.error(pI("read","visible")),!1}});function pI(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const gI=te.createContext(hI);function yI(){return te.useContext(gI)}function q3({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:i,disconnecting:o,publicKey:s,select:a,wallet:l,wallets:c}=Nm();let f;r?f="connecting":n?f="connected":o?f="disconnecting":l?f="has-wallet":f="no-wallet";const g=te.useCallback(()=>{e().catch(()=>{})},[e]),w=te.useCallback(()=>{i().catch(()=>{})},[i]),m=te.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:f,onConnect:f==="has-wallet"?g:void 0,onDisconnect:f!=="disconnecting"&&f!=="no-wallet"?w:void 0,onSelectWallet:m,publicKey:s??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const mI=t=>ne.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&ne.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&ne.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),wI=({wallet:t,...e})=>t&&ne.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function Z3({walletIcon:t,walletName:e,...n}){return ne.createElement(mI,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?ne.createElement(wI,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function Q3({children:t,labels:e,...n}){const{setVisible:r}=yI(),{buttonState:i,onConnect:o,onDisconnect:s,publicKey:a,walletIcon:l,walletName:c}=q3({onSelectWallet(){r(!0)}}),[f,g]=te.useState(!1),[w,m]=te.useState(!1),_=te.useRef(null);te.useEffect(()=>{const N=E=>{const A=_.current;!A||A.contains(E.target)||m(!1)};return document.addEventListener("mousedown",N),document.addEventListener("touchstart",N),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("touchstart",N)}},[]);const R=te.useMemo(()=>{if(t)return t;if(a){const N=a.toBase58();return N.slice(0,4)+".."+N.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return ne.createElement("div",{className:"wallet-adapter-dropdown"},ne.createElement(Z3,{...n,"aria-expanded":w,style:{pointerEvents:w?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},R),ne.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${w&&"wallet-adapter-dropdown-list-active"}`,ref:_,role:"menu"},a?ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),g(!0),setTimeout(()=>g(!1),400)},role:"menuitem"},f?e.copied:e["copy-address"]):null,ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),s?ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(),m(!1)},role:"menuitem"},e.disconnect):null))}const pv=({id:t,children:e,expanded:n=!1})=>{const r=te.useRef(null),i=te.useRef(!0),o="height 250ms ease-out",s=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return te.useLayoutEffect(()=>{n?s():a()},[n]),te.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function f(g){l&&g.target===l&&g.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",f),()=>l.removeEventListener("transitionend",f)},[n]),ne.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},xp=({handleClick:t,tabIndex:e,wallet:n})=>ne.createElement("li",null,ne.createElement(mI,{onClick:t,startIcon:ne.createElement(wI,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Fe.Installed&&ne.createElement("span",null,"Detected"))),X3=()=>ne.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),ne.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),ne.createElement("g",{clipPath:"url(#clip0_880_5115)"},ne.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),ne.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),ne.createElement("defs",null,ne.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("clipPath",{id:"clip0_880_5115"},ne.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),J3=({className:t="",container:e="body"})=>{const n=te.useRef(null),{wallets:r,select:i}=Nm(),{setVisible:o}=yI(),[s,a]=te.useState(!1),[l,c]=te.useState(!1),[f,g]=te.useState(null),[w,m]=te.useMemo(()=>{const S=[],M=[];for(const C of r)C.readyState===Fe.Installed?S.push(C):M.push(C);return S.length?[S,M]:[M,[]]},[r]),_=te.useCallback(()=>{c(!1),setTimeout(()=>o(!1),150)},[o]),R=te.useCallback(S=>{S.preventDefault(),_()},[_]),N=te.useCallback((S,M)=>{i(M),R(S)},[i,R]),E=te.useCallback(()=>a(!s),[s]),A=te.useCallback(S=>{const M=n.current;if(!M)return;const C=M.querySelectorAll("button"),D=C[0],U=C[C.length-1];S.shiftKey?document.activeElement===D&&(U.focus(),S.preventDefault()):document.activeElement===U&&(D.focus(),S.preventDefault())},[n]);return te.useLayoutEffect(()=>{const S=C=>{C.key==="Escape"?_():C.key==="Tab"&&A(C)},{overflow:M}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",S,!1),()=>{document.body.style.overflow=M,window.removeEventListener("keydown",S,!1)}},[_,A]),te.useLayoutEffect(()=>g(document.querySelector(e)),[e]),f&&BS.createPortal(ne.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},ne.createElement("div",{className:"wallet-adapter-modal-container"},ne.createElement("div",{className:"wallet-adapter-modal-wrapper"},ne.createElement("button",{onClick:R,className:"wallet-adapter-modal-button-close"},ne.createElement("svg",{width:"14",height:"14"},ne.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),w.length?ne.createElement(ne.Fragment,null,ne.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),ne.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(S=>ne.createElement(xp,{key:S.adapter.name,handleClick:M=>N(M,S.adapter.name),wallet:S})),m.length?ne.createElement(pv,{expanded:s,id:"wallet-adapter-modal-collapse"},m.map(S=>ne.createElement(xp,{key:S.adapter.name,handleClick:M=>N(M,S.adapter.name),tabIndex:s?0:-1,wallet:S}))):null),m.length?ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},ne.createElement("span",null,s?"Less ":"More ","options"),ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):ne.createElement(ne.Fragment,null,ne.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),ne.createElement("div",{className:"wallet-adapter-modal-middle"},ne.createElement(X3,null)),m.length?ne.createElement(ne.Fragment,null,ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},ne.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),ne.createElement(pv,{expanded:s,id:"wallet-adapter-modal-collapse"},ne.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(S=>ne.createElement(xp,{key:S.adapter.name,handleClick:M=>N(M,S.adapter.name),tabIndex:s?0:-1,wallet:S}))))):null))),ne.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:R})),f)},e6=({children:t,...e})=>{const[n,r]=te.useState(!1);return ne.createElement(gI.Provider,{value:{visible:n,setVisible:r}},t,n&&ne.createElement(J3,{...e}))},t6={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function gv(t){return ne.createElement(Q3,{...t,labels:t6})}const n6="modulepreload",r6=function(t){return"/Investor_App_DMD/"+t},yv={},ih=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=r6(l),l in yv)return;yv[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":n6,c||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),c)return new Promise((w,m)=>{g.addEventListener("load",w),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var yc={exports:{}},mv;function i6(){if(mv)return yc.exports;mv=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,D,U){return Function.prototype.apply.call(C,D,U)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(M){console&&console.warn&&console.warn(M)}var i=Number.isNaN||function(C){return C!==C};function o(){o.init.call(this)}yc.exports=o,yc.exports.once=E,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");s=M}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function l(M){return M._maxListeners===void 0?o.defaultMaxListeners:M._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(C){for(var D=[],U=1;U<arguments.length;U++)D.push(arguments[U]);var z=C==="error",j=this._events;if(j!==void 0)z=z&&j.error===void 0;else if(!z)return!1;if(z){var H;if(D.length>0&&(H=D[0]),H instanceof Error)throw H;var Q=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw Q.context=H,Q}var V=j[C];if(V===void 0)return!1;if(typeof V=="function")e(V,this,D);else for(var b=V.length,u=_(V,b),U=0;U<b;++U)e(u[U],this,D);return!0};function c(M,C,D,U){var z,j,H;if(a(D),j=M._events,j===void 0?(j=M._events=Object.create(null),M._eventsCount=0):(j.newListener!==void 0&&(M.emit("newListener",C,D.listener?D.listener:D),j=M._events),H=j[C]),H===void 0)H=j[C]=D,++M._eventsCount;else if(typeof H=="function"?H=j[C]=U?[D,H]:[H,D]:U?H.unshift(D):H.push(D),z=l(M),z>0&&H.length>z&&!H.warned){H.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=M,Q.type=C,Q.count=H.length,r(Q)}return M}o.prototype.addListener=function(C,D){return c(this,C,D,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(C,D){return c(this,C,D,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(M,C,D){var U={fired:!1,wrapFn:void 0,target:M,type:C,listener:D},z=f.bind(U);return z.listener=D,U.wrapFn=z,z}o.prototype.once=function(C,D){return a(D),this.on(C,g(this,C,D)),this},o.prototype.prependOnceListener=function(C,D){return a(D),this.prependListener(C,g(this,C,D)),this},o.prototype.removeListener=function(C,D){var U,z,j,H,Q;if(a(D),z=this._events,z===void 0)return this;if(U=z[C],U===void 0)return this;if(U===D||U.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,U.listener||D));else if(typeof U!="function"){for(j=-1,H=U.length-1;H>=0;H--)if(U[H]===D||U[H].listener===D){Q=U[H].listener,j=H;break}if(j<0)return this;j===0?U.shift():R(U,j),U.length===1&&(z[C]=U[0]),z.removeListener!==void 0&&this.emit("removeListener",C,Q||D)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(C){var D,U,z;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[C]),this;if(arguments.length===0){var j=Object.keys(U),H;for(z=0;z<j.length;++z)H=j[z],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=U[C],typeof D=="function")this.removeListener(C,D);else if(D!==void 0)for(z=D.length-1;z>=0;z--)this.removeListener(C,D[z]);return this};function w(M,C,D){var U=M._events;if(U===void 0)return[];var z=U[C];return z===void 0?[]:typeof z=="function"?D?[z.listener||z]:[z]:D?N(z):_(z,z.length)}o.prototype.listeners=function(C){return w(this,C,!0)},o.prototype.rawListeners=function(C){return w(this,C,!1)},o.listenerCount=function(M,C){return typeof M.listenerCount=="function"?M.listenerCount(C):m.call(M,C)},o.prototype.listenerCount=m;function m(M){var C=this._events;if(C!==void 0){var D=C[M];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function _(M,C){for(var D=new Array(C),U=0;U<C;++U)D[U]=M[U];return D}function R(M,C){for(;C+1<M.length;C++)M[C]=M[C+1];M.pop()}function N(M){for(var C=new Array(M.length),D=0;D<C.length;++D)C[D]=M[D].listener||M[D];return C}function E(M,C){return new Promise(function(D,U){function z(H){M.removeListener(C,j),U(H)}function j(){typeof M.removeListener=="function"&&M.removeListener("error",z),D([].slice.call(arguments))}S(M,C,j,{once:!0}),C!=="error"&&A(M,z,{once:!0})})}function A(M,C,D){typeof M.on=="function"&&S(M,"error",C,D)}function S(M,C,D,U){if(typeof M.on=="function")U.once?M.once(C,D):M.on(C,D);else if(typeof M.addEventListener=="function")M.addEventListener(C,function z(j){U.once&&M.removeEventListener(C,z),D(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return yc.exports}var o6=i6();const HB=Ts(o6),s6={},vI=(t,e)=>{s6[t]=e},oh=t=>{class e extends Error{constructor(i,o,s){super(i||t,s);ut(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,o)for(const a in o)this[a]=o[a];if(s&&a6(s)&&"cause"in s&&!this.cause){const a=s.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return e};function a6(t){return typeof t=="object"}const KB=oh("DisconnectedDevice"),$B=oh("DisconnectedDeviceDuringOperation"),VB=oh("TransportOpenUserCancelled"),GB=oh("TransportRaceCondition");var wv;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(wv||(wv={}));class l6 extends Error{constructor(n,r){const i="TransportError";super(n||i);ut(this,"id");this.name=i,this.message=n,this.stack=new Error(n).stack,this.id=r}}vI("TransportError",t=>new l6(t.message,t.id));const Gl={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function u6(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class ju extends Error{constructor(n,{canBeMappedToChildError:r=!0}={}){const i=Object.keys(Gl).find(l=>Gl[l]===n)||"UNKNOWN_ERROR",o=u6(n)||i,s=n.toString(16),a=`Ledger device: ${o} (0x${s})`;super(a);ut(this,"statusCode");ut(this,"statusText");if(this.name="TransportStatusError",this.statusCode=n,this.statusText=i,Object.setPrototypeOf(this,ju.prototype),r&&n===Gl.LOCKED_DEVICE)return new zm(a)}}class zm extends ju{constructor(e){super(Gl.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,zm.prototype)}}vI("TransportStatusError",t=>new ju(t.statusCode));let _I=0;const no=[],YB=(t,e,n)=>{const r={type:t,id:String(++_I),date:new Date};e&&(r.message=e),SI(r)},c6=({type:t,message:e,data:n,context:r})=>{const i={type:t,id:String(++_I),date:new Date};e&&(i.message=e),n&&(i.data=n),r&&(i.context=r),SI(i)};class fd{constructor(e,n){ut(this,"type");ut(this,"context");this.type=e,this.context=n}trace(e,n){c6({type:this.type,message:e,data:n,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new fd(e,this.context)}withContext(e){return new fd(this.type,e)}withUpdatedContext(e){return new fd(this.type,{...this.context,...e})}}const d6=t=>(no.push(t),()=>{const e=no.indexOf(t);e!==-1&&(no[e]=no[no.length-1],no.pop())});function SI(t){for(let e=0;e<no.length;e++)try{no[e](t)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=d6);function f6(t,e){const r=Buffer.alloc(17);let i=r.writeUInt8(4,0);return i=r.writeUInt32BE(mc(44),i),i=r.writeUInt32BE(mc(501),i),i=r.writeUInt32BE(mc(t),i),r.writeUInt32BE(mc(e),i),r}const h6=1<<31>>>0;function mc(t){return(t|h6)>>>0}const p6=5,g6=6,y6=0,m6=1,w6=1,v6=2,wc=255,vv=224;async function _6(t,e){const n=await EI(t,p6,y6,e);return new X(n)}async function S6(t,e,n){const r=Buffer.alloc(1);r.writeUInt8(1,0);const i=zr(e)?e.message.serialize():e.serializeMessage(),o=Buffer.concat([r,n,i]);return await EI(t,g6,m6,o)}async function EI(t,e,n,r){let i=0,o=0;if(r.length>wc)for(;r.length-o>wc;){const l=r.slice(o,o+wc);if((await t.send(vv,e,n,i|v6,l)).length!==2)throw new ju(Gl.INCORRECT_DATA);i|=w6,o+=wc}const s=r.slice(o),a=await t.send(vv,e,n,i,s);return a.slice(0,a.length-2)}const E6="Ledger";class b6 extends Mm{constructor(e={}){super(),this.name=E6,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?Fe.Unsupported:Fe.Loadable,this._disconnected=()=>{const n=this._transport;n&&(n.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new Bu),this.emit("disconnect"))},this._derivationPath=e.derivationPath||f6(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Fe.Loadable)throw new No;this._connecting=!0;let e;try{e=(await ih(async()=>{const{default:i}=await import("./TransportWebHID-lpy12NS2.js");return{default:i}},[])).default}catch(i){throw new $f(i==null?void 0:i.message,i)}let n;try{n=await e.create()}catch(i){throw new Rs(i==null?void 0:i.message,i)}let r;try{r=await _6(n,this._derivationPath)}catch(i){throw new xo(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),this._transport=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(n){this.emit("error",new ol(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._transport,r=this._publicKey;if(!n||!r)throw new ht;try{const i=await S6(n,e,this._derivationPath);e.addSignature(r,i)}catch(i){throw new Jn(i==null?void 0:i.message,i)}return e}catch(n){throw this.emit("error",n),n}}}const A6="Phantom";class I6 extends Du{constructor(e={}){super(),this.name=A6,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Fe.Unsupported:Fe.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Bu),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new X(n.toBytes())}catch(i){this.emit("error",new xo(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Fe.Unsupported&&(Xd()?(this._readyState=Fe.Loadable,this.emit("readyStateChange",this._readyState)):Tm(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=Fe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Fe.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Fe.Loadable){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${o}`;return}if(this.readyState!==Fe.Installed)throw new No;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new Rs(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Oi;let r;try{r=new X(n.publicKey.toBytes())}catch(i){throw new xo(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new ol(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new ht;try{const{signers:o,...s}=r;zr(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof St?o:new ii(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signTransaction(e)||e}catch(r){throw new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signAllTransactions(e)||e}catch(r){throw new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new ht;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Pu(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const k6="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var nt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},R6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},hd,gs,Mg,Ng,xg,Ln,Og,bI,AI,Cg,Lg,Bg,Pg,Dg;class T6{constructor(){hd.add(this),gs.set(this,{}),Mg.set(this,"1.0.0"),Ng.set(this,"MetaMask"),xg.set(this,k6),Ln.set(this,null),Og.set(this,(e,n)=>{var r;return(r=nt(this,gs,"f")[e])!=null&&r.push(n)||(nt(this,gs,"f")[e]=[n]),()=>nt(this,hd,"m",AI).call(this,e,n)}),Cg.set(this,async()=>{if(!nt(this,Ln,"f")){let e;try{e=(await ih(async()=>{const{default:n}=await import("./index-CutSr_wo.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}R6(this,Ln,new e,"f"),nt(this,Ln,"f").on("standard_change",n=>nt(this,hd,"m",bI).call(this,"change",n))}return this.accounts.length||await nt(this,Ln,"f").connect(),{accounts:this.accounts}}),Lg.set(this,async()=>{nt(this,Ln,"f")&&await nt(this,Ln,"f").disconnect()}),Bg.set(this,async(...e)=>{if(!nt(this,Ln,"f"))throw new ht;return await nt(this,Ln,"f").standardSignAndSendTransaction(...e)}),Pg.set(this,async(...e)=>{if(!nt(this,Ln,"f"))throw new ht;return await nt(this,Ln,"f").standardSignTransaction(...e)}),Dg.set(this,async(...e)=>{if(!nt(this,Ln,"f"))throw new ht;return await nt(this,Ln,"f").standardSignMessage(...e)})}get version(){return nt(this,Mg,"f")}get name(){return nt(this,Ng,"f")}get icon(){return nt(this,xg,"f")}get chains(){return[ri.SOLANA_MAINNET_CHAIN,ri.SOLANA_DEVNET_CHAIN,ri.SOLANA_TESTNET_CHAIN]}get features(){return{[Hr.StandardConnect]:{version:"1.0.0",connect:nt(this,Cg,"f")},[Hr.StandardDisconnect]:{version:"1.0.0",disconnect:nt(this,Lg,"f")},[Hr.StandardEvents]:{version:"1.0.0",on:nt(this,Og,"f")},[ze.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:nt(this,Bg,"f")},[ze.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:nt(this,Pg,"f")},[ze.SolanaSignMessage]:{version:"1.0.0",signMessage:nt(this,Dg,"f")}}}get accounts(){return nt(this,Ln,"f")?nt(this,Ln,"f").standardAccounts:[]}}gs=new WeakMap,Mg=new WeakMap,Ng=new WeakMap,xg=new WeakMap,Ln=new WeakMap,Og=new WeakMap,Cg=new WeakMap,Lg=new WeakMap,Bg=new WeakMap,Pg=new WeakMap,Dg=new WeakMap,hd=new WeakSet,bI=function(e,...n){var r;(r=nt(this,gs,"f")[e])==null||r.forEach(i=>i.apply(null,n))},AI=function(e,n){var r;nt(this,gs,"f")[e]=(r=nt(this,gs,"f")[e])==null?void 0:r.filter(i=>n!==i)};let _v=!1;function M6(){_v||(k3(new T6),_v=!0)}async function N6(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var o,s;const i=r.data;(i==null?void 0:i.target)==="metamask-inpage"&&((o=i.data)==null?void 0:o.name)==="metamask-provider"&&(((s=i.data.data)==null?void 0:s.id)===t?(window.removeEventListener("message",n),i.data.data.error||M6()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const x6="Solflare";class O6 extends Du{constructor(e={}){super(),this.name=x6,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Fe.Unsupported:Fe.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Bu),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new X(n.toBytes())}catch(i){this.emit("error",new xo(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Fe.Unsupported&&(Tm(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=Fe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),N6())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Fe.Loadable&&Xd()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Fe.Loadable&&this._readyState!==Fe.Installed)throw new No;if(this.readyState===Fe.Loadable&&Xd()){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${o}`;return}let e;try{e=(await ih(async()=>{const{default:i}=await import("./index-Cu4uezXd.js");return{default:i}},[])).default}catch(i){throw new $f(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new co(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new Rs(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Rs;let r;try{r=new X(n.publicKey.toBytes())}catch(i){throw new xo(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new ol(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new ht;try{const{signers:o,...s}=r;return zr(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,s)}catch(o){throw o instanceof St?o:new ii(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signTransaction(e)||e}catch(r){throw new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signAllTransactions(e)||e}catch(r){throw new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signMessage(e,"utf8")}catch(r){throw new Pu(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const C6="Torus";class L6 extends Du{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=C6,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Fe.Unsupported:Fe.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Fe.Loadable)throw new No;this._connecting=!0;let e;try{e=(await ih(async()=>{const{default:o}=await import("./solanaEmbed.esm-hvy9hOH3.js");return{default:o}},[])).default}catch(o){throw new $f(o==null?void 0:o.message,o)}let n;try{n=window.torus||new e}catch(o){throw new co(o==null?void 0:o.message,o)}if(!n.isInitialized)try{await n.init(this._params)}catch(o){throw new Rs(o==null?void 0:o.message,o)}let r;try{r=await n.login()}catch(o){throw new Oi(o==null?void 0:o.message,o)}let i;try{i=new X(r[0])}catch(o){throw new xo(o==null?void 0:o.message,o)}this._wallet=n,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(n){this.emit("error",new ol(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new ht;try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof St?o:new ii(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signTransaction(e)||e}catch(r){throw new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signAllTransactions(e)||e}catch(r){throw new Jn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new ht;try{return await n.signMessage(e)}catch(r){throw new Pu(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const B6="EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro",P6={name:"dmd_anchor",version:"0.1.0",spec:"0.1.0"},D6=[{name:"auto_whitelist_self",docs:["Käufer kann sich selbst whitelisten, wenn seine Wallet >= 0,5 SOL hält.","Keine Founder-Signatur nötig. BuyerState wird bei Bedarf angelegt."],discriminator:[58,140,157,210,236,85,159,240],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"buy_dmd",discriminator:[118,112,238,202,214,39,149,203],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",writable:!0},{name:"treasury",writable:!0},{name:"vault_token_account",docs:["NEU: Vault-ATA (Owner = PDA)"],writable:!0},{name:"buyer_token_account",docs:["Käufer-ATA"],writable:!0},{name:"buyer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"sol_contribution",type:"u64"}]},{name:"claim_reward",discriminator:[149,95,181,242,94,90,158,162],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[]},{name:"claim_reward_v2",discriminator:[0,178,84,58,172,64,185,217],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"vault_token_account",writable:!0},{name:"buyer_token_account",writable:!0},{name:"buyer",signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"founder"}]}},{name:"founder",writable:!0,signer:!0},{name:"mint",writable:!0},{name:"founder_token_account",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"initial_price_sol",type:"u64"}]},{name:"sell_dmd",discriminator:[129,244,102,89,109,152,241,129],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"sell_dmd_v2",discriminator:[84,193,171,169,74,251,221,217],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"vault_token_account",writable:!0},{name:"buyer_token_account",writable:!0},{name:"treasury",docs:["Treasury zahlt SOL aus (Signer!)"],writable:!0,signer:!0},{name:"founder",docs:["Founder erhält 65%-Anteil (von der Penalty)"],writable:!0},{name:"buyer",signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_tokens",type:"u64"}]},{name:"set_manual_price",discriminator:[6,210,4,51,43,53,139,140],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"founder",signer:!0}],args:[{name:"lamports_per_10k",type:"u64"}]},{name:"swap_exact_dmd_for_sol",docs:["SELL Swap: Token vom User zurück zum Vault, berechnet SOL via Manual-Preis,","Hold-Penalty (innerhalb 30 Tagen volle PENALTY_MAX, sonst PENALTY_MIN? -> klassisch nach deinem V2-Stil: Penalty nur wenn Hold nicht erfüllt),","Auszahlung aus Treasury an User + 65/35 auf Penalty an Founder/Treasury."],discriminator:[207,148,8,253,245,84,97,226],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"user"}]}},{name:"vault_token_account",docs:["Vault-ATA (Owner = PDA)"],writable:!0},{name:"user_dmd_ata",docs:["User-ATA"],writable:!0},{name:"treasury",docs:["Treasury zahlt SOL & split"],writable:!0},{name:"founder",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_in_dmd",type:"u64"},{name:"min_out_sol",type:"u64"}]},{name:"swap_exact_sol_for_dmd",docs:["BUY Swap: nimmt `amount_in_lamports`, Auto-WL, 60/40-Split,","überträgt DMD aus Vault-ATA → User-ATA; setzt min_out_dmd als Slippage-Schutz."],discriminator:[64,104,47,179,12,0,23,147],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"user"}]}},{name:"vault_token_account",docs:["Vault-ATA (Owner = PDA)"],writable:!0},{name:"user_dmd_ata",docs:["User-ATA"],writable:!0},{name:"founder",docs:["Auszahlung 60/40"],writable:!0},{name:"treasury",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_in_lamports",type:"u64"},{name:"min_out_dmd",type:"u64"}]},{name:"toggle_public_sale",discriminator:[48,110,255,143,126,24,42,91],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"founder",signer:!0}],args:[{name:"active",type:"bool"}]},{name:"whitelist_add",discriminator:[200,159,194,141,100,114,107,154],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer",docs:["Der Buyer, dessen Whitelist-Status gesetzt wird"]},{name:"buyer_state",docs:['PDA: [b"buyer", vault, buyer] – wird bei Bedarf angelegt'],writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",docs:["Nur Founder darf whitelisten und zahlt ggf. die Miete"],writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"status",type:"bool"}]}],U6=[{name:"BuyerState",discriminator:[196,226,50,172,9,123,201,250]},{name:"Vault",discriminator:[211,8,232,43,2,152,117,119]}],z6=[{code:6e3,name:"NotWhitelisted",msg:"Du bist nicht auf der Whitelist."},{code:6001,name:"ClaimTooEarly",msg:"Claim zu früh."},{code:6002,name:"SellTooEarly",msg:"Zu früh verkauft."},{code:6003,name:"HoldTooShort",msg:"Nicht lange genug gehalten."},{code:6004,name:"PresaleLimitReached",msg:"Presale Limit erreicht."},{code:6005,name:"Unauthorized",msg:"Nicht berechtigt."},{code:6006,name:"InsufficientFounderInit",msg:"Founder Initialisierung zu niedrig."},{code:6007,name:"MathOverflow",msg:"Arithmetischer Überlauf."},{code:6008,name:"ContributionOutOfRange",msg:"Beitrag außerhalb des erlaubten Bereichs (0.5–10 SOL)."},{code:6009,name:"InvalidPrice",msg:"Ungültiger Preis."}],j6=[{name:"BuyerState",type:{kind:"struct",fields:[{name:"total_dmd",type:"u64"},{name:"last_reward_claim",type:"i64"},{name:"last_sell",type:"i64"},{name:"holding_since",type:"i64"},{name:"last_buy_day",type:"i64"},{name:"buy_count_today",type:"u64"},{name:"whitelisted",type:"bool"}]}},{name:"Vault",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"total_supply",type:"u64"},{name:"presale_sold",type:"u64"},{name:"initial_price_sol",type:"u64"},{name:"public_sale_active",type:"bool"},{name:"mint",type:"pubkey"},{name:"mint_decimals",type:"u8"}]}}],II={address:B6,metadata:P6,instructions:D6,accounts:U6,errors:z6,types:j6},W6={BASE_URL:"/Investor_App_DMD/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEV_SOL_PRICE:"1",VITE_DMD_MINT:"3rCZT3Xw6jvU4JWatQPsivS8fQ7gV7GjUfJnbTk9Ssn5",VITE_PROGRAM_ID:"EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro",VITE_RPC_URL:"https://mainnet.helius-rpc.com/?api-key=cba27cb3-9d36-4095-ae3a-4025bc7ff611",VITE_SOL_USD:"200",VITE_TREASURY:"CEUmazdgtbUCcQyLq6NCm4BuQbvCsYFzKsS5wdRvZehV"},F6=5e3,jo=t=>typeof t=="number"&&isFinite(t)&&t>.5&&t<1e4;async function ml(t,e,n=F6){const r=new AbortController,i=setTimeout(()=>r.abort(),n);try{const o=await fetch(t,{...e,signal:r.signal,cache:"no-store",mode:"cors"});if(!o.ok)throw new Error(`HTTP ${o.status}`);return await o.json()}finally{clearTimeout(i)}}function Wo(t,e){console.log(`[price] ${t} OK -> $${e.toFixed(4)}`)}function ir(t,e){console.warn(`[price] ${t} miss`,e??"")}async function Op(){var t,e,n,r,i,o,s,a;try{const l="https://price.jup.ag/v6/price?ids=SOL&_="+Date.now(),c=await ml(l,{headers:{pragma:"no-cache","cache-control":"no-cache"}}),f=((e=(t=c==null?void 0:c.data)==null?void 0:t.SOL)==null?void 0:e.price)??((n=c==null?void 0:c.data)==null?void 0:n.SOL);if(jo(f))return Wo("Jupiter v6",f),f;ir("Jupiter v6 shape",c)}catch(l){ir("Jupiter v6 error",l)}try{const l="https://price.jup.ag/v4/price?ids=SOL&_="+Date.now(),c=await ml(l,{headers:{pragma:"no-cache","cache-control":"no-cache"}}),f=((i=(r=c==null?void 0:c.data)==null?void 0:r.SOL)==null?void 0:i.price)??((o=c==null?void 0:c.data)==null?void 0:o.SOL);if(jo(f))return Wo("Jupiter v4",f),f;ir("Jupiter v4 shape",c)}catch(l){ir("Jupiter v4 error",l)}try{const l="https://hermes.pyth.network/v2/price/latest?ids=Crypto.SOL%2FUSD&_="+Date.now(),c=await ml(l),f=(c==null?void 0:c.parsed)??(c==null?void 0:c.data)??null;if(Array.isArray(f)&&f.length){const g=f[0];if(g!=null&&g.price&&typeof g.price.price=="number"){const m=g.price.expo||0,_=g.price.price*Math.pow(10,m);if(jo(_))return Wo("Pyth Hermes (expo)",_),_}const w=(s=g==null?void 0:g.prices)==null?void 0:s.usd;if(jo(w))return Wo("Pyth Hermes (usd)",w),w}ir("Pyth shape",c)}catch(l){ir("Pyth error",l)}try{const l="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd&_="+Date.now(),c=await ml(l),f=(a=c==null?void 0:c.solana)==null?void 0:a.usd;if(jo(f))return Wo("CoinGecko",f),f;ir("CoinGecko shape",c)}catch(l){ir("CoinGecko error",l)}try{const l="https://min-api.cryptocompare.com/data/price?fsym=SOL&tsyms=USD&_="+Date.now(),c=await ml(l),f=c==null?void 0:c.USD;if(jo(f))return Wo("CryptoCompare",f),f;ir("CryptoCompare shape",c)}catch(l){ir("CryptoCompare error",l)}try{const l=W6||{};if(l.VITE_DEV_SOL_PRICE==="1"){const c=Number(l.VITE_SOL_USD||"0");if(jo(c))return Wo("DEV_FALLBACK",c),c;ir("DEV_FALLBACK bad value",c)}}catch(l){ir("DEV_FALLBACK error",l)}return ir("ALL SOURCES"),0}typeof window<"u"&&!window.Buffer&&(window.Buffer=de.Buffer);const jm=new X("EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro"),kI="https://mainnet.helius-rpc.com/?api-key=cba27cb3-9d36-4095-ae3a-4025bc7ff611",Ug=new X("3rCZT3Xw6jvU4JWatQPsivS8fQ7gV7GjUfJnbTk9Ssn5"),qi=new X("CEUmazdgtbUCcQyLq6NCm4BuQbvCsYFzKsS5wdRvZehV"),Fo=new X("AqPFb5LWQuzKiyoKTX9XgUwsYWoFvpeE8E8uzQvnDTzT"),ya=new X("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),RI=new X("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),H6=60*60*24*30,K6=60*60*24*90,TI=r4.bytes.utf8,mi=()=>X.findProgramAddressSync([TI.encode("vault")],jm)[0],Ho=(t,e)=>X.findProgramAddressSync([TI.encode("buyer"),t.toBuffer(),e.toBuffer()],jm)[0],wi=t=>X.findProgramAddressSync([t.toBuffer(),ya.toBuffer(),Ug.toBuffer()],RI)[0];function Sv(t,e,n,r){return new tt({programId:RI,keys:[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:_t.programId,isSigner:!1,isWritable:!1},{pubkey:ya,isSigner:!1,isWritable:!1}],data:de.Buffer.alloc(0)})}const $6=new CC(II),Cp=new BC(II);function Hs(t,e,n={}){return new tt({programId:jm,keys:e,data:$6.encode(t,n)})}function V6(){var Je;const t=Nm(),[e]=te.useState(()=>new hm(kI,"confirmed")),n={skipPreflight:!0},r=!!t.publicKey,[i,o]=te.useState(""),[s,a]=te.useState(null),[l,c]=te.useState(0),[f,g]=te.useState(null),[w,m]=te.useState(null),[_,R]=te.useState(null),[N,E]=te.useState(null),[A,S]=te.useState(!1),[M,C]=te.useState("1.0"),[D,U]=te.useState("10000"),[z,j]=te.useState("1.0"),[H,Q]=te.useState(!1),[V,b]=te.useState("1.0");function u(Z){if(!Z||Z<=0)return null;const _e=100/Z;return Math.floor(_e*Vo)}async function d(Z){if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");if(!t.publicKey.equals(Fo))return o("❌ Nur Founder dürfen den Manual-Preis setzen.");try{o("Setze Manual-Preis …");const ye=[{pubkey:mi(),isSigner:!1,isWritable:!0},{pubkey:Fo,isSigner:!0,isWritable:!1},{pubkey:_t.programId,isSigner:!1,isWritable:!1}],Ie=Hs("set_manual_price",ye,{lamports_per_10k:new ar(Z)}),$e=new De().add(Ie);$e.feePayer=t.publicKey,$e.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const be=await t.sendTransaction($e,e,{skipPreflight:!0});o(`✅ Manual-Preis gesetzt: ${be}`),m(Z)}catch(_e){o(`❌ Set Manual Price fehlgeschlagen: ${(_e==null?void 0:_e.message)??_e}`)}}te.useEffect(()=>{let Z=!0;(async()=>{try{const ye=mi(),Ie=wi(ye),[$e,be,Oe,An]=await Promise.all([e.getAccountInfo(ye),e.getBalance(qi),Op(),e.getTokenAccountBalance(Ie).then(Ue=>{var Ce;return((Ce=Ue==null?void 0:Ue.value)==null?void 0:Ce.uiAmount)??0}).catch(()=>0)]);if(!Z)return;if(a(be/Vo),c(Oe),g(Date.now()),R(An),$e!=null&&$e.data){const Ue=Cp.decode("Vault",$e.data);m(Number(Ue.initial_price_sol??0))}}catch(ye){console.error(ye)}})();const _e=setInterval(()=>{e.getBalance(qi).then(ye=>a(ye/Vo)).catch(()=>{}),Op().then(ye=>{c(ye),g(Date.now())}).catch(()=>{})},15e3);return()=>{Z=!1,clearInterval(_e)}},[e]),te.useEffect(()=>{let Z=!0;(async()=>{if(!r||!t.publicKey){E(null),S(!1);return}try{const ye=mi(),Ie=Ho(ye,t.publicKey),$e=await e.getAccountInfo(Ie);if(!Z)return;if(!$e){E(null),S(!1);return}const be=Cp.decode("BuyerState",$e.data);E(be),S(!!be.whitelisted)}catch{E(null),S(!1)}})();const _e=setInterval(async()=>{if(!r||!t.publicKey)return;const ye=mi(),Ie=Ho(ye,t.publicKey),$e=await e.getAccountInfo(Ie).catch(()=>null);if($e){const be=Cp.decode("BuyerState",$e.data);E(be),S(!!be.whitelisted)}},2e4);return()=>{Z=!1,clearInterval(_e)}},[r,e,t.publicKey]),te.useEffect(()=>{if(!H||!t.publicKey||!t.publicKey.equals(Fo))return;let Z=!0;const _e=setInterval(async()=>{try{const ye=await Op(),Ie=u(ye);if(!Z||Ie==null||w==null)return;Math.abs((Ie-w)/w)*100>Number(V||"1")&&await d(Ie)}catch{}},6e4);return()=>{Z=!1,clearInterval(_e)}},[H,t.publicKey,w,V]);const v=w!=null?w/Vo:null,k=v!=null?v/1e4:null,I=k!=null&&l>0?k*l:null,O=_!=null&&I!=null?_*I:null;async function P(Z,_e,ye){const Ie=[],$e=wi(_e),be=wi(ye),[Oe,An]=await Promise.all([e.getAccountInfo($e),e.getAccountInfo(be)]);return Oe||Ie.push(Sv(Z,$e,_e,Ug)),An||Ie.push(Sv(Z,be,ye,Ug)),{ixs:Ie,buyerAta:$e,vaultAta:be}}const x=Z=>Z==null?"…":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Z),p=Z=>Z==null?"—":new Date(Z).toLocaleTimeString("de-DE",{hour12:!1}),B=Math.max(0,1-Number(z||"0")/100),oe=(Z,_e=0,ye=9)=>Z==null?"…":new Intl.NumberFormat("en-US",{minimumFractionDigits:_e,maximumFractionDigits:ye}).format(Z),ie=(Z,_e=6)=>Z==null?"…":(typeof Z=="number"?Z:Number(Z)).toFixed(_e);async function ae(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");o("Whitelist wird geprüft…");const Z=t.publicKey,_e=mi(),ye=Ho(_e,Z),Ie=[{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:ye,isSigner:!1,isWritable:!0},{pubkey:Z,isSigner:!0,isWritable:!0},{pubkey:_t.programId,isSigner:!1,isWritable:!1}],$e=Hs("auto_whitelist_self",Ie,{}),be=new De().add($e);be.feePayer=Z,be.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const Oe=await t.sendTransaction(be,e,n);o(`✅ Auto-Whitelist gesendet: ${Oe}`)}catch(Z){o(`❌ Auto-Whitelist fehlgeschlagen: ${(Z==null?void 0:Z.message)??Z}`)}}async function Re(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");o("Bereite Kauf vor…");const Z=t.publicKey,_e=mi(),ye=Ho(_e,Z),{ixs:Ie,buyerAta:$e,vaultAta:be}=await P(Z,Z,_e),Oe=new ar(Math.floor(parseFloat(M)*Vo));if(Oe.lte(new ar(0)))return alert("Ungültiger SOL-Betrag.");const An=[{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:ye,isSigner:!1,isWritable:!0},{pubkey:Fo,isSigner:!1,isWritable:!0},{pubkey:qi,isSigner:!1,isWritable:!0},{pubkey:be,isSigner:!1,isWritable:!0},{pubkey:$e,isSigner:!1,isWritable:!0},{pubkey:Z,isSigner:!0,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:_t.programId,isSigner:!1,isWritable:!1}],Ue=Hs("buy_dmd",An,{sol_contribution:Oe}),Ce=new De;Ie.forEach(We=>Ce.add(We)),Ce.add(Ue),Ce.feePayer=Z,Ce.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const rn=await t.sendTransaction(Ce,e,n);o(`✅ Buy gesendet: ${rn}`)}catch(Z){o(`❌ Buy fehlgeschlagen: ${(Z==null?void 0:Z.message)??Z}`)}}async function Ae(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");const Z=t.publicKey;if(!N)return o("❌ Kein BuyerState – zuerst via Buy erwerben.");const _e=Math.floor(Date.now()/1e3);if(_e-Number(N.holding_since??0)<H6)return o("❌ Hold zu kurz (30 Tage).");if(Number(N.last_reward_claim??0)&&_e-Number(N.last_reward_claim)<K6)return o("❌ Claim zu früh (90 Tage).");o("Sende Claim …");const ye=mi(),Ie=Ho(ye,Z),$e=wi(ye),be=wi(Z),An=Hs("claim_reward_v2",[{pubkey:ye,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:$e,isSigner:!1,isWritable:!0},{pubkey:be,isSigner:!1,isWritable:!0},{pubkey:Z,isSigner:!0,isWritable:!1},{pubkey:ya,isSigner:!1,isWritable:!1}],{}),Ue=new De().add(An);Ue.feePayer=Z,Ue.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const Ce=await t.sendTransaction(Ue,e,n);o(`✅ Claim gesendet: ${Ce}`)}catch(Z){o(`❌ Claim fehlgeschlagen: ${(Z==null?void 0:Z.message)??Z}`)}}async function Se(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");const Z=t.publicKey,_e=mi(),ye=Ho(_e,Z),Ie=wi(_e),$e=wi(Z),{ixs:be}=await P(Z,Z,_e),Oe=new ar(Math.floor(parseFloat(M)*Vo));if(Oe.lte(new ar(0)))return o("❌ Ungültiger SOL-Betrag.");if(w==null)return o("❌ Manual-Preis unbekannt.");const An=Number(Oe.toString())*1e4/Number(w),Ue=new ar(Math.floor(An*B)),Ce=[{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:ye,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:$e,isSigner:!1,isWritable:!0},{pubkey:Fo,isSigner:!1,isWritable:!0},{pubkey:qi,isSigner:!1,isWritable:!0},{pubkey:Z,isSigner:!0,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:_t.programId,isSigner:!1,isWritable:!1}],rn=Hs("swap_exact_sol_for_dmd",Ce,{amount_in_lamports:Oe,min_out_dmd:Ue}),We=new De;be.forEach(Un=>We.add(Un)),We.add(rn),We.feePayer=Z,We.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const lt=await t.sendTransaction(We,e,n);o(`✅ Swap SOL→DMD gesendet: ${lt}`)}catch(Z){o(`❌ Swap SOL→DMD fehlgeschlagen: ${(Z==null?void 0:Z.message)??Z}`)}}async function wt(){try{if(!r||!t.publicKey)return alert("Verbinde deine Wallet.");const Z=t.publicKey,_e=mi(),ye=Ho(_e,Z),Ie=wi(_e),$e=wi(Z),{ixs:be}=await P(Z,Z,_e),Oe=new ar(Math.floor(parseFloat(D)));if(Oe.lte(new ar(0)))return o("❌ Ungültiger DMD-Betrag.");if(w==null)return o("❌ Manual-Preis unbekannt.");const An=Number(Oe.toString())*(Number(w)/1e4),Ue=new ar(Math.floor(An*B)),Ce=[{pubkey:_e,isSigner:!1,isWritable:!0},{pubkey:ye,isSigner:!1,isWritable:!0},{pubkey:Ie,isSigner:!1,isWritable:!0},{pubkey:$e,isSigner:!1,isWritable:!0},{pubkey:qi,isSigner:!1,isWritable:!0},{pubkey:Fo,isSigner:!1,isWritable:!0},{pubkey:Z,isSigner:!0,isWritable:!0},{pubkey:ya,isSigner:!1,isWritable:!1},{pubkey:_t.programId,isSigner:!1,isWritable:!1}],rn=Hs("swap_exact_dmd_for_sol",Ce,{amount_in_dmd:Oe,min_out_sol:Ue}),We=new De;be.forEach(Un=>We.add(Un)),We.add(rn),We.feePayer=Z,We.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const lt=await t.sendTransaction(We,e,n);o(`✅ Swap DMD→SOL gesendet: ${lt}`)}catch(Z){o(`❌ Swap DMD→SOL fehlgeschlagen: ${(Z==null?void 0:Z.message)??Z}`)}}return ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{style:{position:"fixed",top:16,right:16,zIndex:50},children:ee.jsx(gv,{})}),ee.jsxs("main",{children:[ee.jsxs("div",{className:"btn-grid",style:{marginBottom:24},children:[ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"DMD Pricing"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Target"}),ee.jsx("b",{children:"$0.0100 / DMD"})]}),(()=>{const Z=l>0?.01/l:null;return ee.jsxs(ee.Fragment,{children:[ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"≈ SOL / DMD"}),ee.jsx("b",{children:Z==null?"…":new Intl.NumberFormat("en-US",{maximumFractionDigits:9}).format(Z)})]}),ee.jsxs("div",{className:"kv small muted",children:[ee.jsx("span",{children:"SOL Spot"}),ee.jsx("b",{children:l&&l>0?"$"+l.toFixed(2)+" · Jupiter"+(f?" · "+p(f):""):"…"})]})]})})(),ee.jsx("div",{className:"hr"}),ee.jsx("div",{className:"muted small",children:"On-chain Manual"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"SOL / 10k"}),ee.jsx("b",{children:ie(v,6)})]}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"SOL / DMD"}),ee.jsx("b",{children:oe(k,0,9)})]}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"USD / DMD"}),ee.jsx("b",{children:I==null?"…":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:6}).format(I)})]}),r&&((Je=t.publicKey)==null?void 0:Je.equals(Fo))&&ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"hr"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Abweichungsschwelle"}),ee.jsx("input",{value:V,onChange:Z=>b(Z.target.value),className:"input input--sm",style:{maxWidth:90}}),ee.jsx("span",{className:"small muted",children:"%"})]}),ee.jsxs("div",{className:"btn-grid",style:{marginTop:8},children:[ee.jsx("button",{className:"action-btn",onClick:async()=>{if(l<=0)return o("❌ SOL-Spot unbekannt.");const Z=u(l);if(!Z)return o("❌ Zielberechnung fehlgeschlagen.");await d(Z)},children:"Sync auf $0.01"}),ee.jsx("button",{className:"action-btn",onClick:()=>Q(!H),style:{opacity:H?1:.7},children:H?"Auto-Sync: AN":"Auto-Sync: AUS"})]}),ee.jsxs("div",{className:"small muted",style:{marginTop:6},children:["Auto-Sync setzt den Manual-Preis alle 60 s neu, wenn die Abweichung > ",V,"% ist."]})]})]}),ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Treasury"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"SOL"}),ee.jsx("b",{children:s==null?"…":s.toFixed(4)})]}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"USD"}),ee.jsx("b",{children:s!=null&&l>0?x(s*l):"…"})]}),ee.jsxs("div",{className:"kv small muted",children:[ee.jsx("span",{children:"Treasury"}),ee.jsx("span",{className:"mono",children:qi?qi.toBase58().slice(0,4)+"…"+qi.toBase58().slice(-4):"…"})]}),ee.jsx("div",{className:"hr"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Presale Pool (DMD)"}),ee.jsx("b",{children:_==null?"…":_.toLocaleString()})]}),O!=null&&ee.jsxs("div",{className:"small muted",children:["≈ ",x(O)," @ Manual"]})]})]}),r&&ee.jsxs("div",{className:"panel",style:{marginBottom:20},children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Whitelist"}),ee.jsxs("div",{className:"kv",children:[ee.jsx("span",{children:"Status"}),ee.jsx("span",{className:"chip",children:A?"Aktiv ✅":"Nicht aktiv ❌"})]}),!A&&ee.jsx("button",{className:"btn",onClick:ae,children:"Auto-Whitelist (≥ 0,5 SOL)"})]}),r&&A?ee.jsxs("div",{className:"btn-grid",children:[ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"SOL → DMD"}),ee.jsx("label",{className:"small muted",children:"Betrag (SOL)"}),ee.jsx("input",{value:M,onChange:Z=>C(Z.target.value),className:"input",placeholder:"z. B. 1.5"}),ee.jsx("div",{className:"small muted",style:{marginTop:8},children:"Slippage (%)"}),ee.jsx("input",{value:z,onChange:Z=>j(Z.target.value),className:"input input--sm"}),ee.jsxs("div",{className:"btn-grid",style:{marginTop:12},children:[ee.jsx("button",{className:"action-btn",onClick:Re,children:"BUY DMD"}),ee.jsx("button",{className:"action-btn",onClick:Se,children:"SWAP SOL→DMD"})]})]}),ee.jsxs("div",{className:"panel",children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"DMD → SOL"}),ee.jsx("label",{className:"small muted",children:"Betrag (DMD)"}),ee.jsx("input",{value:D,onChange:Z=>U(Z.target.value),className:"input",placeholder:"z. B. 10000"}),ee.jsx("div",{className:"small muted",style:{marginTop:8},children:"Slippage (%)"}),ee.jsx("input",{value:z,onChange:Z=>j(Z.target.value),className:"input input--sm"}),ee.jsxs("div",{className:"btn-grid",style:{marginTop:12},children:[ee.jsx("button",{className:"action-btn",title:"Verkauf folgt – Treasury Signatur nötig",disabled:!0,style:{opacity:.6,cursor:"not-allowed"},children:"SELL DMD"}),ee.jsx("button",{className:"action-btn",onClick:wt,children:"SWAP DMD→SOL"}),ee.jsx("button",{className:"action-btn",onClick:Ae,children:"CLAIM REWARDS"})]})]})]}):r?ee.jsxs("div",{className:"panel",style:{marginTop:20,textAlign:"center"},children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Whitelist benötigt"}),ee.jsx("p",{className:"small muted",style:{marginBottom:12},children:"Deine Wallet ist verbunden, aber noch nicht freigeschaltet."}),ee.jsx("button",{className:"btn",onClick:ae,children:"Auto-Whitelist (≥ 0,5 SOL)"})]}):ee.jsxs("div",{className:"panel",style:{marginTop:20,textAlign:"center"},children:[ee.jsx("div",{className:"panel-title",style:{color:"var(--gold)"},children:"Wallet verbinden"}),ee.jsx("p",{className:"small muted",children:"Verbinde eine Wallet, um Whitelist & Trading zu nutzen."}),ee.jsx("div",{style:{marginTop:12},children:ee.jsx(gv,{})})]}),ee.jsx("p",{className:"small muted",style:{marginTop:12,whiteSpace:"pre-wrap"},children:i})]})]})}function G6(){const t=te.useMemo(()=>[new I6,new O6,new b6,new L6],[]);return ee.jsx(s4,{endpoint:kI,children:ee.jsx(Y3,{wallets:t,autoConnect:!0,children:ee.jsx(e6,{children:ee.jsx(V6,{})})})})}typeof window<"u"&&!window.Buffer&&(window.Buffer=de.Buffer);const MI=document.getElementById("root");if(!MI)throw new Error("Root-Element nicht gefunden");Lp.createRoot(MI).render(ee.jsx(ne.StrictMode,{children:ee.jsx(G6,{})}));export{HB as C,$B as D,fd as L,X as P,Gl as S,De as T,yu as V,l6 as a,ju as b,GB as c,VB as d,KB as e,de as f,Ts as g,hR as h,o6 as i,Bt as j,ze as k,YB as l,i6 as r,yT as s};
