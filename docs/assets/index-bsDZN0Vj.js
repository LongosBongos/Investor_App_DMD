var NI=Object.defineProperty;var xI=(t,e,n)=>e in t?NI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>xI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var yn=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function ys(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ms(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var vv={exports:{}},nf={},_v={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=Symbol.for("react.element"),OI=Symbol.for("react.portal"),CI=Symbol.for("react.fragment"),LI=Symbol.for("react.strict_mode"),BI=Symbol.for("react.profiler"),PI=Symbol.for("react.provider"),DI=Symbol.for("react.context"),UI=Symbol.for("react.forward_ref"),zI=Symbol.for("react.suspense"),jI=Symbol.for("react.memo"),WI=Symbol.for("react.lazy"),$m=Symbol.iterator;function FI(t){return t===null||typeof t!="object"?null:(t=$m&&t[$m]||t["@@iterator"],typeof t=="function"?t:null)}var Ev={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sv=Object.assign,bv={};function La(t,e,n){this.props=t,this.context=e,this.refs=bv,this.updater=n||Ev}La.prototype.isReactComponent={};La.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};La.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Av(){}Av.prototype=La.prototype;function Cg(t,e,n){this.props=t,this.context=e,this.refs=bv,this.updater=n||Ev}var Lg=Cg.prototype=new Av;Lg.constructor=Cg;Sv(Lg,La.prototype);Lg.isPureReactComponent=!0;var Km=Array.isArray,Iv=Object.prototype.hasOwnProperty,Bg={current:null},Rv={key:!0,ref:!0,__self:!0,__source:!0};function kv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Iv.call(e,r)&&!Rv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lu,type:t,key:o,ref:s,props:i,_owner:Bg.current}}function HI(t,e){return{$$typeof:lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pg(t){return typeof t=="object"&&t!==null&&t.$$typeof===lu}function $I(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vm=/\/+/g;function _h(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$I(""+t.key):e.toString(36)}function hc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case lu:case OI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+_h(s,0):r,Km(i)?(n="",t!=null&&(n=t.replace(Vm,"$&/")+"/"),hc(i,e,n,"",function(c){return c})):i!=null&&(Pg(i)&&(i=HI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Km(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+_h(o,a);s+=hc(o,e,n,l,i)}else if(l=FI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+_h(o,a++),s+=hc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Cu(t,e,n){if(t==null)return t;var r=[],i=0;return hc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function KI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Un={current:null},pc={transition:null},VI={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:pc,ReactCurrentOwner:Bg};function Tv(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!Pg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=La;Be.Fragment=CI;Be.Profiler=BI;Be.PureComponent=Cg;Be.StrictMode=LI;Be.Suspense=zI;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI;Be.act=Tv;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Bg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Iv.call(e,l)&&!Rv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:lu,type:t.type,key:i,ref:o,props:r,_owner:s}};Be.createContext=function(t){return t={$$typeof:DI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PI,_context:t},t.Consumer=t};Be.createElement=kv;Be.createFactory=function(t){var e=kv.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:UI,render:t}};Be.isValidElement=Pg;Be.lazy=function(t){return{$$typeof:WI,_payload:{_status:-1,_result:t},_init:KI}};Be.memo=function(t,e){return{$$typeof:jI,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=pc.transition;pc.transition={};try{t()}finally{pc.transition=e}};Be.unstable_act=Tv;Be.useCallback=function(t,e){return Un.current.useCallback(t,e)};Be.useContext=function(t){return Un.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Un.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Un.current.useEffect(t,e)};Be.useId=function(){return Un.current.useId()};Be.useImperativeHandle=function(t,e,n){return Un.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return Un.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Un.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Un.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return Un.current.useReducer(t,e,n)};Be.useRef=function(t){return Un.current.useRef(t)};Be.useState=function(t){return Un.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return Un.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return Un.current.useTransition()};Be.version="18.3.1";_v.exports=Be;var te=_v.exports;const J=ys(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI=te,YI=Symbol.for("react.element"),qI=Symbol.for("react.fragment"),ZI=Object.prototype.hasOwnProperty,QI=GI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XI={key:!0,ref:!0,__self:!0,__source:!0};function Mv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ZI.call(e,r)&&!XI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YI,type:t,key:o,ref:s,props:i,_owner:QI.current}}nf.Fragment=qI;nf.jsx=Mv;nf.jsxs=Mv;vv.exports=nf;var ve=vv.exports,ue={},rf={};rf.byteLength=t2;rf.toByteArray=r2;rf.fromByteArray=s2;var Vr=[],mr=[],JI=typeof Uint8Array<"u"?Uint8Array:Array,Eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Rs=0,e2=Eh.length;Rs<e2;++Rs)Vr[Rs]=Eh[Rs],mr[Eh.charCodeAt(Rs)]=Rs;mr[45]=62;mr[95]=63;function Nv(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function t2(t){var e=Nv(t),n=e[0],r=e[1];return(n+r)*3/4-r}function n2(t,e,n){return(e+n)*3/4-n}function r2(t){var e,n=Nv(t),r=n[0],i=n[1],o=new JI(n2(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=mr[t.charCodeAt(l)]<<18|mr[t.charCodeAt(l+1)]<<12|mr[t.charCodeAt(l+2)]<<6|mr[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=mr[t.charCodeAt(l)]<<2|mr[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=mr[t.charCodeAt(l)]<<10|mr[t.charCodeAt(l+1)]<<4|mr[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function i2(t){return Vr[t>>18&63]+Vr[t>>12&63]+Vr[t>>6&63]+Vr[t&63]}function o2(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(i2(r));return i.join("")}function s2(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(o2(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Vr[e>>2]+Vr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Vr[e>>10]+Vr[e>>4&63]+Vr[e<<2&63]+"=")),i.join("")}var Dg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Dg.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,f=-7,g=n?i-1:0,w=n?-1:1,m=t[e+g];for(g+=w,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+t[e+g],g+=w,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=s*256+t[e+g],g+=w,f-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(m?-1:1)*s*Math.pow(2,o-r)};Dg.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,f=(1<<c)-1,g=f>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,E=r?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+g>=1?e+=w/l:e+=w*Math.pow(2,1-g),e*l>=2&&(s++,l/=2),s+g>=f?(a=0,s=f):s+g>=1?(a=(e*l-1)*Math.pow(2,i),s=s+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=a&255,m+=E,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+m]=s&255,m+=E,s/=256,c-=8);t[n+m-E]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=rf,n=Dg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const T=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(T,h),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const h=new Uint8Array(T);return Object.setPrototypeOf(h,a.prototype),h}function a(T,h,y){if(typeof T=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(T)}return l(T,h,y)}a.poolSize=8192;function l(T,h,y){if(typeof T=="string")return w(T,h);if(ArrayBuffer.isView(T))return E(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(Jn(T,ArrayBuffer)||T&&Jn(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jn(T,SharedArrayBuffer)||T&&Jn(T.buffer,SharedArrayBuffer)))return k(T,h,y);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=T.valueOf&&T.valueOf();if(L!=null&&L!==T)return a.from(L,h,y);const F=N(T);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),h,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,h,y){return l(T,h,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function f(T,h,y){return c(T),T<=0?s(T):h!==void 0?typeof y=="string"?s(T).fill(h,y):s(T).fill(h):s(T)}a.alloc=function(T,h,y){return f(T,h,y)};function g(T){return c(T),s(T<0?0:b(T)|0)}a.allocUnsafe=function(T){return g(T)},a.allocUnsafeSlow=function(T){return g(T)};function w(T,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const y=S(T,h)|0;let L=s(y);const F=L.write(T,h);return F!==y&&(L=L.slice(0,F)),L}function m(T){const h=T.length<0?0:b(T.length)|0,y=s(h);for(let L=0;L<h;L+=1)y[L]=T[L]&255;return y}function E(T){if(Jn(T,Uint8Array)){const h=new Uint8Array(T);return k(h.buffer,h.byteOffset,h.byteLength)}return m(T)}function k(T,h,y){if(h<0||T.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<h+(y||0))throw new RangeError('"length" is outside of buffer bounds');let L;return h===void 0&&y===void 0?L=new Uint8Array(T):y===void 0?L=new Uint8Array(T,h):L=new Uint8Array(T,h,y),Object.setPrototypeOf(L,a.prototype),L}function N(T){if(a.isBuffer(T)){const h=b(T.length)|0,y=s(h);return y.length===0||T.copy(y,0,0,h),y}if(T.length!==void 0)return typeof T.length!="number"||dt(T.length)?s(0):m(T);if(T.type==="Buffer"&&Array.isArray(T.data))return m(T.data)}function b(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function A(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,y){if(Jn(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),Jn(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(h)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===y)return 0;let L=h.length,F=y.length;for(let K=0,q=Math.min(L,F);K<q;++K)if(h[K]!==y[K]){L=h[K],F=y[K];break}return L<F?-1:F<L?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,y){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let L;if(y===void 0)for(y=0,L=0;L<h.length;++L)y+=h[L].length;const F=a.allocUnsafe(y);let K=0;for(L=0;L<h.length;++L){let q=h[L];if(Jn(q,Uint8Array))K+q.length>F.length?(a.isBuffer(q)||(q=a.from(q)),q.copy(F,K)):Uint8Array.prototype.set.call(F,q,K);else if(a.isBuffer(q))q.copy(F,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=q.length}return F};function S(T,h){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||Jn(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const y=T.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&y===0)return 0;let F=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return ct(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return pt(T).length;default:if(F)return L?-1:ct(T).length;h=(""+h).toLowerCase(),F=!0}}a.byteLength=S;function x(T,h,y){let L=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,h>>>=0,y<=h))return"";for(T||(T="utf8");;)switch(T){case"hex":return O(this,h,y);case"utf8":case"utf-8":return u(this,h,y);case"ascii":return R(this,h,y);case"latin1":case"binary":return I(this,h,y);case"base64":return _(this,h,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,h,y);default:if(L)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),L=!0}}a.prototype._isBuffer=!0;function C(T,h,y){const L=T[h];T[h]=T[y],T[y]=L}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<h;y+=2)C(this,y,y+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<h;y+=4)C(this,y,y+3),C(this,y+1,y+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<h;y+=8)C(this,y,y+7),C(this,y+1,y+6),C(this,y+2,y+5),C(this,y+3,y+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?u(this,0,h):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const y=t.INSPECT_MAX_BYTES;return h=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,y,L,F,K){if(Jn(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(y===void 0&&(y=0),L===void 0&&(L=h?h.length:0),F===void 0&&(F=0),K===void 0&&(K=this.length),y<0||L>h.length||F<0||K>this.length)throw new RangeError("out of range index");if(F>=K&&y>=L)return 0;if(F>=K)return-1;if(y>=L)return 1;if(y>>>=0,L>>>=0,F>>>=0,K>>>=0,this===h)return 0;let q=K-F,ke=L-y;const Ie=Math.min(q,ke),Se=this.slice(F,K),st=h.slice(y,L);for(let _e=0;_e<Ie;++_e)if(Se[_e]!==st[_e]){q=Se[_e],ke=st[_e];break}return q<ke?-1:ke<q?1:0};function D(T,h,y,L,F){if(T.length===0)return-1;if(typeof y=="string"?(L=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,dt(y)&&(y=F?0:T.length-1),y<0&&(y=T.length+y),y>=T.length){if(F)return-1;y=T.length-1}else if(y<0)if(F)y=0;else return-1;if(typeof h=="string"&&(h=a.from(h,L)),a.isBuffer(h))return h.length===0?-1:U(T,h,y,L,F);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(T,h,y):Uint8Array.prototype.lastIndexOf.call(T,h,y):U(T,[h],y,L,F);throw new TypeError("val must be string, number or Buffer")}function U(T,h,y,L,F){let K=1,q=T.length,ke=h.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(T.length<2||h.length<2)return-1;K=2,q/=2,ke/=2,y/=2}function Ie(st,_e){return K===1?st[_e]:st.readUInt16BE(_e*K)}let Se;if(F){let st=-1;for(Se=y;Se<q;Se++)if(Ie(T,Se)===Ie(h,st===-1?0:Se-st)){if(st===-1&&(st=Se),Se-st+1===ke)return st*K}else st!==-1&&(Se-=Se-st),st=-1}else for(y+ke>q&&(y=q-ke),Se=y;Se>=0;Se--){let st=!0;for(let _e=0;_e<ke;_e++)if(Ie(T,Se+_e)!==Ie(h,_e)){st=!1;break}if(st)return Se}return-1}a.prototype.includes=function(h,y,L){return this.indexOf(h,y,L)!==-1},a.prototype.indexOf=function(h,y,L){return D(this,h,y,L,!0)},a.prototype.lastIndexOf=function(h,y,L){return D(this,h,y,L,!1)};function z(T,h,y,L){y=Number(y)||0;const F=T.length-y;L?(L=Number(L),L>F&&(L=F)):L=F;const K=h.length;L>K/2&&(L=K/2);let q;for(q=0;q<L;++q){const ke=parseInt(h.substr(q*2,2),16);if(dt(ke))return q;T[y+q]=ke}return q}function W(T,h,y,L){return ot(ct(h,T.length-y),T,y,L)}function $(T,h,y,L){return ot(bt(h),T,y,L)}function Z(T,h,y,L){return ot(pt(h),T,y,L)}function j(T,h,y,L){return ot(Ou(h,T.length-y),T,y,L)}a.prototype.write=function(h,y,L,F){if(y===void 0)F="utf8",L=this.length,y=0;else if(L===void 0&&typeof y=="string")F=y,L=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(L)?(L=L>>>0,F===void 0&&(F="utf8")):(F=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-y;if((L===void 0||L>K)&&(L=K),h.length>0&&(L<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let q=!1;for(;;)switch(F){case"hex":return z(this,h,y,L);case"utf8":case"utf-8":return W(this,h,y,L);case"ascii":case"latin1":case"binary":return $(this,h,y,L);case"base64":return Z(this,h,y,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,h,y,L);default:if(q)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(T,h,y){return h===0&&y===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(h,y))}function u(T,h,y){y=Math.min(T.length,y);const L=[];let F=h;for(;F<y;){const K=T[F];let q=null,ke=K>239?4:K>223?3:K>191?2:1;if(F+ke<=y){let Ie,Se,st,_e;switch(ke){case 1:K<128&&(q=K);break;case 2:Ie=T[F+1],(Ie&192)===128&&(_e=(K&31)<<6|Ie&63,_e>127&&(q=_e));break;case 3:Ie=T[F+1],Se=T[F+2],(Ie&192)===128&&(Se&192)===128&&(_e=(K&15)<<12|(Ie&63)<<6|Se&63,_e>2047&&(_e<55296||_e>57343)&&(q=_e));break;case 4:Ie=T[F+1],Se=T[F+2],st=T[F+3],(Ie&192)===128&&(Se&192)===128&&(st&192)===128&&(_e=(K&15)<<18|(Ie&63)<<12|(Se&63)<<6|st&63,_e>65535&&_e<1114112&&(q=_e))}}q===null?(q=65533,ke=1):q>65535&&(q-=65536,L.push(q>>>10&1023|55296),q=56320|q&1023),L.push(q),F+=ke}return v(L)}const d=4096;function v(T){const h=T.length;if(h<=d)return String.fromCharCode.apply(String,T);let y="",L=0;for(;L<h;)y+=String.fromCharCode.apply(String,T.slice(L,L+=d));return y}function R(T,h,y){let L="";y=Math.min(T.length,y);for(let F=h;F<y;++F)L+=String.fromCharCode(T[F]&127);return L}function I(T,h,y){let L="";y=Math.min(T.length,y);for(let F=h;F<y;++F)L+=String.fromCharCode(T[F]);return L}function O(T,h,y){const L=T.length;(!h||h<0)&&(h=0),(!y||y<0||y>L)&&(y=L);let F="";for(let K=h;K<y;++K)F+=At[T[K]];return F}function B(T,h,y){const L=T.slice(h,y);let F="";for(let K=0;K<L.length-1;K+=2)F+=String.fromCharCode(L[K]+L[K+1]*256);return F}a.prototype.slice=function(h,y){const L=this.length;h=~~h,y=y===void 0?L:~~y,h<0?(h+=L,h<0&&(h=0)):h>L&&(h=L),y<0?(y+=L,y<0&&(y=0)):y>L&&(y=L),y<h&&(y=h);const F=this.subarray(h,y);return Object.setPrototypeOf(F,a.prototype),F};function M(T,h,y){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+h>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,y,L){h=h>>>0,y=y>>>0,L||M(h,y,this.length);let F=this[h],K=1,q=0;for(;++q<y&&(K*=256);)F+=this[h+q]*K;return F},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,y,L){h=h>>>0,y=y>>>0,L||M(h,y,this.length);let F=this[h+--y],K=1;for(;y>0&&(K*=256);)F+=this[h+--y]*K;return F},a.prototype.readUint8=a.prototype.readUInt8=function(h,y){return h=h>>>0,y||M(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,y){return h=h>>>0,y||M(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,y){return h=h>>>0,y||M(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,y){return h=h>>>0,y||M(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,y){return h=h>>>0,y||M(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const F=y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,K=this[++h]+this[++h]*2**8+this[++h]*2**16+L*2**24;return BigInt(F)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const F=y*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],K=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+L;return(BigInt(F)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(h,y,L){h=h>>>0,y=y>>>0,L||M(h,y,this.length);let F=this[h],K=1,q=0;for(;++q<y&&(K*=256);)F+=this[h+q]*K;return K*=128,F>=K&&(F-=Math.pow(2,8*y)),F},a.prototype.readIntBE=function(h,y,L){h=h>>>0,y=y>>>0,L||M(h,y,this.length);let F=y,K=1,q=this[h+--F];for(;F>0&&(K*=256);)q+=this[h+--F]*K;return K*=128,q>=K&&(q-=Math.pow(2,8*y)),q},a.prototype.readInt8=function(h,y){return h=h>>>0,y||M(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,y){h=h>>>0,y||M(h,2,this.length);const L=this[h]|this[h+1]<<8;return L&32768?L|4294901760:L},a.prototype.readInt16BE=function(h,y){h=h>>>0,y||M(h,2,this.length);const L=this[h+1]|this[h]<<8;return L&32768?L|4294901760:L},a.prototype.readInt32LE=function(h,y){return h=h>>>0,y||M(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,y){return h=h>>>0,y||M(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const F=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(L<<24);return(BigInt(F)<<BigInt(32))+BigInt(y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const F=(y<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(F)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+L)}),a.prototype.readFloatLE=function(h,y){return h=h>>>0,y||M(h,4,this.length),n.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,y){return h=h>>>0,y||M(h,4,this.length),n.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,y){return h=h>>>0,y||M(h,8,this.length),n.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,y){return h=h>>>0,y||M(h,8,this.length),n.read(this,h,!1,52,8)};function p(T,h,y,L,F,K){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>F||h<K)throw new RangeError('"value" argument is out of bounds');if(y+L>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,y,L,F){if(h=+h,y=y>>>0,L=L>>>0,!F){const ke=Math.pow(2,8*L)-1;p(this,h,y,L,ke,0)}let K=1,q=0;for(this[y]=h&255;++q<L&&(K*=256);)this[y+q]=h/K&255;return y+L},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,y,L,F){if(h=+h,y=y>>>0,L=L>>>0,!F){const ke=Math.pow(2,8*L)-1;p(this,h,y,L,ke,0)}let K=L-1,q=1;for(this[y+K]=h&255;--K>=0&&(q*=256);)this[y+K]=h/q&255;return y+L},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,1,255,0),this[y]=h&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,65535,0),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,65535,0),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,4294967295,0),this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=h&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,4294967295,0),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4};function P(T,h,y,L,F){Xe(h,L,F,T,y,7);let K=Number(h&BigInt(4294967295));T[y++]=K,K=K>>8,T[y++]=K,K=K>>8,T[y++]=K,K=K>>8,T[y++]=K;let q=Number(h>>BigInt(32)&BigInt(4294967295));return T[y++]=q,q=q>>8,T[y++]=q,q=q>>8,T[y++]=q,q=q>>8,T[y++]=q,y}function ie(T,h,y,L,F){Xe(h,L,F,T,y,7);let K=Number(h&BigInt(4294967295));T[y+7]=K,K=K>>8,T[y+6]=K,K=K>>8,T[y+5]=K,K=K>>8,T[y+4]=K;let q=Number(h>>BigInt(32)&BigInt(4294967295));return T[y+3]=q,q=q>>8,T[y+2]=q,q=q>>8,T[y+1]=q,q=q>>8,T[y]=q,y+8}a.prototype.writeBigUInt64LE=kr(function(h,y=0){return P(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=kr(function(h,y=0){return ie(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,y,L,F){if(h=+h,y=y>>>0,!F){const Ie=Math.pow(2,8*L-1);p(this,h,y,L,Ie-1,-Ie)}let K=0,q=1,ke=0;for(this[y]=h&255;++K<L&&(q*=256);)h<0&&ke===0&&this[y+K-1]!==0&&(ke=1),this[y+K]=(h/q>>0)-ke&255;return y+L},a.prototype.writeIntBE=function(h,y,L,F){if(h=+h,y=y>>>0,!F){const Ie=Math.pow(2,8*L-1);p(this,h,y,L,Ie-1,-Ie)}let K=L-1,q=1,ke=0;for(this[y+K]=h&255;--K>=0&&(q*=256);)h<0&&ke===0&&this[y+K+1]!==0&&(ke=1),this[y+K]=(h/q>>0)-ke&255;return y+L},a.prototype.writeInt8=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,1,127,-128),h<0&&(h=255+h+1),this[y]=h&255,y+1},a.prototype.writeInt16LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,32767,-32768),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeInt16BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,32767,-32768),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeInt32LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,2147483647,-2147483648),this[y]=h&255,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24,y+4},a.prototype.writeInt32BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4},a.prototype.writeBigInt64LE=kr(function(h,y=0){return P(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=kr(function(h,y=0){return ie(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ne(T,h,y,L,F,K){if(y+L>T.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function se(T,h,y,L,F){return h=+h,y=y>>>0,F||ne(T,h,y,4),n.write(T,h,y,L,23,4),y+4}a.prototype.writeFloatLE=function(h,y,L){return se(this,h,y,!0,L)},a.prototype.writeFloatBE=function(h,y,L){return se(this,h,y,!1,L)};function Ae(T,h,y,L,F){return h=+h,y=y>>>0,F||ne(T,h,y,8),n.write(T,h,y,L,52,8),y+8}a.prototype.writeDoubleLE=function(h,y,L){return Ae(this,h,y,!0,L)},a.prototype.writeDoubleBE=function(h,y,L){return Ae(this,h,y,!1,L)},a.prototype.copy=function(h,y,L,F){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(L||(L=0),!F&&F!==0&&(F=this.length),y>=h.length&&(y=h.length),y||(y=0),F>0&&F<L&&(F=L),F===L||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),h.length-y<F-L&&(F=h.length-y+L);const K=F-L;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,L,F):Uint8Array.prototype.set.call(h,this.subarray(L,F),y),K},a.prototype.fill=function(h,y,L,F){if(typeof h=="string"){if(typeof y=="string"?(F=y,y=0,L=this.length):typeof L=="string"&&(F=L,L=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(h.length===1){const q=h.charCodeAt(0);(F==="utf8"&&q<128||F==="latin1")&&(h=q)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(y<0||this.length<y||this.length<L)throw new RangeError("Out of range index");if(L<=y)return this;y=y>>>0,L=L===void 0?this.length:L>>>0,h||(h=0);let K;if(typeof h=="number")for(K=y;K<L;++K)this[K]=h;else{const q=a.isBuffer(h)?h:a.from(h,F),ke=q.length;if(ke===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(K=0;K<L-y;++K)this[K+y]=q[K%ke]}return this};const Ee={};function we(T,h,y){Ee[T]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}we("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(T,h){return`The "${T}" argument must be of type number. Received type ${typeof h}`},TypeError),we("ERR_OUT_OF_RANGE",function(T,h,y){let L=`The value of "${T}" is out of range.`,F=y;return Number.isInteger(y)&&Math.abs(y)>2**32?F=Et(String(y)):typeof y=="bigint"&&(F=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(F=Et(F)),F+="n"),L+=` It must be ${h}. Received ${F}`,L},RangeError);function Et(T){let h="",y=T.length;const L=T[0]==="-"?1:0;for(;y>=L+4;y-=3)h=`_${T.slice(y-3,y)}${h}`;return`${T.slice(0,y)}${h}`}function Qe(T,h,y){yr(h,"offset"),(T[h]===void 0||T[h+y]===void 0)&&Je(h,T.length-(y+1))}function Xe(T,h,y,L,F,K){if(T>y||T<h){const q=typeof h=="bigint"?"n":"";let ke;throw h===0||h===BigInt(0)?ke=`>= 0${q} and < 2${q} ** ${(K+1)*8}${q}`:ke=`>= -(2${q} ** ${(K+1)*8-1}${q}) and < 2 ** ${(K+1)*8-1}${q}`,new Ee.ERR_OUT_OF_RANGE("value",ke,T)}Qe(L,F,K)}function yr(T,h){if(typeof T!="number")throw new Ee.ERR_INVALID_ARG_TYPE(h,"number",T)}function Je(T,h,y){throw Math.floor(T)!==T?(yr(T,y),new Ee.ERR_OUT_OF_RANGE("offset","an integer",T)):h<0?new Ee.ERR_BUFFER_OUT_OF_BOUNDS:new Ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,T)}const St=/[^+/0-9A-Za-z-_]/g;function xu(T){if(T=T.split("=")[0],T=T.trim().replace(St,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function ct(T,h){h=h||1/0;let y;const L=T.length;let F=null;const K=[];for(let q=0;q<L;++q){if(y=T.charCodeAt(q),y>55295&&y<57344){if(!F){if(y>56319){(h-=3)>-1&&K.push(239,191,189);continue}else if(q+1===L){(h-=3)>-1&&K.push(239,191,189);continue}F=y;continue}if(y<56320){(h-=3)>-1&&K.push(239,191,189),F=y;continue}y=(F-55296<<10|y-56320)+65536}else F&&(h-=3)>-1&&K.push(239,191,189);if(F=null,y<128){if((h-=1)<0)break;K.push(y)}else if(y<2048){if((h-=2)<0)break;K.push(y>>6|192,y&63|128)}else if(y<65536){if((h-=3)<0)break;K.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((h-=4)<0)break;K.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return K}function bt(T){const h=[];for(let y=0;y<T.length;++y)h.push(T.charCodeAt(y)&255);return h}function Ou(T,h){let y,L,F;const K=[];for(let q=0;q<T.length&&!((h-=2)<0);++q)y=T.charCodeAt(q),L=y>>8,F=y%256,K.push(F),K.push(L);return K}function pt(T){return e.toByteArray(xu(T))}function ot(T,h,y,L){let F;for(F=0;F<L&&!(F+y>=h.length||F>=T.length);++F)h[F+y]=T[F];return F}function Jn(T,h){return T instanceof h||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===h.name}function dt(T){return T!==T}const At=function(){const T="0123456789abcdef",h=new Array(256);for(let y=0;y<16;++y){const L=y*16;for(let F=0;F<16;++F)h[L+F]=T[y]+T[F]}return h}();function kr(T){return typeof BigInt>"u"?It:T}function It(){throw new Error("BigInt not supported")}})(ue);var Mp={},xv={exports:{}},dr={},Ov={exports:{}},Cv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,O){var B=I.length;I.push(O);e:for(;0<B;){var M=B-1>>>1,p=I[M];if(0<i(p,O))I[M]=O,I[B]=p,B=M;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],B=I.pop();if(B!==O){I[0]=B;e:for(var M=0,p=I.length,P=p>>>1;M<P;){var ie=2*(M+1)-1,ne=I[ie],se=ie+1,Ae=I[se];if(0>i(ne,B))se<p&&0>i(Ae,ne)?(I[M]=Ae,I[se]=B,M=se):(I[M]=ne,I[ie]=B,M=ie);else if(se<p&&0>i(Ae,B))I[M]=Ae,I[se]=B,M=se;else break e}}return O}function i(I,O){var B=I.sortIndex-O.sortIndex;return B!==0?B:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,g=null,w=3,m=!1,E=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=I)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function x(I){if(k=!1,S(I),!E)if(n(l)!==null)E=!0,v(C);else{var O=n(c);O!==null&&R(x,O.startTime-I)}}function C(I,O){E=!1,k&&(k=!1,b(z),z=-1),m=!0;var B=w;try{for(S(O),g=n(l);g!==null&&(!(g.expirationTime>O)||I&&!Z());){var M=g.callback;if(typeof M=="function"){g.callback=null,w=g.priorityLevel;var p=M(g.expirationTime<=O);O=t.unstable_now(),typeof p=="function"?g.callback=p:g===n(l)&&r(l),S(O)}else r(l);g=n(l)}if(g!==null)var P=!0;else{var ie=n(c);ie!==null&&R(x,ie.startTime-O),P=!1}return P}finally{g=null,w=B,m=!1}}var D=!1,U=null,z=-1,W=5,$=-1;function Z(){return!(t.unstable_now()-$<W)}function j(){if(U!==null){var I=t.unstable_now();$=I;var O=!0;try{O=U(!0,I)}finally{O?_():(D=!1,U=null)}}else D=!1}var _;if(typeof A=="function")_=function(){A(j)};else if(typeof MessageChannel<"u"){var u=new MessageChannel,d=u.port2;u.port1.onmessage=j,_=function(){d.postMessage(null)}}else _=function(){N(j,0)};function v(I){U=I,D||(D=!0,_())}function R(I,O){z=N(function(){I(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,v(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(w){case 1:case 2:case 3:var O=3;break;default:O=w}var B=w;w=O;try{return I()}finally{w=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=w;w=I;try{return O()}finally{w=B}},t.unstable_scheduleCallback=function(I,O,B){var M=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?M+B:M):B=M,I){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=B+p,I={id:f++,callback:O,priorityLevel:I,startTime:B,expirationTime:p,sortIndex:-1},B>M?(I.sortIndex=B,e(c,I),n(l)===null&&I===n(c)&&(k?(b(z),z=-1):k=!0,R(x,B-M))):(I.sortIndex=p,e(l,I),E||m||(E=!0,v(C))),I},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(I){var O=w;return function(){var B=w;w=O;try{return I.apply(this,arguments)}finally{w=B}}}})(Cv);Ov.exports=Cv;var a2=Ov.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2=te,cr=a2;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lv=new Set,Bl={};function ws(t,e){ma(t,e),ma(t+"Capture",e)}function ma(t,e){for(Bl[t]=e,t=0;t<e.length;t++)Lv.add(e[t])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=Object.prototype.hasOwnProperty,u2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gm={},Ym={};function c2(t){return Np.call(Ym,t)?!0:Np.call(Gm,t)?!1:u2.test(t)?Ym[t]=!0:(Gm[t]=!0,!1)}function d2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f2(t,e,n,r){if(e===null||typeof e>"u"||d2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_n[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_n[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_n[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_n[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_n[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_n[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_n[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_n[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_n[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ug=/[\-:]([a-z])/g;function zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ug,zg);_n[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ug,zg);_n[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ug,zg);_n[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_n[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});_n.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_n[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function jg(t,e,n,r){var i=_n.hasOwnProperty(e)?_n[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f2(e,n,i,r)&&(n=null),r||i===null?c2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bi=l2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),Bv=Symbol.for("react.provider"),Pv=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Cp=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),Dv=Symbol.for("react.offscreen"),qm=Symbol.iterator;function Va(t){return t===null||typeof t!="object"?null:(t=qm&&t[qm]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Sh;function il(t){if(Sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sh=e&&e[1]||""}return`
`+Sh+t}var bh=!1;function Ah(t,e){if(!t||bh)return"";bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{bh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?il(t):""}function h2(t){switch(t.tag){case 5:return il(t.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return t=Ah(t.type,!1),t;case 11:return t=Ah(t.type.render,!1),t;case 1:return t=Ah(t.type,!0),t;default:return""}}function Lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hs:return"Fragment";case Fs:return"Portal";case xp:return"Profiler";case Wg:return"StrictMode";case Op:return"Suspense";case Cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pv:return(t.displayName||"Context")+".Consumer";case Bv:return(t._context.displayName||"Context")+".Provider";case Fg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hg:return e=t.displayName||null,e!==null?e:Lp(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return Lp(t(e))}catch{}}return null}function p2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lp(e);case 8:return e===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g2(t){var e=Uv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=g2(t))}function zv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bp(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jv(t,e){e=e.checked,e!=null&&jg(t,"checked",e,!1)}function Pp(t,e){jv(t,e);var n=wo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dp(t,e.type,wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dp(t,e,n){(e!=="number"||ud(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function ia(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Up(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(ol(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wo(n)}}function Wv(t,e){var n=wo(e.value),r=wo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pu,Hv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y2=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){y2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function $v(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function Kv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$v(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m2=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jp(t,e){if(e){if(m2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function $g(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hp=null,oa=null,sa=null;function ew(t){if(t=du(t)){if(typeof Hp!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=uf(e),Hp(t.stateNode,t.type,e))}}function Vv(t){oa?sa?sa.push(t):sa=[t]:oa=t}function Gv(){if(oa){var t=oa,e=sa;if(sa=oa=null,ew(t),e)for(t=0;t<e.length;t++)ew(e[t])}}function Yv(t,e){return t(e)}function qv(){}var Ih=!1;function Zv(t,e,n){if(Ih)return t(e,n);Ih=!0;try{return Yv(t,e,n)}finally{Ih=!1,(oa!==null||sa!==null)&&(qv(),Gv())}}function Dl(t,e){var n=t.stateNode;if(n===null)return null;var r=uf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var $p=!1;if(Mi)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){$p=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{$p=!1}function w2(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var El=!1,cd=null,dd=!1,Kp=null,v2={onError:function(t){El=!0,cd=t}};function _2(t,e,n,r,i,o,s,a,l){El=!1,cd=null,w2.apply(v2,arguments)}function E2(t,e,n,r,i,o,s,a,l){if(_2.apply(this,arguments),El){if(El){var c=cd;El=!1,cd=null}else throw Error(ee(198));dd||(dd=!0,Kp=c)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tw(t){if(vs(t)!==t)throw Error(ee(188))}function S2(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tw(i),t;if(o===r)return tw(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function Xv(t){return t=S2(t),t!==null?Jv(t):null}function Jv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jv(t);if(e!==null)return e;t=t.sibling}return null}var e_=cr.unstable_scheduleCallback,nw=cr.unstable_cancelCallback,b2=cr.unstable_shouldYield,A2=cr.unstable_requestPaint,xt=cr.unstable_now,I2=cr.unstable_getCurrentPriorityLevel,Kg=cr.unstable_ImmediatePriority,t_=cr.unstable_UserBlockingPriority,fd=cr.unstable_NormalPriority,R2=cr.unstable_LowPriority,n_=cr.unstable_IdlePriority,of=null,ei=null;function k2(t){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(of,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:N2,T2=Math.log,M2=Math.LN2;function N2(t){return t>>>=0,t===0?32:31-(T2(t)/M2|0)|0}var Du=64,Uu=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=sl(a):(o&=s,o!==0&&(r=sl(o)))}else s=n&~i,s!==0?r=sl(s):o!==0&&(r=sl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function x2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Pr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=x2(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Vp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r_(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function Rh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function C2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Vg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function i_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o_,Gg,s_,a_,l_,Gp=!1,zu=[],so=null,ao=null,lo=null,Ul=new Map,zl=new Map,Zi=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rw(t,e){switch(t){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function Ya(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=du(e),e!==null&&Gg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B2(t,e,n,r,i){switch(e){case"focusin":return so=Ya(so,t,e,n,r,i),!0;case"dragenter":return ao=Ya(ao,t,e,n,r,i),!0;case"mouseover":return lo=Ya(lo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ul.set(o,Ya(Ul.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zl.set(o,Ya(zl.get(o)||null,t,e,n,r,i)),!0}return!1}function u_(t){var e=$o(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=Qv(n),e!==null){t.blockedOn=e,l_(t.priority,function(){s_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fp=r,n.target.dispatchEvent(r),Fp=null}else return e=du(n),e!==null&&Gg(e),t.blockedOn=n,!1;e.shift()}return!0}function iw(t,e,n){gc(t)&&n.delete(e)}function P2(){Gp=!1,so!==null&&gc(so)&&(so=null),ao!==null&&gc(ao)&&(ao=null),lo!==null&&gc(lo)&&(lo=null),Ul.forEach(iw),zl.forEach(iw)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Gp||(Gp=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,P2)))}function jl(t){function e(i){return qa(i,t)}if(0<zu.length){qa(zu[0],t);for(var n=1;n<zu.length;n++){var r=zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(so!==null&&qa(so,t),ao!==null&&qa(ao,t),lo!==null&&qa(lo,t),Ul.forEach(e),zl.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)u_(n),n.blockedOn===null&&Zi.shift()}var aa=Bi.ReactCurrentBatchConfig,pd=!0;function D2(t,e,n,r){var i=Ge,o=aa.transition;aa.transition=null;try{Ge=1,Yg(t,e,n,r)}finally{Ge=i,aa.transition=o}}function U2(t,e,n,r){var i=Ge,o=aa.transition;aa.transition=null;try{Ge=4,Yg(t,e,n,r)}finally{Ge=i,aa.transition=o}}function Yg(t,e,n,r){if(pd){var i=Yp(t,e,n,r);if(i===null)Ph(t,e,r,gd,n),rw(t,r);else if(B2(i,t,e,n,r))r.stopPropagation();else if(rw(t,r),e&4&&-1<L2.indexOf(t)){for(;i!==null;){var o=du(i);if(o!==null&&o_(o),o=Yp(t,e,n,r),o===null&&Ph(t,e,r,gd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ph(t,e,r,null,n)}}var gd=null;function Yp(t,e,n,r){if(gd=null,t=$g(r),t=$o(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gd=t,null}function c_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I2()){case Kg:return 1;case t_:return 4;case fd:case R2:return 16;case n_:return 536870912;default:return 16}default:return 16}}var Ji=null,qg=null,yc=null;function d_(){if(yc)return yc;var t,e=qg,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return yc=i.slice(t,1<r?1-r:void 0)}function mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function ow(){return!1}function fr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ju:ow,this.isPropagationStopped=ow,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zg=fr(Ba),cu=vt({},Ba,{view:0,detail:0}),z2=fr(cu),kh,Th,Za,sf=vt({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(kh=t.screenX-Za.screenX,Th=t.screenY-Za.screenY):Th=kh=0,Za=t),kh)},movementY:function(t){return"movementY"in t?t.movementY:Th}}),sw=fr(sf),j2=vt({},sf,{dataTransfer:0}),W2=fr(j2),F2=vt({},cu,{relatedTarget:0}),Mh=fr(F2),H2=vt({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=fr(H2),K2=vt({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V2=fr(K2),G2=vt({},Ba,{data:0}),aw=fr(G2),Y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z2[t])?!!e[t]:!1}function Qg(){return Q2}var X2=vt({},cu,{key:function(t){if(t.key){var e=Y2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qg,charCode:function(t){return t.type==="keypress"?mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J2=fr(X2),eR=vt({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lw=fr(eR),tR=vt({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qg}),nR=fr(tR),rR=vt({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),iR=fr(rR),oR=vt({},sf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=fr(oR),aR=[9,13,27,32],Xg=Mi&&"CompositionEvent"in window,Sl=null;Mi&&"documentMode"in document&&(Sl=document.documentMode);var lR=Mi&&"TextEvent"in window&&!Sl,f_=Mi&&(!Xg||Sl&&8<Sl&&11>=Sl),uw=" ",cw=!1;function h_(t,e){switch(t){case"keyup":return aR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function uR(t,e){switch(t){case"compositionend":return p_(e);case"keypress":return e.which!==32?null:(cw=!0,uw);case"textInput":return t=e.data,t===uw&&cw?null:t;default:return null}}function cR(t,e){if($s)return t==="compositionend"||!Xg&&h_(t,e)?(t=d_(),yc=qg=Ji=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f_&&e.locale!=="ko"?null:e.data;default:return null}}var dR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dR[t.type]:e==="textarea"}function g_(t,e,n,r){Vv(r),e=yd(e,"onChange"),0<e.length&&(n=new Zg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bl=null,Wl=null;function fR(t){R_(t,0)}function af(t){var e=Gs(t);if(zv(e))return t}function hR(t,e){if(t==="change")return e}var y_=!1;if(Mi){var Nh;if(Mi){var xh="oninput"in document;if(!xh){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),xh=typeof fw.oninput=="function"}Nh=xh}else Nh=!1;y_=Nh&&(!document.documentMode||9<document.documentMode)}function hw(){bl&&(bl.detachEvent("onpropertychange",m_),Wl=bl=null)}function m_(t){if(t.propertyName==="value"&&af(Wl)){var e=[];g_(e,Wl,t,$g(t)),Zv(fR,e)}}function pR(t,e,n){t==="focusin"?(hw(),bl=e,Wl=n,bl.attachEvent("onpropertychange",m_)):t==="focusout"&&hw()}function gR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return af(Wl)}function yR(t,e){if(t==="click")return af(e)}function mR(t,e){if(t==="input"||t==="change")return af(e)}function wR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zr=typeof Object.is=="function"?Object.is:wR;function Fl(t,e){if(zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Np.call(e,i)||!zr(t[i],e[i]))return!1}return!0}function pw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gw(t,e){var n=pw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pw(n)}}function w_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v_(){for(var t=window,e=ud();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ud(t.document)}return e}function Jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vR(t){var e=v_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&w_(n.ownerDocument.documentElement,n)){if(r!==null&&Jg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=gw(n,o);var s=gw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _R=Mi&&"documentMode"in document&&11>=document.documentMode,Ks=null,qp=null,Al=null,Zp=!1;function yw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zp||Ks==null||Ks!==ud(r)||(r=Ks,"selectionStart"in r&&Jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&Fl(Al,r)||(Al=r,r=yd(qp,"onSelect"),0<r.length&&(e=new Zg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ks)))}function Wu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},Oh={},__={};Mi&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function lf(t){if(Oh[t])return Oh[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in __)return Oh[t]=e[n];return t}var E_=lf("animationend"),S_=lf("animationiteration"),b_=lf("animationstart"),A_=lf("transitionend"),I_=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(t,e){I_.set(t,e),ws(e,[t])}for(var Ch=0;Ch<mw.length;Ch++){var Lh=mw[Ch],ER=Lh.toLowerCase(),SR=Lh[0].toUpperCase()+Lh.slice(1);Io(ER,"on"+SR)}Io(E_,"onAnimationEnd");Io(S_,"onAnimationIteration");Io(b_,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io(A_,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E2(r,e,void 0,t),t.currentTarget=null}function R_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ww(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ww(i,a,c),o=l}}}if(dd)throw t=Kp,dd=!1,Kp=null,t}function at(t,e){var n=e[t0];n===void 0&&(n=e[t0]=new Set);var r=t+"__bubble";n.has(r)||(k_(e,t,2,!1),n.add(r))}function Bh(t,e,n){var r=0;e&&(r|=4),k_(n,t,r,e)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[Fu]){t[Fu]=!0,Lv.forEach(function(n){n!=="selectionchange"&&(bR.has(n)||Bh(n,!1,t),Bh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fu]||(e[Fu]=!0,Bh("selectionchange",!1,e))}}function k_(t,e,n,r){switch(c_(e)){case 1:var i=D2;break;case 4:i=U2;break;default:i=Yg}n=i.bind(null,e,n,t),i=void 0,!$p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ph(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=$o(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Zv(function(){var c=o,f=$g(n),g=[];e:{var w=I_.get(t);if(w!==void 0){var m=Zg,E=t;switch(t){case"keypress":if(mc(n)===0)break e;case"keydown":case"keyup":m=J2;break;case"focusin":E="focus",m=Mh;break;case"focusout":E="blur",m=Mh;break;case"beforeblur":case"afterblur":m=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=W2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nR;break;case E_:case S_:case b_:m=$2;break;case A_:m=iR;break;case"scroll":m=z2;break;case"wheel":m=sR;break;case"copy":case"cut":case"paste":m=V2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lw}var k=(e&4)!==0,N=!k&&t==="scroll",b=k?w!==null?w+"Capture":null:w;k=[];for(var A=c,S;A!==null;){S=A;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,b!==null&&(x=Dl(A,b),x!=null&&k.push($l(A,x,S)))),N)break;A=A.return}0<k.length&&(w=new m(w,E,null,n,f),g.push({event:w,listeners:k}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",w&&n!==Fp&&(E=n.relatedTarget||n.fromElement)&&($o(E)||E[Ni]))break e;if((m||w)&&(w=f.window===f?f:(w=f.ownerDocument)?w.defaultView||w.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=c,E=E?$o(E):null,E!==null&&(N=vs(E),E!==N||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=c),m!==E)){if(k=sw,x="onMouseLeave",b="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(k=lw,x="onPointerLeave",b="onPointerEnter",A="pointer"),N=m==null?w:Gs(m),S=E==null?w:Gs(E),w=new k(x,A+"leave",m,n,f),w.target=N,w.relatedTarget=S,x=null,$o(f)===c&&(k=new k(b,A+"enter",E,n,f),k.target=S,k.relatedTarget=N,x=k),N=x,m&&E)t:{for(k=m,b=E,A=0,S=k;S;S=ks(S))A++;for(S=0,x=b;x;x=ks(x))S++;for(;0<A-S;)k=ks(k),A--;for(;0<S-A;)b=ks(b),S--;for(;A--;){if(k===b||b!==null&&k===b.alternate)break t;k=ks(k),b=ks(b)}k=null}else k=null;m!==null&&vw(g,w,m,k,!1),E!==null&&N!==null&&vw(g,N,E,k,!0)}}e:{if(w=c?Gs(c):window,m=w.nodeName&&w.nodeName.toLowerCase(),m==="select"||m==="input"&&w.type==="file")var C=hR;else if(dw(w))if(y_)C=mR;else{C=gR;var D=pR}else(m=w.nodeName)&&m.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(C=yR);if(C&&(C=C(t,c))){g_(g,C,n,f);break e}D&&D(t,w,c),t==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&Dp(w,"number",w.value)}switch(D=c?Gs(c):window,t){case"focusin":(dw(D)||D.contentEditable==="true")&&(Ks=D,qp=c,Al=null);break;case"focusout":Al=qp=Ks=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,yw(g,n,f);break;case"selectionchange":if(_R)break;case"keydown":case"keyup":yw(g,n,f)}var U;if(Xg)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else $s?h_(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(f_&&n.locale!=="ko"&&($s||z!=="onCompositionStart"?z==="onCompositionEnd"&&$s&&(U=d_()):(Ji=f,qg="value"in Ji?Ji.value:Ji.textContent,$s=!0)),D=yd(c,z),0<D.length&&(z=new aw(z,t,null,n,f),g.push({event:z,listeners:D}),U?z.data=U:(U=p_(n),U!==null&&(z.data=U)))),(U=lR?uR(t,n):cR(t,n))&&(c=yd(c,"onBeforeInput"),0<c.length&&(f=new aw("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:c}),f.data=U))}R_(g,e)})}function $l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Dl(t,n),o!=null&&r.unshift($l(t,o,i)),o=Dl(t,e),o!=null&&r.push($l(t,o,i))),t=t.return}return r}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Dl(n,o),l!=null&&s.unshift($l(n,l,a))):i||(l=Dl(n,o),l!=null&&s.push($l(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var AR=/\r\n?/g,IR=/\u0000|\uFFFD/g;function _w(t){return(typeof t=="string"?t:""+t).replace(AR,`
`).replace(IR,"")}function Hu(t,e,n){if(e=_w(e),_w(t)!==e&&n)throw Error(ee(425))}function md(){}var Qp=null,Xp=null;function Jp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e0=typeof setTimeout=="function"?setTimeout:void 0,RR=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(t){return Ew.resolve(null).then(t).catch(TR)}:e0;function TR(t){setTimeout(function(){throw t})}function Dh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jl(e)}function uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Pa,Kl="__reactProps$"+Pa,Ni="__reactContainer$"+Pa,t0="__reactEvents$"+Pa,MR="__reactListeners$"+Pa,NR="__reactHandles$"+Pa;function $o(t){var e=t[Gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[Gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sw(t);t!==null;){if(n=t[Gr])return n;t=Sw(t)}return e}t=n,n=t.parentNode}return null}function du(t){return t=t[Gr]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function uf(t){return t[Kl]||null}var n0=[],Ys=-1;function Ro(t){return{current:t}}function ut(t){0>Ys||(t.current=n0[Ys],n0[Ys]=null,Ys--)}function rt(t,e){Ys++,n0[Ys]=t.current,t.current=e}var vo={},Cn=Ro(vo),qn=Ro(!1),as=vo;function wa(t,e){var n=t.type.contextTypes;if(!n)return vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function wd(){ut(qn),ut(Cn)}function bw(t,e,n){if(Cn.current!==vo)throw Error(ee(168));rt(Cn,e),rt(qn,n)}function T_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,p2(t)||"Unknown",i));return vt({},n,r)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vo,as=Cn.current,rt(Cn,t),rt(qn,qn.current),!0}function Aw(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=T_(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,ut(qn),ut(Cn),rt(Cn,t)):ut(qn),rt(qn,n)}var gi=null,cf=!1,Uh=!1;function M_(t){gi===null?gi=[t]:gi.push(t)}function xR(t){cf=!0,M_(t)}function ko(){if(!Uh&&gi!==null){Uh=!0;var t=0,e=Ge;try{var n=gi;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gi=null,cf=!1}catch(i){throw gi!==null&&(gi=gi.slice(t+1)),e_(Kg,ko),i}finally{Ge=e,Uh=!1}}return null}var qs=[],Zs=0,_d=null,Ed=0,vr=[],_r=0,ls=null,bi=1,Ai="";function Co(t,e){qs[Zs++]=Ed,qs[Zs++]=_d,_d=t,Ed=e}function N_(t,e,n){vr[_r++]=bi,vr[_r++]=Ai,vr[_r++]=ls,ls=t;var r=bi;t=Ai;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,bi=1<<32-Pr(e)+i|n<<i|r,Ai=o+t}else bi=1<<o|n<<i|r,Ai=t}function ey(t){t.return!==null&&(Co(t,1),N_(t,1,0))}function ty(t){for(;t===_d;)_d=qs[--Zs],qs[Zs]=null,Ed=qs[--Zs],qs[Zs]=null;for(;t===ls;)ls=vr[--_r],vr[_r]=null,Ai=vr[--_r],vr[_r]=null,bi=vr[--_r],vr[_r]=null}var ar=null,sr=null,ft=!1,Cr=null;function x_(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,sr=uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:bi,overflow:Ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ar=t,sr=null,!0):!1;default:return!1}}function r0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function i0(t){if(ft){var e=sr;if(e){var n=e;if(!Iw(t,e)){if(r0(t))throw Error(ee(418));e=uo(n.nextSibling);var r=ar;e&&Iw(t,e)?x_(r,n):(t.flags=t.flags&-4097|2,ft=!1,ar=t)}}else{if(r0(t))throw Error(ee(418));t.flags=t.flags&-4097|2,ft=!1,ar=t}}}function Rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function $u(t){if(t!==ar)return!1;if(!ft)return Rw(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jp(t.type,t.memoizedProps)),e&&(e=sr)){if(r0(t))throw O_(),Error(ee(418));for(;e;)x_(t,e),e=uo(e.nextSibling)}if(Rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sr=uo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=ar?uo(t.stateNode.nextSibling):null;return!0}function O_(){for(var t=sr;t;)t=uo(t.nextSibling)}function va(){sr=ar=null,ft=!1}function ny(t){Cr===null?Cr=[t]:Cr.push(t)}var OR=Bi.ReactCurrentBatchConfig;function Qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Ku(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kw(t){var e=t._init;return e(t._payload)}function C_(t){function e(b,A){if(t){var S=b.deletions;S===null?(b.deletions=[A],b.flags|=16):S.push(A)}}function n(b,A){if(!t)return null;for(;A!==null;)e(b,A),A=A.sibling;return null}function r(b,A){for(b=new Map;A!==null;)A.key!==null?b.set(A.key,A):b.set(A.index,A),A=A.sibling;return b}function i(b,A){return b=po(b,A),b.index=0,b.sibling=null,b}function o(b,A,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<A?(b.flags|=2,A):S):(b.flags|=2,A)):(b.flags|=1048576,A)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,A,S,x){return A===null||A.tag!==6?(A=Kh(S,b.mode,x),A.return=b,A):(A=i(A,S),A.return=b,A)}function l(b,A,S,x){var C=S.type;return C===Hs?f(b,A,S.props.children,x,S.key):A!==null&&(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vi&&kw(C)===A.type)?(x=i(A,S.props),x.ref=Qa(b,A,S),x.return=b,x):(x=Ac(S.type,S.key,S.props,null,b.mode,x),x.ref=Qa(b,A,S),x.return=b,x)}function c(b,A,S,x){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=Vh(S,b.mode,x),A.return=b,A):(A=i(A,S.children||[]),A.return=b,A)}function f(b,A,S,x,C){return A===null||A.tag!==7?(A=os(S,b.mode,x,C),A.return=b,A):(A=i(A,S),A.return=b,A)}function g(b,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Kh(""+A,b.mode,S),A.return=b,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Lu:return S=Ac(A.type,A.key,A.props,null,b.mode,S),S.ref=Qa(b,null,A),S.return=b,S;case Fs:return A=Vh(A,b.mode,S),A.return=b,A;case Vi:var x=A._init;return g(b,x(A._payload),S)}if(ol(A)||Va(A))return A=os(A,b.mode,S,null),A.return=b,A;Ku(b,A)}return null}function w(b,A,S,x){var C=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(b,A,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lu:return S.key===C?l(b,A,S,x):null;case Fs:return S.key===C?c(b,A,S,x):null;case Vi:return C=S._init,w(b,A,C(S._payload),x)}if(ol(S)||Va(S))return C!==null?null:f(b,A,S,x,null);Ku(b,S)}return null}function m(b,A,S,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(S)||null,a(A,b,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lu:return b=b.get(x.key===null?S:x.key)||null,l(A,b,x,C);case Fs:return b=b.get(x.key===null?S:x.key)||null,c(A,b,x,C);case Vi:var D=x._init;return m(b,A,S,D(x._payload),C)}if(ol(x)||Va(x))return b=b.get(S)||null,f(A,b,x,C,null);Ku(A,x)}return null}function E(b,A,S,x){for(var C=null,D=null,U=A,z=A=0,W=null;U!==null&&z<S.length;z++){U.index>z?(W=U,U=null):W=U.sibling;var $=w(b,U,S[z],x);if($===null){U===null&&(U=W);break}t&&U&&$.alternate===null&&e(b,U),A=o($,A,z),D===null?C=$:D.sibling=$,D=$,U=W}if(z===S.length)return n(b,U),ft&&Co(b,z),C;if(U===null){for(;z<S.length;z++)U=g(b,S[z],x),U!==null&&(A=o(U,A,z),D===null?C=U:D.sibling=U,D=U);return ft&&Co(b,z),C}for(U=r(b,U);z<S.length;z++)W=m(U,b,z,S[z],x),W!==null&&(t&&W.alternate!==null&&U.delete(W.key===null?z:W.key),A=o(W,A,z),D===null?C=W:D.sibling=W,D=W);return t&&U.forEach(function(Z){return e(b,Z)}),ft&&Co(b,z),C}function k(b,A,S,x){var C=Va(S);if(typeof C!="function")throw Error(ee(150));if(S=C.call(S),S==null)throw Error(ee(151));for(var D=C=null,U=A,z=A=0,W=null,$=S.next();U!==null&&!$.done;z++,$=S.next()){U.index>z?(W=U,U=null):W=U.sibling;var Z=w(b,U,$.value,x);if(Z===null){U===null&&(U=W);break}t&&U&&Z.alternate===null&&e(b,U),A=o(Z,A,z),D===null?C=Z:D.sibling=Z,D=Z,U=W}if($.done)return n(b,U),ft&&Co(b,z),C;if(U===null){for(;!$.done;z++,$=S.next())$=g(b,$.value,x),$!==null&&(A=o($,A,z),D===null?C=$:D.sibling=$,D=$);return ft&&Co(b,z),C}for(U=r(b,U);!$.done;z++,$=S.next())$=m(U,b,z,$.value,x),$!==null&&(t&&$.alternate!==null&&U.delete($.key===null?z:$.key),A=o($,A,z),D===null?C=$:D.sibling=$,D=$);return t&&U.forEach(function(j){return e(b,j)}),ft&&Co(b,z),C}function N(b,A,S,x){if(typeof S=="object"&&S!==null&&S.type===Hs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Lu:e:{for(var C=S.key,D=A;D!==null;){if(D.key===C){if(C=S.type,C===Hs){if(D.tag===7){n(b,D.sibling),A=i(D,S.props.children),A.return=b,b=A;break e}}else if(D.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vi&&kw(C)===D.type){n(b,D.sibling),A=i(D,S.props),A.ref=Qa(b,D,S),A.return=b,b=A;break e}n(b,D);break}else e(b,D);D=D.sibling}S.type===Hs?(A=os(S.props.children,b.mode,x,S.key),A.return=b,b=A):(x=Ac(S.type,S.key,S.props,null,b.mode,x),x.ref=Qa(b,A,S),x.return=b,b=x)}return s(b);case Fs:e:{for(D=S.key;A!==null;){if(A.key===D)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){n(b,A.sibling),A=i(A,S.children||[]),A.return=b,b=A;break e}else{n(b,A);break}else e(b,A);A=A.sibling}A=Vh(S,b.mode,x),A.return=b,b=A}return s(b);case Vi:return D=S._init,N(b,A,D(S._payload),x)}if(ol(S))return E(b,A,S,x);if(Va(S))return k(b,A,S,x);Ku(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(n(b,A.sibling),A=i(A,S),A.return=b,b=A):(n(b,A),A=Kh(S,b.mode,x),A.return=b,b=A),s(b)):n(b,A)}return N}var _a=C_(!0),L_=C_(!1),Sd=Ro(null),bd=null,Qs=null,ry=null;function iy(){ry=Qs=bd=null}function oy(t){var e=Sd.current;ut(Sd),t._currentValue=e}function o0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function la(t,e){bd=t,ry=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function Ar(t){var e=t._currentValue;if(ry!==t)if(t={context:t,memoizedValue:e,next:null},Qs===null){if(bd===null)throw Error(ee(308));Qs=t,bd.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return e}var Ko=null;function sy(t){Ko===null?Ko=[t]:Ko.push(t)}function B_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sy(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,sy(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}function Tw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ad(t,e,n,r){var i=t.updateQueue;Gi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,f=c=l=null,a=o;do{var w=a.lane,m=a.eventTime;if((r&w)===w){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,k=a;switch(w=e,m=n,k.tag){case 1:if(E=k.payload,typeof E=="function"){g=E.call(m,g,w);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=k.payload,w=typeof E=="function"?E.call(m,g,w):E,w==null)break e;g=vt({},g,w);break e;case 2:Gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[a]:w.push(a))}else m={eventTime:m,lane:w,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,l=g):f=f.next=m,s|=w;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;w=a,a=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(f===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);cs|=s,t.lanes=s,t.memoizedState=g}}function Mw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var fu={},ti=Ro(fu),Vl=Ro(fu),Gl=Ro(fu);function Vo(t){if(t===fu)throw Error(ee(174));return t}function ly(t,e){switch(rt(Gl,e),rt(Vl,t),rt(ti,fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zp(e,t)}ut(ti),rt(ti,e)}function Ea(){ut(ti),ut(Vl),ut(Gl)}function D_(t){Vo(Gl.current);var e=Vo(ti.current),n=zp(e,t.type);e!==n&&(rt(Vl,t),rt(ti,n))}function uy(t){Vl.current===t&&(ut(ti),ut(Vl))}var yt=Ro(0);function Id(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function cy(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var vc=Bi.ReactCurrentDispatcher,jh=Bi.ReactCurrentBatchConfig,us=0,wt=null,nn=null,un=null,Rd=!1,Il=!1,Yl=0,CR=0;function En(){throw Error(ee(321))}function dy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zr(t[n],e[n]))return!1;return!0}function fy(t,e,n,r,i,o){if(us=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vc.current=t===null||t.memoizedState===null?DR:UR,t=n(r,i),Il){o=0;do{if(Il=!1,Yl=0,25<=o)throw Error(ee(301));o+=1,un=nn=null,e.updateQueue=null,vc.current=zR,t=n(r,i)}while(Il)}if(vc.current=kd,e=nn!==null&&nn.next!==null,us=0,un=nn=wt=null,Rd=!1,e)throw Error(ee(300));return t}function hy(){var t=Yl!==0;return Yl=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?wt.memoizedState=un=t:un=un.next=t,un}function Ir(){if(nn===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=un===null?wt.memoizedState:un.next;if(e!==null)un=e,nn=t;else{if(t===null)throw Error(ee(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},un===null?wt.memoizedState=un=t:un=un.next=t}return un}function ql(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=nn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((us&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=g,s=r):l=l.next=g,wt.lanes|=f,cs|=f}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,zr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fh(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);zr(o,e.memoizedState)||(Vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function U_(){}function z_(t,e){var n=wt,r=Ir(),i=e(),o=!zr(r.memoizedState,i);if(o&&(r.memoizedState=i,Vn=!0),r=r.queue,py(F_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,Zl(9,W_.bind(null,n,r,i,e),void 0,null),cn===null)throw Error(ee(349));us&30||j_(n,e,i)}return i}function j_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function W_(t,e,n,r){e.value=n,e.getSnapshot=r,H_(e)&&$_(t)}function F_(t,e,n){return n(function(){H_(e)&&$_(t)})}function H_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zr(t,n)}catch{return!0}}function $_(t){var e=xi(t,1);e!==null&&Dr(e,t,1,-1)}function Nw(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:t},e.queue=t,t=t.dispatch=PR.bind(null,wt,t),[e.memoizedState,t]}function Zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function K_(){return Ir().memoizedState}function _c(t,e,n,r){var i=$r();wt.flags|=t,i.memoizedState=Zl(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var i=Ir();r=r===void 0?null:r;var o=void 0;if(nn!==null){var s=nn.memoizedState;if(o=s.destroy,r!==null&&dy(r,s.deps)){i.memoizedState=Zl(e,n,o,r);return}}wt.flags|=t,i.memoizedState=Zl(1|e,n,o,r)}function xw(t,e){return _c(8390656,8,t,e)}function py(t,e){return df(2048,8,t,e)}function V_(t,e){return df(4,2,t,e)}function G_(t,e){return df(4,4,t,e)}function Y_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q_(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,Y_.bind(null,e,t),n)}function gy(){}function Z_(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Q_(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X_(t,e,n){return us&21?(zr(n,e)||(n=r_(),wt.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function LR(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=jh.transition;jh.transition={};try{t(!1),e()}finally{Ge=n,jh.transition=r}}function J_(){return Ir().memoizedState}function BR(t,e,n){var r=ho(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eE(t))tE(e,n);else if(n=B_(t,e,n,r),n!==null){var i=Pn();Dr(n,t,r,i),nE(n,e,r)}}function PR(t,e,n){var r=ho(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eE(t))tE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,zr(a,s)){var l=e.interleaved;l===null?(i.next=i,sy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=B_(t,e,i,r),n!==null&&(i=Pn(),Dr(n,t,r,i),nE(n,e,r))}}function eE(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function tE(t,e){Il=Rd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}var kd={readContext:Ar,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},DR={readContext:Ar,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:Ar,useEffect:xw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_c(4194308,4,Y_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _c(4194308,4,t,e)},useInsertionEffect:function(t,e){return _c(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BR.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:Nw,useDebugValue:gy,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=Nw(!1),e=t[0];return t=LR.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=$r();if(ft){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),cn===null)throw Error(ee(349));us&30||j_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xw(F_.bind(null,r,o,t),[t]),r.flags|=2048,Zl(9,W_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$r(),e=cn.identifierPrefix;if(ft){var n=Ai,r=bi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UR={readContext:Ar,useCallback:Z_,useContext:Ar,useEffect:py,useImperativeHandle:q_,useInsertionEffect:V_,useLayoutEffect:G_,useMemo:Q_,useReducer:Wh,useRef:K_,useState:function(){return Wh(ql)},useDebugValue:gy,useDeferredValue:function(t){var e=Ir();return X_(e,nn.memoizedState,t)},useTransition:function(){var t=Wh(ql)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:z_,useId:J_,unstable_isNewReconciler:!1},zR={readContext:Ar,useCallback:Z_,useContext:Ar,useEffect:py,useImperativeHandle:q_,useInsertionEffect:V_,useLayoutEffect:G_,useMemo:Q_,useReducer:Fh,useRef:K_,useState:function(){return Fh(ql)},useDebugValue:gy,useDeferredValue:function(t){var e=Ir();return nn===null?e.memoizedState=t:X_(e,nn.memoizedState,t)},useTransition:function(){var t=Fh(ql)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:z_,useId:J_,unstable_isNewReconciler:!1};function Nr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function s0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ff={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=ho(t),o=Ti(r,i);o.payload=e,n!=null&&(o.callback=n),e=co(t,o,i),e!==null&&(Dr(e,t,i,r),wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=ho(t),o=Ti(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=co(t,o,i),e!==null&&(Dr(e,t,i,r),wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=ho(t),i=Ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=co(t,i,r),e!==null&&(Dr(e,t,r,n),wc(e,t,r))}};function Ow(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Fl(n,r)||!Fl(i,o):!0}function rE(t,e,n){var r=!1,i=vo,o=e.contextType;return typeof o=="object"&&o!==null?o=Ar(o):(i=Zn(e)?as:Cn.current,r=e.contextTypes,o=(r=r!=null)?wa(t,i):vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ff,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Cw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ff.enqueueReplaceState(e,e.state,null)}function a0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ay(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ar(o):(o=Zn(e)?as:Cn.current,i.context=wa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(s0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ff.enqueueReplaceState(i,i.state,null),Ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=h2(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function l0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jR=typeof WeakMap=="function"?WeakMap:Map;function iE(t,e,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Md||(Md=!0,w0=r),l0(t,e)},n}function oE(t,e,n){n=Ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){l0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){l0(t,e),typeof r!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Lw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ek.bind(null,t,e,n),e.then(t,t))}function Bw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ti(-1,1),e.tag=2,co(n,e,1))),n.lanes|=1),t)}var WR=Bi.ReactCurrentOwner,Vn=!1;function Ln(t,e,n,r){e.child=t===null?L_(e,null,n,r):_a(e,t.child,n,r)}function Dw(t,e,n,r,i){n=n.render;var o=e.ref;return la(e,i),r=fy(t,e,n,r,o,i),n=hy(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(ft&&n&&ey(e),e.flags|=1,Ln(t,e,r,i),e.child)}function Uw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!by(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sE(t,e,o,r,i)):(t=Ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fl,n(s,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=po(o,r),t.ref=e.ref,t.return=e,e.child=t}function sE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Fl(o,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return u0(t,e,n,r,i)}function aE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Js,nr),nr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(Js,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,rt(Js,nr),nr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,rt(Js,nr),nr|=r;return Ln(t,e,i,n),e.child}function lE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function u0(t,e,n,r,i){var o=Zn(n)?as:Cn.current;return o=wa(e,o),la(e,i),n=fy(t,e,n,r,o,i),r=hy(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(ft&&r&&ey(e),e.flags|=1,Ln(t,e,n,i),e.child)}function zw(t,e,n,r,i){if(Zn(n)){var o=!0;vd(e)}else o=!1;if(la(e,i),e.stateNode===null)Ec(t,e),rE(e,n,r),a0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ar(c):(c=Zn(n)?as:Cn.current,c=wa(e,c));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Cw(e,s,r,c),Gi=!1;var w=e.memoizedState;s.state=w,Ad(e,r,s,i),l=e.memoizedState,a!==r||w!==l||qn.current||Gi?(typeof f=="function"&&(s0(e,n,f,r),l=e.memoizedState),(a=Gi||Ow(e,n,a,r,w,l,c))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,P_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nr(e.type,a),s.props=c,g=e.pendingProps,w=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ar(l):(l=Zn(n)?as:Cn.current,l=wa(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||w!==l)&&Cw(e,s,r,l),Gi=!1,w=e.memoizedState,s.state=w,Ad(e,r,s,i);var E=e.memoizedState;a!==g||w!==E||qn.current||Gi?(typeof m=="function"&&(s0(e,n,m,r),E=e.memoizedState),(c=Gi||Ow(e,n,c,r,w,E,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return c0(t,e,n,r,o,i)}function c0(t,e,n,r,i,o){lE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Aw(e,n,!1),Oi(t,e,o);r=e.stateNode,WR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=_a(e,t.child,null,o),e.child=_a(e,null,a,o)):Ln(t,e,a,o),e.memoizedState=r.state,i&&Aw(e,n,!0),e.child}function uE(t){var e=t.stateNode;e.pendingContext?bw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bw(t,e.context,!1),ly(t,e.containerInfo)}function jw(t,e,n,r,i){return va(),ny(i),e.flags|=256,Ln(t,e,n,r),e.child}var d0={dehydrated:null,treeContext:null,retryLane:0};function f0(t){return{baseLanes:t,cachePool:null,transitions:null}}function cE(t,e,n){var r=e.pendingProps,i=yt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(yt,i&1),t===null)return i0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=gf(s,r,0,null),t=os(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=f0(n),e.memoizedState=d0,t):yy(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=po(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=po(a,o):(o=os(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?f0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=d0,r}return o=t.child,t=o.sibling,r=po(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yy(t,e){return e=gf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vu(t,e,n,r){return r!==null&&ny(r),_a(e,t.child,null,n),t=yy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Hh(Error(ee(422))),Vu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=gf({mode:"visible",children:r.children},i,0,null),o=os(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&_a(e,t.child,null,s),e.child.memoizedState=f0(s),e.memoizedState=d0,o);if(!(e.mode&1))return Vu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=Hh(o,r,void 0),Vu(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vn||a){if(r=cn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xi(t,i),Dr(r,t,i,-1))}return Sy(),r=Hh(Error(ee(421))),Vu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tk.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sr=uo(i.nextSibling),ar=e,ft=!0,Cr=null,t!==null&&(vr[_r++]=bi,vr[_r++]=Ai,vr[_r++]=ls,bi=t.id,Ai=t.overflow,ls=e),e=yy(e,r.children),e.flags|=4096,e)}function Ww(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),o0(t.return,e,n)}function $h(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ln(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ww(t,n,e);else if(t.tag===19)Ww(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Id(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$h(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Id(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$h(e,!0,n,null,o);break;case"together":$h(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HR(t,e,n){switch(e.tag){case 3:uE(e),va();break;case 5:D_(e);break;case 1:Zn(e.type)&&vd(e);break;case 4:ly(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Sd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?cE(t,e,n):(rt(yt,yt.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);rt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,aE(t,e,n)}return Oi(t,e,n)}var fE,h0,hE,pE;fE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h0=function(){};hE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vo(ti.current);var o=null;switch(n){case"input":i=Bp(t,i),r=Bp(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=Up(t,i),r=Up(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=md)}jp(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};pE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xa(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $R(t,e,n){var r=e.pendingProps;switch(ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return Zn(e.type)&&wd(),Sn(e),null;case 3:return r=e.stateNode,Ea(),ut(qn),ut(Cn),cy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($u(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(E0(Cr),Cr=null))),h0(t,e),Sn(e),null;case 5:uy(e);var i=Vo(Gl.current);if(n=e.type,t!==null&&e.stateNode!=null)hE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Sn(e),null}if(t=Vo(ti.current),$u(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Gr]=e,r[Kl]=o,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<al.length;i++)at(al[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":Zm(r,o),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},at("invalid",r);break;case"textarea":Xm(r,o),at("invalid",r)}jp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",""+a]):Bl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&at("scroll",r)}switch(n){case"input":Bu(r),Qm(r,o,!0);break;case"textarea":Bu(r),Jm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=md)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Gr]=e,t[Kl]=r,fE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Wp(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<al.length;i++)at(al[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":Zm(t,r),i=Bp(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),at("invalid",t);break;case"textarea":Xm(t,r),i=Up(t,r),at("invalid",t);break;default:i=r}jp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Kv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pl(t,l):typeof l=="number"&&Pl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&at("scroll",t):l!=null&&jg(t,o,l,s))}switch(n){case"input":Bu(t),Qm(t,r,!1);break;case"textarea":Bu(t),Jm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ia(t,!!r.multiple,o,!1):r.defaultValue!=null&&ia(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)pE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Vo(Gl.current),Vo(ti.current),$u(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gr]=e,(o=r.nodeValue!==n)&&(t=ar,t!==null))switch(t.tag){case 3:Hu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gr]=e,e.stateNode=r}return Sn(e),null;case 13:if(ut(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&sr!==null&&e.mode&1&&!(e.flags&128))O_(),va(),e.flags|=98560,o=!1;else if(o=$u(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Gr]=e}else va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),o=!1}else Cr!==null&&(E0(Cr),Cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?rn===0&&(rn=3):Sy())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return Ea(),h0(t,e),t===null&&Hl(e.stateNode.containerInfo),Sn(e),null;case 10:return oy(e.type._context),Sn(e),null;case 17:return Zn(e.type)&&wd(),Sn(e),null;case 19:if(ut(yt),o=e.memoizedState,o===null)return Sn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Xa(o,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Id(t),s!==null){for(e.flags|=128,Xa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(yt,yt.current&1|2),e.child}t=t.sibling}o.tail!==null&&xt()>ba&&(e.flags|=128,r=!0,Xa(o,!1),e.lanes=4194304)}else{if(!r)if(t=Id(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ft)return Sn(e),null}else 2*xt()-o.renderingStartTime>ba&&n!==1073741824&&(e.flags|=128,r=!0,Xa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=yt.current,rt(yt,r?n&1|2:n&1),e):(Sn(e),null);case 22:case 23:return Ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function KR(t,e){switch(ty(e),e.tag){case 1:return Zn(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ea(),ut(qn),ut(Cn),cy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uy(e),null;case 13:if(ut(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(yt),null;case 4:return Ea(),null;case 10:return oy(e.type._context),null;case 22:case 23:return Ey(),null;case 24:return null;default:return null}}var Gu=!1,On=!1,VR=typeof WeakSet=="function"?WeakSet:Set,de=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function p0(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var Fw=!1;function GR(t,e){if(Qp=pd,t=v_(),Jg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,f=0,g=t,w=null;t:for(;;){for(var m;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(l=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(m=g.firstChild)!==null;)w=g,g=m;for(;;){if(g===t)break t;if(w===n&&++c===i&&(a=s),w===o&&++f===r&&(l=s),(m=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xp={focusedElem:t,selectionRange:n},pd=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var k=E.memoizedProps,N=E.memoizedState,b=e.stateNode,A=b.getSnapshotBeforeUpdate(e.elementType===e.type?k:Nr(e.type,k),N);b.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(x){Tt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return E=Fw,Fw=!1,E}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&p0(e,n,o)}i=i.next}while(i!==r)}}function hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function g0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gE(t){var e=t.alternate;e!==null&&(t.alternate=null,gE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gr],delete e[Kl],delete e[t0],delete e[MR],delete e[NR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yE(t){return t.tag===5||t.tag===3||t.tag===4}function Hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function y0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=md));else if(r!==4&&(t=t.child,t!==null))for(y0(t,e,n),t=t.sibling;t!==null;)y0(t,e,n),t=t.sibling}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}var hn=null,Or=!1;function Di(t,e,n){for(n=n.child;n!==null;)mE(t,e,n),n=n.sibling}function mE(t,e,n){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(of,n)}catch{}switch(n.tag){case 5:On||Xs(n,e);case 6:var r=hn,i=Or;hn=null,Di(t,e,n),hn=r,Or=i,hn!==null&&(Or?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(Or?(t=hn,n=n.stateNode,t.nodeType===8?Dh(t.parentNode,n):t.nodeType===1&&Dh(t,n),jl(t)):Dh(hn,n.stateNode));break;case 4:r=hn,i=Or,hn=n.stateNode.containerInfo,Or=!0,Di(t,e,n),hn=r,Or=i;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&p0(n,e,s),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!On&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,Di(t,e,n),On=r):Di(t,e,n);break;default:Di(t,e,n)}}function $w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VR),e.forEach(function(r){var i=nk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:hn=a.stateNode,Or=!1;break e;case 3:hn=a.stateNode.containerInfo,Or=!0;break e;case 4:hn=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(hn===null)throw Error(ee(160));mE(o,s,i),hn=null,Or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wE(e,t),e=e.sibling}function wE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Fr(t),r&4){try{Rl(3,t,t.return),hf(3,t)}catch(k){Tt(t,t.return,k)}try{Rl(5,t,t.return)}catch(k){Tt(t,t.return,k)}}break;case 1:Tr(e,t),Fr(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(Tr(e,t),Fr(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var i=t.stateNode;try{Pl(i,"")}catch(k){Tt(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&jv(i,o),Wp(a,s);var c=Wp(a,o);for(s=0;s<l.length;s+=2){var f=l[s],g=l[s+1];f==="style"?Kv(i,g):f==="dangerouslySetInnerHTML"?Hv(i,g):f==="children"?Pl(i,g):jg(i,f,g,c)}switch(a){case"input":Pp(i,o);break;case"textarea":Wv(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ia(i,!!o.multiple,m,!1):w!==!!o.multiple&&(o.defaultValue!=null?ia(i,!!o.multiple,o.defaultValue,!0):ia(i,!!o.multiple,o.multiple?[]:"",!1))}i[Kl]=o}catch(k){Tt(t,t.return,k)}}break;case 6:if(Tr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){Tt(t,t.return,k)}}break;case 3:if(Tr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(k){Tt(t,t.return,k)}break;case 4:Tr(e,t),Fr(t);break;case 13:Tr(e,t),Fr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vy=xt())),r&4&&$w(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(On=(c=On)||f,Tr(e,t),On=c):Tr(e,t),Fr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(de=t,f=t.child;f!==null;){for(g=de=f;de!==null;){switch(w=de,m=w.child,w.tag){case 0:case 11:case 14:case 15:Rl(4,w,w.return);break;case 1:Xs(w,w.return);var E=w.stateNode;if(typeof E.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(k){Tt(r,n,k)}}break;case 5:Xs(w,w.return);break;case 22:if(w.memoizedState!==null){Vw(g);continue}}m!==null?(m.return=w,de=m):Vw(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$v("display",s))}catch(k){Tt(t,t.return,k)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(k){Tt(t,t.return,k)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Tr(e,t),Fr(t),r&4&&$w(t);break;case 21:break;default:Tr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yE(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pl(i,""),r.flags&=-33);var o=Hw(t);m0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Hw(t);y0(t,a,s);break;default:throw Error(ee(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YR(t,e,n){de=t,vE(t)}function vE(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Gu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||On;a=Gu;var c=On;if(Gu=s,(On=l)&&!c)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?Gw(i):l!==null?(l.return=s,de=l):Gw(i);for(;o!==null;)de=o,vE(o),o=o.sibling;de=i,Gu=a,On=c}Kw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):Kw(t)}}function Kw(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:On||hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!On)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Mw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&jl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}On||e.flags&512&&g0(e)}catch(w){Tt(e,e.return,w)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Vw(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Gw(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hf(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tt(e,i,l)}}var o=e.return;try{g0(e)}catch(l){Tt(e,o,l)}break;case 5:var s=e.return;try{g0(e)}catch(l){Tt(e,s,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var qR=Math.ceil,Td=Bi.ReactCurrentDispatcher,my=Bi.ReactCurrentOwner,Sr=Bi.ReactCurrentBatchConfig,Ue=0,cn=null,Xt=null,wn=0,nr=0,Js=Ro(0),rn=0,Ql=null,cs=0,pf=0,wy=0,kl=null,Hn=null,vy=0,ba=1/0,pi=null,Md=!1,w0=null,fo=null,Yu=!1,eo=null,Nd=0,Tl=0,v0=null,Sc=-1,bc=0;function Pn(){return Ue&6?xt():Sc!==-1?Sc:Sc=xt()}function ho(t){return t.mode&1?Ue&2&&wn!==0?wn&-wn:OR.transition!==null?(bc===0&&(bc=r_()),bc):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:c_(t.type)),t):1}function Dr(t,e,n,r){if(50<Tl)throw Tl=0,v0=null,Error(ee(185));uu(t,n,r),(!(Ue&2)||t!==cn)&&(t===cn&&(!(Ue&2)&&(pf|=n),rn===4&&Qi(t,wn)),Qn(t,r),n===1&&Ue===0&&!(e.mode&1)&&(ba=xt()+500,cf&&ko()))}function Qn(t,e){var n=t.callbackNode;O2(t,e);var r=hd(t,t===cn?wn:0);if(r===0)n!==null&&nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nw(n),e===1)t.tag===0?xR(Yw.bind(null,t)):M_(Yw.bind(null,t)),kR(function(){!(Ue&6)&&ko()}),n=null;else{switch(i_(r)){case 1:n=Kg;break;case 4:n=t_;break;case 16:n=fd;break;case 536870912:n=n_;break;default:n=fd}n=kE(n,_E.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _E(t,e){if(Sc=-1,bc=0,Ue&6)throw Error(ee(327));var n=t.callbackNode;if(ua()&&t.callbackNode!==n)return null;var r=hd(t,t===cn?wn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xd(t,r);else{e=r;var i=Ue;Ue|=2;var o=SE();(cn!==t||wn!==e)&&(pi=null,ba=xt()+500,is(t,e));do try{XR();break}catch(a){EE(t,a)}while(!0);iy(),Td.current=o,Ue=i,Xt!==null?e=0:(cn=null,wn=0,e=rn)}if(e!==0){if(e===2&&(i=Vp(t),i!==0&&(r=i,e=_0(t,i))),e===1)throw n=Ql,is(t,0),Qi(t,r),Qn(t,xt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZR(i)&&(e=xd(t,r),e===2&&(o=Vp(t),o!==0&&(r=o,e=_0(t,o))),e===1))throw n=Ql,is(t,0),Qi(t,r),Qn(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Lo(t,Hn,pi);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=vy+500-xt(),10<e)){if(hd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=e0(Lo.bind(null,t,Hn,pi),e);break}Lo(t,Hn,pi);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qR(r/1960))-r,10<r){t.timeoutHandle=e0(Lo.bind(null,t,Hn,pi),r);break}Lo(t,Hn,pi);break;case 5:Lo(t,Hn,pi);break;default:throw Error(ee(329))}}}return Qn(t,xt()),t.callbackNode===n?_E.bind(null,t):null}function _0(t,e){var n=kl;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=xd(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&E0(e)),t}function E0(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function ZR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!zr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~wy,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function Yw(t){if(Ue&6)throw Error(ee(327));ua();var e=hd(t,0);if(!(e&1))return Qn(t,xt()),null;var n=xd(t,e);if(t.tag!==0&&n===2){var r=Vp(t);r!==0&&(e=r,n=_0(t,r))}if(n===1)throw n=Ql,is(t,0),Qi(t,e),Qn(t,xt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lo(t,Hn,pi),Qn(t,xt()),null}function _y(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(ba=xt()+500,cf&&ko())}}function ds(t){eo!==null&&eo.tag===0&&!(Ue&6)&&ua();var e=Ue;Ue|=1;var n=Sr.transition,r=Ge;try{if(Sr.transition=null,Ge=1,t)return t()}finally{Ge=r,Sr.transition=n,Ue=e,!(Ue&6)&&ko()}}function Ey(){nr=Js.current,ut(Js)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RR(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:Ea(),ut(qn),ut(Cn),cy();break;case 5:uy(r);break;case 4:Ea();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:oy(r.type._context);break;case 22:case 23:Ey()}n=n.return}if(cn=t,Xt=t=po(t.current,null),wn=nr=e,rn=0,Ql=null,wy=pf=cs=0,Hn=kl=null,Ko!==null){for(e=0;e<Ko.length;e++)if(n=Ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ko=null}return t}function EE(t,e){do{var n=Xt;try{if(iy(),vc.current=kd,Rd){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rd=!1}if(us=0,un=nn=wt=null,Il=!1,Yl=0,my.current=null,n===null||n.return===null){rn=1,Ql=e,Xt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=wn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Bw(s);if(m!==null){m.flags&=-257,Pw(m,s,a,o,e),m.mode&1&&Lw(o,c,e),e=m,l=c;var E=e.updateQueue;if(E===null){var k=new Set;k.add(l),e.updateQueue=k}else E.add(l);break e}else{if(!(e&1)){Lw(o,c,e),Sy();break e}l=Error(ee(426))}}else if(ft&&a.mode&1){var N=Bw(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Pw(N,s,a,o,e),ny(Sa(l,a));break e}}o=l=Sa(l,a),rn!==4&&(rn=2),kl===null?kl=[o]:kl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=iE(o,l,e);Tw(o,b);break e;case 1:a=l;var A=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(fo===null||!fo.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=oE(o,a,e);Tw(o,x);break e}}o=o.return}while(o!==null)}AE(n)}catch(C){e=C,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function SE(){var t=Td.current;return Td.current=kd,t===null?kd:t}function Sy(){(rn===0||rn===3||rn===2)&&(rn=4),cn===null||!(cs&268435455)&&!(pf&268435455)||Qi(cn,wn)}function xd(t,e){var n=Ue;Ue|=2;var r=SE();(cn!==t||wn!==e)&&(pi=null,is(t,e));do try{QR();break}catch(i){EE(t,i)}while(!0);if(iy(),Ue=n,Td.current=r,Xt!==null)throw Error(ee(261));return cn=null,wn=0,rn}function QR(){for(;Xt!==null;)bE(Xt)}function XR(){for(;Xt!==null&&!b2();)bE(Xt)}function bE(t){var e=RE(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?AE(t):Xt=e,my.current=null}function AE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KR(n,e),n!==null){n.flags&=32767,Xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Xt=null;return}}else if(n=$R(n,e,nr),n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);rn===0&&(rn=5)}function Lo(t,e,n){var r=Ge,i=Sr.transition;try{Sr.transition=null,Ge=1,JR(t,e,n,r)}finally{Sr.transition=i,Ge=r}return null}function JR(t,e,n,r){do ua();while(eo!==null);if(Ue&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(C2(t,o),t===cn&&(Xt=cn=null,wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yu||(Yu=!0,kE(fd,function(){return ua(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Sr.transition,Sr.transition=null;var s=Ge;Ge=1;var a=Ue;Ue|=4,my.current=null,GR(t,n),wE(n,t),vR(Xp),pd=!!Qp,Xp=Qp=null,t.current=n,YR(n),A2(),Ue=a,Ge=s,Sr.transition=o}else t.current=n;if(Yu&&(Yu=!1,eo=t,Nd=i),o=t.pendingLanes,o===0&&(fo=null),k2(n.stateNode),Qn(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,t=w0,w0=null,t;return Nd&1&&t.tag!==0&&ua(),o=t.pendingLanes,o&1?t===v0?Tl++:(Tl=0,v0=t):Tl=0,ko(),null}function ua(){if(eo!==null){var t=i_(Nd),e=Sr.transition,n=Ge;try{if(Sr.transition=null,Ge=16>t?16:t,eo===null)var r=!1;else{if(t=eo,eo=null,Nd=0,Ue&6)throw Error(ee(331));var i=Ue;for(Ue|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var f=de;switch(f.tag){case 0:case 11:case 15:Rl(8,f,o)}var g=f.child;if(g!==null)g.return=f,de=g;else for(;de!==null;){f=de;var w=f.sibling,m=f.return;if(gE(f),f===c){de=null;break}if(w!==null){w.return=m,de=w;break}de=m}}}var E=o.alternate;if(E!==null){var k=E.child;if(k!==null){E.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,de=b;break e}de=o.return}}var A=t.current;for(de=A;de!==null;){s=de;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,de=S;else e:for(s=A;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hf(9,a)}}catch(C){Tt(a,a.return,C)}if(a===s){de=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,de=x;break e}de=a.return}}if(Ue=i,ko(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(of,t)}catch{}r=!0}return r}finally{Ge=n,Sr.transition=e}}return!1}function qw(t,e,n){e=Sa(n,e),e=iE(t,e,1),t=co(t,e,1),e=Pn(),t!==null&&(uu(t,1,e),Qn(t,e))}function Tt(t,e,n){if(t.tag===3)qw(t,t,n);else for(;e!==null;){if(e.tag===3){qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fo===null||!fo.has(r))){t=Sa(n,t),t=oE(e,t,1),e=co(e,t,1),t=Pn(),e!==null&&(uu(e,1,t),Qn(e,t));break}}e=e.return}}function ek(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(wn&n)===n&&(rn===4||rn===3&&(wn&130023424)===wn&&500>xt()-vy?is(t,0):wy|=n),Qn(t,e)}function IE(t,e){e===0&&(t.mode&1?(e=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):e=1);var n=Pn();t=xi(t,e),t!==null&&(uu(t,e,n),Qn(t,n))}function tk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IE(t,n)}function nk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),IE(t,n)}var RE;RE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,HR(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,ft&&e.flags&1048576&&N_(e,Ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ec(t,e),t=e.pendingProps;var i=wa(e,Cn.current);la(e,n),i=fy(null,e,r,t,i,n);var o=hy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(o=!0,vd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ay(e),i.updater=ff,e.stateNode=i,i._reactInternals=e,a0(e,r,t,n),e=c0(null,e,r,!0,o,n)):(e.tag=0,ft&&o&&ey(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ik(r),t=Nr(r,t),i){case 0:e=u0(null,e,r,t,n);break e;case 1:e=zw(null,e,r,t,n);break e;case 11:e=Dw(null,e,r,t,n);break e;case 14:e=Uw(null,e,r,Nr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),u0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),zw(t,e,r,i,n);case 3:e:{if(uE(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,P_(t,e),Ad(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Sa(Error(ee(423)),e),e=jw(t,e,r,n,i);break e}else if(r!==i){i=Sa(Error(ee(424)),e),e=jw(t,e,r,n,i);break e}else for(sr=uo(e.stateNode.containerInfo.firstChild),ar=e,ft=!0,Cr=null,n=L_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),r===i){e=Oi(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return D_(e),t===null&&i0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Jp(r,i)?s=null:o!==null&&Jp(r,o)&&(e.flags|=32),lE(t,e),Ln(t,e,s,n),e.child;case 6:return t===null&&i0(e),null;case 13:return cE(t,e,n);case 4:return ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Dw(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,rt(Sd,r._currentValue),r._currentValue=s,o!==null)if(zr(o.value,s)){if(o.children===i.children&&!qn.current){e=Oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ti(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),o0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),o0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,la(e,n),i=Ar(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=Nr(r,e.pendingProps),i=Nr(r.type,i),Uw(t,e,r,i,n);case 15:return sE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Ec(t,e),e.tag=1,Zn(r)?(t=!0,vd(e)):t=!1,la(e,n),rE(e,r,i),a0(e,r,i,n),c0(null,e,r,!0,t,n);case 19:return dE(t,e,n);case 22:return aE(t,e,n)}throw Error(ee(156,e.tag))};function kE(t,e){return e_(t,e)}function rk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new rk(t,e,n,r)}function by(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ik(t){if(typeof t=="function")return by(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fg)return 11;if(t===Hg)return 14}return 2}function po(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ac(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")by(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Hs:return os(n.children,i,o,e);case Wg:s=8,i|=8;break;case xp:return t=Er(12,n,e,i|2),t.elementType=xp,t.lanes=o,t;case Op:return t=Er(13,n,e,i),t.elementType=Op,t.lanes=o,t;case Cp:return t=Er(19,n,e,i),t.elementType=Cp,t.lanes=o,t;case Dv:return gf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bv:s=10;break e;case Pv:s=9;break e;case Fg:s=11;break e;case Hg:s=14;break e;case Vi:s=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Er(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function os(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function gf(t,e,n,r){return t=Er(22,t,r,e),t.elementType=Dv,t.lanes=n,t.stateNode={isHidden:!1},t}function Kh(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function Vh(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ok(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ay(t,e,n,r,i,o,s,a,l){return t=new ok(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Er(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(o),t}function sk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TE(t){if(!t)return vo;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Zn(n))return T_(t,n,e)}return e}function ME(t,e,n,r,i,o,s,a,l){return t=Ay(n,r,!0,t,i,o,s,a,l),t.context=TE(null),n=t.current,r=Pn(),i=ho(n),o=Ti(r,i),o.callback=e??null,co(n,o,i),t.current.lanes=i,uu(t,i,r),Qn(t,r),t}function yf(t,e,n,r){var i=e.current,o=Pn(),s=ho(i);return n=TE(n),e.context===null?e.context=n:e.pendingContext=n,e=Ti(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=co(i,e,s),t!==null&&(Dr(t,i,s,o),wc(t,i,s)),s}function Od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iy(t,e){Zw(t,e),(t=t.alternate)&&Zw(t,e)}function ak(){return null}var NE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ry(t){this._internalRoot=t}mf.prototype.render=Ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));yf(t,e,null,null)};mf.prototype.unmount=Ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){yf(null,t,null,null)}),e[Ni]=null}};function mf(t){this._internalRoot=t}mf.prototype.unstable_scheduleHydration=function(t){if(t){var e=a_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&u_(t)}};function ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qw(){}function lk(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Od(s);o.call(c)}}var s=ME(e,r,t,0,null,!1,!1,"",Qw);return t._reactRootContainer=s,t[Ni]=s.current,Hl(t.nodeType===8?t.parentNode:t),ds(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Od(l);a.call(c)}}var l=Ay(t,0,!1,null,null,!1,!1,"",Qw);return t._reactRootContainer=l,t[Ni]=l.current,Hl(t.nodeType===8?t.parentNode:t),ds(function(){yf(e,l,n,r)}),l}function vf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Od(s);a.call(l)}}yf(e,s,t,i)}else s=lk(n,e,t,i,r);return Od(s)}o_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(Vg(e,n|1),Qn(e,xt()),!(Ue&6)&&(ba=xt()+500,ko()))}break;case 13:ds(function(){var r=xi(t,1);if(r!==null){var i=Pn();Dr(r,t,1,i)}}),Iy(t,1)}};Gg=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=Pn();Dr(e,t,134217728,n)}Iy(t,134217728)}};s_=function(t){if(t.tag===13){var e=ho(t),n=xi(t,e);if(n!==null){var r=Pn();Dr(n,t,e,r)}Iy(t,e)}};a_=function(){return Ge};l_=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Hp=function(t,e,n){switch(e){case"input":if(Pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uf(r);if(!i)throw Error(ee(90));zv(r),Pp(r,i)}}}break;case"textarea":Wv(t,n);break;case"select":e=n.value,e!=null&&ia(t,!!n.multiple,e,!1)}};Yv=_y;qv=ds;var uk={usingClientEntryPoint:!1,Events:[du,Gs,uf,Vv,Gv,_y]},Ja={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ck={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xv(t),t===null?null:t.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{of=qu.inject(ck),ei=qu}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(e))throw Error(ee(200));return sk(t,e,null,n)};dr.createRoot=function(t,e){if(!ky(t))throw Error(ee(299));var n=!1,r="",i=NE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ay(t,1,!1,null,null,n,!1,r,i),t[Ni]=e.current,Hl(t.nodeType===8?t.parentNode:t),new Ry(e)};dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Xv(e),t=t===null?null:t.stateNode,t};dr.flushSync=function(t){return ds(t)};dr.hydrate=function(t,e,n){if(!wf(e))throw Error(ee(200));return vf(null,t,e,!0,n)};dr.hydrateRoot=function(t,e,n){if(!ky(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=NE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=ME(e,null,t,1,n??null,i,!1,o,s),t[Ni]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mf(e)};dr.render=function(t,e,n){if(!wf(e))throw Error(ee(200));return vf(null,t,e,!1,n)};dr.unmountComponentAtNode=function(t){if(!wf(t))throw Error(ee(40));return t._reactRootContainer?(ds(function(){vf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};dr.unstable_batchedUpdates=_y;dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wf(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return vf(t,e,n,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function xE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xE)}catch(t){console.error(t)}}xE(),xv.exports=dr;var OE=xv.exports,Xw=OE;Mp.createRoot=Xw.createRoot,Mp.hydrateRoot=Xw.hydrateRoot;var Ty={exports:{}};const dk={},fk=Object.freeze(Object.defineProperty({__proto__:null,default:dk},Symbol.toStringTag,{value:"Module"})),hk=ms(fk);Ty.exports;(function(t){(function(e,n){function r(_,u){if(!_)throw new Error(u||"Assertion failed")}function i(_,u){_.super_=u;var d=function(){};d.prototype=u.prototype,_.prototype=new d,_.prototype.constructor=_}function o(_,u,d){if(o.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(_||0,u||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=hk.Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,d){return u.cmp(d)>0?u:d},o.min=function(u,d){return u.cmp(d)<0?u:d},o.prototype._init=function(u,d,v){if(typeof u=="number")return this._initNumber(u,d,v);if(typeof u=="object")return this._initArray(u,d,v);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var R=0;u[0]==="-"&&(R++,this.negative=1),R<u.length&&(d===16?this._parseHex(u,R,v):(this._parseBase(u,d,R),v==="le"&&this._initArray(this.toArray(),d,v)))},o.prototype._initNumber=function(u,d,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},o.prototype._initArray=function(u,d,v){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var I,O,B=0;if(v==="be")for(R=u.length-1,I=0;R>=0;R-=3)O=u[R]|u[R-1]<<8|u[R-2]<<16,this.words[I]|=O<<B&67108863,this.words[I+1]=O>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);else if(v==="le")for(R=0,I=0;R<u.length;R+=3)O=u[R]|u[R+1]<<8|u[R+2]<<16,this.words[I]|=O<<B&67108863,this.words[I+1]=O>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);return this._strip()};function a(_,u){var d=_.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+_)}function l(_,u,d){var v=a(_,d);return d-1>=u&&(v|=a(_,d-1)<<4),v}o.prototype._parseHex=function(u,d,v){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var I=0,O=0,B;if(v==="be")for(R=u.length-1;R>=d;R-=2)B=l(u,d,R)<<I,this.words[O]|=B&67108863,I>=18?(I-=18,O+=1,this.words[O]|=B>>>26):I+=8;else{var M=u.length-d;for(R=M%2===0?d+1:d;R<u.length;R+=2)B=l(u,d,R)<<I,this.words[O]|=B&67108863,I>=18?(I-=18,O+=1,this.words[O]|=B>>>26):I+=8}this._strip()};function c(_,u,d,v){for(var R=0,I=0,O=Math.min(_.length,d),B=u;B<O;B++){var M=_.charCodeAt(B)-48;R*=v,M>=49?I=M-49+10:M>=17?I=M-17+10:I=M,r(M>=0&&I<v,"Invalid character"),R+=I}return R}o.prototype._parseBase=function(u,d,v){this.words=[0],this.length=1;for(var R=0,I=1;I<=67108863;I*=d)R++;R--,I=I/d|0;for(var O=u.length-v,B=O%R,M=Math.min(O,O-B)+v,p=0,P=v;P<M;P+=R)p=c(u,P,P+R,d),this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(B!==0){var ie=1;for(p=c(u,P,u.length,d),P=0;P<B;P++)ie*=d;this.imuln(ie),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(_,u){_.words=u.words,_.length=u.length,_.negative=u.negative,_.red=u.red}if(o.prototype._move=function(u){f(u,this)},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,d){u=u||10,d=d|0||1;var v;if(u===16||u==="hex"){v="";for(var R=0,I=0,O=0;O<this.length;O++){var B=this.words[O],M=((B<<R|I)&16777215).toString(16);I=B>>>24-R&16777215,R+=2,R>=26&&(R-=26,O--),I!==0||O!==this.length-1?v=w[6-M.length]+M+v:v=M+v}for(I!==0&&(v=I.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var p=m[u],P=E[u];v="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var ne=ie.modrn(P).toString(u);ie=ie.idivn(P),ie.isZero()?v=ne+v:v=w[p-ne.length]+ne+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),o.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var k=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};o.prototype.toArrayLike=function(u,d,v){this._strip();var R=this.byteLength(),I=v||Math.max(1,R);r(R<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var O=k(u,I),B=d==="le"?"LE":"BE";return this["_toArrayLike"+B](O,R),O},o.prototype._toArrayLikeLE=function(u,d){for(var v=0,R=0,I=0,O=0;I<this.length;I++){var B=this.words[I]<<O|R;u[v++]=B&255,v<u.length&&(u[v++]=B>>8&255),v<u.length&&(u[v++]=B>>16&255),O===6?(v<u.length&&(u[v++]=B>>24&255),R=0,O=0):(R=B>>>24,O+=2)}if(v<u.length)for(u[v++]=R;v<u.length;)u[v++]=0},o.prototype._toArrayLikeBE=function(u,d){for(var v=u.length-1,R=0,I=0,O=0;I<this.length;I++){var B=this.words[I]<<O|R;u[v--]=B&255,v>=0&&(u[v--]=B>>8&255),v>=0&&(u[v--]=B>>16&255),O===6?(v>=0&&(u[v--]=B>>24&255),R=0,O=0):(R=B>>>24,O+=2)}if(v>=0)for(u[v--]=R;v>=0;)u[v--]=0},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var d=u,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},o.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,v=0;return d&8191||(v+=13,d>>>=13),d&127||(v+=7,d>>>=7),d&15||(v+=4,d>>>=4),d&3||(v+=2,d>>>=2),d&1||v++,v},o.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function N(_){for(var u=new Array(_.bitLength()),d=0;d<u.length;d++){var v=d/26|0,R=d%26;u[d]=_.words[v]>>>R&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(u+=v,v!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},o.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=d.length,this._strip()},o.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var d,v;this.length>u.length?(d=this,v=u):(d=u,v=this);for(var R=0;R<v.length;R++)this.words[R]=d.words[R]^v.words[R];if(this!==d)for(;R<d.length;R++)this.words[R]=d.words[R];return this.length=d.length,this._strip()},o.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,v=u%26;this._expand(d),v>0&&d--;for(var R=0;R<d;R++)this.words[R]=~this.words[R]&67108863;return v>0&&(this.words[R]=~this.words[R]&67108863>>26-v),this._strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,d){r(typeof u=="number"&&u>=0);var v=u/26|0,R=u%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<R:this.words[v]=this.words[v]&~(1<<R),this._strip()},o.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var v,R;this.length>u.length?(v=this,R=u):(v=u,R=this);for(var I=0,O=0;O<R.length;O++)d=(v.words[O]|0)+(R.words[O]|0)+I,this.words[O]=d&67108863,I=d>>>26;for(;I!==0&&O<v.length;O++)d=(v.words[O]|0)+I,this.words[O]=d&67108863,I=d>>>26;if(this.length=v.length,I!==0)this.words[this.length]=I,this.length++;else if(v!==this)for(;O<v.length;O++)this.words[O]=v.words[O];return this},o.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,I;v>0?(R=this,I=u):(R=u,I=this);for(var O=0,B=0;B<I.length;B++)d=(R.words[B]|0)-(I.words[B]|0)+O,O=d>>26,this.words[B]=d&67108863;for(;O!==0&&B<R.length;B++)d=(R.words[B]|0)+O,O=d>>26,this.words[B]=d&67108863;if(O===0&&B<R.length&&R!==this)for(;B<R.length;B++)this.words[B]=R.words[B];return this.length=Math.max(this.length,B),R!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function b(_,u,d){d.negative=u.negative^_.negative;var v=_.length+u.length|0;d.length=v,v=v-1|0;var R=_.words[0]|0,I=u.words[0]|0,O=R*I,B=O&67108863,M=O/67108864|0;d.words[0]=B;for(var p=1;p<v;p++){for(var P=M>>>26,ie=M&67108863,ne=Math.min(p,u.length-1),se=Math.max(0,p-_.length+1);se<=ne;se++){var Ae=p-se|0;R=_.words[Ae]|0,I=u.words[se]|0,O=R*I+ie,P+=O/67108864|0,ie=O&67108863}d.words[p]=ie|0,M=P|0}return M!==0?d.words[p]=M|0:d.length--,d._strip()}var A=function(u,d,v){var R=u.words,I=d.words,O=v.words,B=0,M,p,P,ie=R[0]|0,ne=ie&8191,se=ie>>>13,Ae=R[1]|0,Ee=Ae&8191,we=Ae>>>13,Et=R[2]|0,Qe=Et&8191,Xe=Et>>>13,yr=R[3]|0,Je=yr&8191,St=yr>>>13,xu=R[4]|0,ct=xu&8191,bt=xu>>>13,Ou=R[5]|0,pt=Ou&8191,ot=Ou>>>13,Jn=R[6]|0,dt=Jn&8191,At=Jn>>>13,kr=R[7]|0,It=kr&8191,T=kr>>>13,h=R[8]|0,y=h&8191,L=h>>>13,F=R[9]|0,K=F&8191,q=F>>>13,ke=I[0]|0,Ie=ke&8191,Se=ke>>>13,st=I[1]|0,_e=st&8191,Ot=st>>>13,Pm=I[2]|0,Ct=Pm&8191,Lt=Pm>>>13,Dm=I[3]|0,Bt=Dm&8191,Pt=Dm>>>13,Um=I[4]|0,Dt=Um&8191,Ut=Um>>>13,zm=I[5]|0,zt=zm&8191,jt=zm>>>13,jm=I[6]|0,Wt=jm&8191,Ft=jm>>>13,Wm=I[7]|0,Ht=Wm&8191,$t=Wm>>>13,Fm=I[8]|0,Kt=Fm&8191,Vt=Fm>>>13,Hm=I[9]|0,Gt=Hm&8191,Yt=Hm>>>13;v.negative=u.negative^d.negative,v.length=19,M=Math.imul(ne,Ie),p=Math.imul(ne,Se),p=p+Math.imul(se,Ie)|0,P=Math.imul(se,Se);var th=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(th>>>26)|0,th&=67108863,M=Math.imul(Ee,Ie),p=Math.imul(Ee,Se),p=p+Math.imul(we,Ie)|0,P=Math.imul(we,Se),M=M+Math.imul(ne,_e)|0,p=p+Math.imul(ne,Ot)|0,p=p+Math.imul(se,_e)|0,P=P+Math.imul(se,Ot)|0;var nh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(nh>>>26)|0,nh&=67108863,M=Math.imul(Qe,Ie),p=Math.imul(Qe,Se),p=p+Math.imul(Xe,Ie)|0,P=Math.imul(Xe,Se),M=M+Math.imul(Ee,_e)|0,p=p+Math.imul(Ee,Ot)|0,p=p+Math.imul(we,_e)|0,P=P+Math.imul(we,Ot)|0,M=M+Math.imul(ne,Ct)|0,p=p+Math.imul(ne,Lt)|0,p=p+Math.imul(se,Ct)|0,P=P+Math.imul(se,Lt)|0;var rh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(rh>>>26)|0,rh&=67108863,M=Math.imul(Je,Ie),p=Math.imul(Je,Se),p=p+Math.imul(St,Ie)|0,P=Math.imul(St,Se),M=M+Math.imul(Qe,_e)|0,p=p+Math.imul(Qe,Ot)|0,p=p+Math.imul(Xe,_e)|0,P=P+Math.imul(Xe,Ot)|0,M=M+Math.imul(Ee,Ct)|0,p=p+Math.imul(Ee,Lt)|0,p=p+Math.imul(we,Ct)|0,P=P+Math.imul(we,Lt)|0,M=M+Math.imul(ne,Bt)|0,p=p+Math.imul(ne,Pt)|0,p=p+Math.imul(se,Bt)|0,P=P+Math.imul(se,Pt)|0;var ih=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(ih>>>26)|0,ih&=67108863,M=Math.imul(ct,Ie),p=Math.imul(ct,Se),p=p+Math.imul(bt,Ie)|0,P=Math.imul(bt,Se),M=M+Math.imul(Je,_e)|0,p=p+Math.imul(Je,Ot)|0,p=p+Math.imul(St,_e)|0,P=P+Math.imul(St,Ot)|0,M=M+Math.imul(Qe,Ct)|0,p=p+Math.imul(Qe,Lt)|0,p=p+Math.imul(Xe,Ct)|0,P=P+Math.imul(Xe,Lt)|0,M=M+Math.imul(Ee,Bt)|0,p=p+Math.imul(Ee,Pt)|0,p=p+Math.imul(we,Bt)|0,P=P+Math.imul(we,Pt)|0,M=M+Math.imul(ne,Dt)|0,p=p+Math.imul(ne,Ut)|0,p=p+Math.imul(se,Dt)|0,P=P+Math.imul(se,Ut)|0;var oh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(oh>>>26)|0,oh&=67108863,M=Math.imul(pt,Ie),p=Math.imul(pt,Se),p=p+Math.imul(ot,Ie)|0,P=Math.imul(ot,Se),M=M+Math.imul(ct,_e)|0,p=p+Math.imul(ct,Ot)|0,p=p+Math.imul(bt,_e)|0,P=P+Math.imul(bt,Ot)|0,M=M+Math.imul(Je,Ct)|0,p=p+Math.imul(Je,Lt)|0,p=p+Math.imul(St,Ct)|0,P=P+Math.imul(St,Lt)|0,M=M+Math.imul(Qe,Bt)|0,p=p+Math.imul(Qe,Pt)|0,p=p+Math.imul(Xe,Bt)|0,P=P+Math.imul(Xe,Pt)|0,M=M+Math.imul(Ee,Dt)|0,p=p+Math.imul(Ee,Ut)|0,p=p+Math.imul(we,Dt)|0,P=P+Math.imul(we,Ut)|0,M=M+Math.imul(ne,zt)|0,p=p+Math.imul(ne,jt)|0,p=p+Math.imul(se,zt)|0,P=P+Math.imul(se,jt)|0;var sh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(sh>>>26)|0,sh&=67108863,M=Math.imul(dt,Ie),p=Math.imul(dt,Se),p=p+Math.imul(At,Ie)|0,P=Math.imul(At,Se),M=M+Math.imul(pt,_e)|0,p=p+Math.imul(pt,Ot)|0,p=p+Math.imul(ot,_e)|0,P=P+Math.imul(ot,Ot)|0,M=M+Math.imul(ct,Ct)|0,p=p+Math.imul(ct,Lt)|0,p=p+Math.imul(bt,Ct)|0,P=P+Math.imul(bt,Lt)|0,M=M+Math.imul(Je,Bt)|0,p=p+Math.imul(Je,Pt)|0,p=p+Math.imul(St,Bt)|0,P=P+Math.imul(St,Pt)|0,M=M+Math.imul(Qe,Dt)|0,p=p+Math.imul(Qe,Ut)|0,p=p+Math.imul(Xe,Dt)|0,P=P+Math.imul(Xe,Ut)|0,M=M+Math.imul(Ee,zt)|0,p=p+Math.imul(Ee,jt)|0,p=p+Math.imul(we,zt)|0,P=P+Math.imul(we,jt)|0,M=M+Math.imul(ne,Wt)|0,p=p+Math.imul(ne,Ft)|0,p=p+Math.imul(se,Wt)|0,P=P+Math.imul(se,Ft)|0;var ah=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(ah>>>26)|0,ah&=67108863,M=Math.imul(It,Ie),p=Math.imul(It,Se),p=p+Math.imul(T,Ie)|0,P=Math.imul(T,Se),M=M+Math.imul(dt,_e)|0,p=p+Math.imul(dt,Ot)|0,p=p+Math.imul(At,_e)|0,P=P+Math.imul(At,Ot)|0,M=M+Math.imul(pt,Ct)|0,p=p+Math.imul(pt,Lt)|0,p=p+Math.imul(ot,Ct)|0,P=P+Math.imul(ot,Lt)|0,M=M+Math.imul(ct,Bt)|0,p=p+Math.imul(ct,Pt)|0,p=p+Math.imul(bt,Bt)|0,P=P+Math.imul(bt,Pt)|0,M=M+Math.imul(Je,Dt)|0,p=p+Math.imul(Je,Ut)|0,p=p+Math.imul(St,Dt)|0,P=P+Math.imul(St,Ut)|0,M=M+Math.imul(Qe,zt)|0,p=p+Math.imul(Qe,jt)|0,p=p+Math.imul(Xe,zt)|0,P=P+Math.imul(Xe,jt)|0,M=M+Math.imul(Ee,Wt)|0,p=p+Math.imul(Ee,Ft)|0,p=p+Math.imul(we,Wt)|0,P=P+Math.imul(we,Ft)|0,M=M+Math.imul(ne,Ht)|0,p=p+Math.imul(ne,$t)|0,p=p+Math.imul(se,Ht)|0,P=P+Math.imul(se,$t)|0;var lh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(lh>>>26)|0,lh&=67108863,M=Math.imul(y,Ie),p=Math.imul(y,Se),p=p+Math.imul(L,Ie)|0,P=Math.imul(L,Se),M=M+Math.imul(It,_e)|0,p=p+Math.imul(It,Ot)|0,p=p+Math.imul(T,_e)|0,P=P+Math.imul(T,Ot)|0,M=M+Math.imul(dt,Ct)|0,p=p+Math.imul(dt,Lt)|0,p=p+Math.imul(At,Ct)|0,P=P+Math.imul(At,Lt)|0,M=M+Math.imul(pt,Bt)|0,p=p+Math.imul(pt,Pt)|0,p=p+Math.imul(ot,Bt)|0,P=P+Math.imul(ot,Pt)|0,M=M+Math.imul(ct,Dt)|0,p=p+Math.imul(ct,Ut)|0,p=p+Math.imul(bt,Dt)|0,P=P+Math.imul(bt,Ut)|0,M=M+Math.imul(Je,zt)|0,p=p+Math.imul(Je,jt)|0,p=p+Math.imul(St,zt)|0,P=P+Math.imul(St,jt)|0,M=M+Math.imul(Qe,Wt)|0,p=p+Math.imul(Qe,Ft)|0,p=p+Math.imul(Xe,Wt)|0,P=P+Math.imul(Xe,Ft)|0,M=M+Math.imul(Ee,Ht)|0,p=p+Math.imul(Ee,$t)|0,p=p+Math.imul(we,Ht)|0,P=P+Math.imul(we,$t)|0,M=M+Math.imul(ne,Kt)|0,p=p+Math.imul(ne,Vt)|0,p=p+Math.imul(se,Kt)|0,P=P+Math.imul(se,Vt)|0;var uh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(uh>>>26)|0,uh&=67108863,M=Math.imul(K,Ie),p=Math.imul(K,Se),p=p+Math.imul(q,Ie)|0,P=Math.imul(q,Se),M=M+Math.imul(y,_e)|0,p=p+Math.imul(y,Ot)|0,p=p+Math.imul(L,_e)|0,P=P+Math.imul(L,Ot)|0,M=M+Math.imul(It,Ct)|0,p=p+Math.imul(It,Lt)|0,p=p+Math.imul(T,Ct)|0,P=P+Math.imul(T,Lt)|0,M=M+Math.imul(dt,Bt)|0,p=p+Math.imul(dt,Pt)|0,p=p+Math.imul(At,Bt)|0,P=P+Math.imul(At,Pt)|0,M=M+Math.imul(pt,Dt)|0,p=p+Math.imul(pt,Ut)|0,p=p+Math.imul(ot,Dt)|0,P=P+Math.imul(ot,Ut)|0,M=M+Math.imul(ct,zt)|0,p=p+Math.imul(ct,jt)|0,p=p+Math.imul(bt,zt)|0,P=P+Math.imul(bt,jt)|0,M=M+Math.imul(Je,Wt)|0,p=p+Math.imul(Je,Ft)|0,p=p+Math.imul(St,Wt)|0,P=P+Math.imul(St,Ft)|0,M=M+Math.imul(Qe,Ht)|0,p=p+Math.imul(Qe,$t)|0,p=p+Math.imul(Xe,Ht)|0,P=P+Math.imul(Xe,$t)|0,M=M+Math.imul(Ee,Kt)|0,p=p+Math.imul(Ee,Vt)|0,p=p+Math.imul(we,Kt)|0,P=P+Math.imul(we,Vt)|0,M=M+Math.imul(ne,Gt)|0,p=p+Math.imul(ne,Yt)|0,p=p+Math.imul(se,Gt)|0,P=P+Math.imul(se,Yt)|0;var ch=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(ch>>>26)|0,ch&=67108863,M=Math.imul(K,_e),p=Math.imul(K,Ot),p=p+Math.imul(q,_e)|0,P=Math.imul(q,Ot),M=M+Math.imul(y,Ct)|0,p=p+Math.imul(y,Lt)|0,p=p+Math.imul(L,Ct)|0,P=P+Math.imul(L,Lt)|0,M=M+Math.imul(It,Bt)|0,p=p+Math.imul(It,Pt)|0,p=p+Math.imul(T,Bt)|0,P=P+Math.imul(T,Pt)|0,M=M+Math.imul(dt,Dt)|0,p=p+Math.imul(dt,Ut)|0,p=p+Math.imul(At,Dt)|0,P=P+Math.imul(At,Ut)|0,M=M+Math.imul(pt,zt)|0,p=p+Math.imul(pt,jt)|0,p=p+Math.imul(ot,zt)|0,P=P+Math.imul(ot,jt)|0,M=M+Math.imul(ct,Wt)|0,p=p+Math.imul(ct,Ft)|0,p=p+Math.imul(bt,Wt)|0,P=P+Math.imul(bt,Ft)|0,M=M+Math.imul(Je,Ht)|0,p=p+Math.imul(Je,$t)|0,p=p+Math.imul(St,Ht)|0,P=P+Math.imul(St,$t)|0,M=M+Math.imul(Qe,Kt)|0,p=p+Math.imul(Qe,Vt)|0,p=p+Math.imul(Xe,Kt)|0,P=P+Math.imul(Xe,Vt)|0,M=M+Math.imul(Ee,Gt)|0,p=p+Math.imul(Ee,Yt)|0,p=p+Math.imul(we,Gt)|0,P=P+Math.imul(we,Yt)|0;var dh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(dh>>>26)|0,dh&=67108863,M=Math.imul(K,Ct),p=Math.imul(K,Lt),p=p+Math.imul(q,Ct)|0,P=Math.imul(q,Lt),M=M+Math.imul(y,Bt)|0,p=p+Math.imul(y,Pt)|0,p=p+Math.imul(L,Bt)|0,P=P+Math.imul(L,Pt)|0,M=M+Math.imul(It,Dt)|0,p=p+Math.imul(It,Ut)|0,p=p+Math.imul(T,Dt)|0,P=P+Math.imul(T,Ut)|0,M=M+Math.imul(dt,zt)|0,p=p+Math.imul(dt,jt)|0,p=p+Math.imul(At,zt)|0,P=P+Math.imul(At,jt)|0,M=M+Math.imul(pt,Wt)|0,p=p+Math.imul(pt,Ft)|0,p=p+Math.imul(ot,Wt)|0,P=P+Math.imul(ot,Ft)|0,M=M+Math.imul(ct,Ht)|0,p=p+Math.imul(ct,$t)|0,p=p+Math.imul(bt,Ht)|0,P=P+Math.imul(bt,$t)|0,M=M+Math.imul(Je,Kt)|0,p=p+Math.imul(Je,Vt)|0,p=p+Math.imul(St,Kt)|0,P=P+Math.imul(St,Vt)|0,M=M+Math.imul(Qe,Gt)|0,p=p+Math.imul(Qe,Yt)|0,p=p+Math.imul(Xe,Gt)|0,P=P+Math.imul(Xe,Yt)|0;var fh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(fh>>>26)|0,fh&=67108863,M=Math.imul(K,Bt),p=Math.imul(K,Pt),p=p+Math.imul(q,Bt)|0,P=Math.imul(q,Pt),M=M+Math.imul(y,Dt)|0,p=p+Math.imul(y,Ut)|0,p=p+Math.imul(L,Dt)|0,P=P+Math.imul(L,Ut)|0,M=M+Math.imul(It,zt)|0,p=p+Math.imul(It,jt)|0,p=p+Math.imul(T,zt)|0,P=P+Math.imul(T,jt)|0,M=M+Math.imul(dt,Wt)|0,p=p+Math.imul(dt,Ft)|0,p=p+Math.imul(At,Wt)|0,P=P+Math.imul(At,Ft)|0,M=M+Math.imul(pt,Ht)|0,p=p+Math.imul(pt,$t)|0,p=p+Math.imul(ot,Ht)|0,P=P+Math.imul(ot,$t)|0,M=M+Math.imul(ct,Kt)|0,p=p+Math.imul(ct,Vt)|0,p=p+Math.imul(bt,Kt)|0,P=P+Math.imul(bt,Vt)|0,M=M+Math.imul(Je,Gt)|0,p=p+Math.imul(Je,Yt)|0,p=p+Math.imul(St,Gt)|0,P=P+Math.imul(St,Yt)|0;var hh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(hh>>>26)|0,hh&=67108863,M=Math.imul(K,Dt),p=Math.imul(K,Ut),p=p+Math.imul(q,Dt)|0,P=Math.imul(q,Ut),M=M+Math.imul(y,zt)|0,p=p+Math.imul(y,jt)|0,p=p+Math.imul(L,zt)|0,P=P+Math.imul(L,jt)|0,M=M+Math.imul(It,Wt)|0,p=p+Math.imul(It,Ft)|0,p=p+Math.imul(T,Wt)|0,P=P+Math.imul(T,Ft)|0,M=M+Math.imul(dt,Ht)|0,p=p+Math.imul(dt,$t)|0,p=p+Math.imul(At,Ht)|0,P=P+Math.imul(At,$t)|0,M=M+Math.imul(pt,Kt)|0,p=p+Math.imul(pt,Vt)|0,p=p+Math.imul(ot,Kt)|0,P=P+Math.imul(ot,Vt)|0,M=M+Math.imul(ct,Gt)|0,p=p+Math.imul(ct,Yt)|0,p=p+Math.imul(bt,Gt)|0,P=P+Math.imul(bt,Yt)|0;var ph=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(ph>>>26)|0,ph&=67108863,M=Math.imul(K,zt),p=Math.imul(K,jt),p=p+Math.imul(q,zt)|0,P=Math.imul(q,jt),M=M+Math.imul(y,Wt)|0,p=p+Math.imul(y,Ft)|0,p=p+Math.imul(L,Wt)|0,P=P+Math.imul(L,Ft)|0,M=M+Math.imul(It,Ht)|0,p=p+Math.imul(It,$t)|0,p=p+Math.imul(T,Ht)|0,P=P+Math.imul(T,$t)|0,M=M+Math.imul(dt,Kt)|0,p=p+Math.imul(dt,Vt)|0,p=p+Math.imul(At,Kt)|0,P=P+Math.imul(At,Vt)|0,M=M+Math.imul(pt,Gt)|0,p=p+Math.imul(pt,Yt)|0,p=p+Math.imul(ot,Gt)|0,P=P+Math.imul(ot,Yt)|0;var gh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(gh>>>26)|0,gh&=67108863,M=Math.imul(K,Wt),p=Math.imul(K,Ft),p=p+Math.imul(q,Wt)|0,P=Math.imul(q,Ft),M=M+Math.imul(y,Ht)|0,p=p+Math.imul(y,$t)|0,p=p+Math.imul(L,Ht)|0,P=P+Math.imul(L,$t)|0,M=M+Math.imul(It,Kt)|0,p=p+Math.imul(It,Vt)|0,p=p+Math.imul(T,Kt)|0,P=P+Math.imul(T,Vt)|0,M=M+Math.imul(dt,Gt)|0,p=p+Math.imul(dt,Yt)|0,p=p+Math.imul(At,Gt)|0,P=P+Math.imul(At,Yt)|0;var yh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(yh>>>26)|0,yh&=67108863,M=Math.imul(K,Ht),p=Math.imul(K,$t),p=p+Math.imul(q,Ht)|0,P=Math.imul(q,$t),M=M+Math.imul(y,Kt)|0,p=p+Math.imul(y,Vt)|0,p=p+Math.imul(L,Kt)|0,P=P+Math.imul(L,Vt)|0,M=M+Math.imul(It,Gt)|0,p=p+Math.imul(It,Yt)|0,p=p+Math.imul(T,Gt)|0,P=P+Math.imul(T,Yt)|0;var mh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(mh>>>26)|0,mh&=67108863,M=Math.imul(K,Kt),p=Math.imul(K,Vt),p=p+Math.imul(q,Kt)|0,P=Math.imul(q,Vt),M=M+Math.imul(y,Gt)|0,p=p+Math.imul(y,Yt)|0,p=p+Math.imul(L,Gt)|0,P=P+Math.imul(L,Yt)|0;var wh=(B+M|0)+((p&8191)<<13)|0;B=(P+(p>>>13)|0)+(wh>>>26)|0,wh&=67108863,M=Math.imul(K,Gt),p=Math.imul(K,Yt),p=p+Math.imul(q,Gt)|0,P=Math.imul(q,Yt);var vh=(B+M|0)+((p&8191)<<13)|0;return B=(P+(p>>>13)|0)+(vh>>>26)|0,vh&=67108863,O[0]=th,O[1]=nh,O[2]=rh,O[3]=ih,O[4]=oh,O[5]=sh,O[6]=ah,O[7]=lh,O[8]=uh,O[9]=ch,O[10]=dh,O[11]=fh,O[12]=hh,O[13]=ph,O[14]=gh,O[15]=yh,O[16]=mh,O[17]=wh,O[18]=vh,B!==0&&(O[19]=B,v.length++),v};Math.imul||(A=b);function S(_,u,d){d.negative=u.negative^_.negative,d.length=_.length+u.length;for(var v=0,R=0,I=0;I<d.length-1;I++){var O=R;R=0;for(var B=v&67108863,M=Math.min(I,u.length-1),p=Math.max(0,I-_.length+1);p<=M;p++){var P=I-p,ie=_.words[P]|0,ne=u.words[p]|0,se=ie*ne,Ae=se&67108863;O=O+(se/67108864|0)|0,Ae=Ae+B|0,B=Ae&67108863,O=O+(Ae>>>26)|0,R+=O>>>26,O&=67108863}d.words[I]=B,v=O,O=R}return v!==0?d.words[I]=v:d.length--,d._strip()}function x(_,u,d){return S(_,u,d)}o.prototype.mulTo=function(u,d){var v,R=this.length+u.length;return this.length===10&&u.length===10?v=A(this,u,d):R<63?v=b(this,u,d):R<1024?v=S(this,u,d):v=x(this,u,d),v},o.prototype.mul=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},o.prototype.mulf=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),x(this,u,d)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){var d=u<0;d&&(u=-u),r(typeof u=="number"),r(u<67108864);for(var v=0,R=0;R<this.length;R++){var I=(this.words[R]|0)*u,O=(I&67108863)+(v&67108863);v>>=26,v+=I/67108864|0,v+=O>>>26,this.words[R]=O&67108863}return v!==0&&(this.words[R]=v,this.length++),this.length=u===0?1:this.length,d?this.ineg():this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var d=N(u);if(d.length===0)return new o(1);for(var v=this,R=0;R<d.length&&d[R]===0;R++,v=v.sqr());if(++R<d.length)for(var I=v.sqr();R<d.length;R++,I=I.sqr())d[R]!==0&&(v=v.mul(I));return v},o.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,R=67108863>>>26-d<<26-d,I;if(d!==0){var O=0;for(I=0;I<this.length;I++){var B=this.words[I]&R,M=(this.words[I]|0)-B<<d;this.words[I]=M|O,O=B>>>26-d}O&&(this.words[I]=O,this.length++)}if(v!==0){for(I=this.length-1;I>=0;I--)this.words[I+v]=this.words[I];for(I=0;I<v;I++)this.words[I]=0;this.length+=v}return this._strip()},o.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,d,v){r(typeof u=="number"&&u>=0);var R;d?R=(d-d%26)/26:R=0;var I=u%26,O=Math.min((u-I)/26,this.length),B=67108863^67108863>>>I<<I,M=v;if(R-=O,R=Math.max(0,R),M){for(var p=0;p<O;p++)M.words[p]=this.words[p];M.length=O}if(O!==0)if(this.length>O)for(this.length-=O,p=0;p<this.length;p++)this.words[p]=this.words[p+O];else this.words[0]=0,this.length=1;var P=0;for(p=this.length-1;p>=0&&(P!==0||p>=R);p--){var ie=this.words[p]|0;this.words[p]=P<<26-I|ie>>>I,P=ie&B}return M&&P!==0&&(M.words[M.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(u,d,v){return r(this.negative===0),this.iushrn(u,d,v)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,R=1<<d;if(this.length<=v)return!1;var I=this.words[v];return!!(I&R)},o.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var R=67108863^67108863>>>d<<d;this.words[this.length-1]&=R}return this._strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,d,v){var R=u.length+v,I;this._expand(R);var O,B=0;for(I=0;I<u.length;I++){O=(this.words[I+v]|0)+B;var M=(u.words[I]|0)*d;O-=M&67108863,B=(O>>26)-(M/67108864|0),this.words[I+v]=O&67108863}for(;I<this.length-v;I++)O=(this.words[I+v]|0)+B,B=O>>26,this.words[I+v]=O&67108863;if(B===0)return this._strip();for(r(B===-1),B=0,I=0;I<this.length;I++)O=-(this.words[I]|0)+B,B=O>>26,this.words[I]=O&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(u,d){var v=this.length-u.length,R=this.clone(),I=u,O=I.words[I.length-1]|0,B=this._countBits(O);v=26-B,v!==0&&(I=I.ushln(v),R.iushln(v),O=I.words[I.length-1]|0);var M=R.length-I.length,p;if(d!=="mod"){p=new o(null),p.length=M+1,p.words=new Array(p.length);for(var P=0;P<p.length;P++)p.words[P]=0}var ie=R.clone()._ishlnsubmul(I,1,M);ie.negative===0&&(R=ie,p&&(p.words[M]=1));for(var ne=M-1;ne>=0;ne--){var se=(R.words[I.length+ne]|0)*67108864+(R.words[I.length+ne-1]|0);for(se=Math.min(se/O|0,67108863),R._ishlnsubmul(I,se,ne);R.negative!==0;)se--,R.negative=0,R._ishlnsubmul(I,1,ne),R.isZero()||(R.negative^=1);p&&(p.words[ne]=se)}return p&&p._strip(),R._strip(),d!=="div"&&v!==0&&R.iushrn(v),{div:p||null,mod:R}},o.prototype.divmod=function(u,d,v){if(r(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var R,I,O;return this.negative!==0&&u.negative===0?(O=this.neg().divmod(u,d),d!=="mod"&&(R=O.div.neg()),d!=="div"&&(I=O.mod.neg(),v&&I.negative!==0&&I.iadd(u)),{div:R,mod:I}):this.negative===0&&u.negative!==0?(O=this.divmod(u.neg(),d),d!=="mod"&&(R=O.div.neg()),{div:R,mod:O.mod}):this.negative&u.negative?(O=this.neg().divmod(u.neg(),d),d!=="div"&&(I=O.mod.neg(),v&&I.negative!==0&&I.isub(u)),{div:O.div,mod:I}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modrn(u.words[0]))}:this._wordDiv(u,d)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(u):d.mod,R=u.ushrn(1),I=u.andln(1),O=v.cmp(R);return O<0||I===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modrn=function(u){var d=u<0;d&&(u=-u),r(u<=67108863);for(var v=(1<<26)%u,R=0,I=this.length-1;I>=0;I--)R=(v*R+(this.words[I]|0))%u;return d?-R:R},o.prototype.modn=function(u){return this.modrn(u)},o.prototype.idivn=function(u){var d=u<0;d&&(u=-u),r(u<=67108863);for(var v=0,R=this.length-1;R>=0;R--){var I=(this.words[R]|0)+v*67108864;this.words[R]=I/u|0,v=I%u}return this._strip(),d?this.ineg():this},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var R=new o(1),I=new o(0),O=new o(0),B=new o(1),M=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++M;for(var p=v.clone(),P=d.clone();!d.isZero();){for(var ie=0,ne=1;!(d.words[0]&ne)&&ie<26;++ie,ne<<=1);if(ie>0)for(d.iushrn(ie);ie-- >0;)(R.isOdd()||I.isOdd())&&(R.iadd(p),I.isub(P)),R.iushrn(1),I.iushrn(1);for(var se=0,Ae=1;!(v.words[0]&Ae)&&se<26;++se,Ae<<=1);if(se>0)for(v.iushrn(se);se-- >0;)(O.isOdd()||B.isOdd())&&(O.iadd(p),B.isub(P)),O.iushrn(1),B.iushrn(1);d.cmp(v)>=0?(d.isub(v),R.isub(O),I.isub(B)):(v.isub(d),O.isub(R),B.isub(I))}return{a:O,b:B,gcd:v.iushln(M)}},o.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var R=new o(1),I=new o(0),O=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var B=0,M=1;!(d.words[0]&M)&&B<26;++B,M<<=1);if(B>0)for(d.iushrn(B);B-- >0;)R.isOdd()&&R.iadd(O),R.iushrn(1);for(var p=0,P=1;!(v.words[0]&P)&&p<26;++p,P<<=1);if(p>0)for(v.iushrn(p);p-- >0;)I.isOdd()&&I.iadd(O),I.iushrn(1);d.cmp(v)>=0?(d.isub(v),R.isub(I)):(v.isub(d),I.isub(R))}var ie;return d.cmpn(1)===0?ie=R:ie=I,ie.cmpn(0)<0&&ie.iadd(u),ie},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),v=u.clone();d.negative=0,v.negative=0;for(var R=0;d.isEven()&&v.isEven();R++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var I=d.cmp(v);if(I<0){var O=d;d=v,v=O}else if(I===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(R)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){r(typeof u=="number");var d=u%26,v=(u-d)/26,R=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=R,this;for(var I=R,O=v;I!==0&&O<this.length;O++){var B=this.words[O]|0;B+=I,I=B>>>26,B&=67108863,this.words[O]=B}return I!==0&&(this.words[O]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(u=-u),r(u<=67108863,"Number is too big");var R=this.words[0]|0;v=R===u?0:R<u?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var R=this.words[v]|0,I=u.words[v]|0;if(R!==I){R<I?d=-1:R>I&&(d=1);break}}return d},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new Z(u)},o.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var C={k256:null,p224:null,p192:null,p25519:null};function D(_,u){this.name=_,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},D.prototype.ireduce=function(u){var d=u,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var R=v<this.n?-1:d.ucmp(this.p);return R===0?(d.words[0]=0,d.length=1):R>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},D.prototype.split=function(u,d){u.iushrn(this.n,0,d)},D.prototype.imulK=function(u){return u.imul(this.k)};function U(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,D),U.prototype.split=function(u,d){for(var v=4194303,R=Math.min(u.length,9),I=0;I<R;I++)d.words[I]=u.words[I];if(d.length=R,u.length<=9){u.words[0]=0,u.length=1;return}var O=u.words[9];for(d.words[d.length++]=O&v,I=10;I<u.length;I++){var B=u.words[I]|0;u.words[I-10]=(B&v)<<4|O>>>22,O=B}O>>>=22,u.words[I-10]=O,O===0&&u.length>10?u.length-=10:u.length-=9},U.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,v=0;v<u.length;v++){var R=u.words[v]|0;d+=R*977,u.words[v]=d&67108863,d=R*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,D);function W(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,D);function $(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,D),$.prototype.imulK=function(u){for(var d=0,v=0;v<u.length;v++){var R=(u.words[v]|0)*19+d,I=R&67108863;R>>>=26,u.words[v]=I,d=R}return d!==0&&(u.words[u.length++]=d),u},o._prime=function(u){if(C[u])return C[u];var d;if(u==="k256")d=new U;else if(u==="p224")d=new z;else if(u==="p192")d=new W;else if(u==="p25519")d=new $;else throw new Error("Unknown prime "+u);return C[u]=d,d};function Z(_){if(typeof _=="string"){var u=o._prime(_);this.m=u.p,this.prime=u}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}Z.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},Z.prototype._verify2=function(u,d){r((u.negative|d.negative)===0,"red works only with positives"),r(u.red&&u.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},Z.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Z.prototype.add=function(u,d){this._verify2(u,d);var v=u.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},Z.prototype.iadd=function(u,d){this._verify2(u,d);var v=u.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},Z.prototype.sub=function(u,d){this._verify2(u,d);var v=u.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},Z.prototype.isub=function(u,d){this._verify2(u,d);var v=u.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},Z.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},Z.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},Z.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},Z.prototype.isqr=function(u){return this.imul(u,u.clone())},Z.prototype.sqr=function(u){return this.mul(u,u)},Z.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(u,v)}for(var R=this.m.subn(1),I=0;!R.isZero()&&R.andln(1)===0;)I++,R.iushrn(1);r(!R.isZero());var O=new o(1).toRed(this),B=O.redNeg(),M=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,M).cmp(B)!==0;)p.redIAdd(B);for(var P=this.pow(p,R),ie=this.pow(u,R.addn(1).iushrn(1)),ne=this.pow(u,R),se=I;ne.cmp(O)!==0;){for(var Ae=ne,Ee=0;Ae.cmp(O)!==0;Ee++)Ae=Ae.redSqr();r(Ee<se);var we=this.pow(P,new o(1).iushln(se-Ee-1));ie=ie.redMul(we),P=we.redSqr(),ne=ne.redMul(P),se=Ee}return ie},Z.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(u,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var v=4,R=new Array(1<<v);R[0]=new o(1).toRed(this),R[1]=u;for(var I=2;I<R.length;I++)R[I]=this.mul(R[I-1],u);var O=R[0],B=0,M=0,p=d.bitLength()%26;for(p===0&&(p=26),I=d.length-1;I>=0;I--){for(var P=d.words[I],ie=p-1;ie>=0;ie--){var ne=P>>ie&1;if(O!==R[0]&&(O=this.sqr(O)),ne===0&&B===0){M=0;continue}B<<=1,B|=ne,M++,!(M!==v&&(I!==0||ie!==0))&&(O=this.mul(O,R[B]),M=0,B=0)}p=26}return O},Z.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},Z.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},o.mont=function(u){return new j(u)};function j(_){Z.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(j,Z),j.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},j.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},j.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(d),R=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(R).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},j.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new o(0)._forceRed(this);var v=u.mul(d),R=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(R).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},j.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,yn)})(Ty);var My=Ty.exports;const wi=ys(My),Ts=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Xl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ci(t,...e){if(!hu(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function CE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Xl(t.outputLen),Xl(t.blockLen)}function Aa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LE(t,e){Ci(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pk(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function _o(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Gh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hr(t,e){return t<<32-e|t>>>e}const gk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yk(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function mk(t){for(let e=0;e<t.length;e++)t[e]=yk(t[e]);return t}const Jw=gk?t=>t:mk,BE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ss(t){if(Ci(t),BE)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=wk[t[n]];return e}const ci={_0:48,_9:57,A:65,F:70,a:97,f:102};function e1(t){if(t>=ci._0&&t<=ci._9)return t-ci._0;if(t>=ci.A&&t<=ci.F)return t-(ci.A-10);if(t>=ci.a&&t<=ci.f)return t-(ci.a-10)}function Cd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(BE)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=e1(t.charCodeAt(o)),a=e1(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function vk(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _f(t){return typeof t=="string"&&(t=vk(t)),Ci(t),t}function Yr(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ci(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class Ny{}function xy(t){const e=r=>t().update(_f(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Oy(t=32){if(Ts&&typeof Ts.getRandomValues=="function")return Ts.getRandomValues(new Uint8Array(t));if(Ts&&typeof Ts.randomBytes=="function")return Uint8Array.from(Ts.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function _k(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function Ek(t,e,n){return t&e^~t&n}function Sk(t,e,n){return t&e^t&n^e&n}class PE extends Ny{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Gh(this.buffer)}update(e){Aa(this),e=_f(e),Ci(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Gh(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Aa(this),LE(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,_o(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let g=s;g<i;g++)n[g]=0;_k(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Gh(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,f[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ui=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Zu=BigInt(2**32-1),t1=BigInt(32);function bk(t,e=!1){return e?{h:Number(t&Zu),l:Number(t>>t1&Zu)}:{h:Number(t>>t1&Zu)|0,l:Number(t&Zu)|0}}function DE(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=bk(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const n1=(t,e,n)=>t>>>n,r1=(t,e,n)=>t<<32-n|e>>>n,Ms=(t,e,n)=>t>>>n|e<<32-n,Ns=(t,e,n)=>t<<32-n|e>>>n,Qu=(t,e,n)=>t<<64-n|e>>>n-32,Xu=(t,e,n)=>t>>>n-32|e<<64-n,Ak=(t,e,n)=>t<<n|e>>>32-n,Ik=(t,e,n)=>e<<n|t>>>32-n,Rk=(t,e,n)=>e<<n-32|t>>>64-n,kk=(t,e,n)=>t<<n-32|e>>>64-n;function di(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Tk=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Mk=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Nk=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),xk=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ok=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Ck=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Lk=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zi=new Uint32Array(64);class Bk extends PE{constructor(e=32){super(64,e,8,!1),this.A=Ui[0]|0,this.B=Ui[1]|0,this.C=Ui[2]|0,this.D=Ui[3]|0,this.E=Ui[4]|0,this.F=Ui[5]|0,this.G=Ui[6]|0,this.H=Ui[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)zi[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const w=zi[g-15],m=zi[g-2],E=Hr(w,7)^Hr(w,18)^w>>>3,k=Hr(m,17)^Hr(m,19)^m>>>10;zi[g]=k+zi[g-7]+E+zi[g-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:f}=this;for(let g=0;g<64;g++){const w=Hr(a,6)^Hr(a,11)^Hr(a,25),m=f+w+Ek(a,l,c)+Lk[g]+zi[g]|0,k=(Hr(r,2)^Hr(r,13)^Hr(r,22))+Sk(r,i,o)|0;f=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+k|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(r,i,o,s,a,l,c,f)}roundClean(){_o(zi)}destroy(){this.set(0,0,0,0,0,0,0,0),_o(this.buffer)}}const UE=DE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Pk=UE[0],Dk=UE[1],ji=new Uint32Array(80),Wi=new Uint32Array(80);class Uk extends PE{constructor(e=64){super(128,e,16,!1),this.Ah=bn[0]|0,this.Al=bn[1]|0,this.Bh=bn[2]|0,this.Bl=bn[3]|0,this.Ch=bn[4]|0,this.Cl=bn[5]|0,this.Dh=bn[6]|0,this.Dl=bn[7]|0,this.Eh=bn[8]|0,this.El=bn[9]|0,this.Fh=bn[10]|0,this.Fl=bn[11]|0,this.Gh=bn[12]|0,this.Gl=bn[13]|0,this.Hh=bn[14]|0,this.Hl=bn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:f,Fh:g,Fl:w,Gh:m,Gl:E,Hh:k,Hl:N}=this;return[e,n,r,i,o,s,a,l,c,f,g,w,m,E,k,N]}set(e,n,r,i,o,s,a,l,c,f,g,w,m,E,k,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=f|0,this.Fh=g|0,this.Fl=w|0,this.Gh=m|0,this.Gl=E|0,this.Hh=k|0,this.Hl=N|0}process(e,n){for(let S=0;S<16;S++,n+=4)ji[S]=e.getUint32(n),Wi[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const x=ji[S-15]|0,C=Wi[S-15]|0,D=Ms(x,C,1)^Ms(x,C,8)^n1(x,C,7),U=Ns(x,C,1)^Ns(x,C,8)^r1(x,C,7),z=ji[S-2]|0,W=Wi[S-2]|0,$=Ms(z,W,19)^Qu(z,W,61)^n1(z,W,6),Z=Ns(z,W,19)^Xu(z,W,61)^r1(z,W,6),j=Nk(U,Z,Wi[S-7],Wi[S-16]),_=xk(j,D,$,ji[S-7],ji[S-16]);ji[S]=_|0,Wi[S]=j|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:f,Eh:g,El:w,Fh:m,Fl:E,Gh:k,Gl:N,Hh:b,Hl:A}=this;for(let S=0;S<80;S++){const x=Ms(g,w,14)^Ms(g,w,18)^Qu(g,w,41),C=Ns(g,w,14)^Ns(g,w,18)^Xu(g,w,41),D=g&m^~g&k,U=w&E^~w&N,z=Ok(A,C,U,Dk[S],Wi[S]),W=Ck(z,b,x,D,Pk[S],ji[S]),$=z|0,Z=Ms(r,i,28)^Qu(r,i,34)^Qu(r,i,39),j=Ns(r,i,28)^Xu(r,i,34)^Xu(r,i,39),_=r&o^r&a^o&a,u=i&s^i&l^s&l;b=k|0,A=N|0,k=m|0,N=E|0,m=g|0,E=w|0,{h:g,l:w}=di(c|0,f|0,W|0,$|0),c=a|0,f=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const d=Tk($,j,u);r=Mk(d,W,Z,_),i=d|0}({h:r,l:i}=di(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=di(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=di(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:f}=di(this.Dh|0,this.Dl|0,c|0,f|0),{h:g,l:w}=di(this.Eh|0,this.El|0,g|0,w|0),{h:m,l:E}=di(this.Fh|0,this.Fl|0,m|0,E|0),{h:k,l:N}=di(this.Gh|0,this.Gl|0,k|0,N|0),{h:b,l:A}=di(this.Hh|0,this.Hl|0,b|0,A|0),this.set(r,i,o,s,a,l,c,f,g,w,m,E,k,N,b,A)}roundClean(){_o(ji,Wi)}destroy(){_o(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zE=xy(()=>new Bk),zk=xy(()=>new Uk);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cy=BigInt(0),S0=BigInt(1);function fs(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Lr(t,e,n=""){const r=hu(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function Ju(t){const e=t.toString(16);return e.length&1?"0"+e:e}function jE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Cy:BigInt("0x"+t)}function Ef(t){return jE(ss(t))}function Jl(t){return Ci(t),jE(ss(Uint8Array.from(t).reverse()))}function Ly(t,e){return Cd(t.toString(16).padStart(e*2,"0"))}function WE(t,e){return Ly(t,e).reverse()}function kt(t,e,n){let r;if(typeof e=="string")try{r=Cd(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(hu(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function i1(t){return Uint8Array.from(t)}const Yh=t=>typeof t=="bigint"&&Cy<=t;function jk(t,e,n){return Yh(t)&&Yh(e)&&Yh(n)&&e<=t&&t<n}function b0(t,e,n,r){if(!jk(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function FE(t){let e;for(e=0;t>Cy;t>>=S0,e+=1);return e}const pu=t=>(S0<<BigInt(t))-S0;function Wk(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...m)=>n(s,o,...m),f=(m=r(0))=>{s=c(i(0),m),o=c(),m.length!==0&&(s=c(i(1),m),o=c())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const E=[];for(;m<e;){o=c();const k=o.slice();E.push(k),m+=o.length}return Yr(...E)};return(m,E)=>{l(),f(m);let k;for(;!(k=E(g()));)f();return l(),k}}function gu(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function Ld(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gn=BigInt(0),vn=BigInt(1),Go=BigInt(2),HE=BigInt(3),$E=BigInt(4),KE=BigInt(5),Fk=BigInt(7),VE=BigInt(8),Hk=BigInt(9),GE=BigInt(16);function Zt(t,e){const n=t%e;return n>=Gn?n:e+n}function Rt(t,e,n){let r=t;for(;e-- >Gn;)r*=r,r%=n;return r}function o1(t,e){if(t===Gn)throw new Error("invert: expected non-zero number");if(e<=Gn)throw new Error("invert: expected positive modulus, got "+e);let n=Zt(t,e),r=e,i=Gn,o=vn;for(;n!==Gn;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==vn)throw new Error("invert: does not exist");return Zt(i,e)}function By(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function YE(t,e){const n=(t.ORDER+vn)/$E,r=t.pow(e,n);return By(t,r,e),r}function $k(t,e){const n=(t.ORDER-KE)/VE,r=t.mul(e,Go),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,Go),i),a=t.mul(o,t.sub(s,t.ONE));return By(t,a,e),a}function Kk(t){const e=_s(t),n=qE(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+Fk)/GE;return(a,l)=>{let c=a.pow(l,s),f=a.mul(c,r);const g=a.mul(c,i),w=a.mul(c,o),m=a.eql(a.sqr(f),l),E=a.eql(a.sqr(g),l);c=a.cmov(c,f,m),f=a.cmov(w,g,E);const k=a.eql(a.sqr(f),l),N=a.cmov(c,f,k);return By(a,N,l),N}}function qE(t){if(t<HE)throw new Error("sqrt is not defined for small field");let e=t-vn,n=0;for(;e%Go===Gn;)e/=Go,n++;let r=Go;const i=_s(t);for(;s1(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return YE;let o=i.pow(r,e);const s=(e+vn)/Go;return function(l,c){if(l.is0(c))return c;if(s1(l,c)!==1)throw new Error("Cannot find square root");let f=n,g=l.mul(l.ONE,o),w=l.pow(c,e),m=l.pow(c,s);for(;!l.eql(w,l.ONE);){if(l.is0(w))return l.ZERO;let E=1,k=l.sqr(w);for(;!l.eql(k,l.ONE);)if(E++,k=l.sqr(k),E===f)throw new Error("Cannot find square root");const N=vn<<BigInt(f-E-1),b=l.pow(g,N);f=E,g=l.sqr(b),w=l.mul(w,g),m=l.mul(m,b)}return m}}function Vk(t){return t%$E===HE?YE:t%VE===KE?$k:t%GE===Hk?Kk(t):qE(t)}const Gk=(t,e)=>(Zt(t,e)&vn)===vn,Yk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qk(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Yk.reduce((r,i)=>(r[i]="function",r),e);return gu(t,n),t}function Zk(t,e,n){if(n<Gn)throw new Error("invalid exponent, negatives unsupported");if(n===Gn)return t.ONE;if(n===vn)return e;let r=t.ONE,i=e;for(;n>Gn;)n&vn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=vn;return r}function ZE(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function s1(t,e){const n=(t.ORDER-vn)/Go,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function QE(t,e){e!==void 0&&Xl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _s(t,e,n=!1,r={}){if(t<=Gn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const w=e;w.BITS&&(i=w.BITS),w.sqrt&&(o=w.sqrt),typeof w.isLE=="boolean"&&(n=w.isLE),typeof w.modFromBytes=="boolean"&&(s=w.modFromBytes),a=w.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=QE(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:pu(l),ZERO:Gn,ONE:vn,allowedLengths:a,create:w=>Zt(w,t),isValid:w=>{if(typeof w!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof w);return Gn<=w&&w<t},is0:w=>w===Gn,isValidNot0:w=>!g.is0(w)&&g.isValid(w),isOdd:w=>(w&vn)===vn,neg:w=>Zt(-w,t),eql:(w,m)=>w===m,sqr:w=>Zt(w*w,t),add:(w,m)=>Zt(w+m,t),sub:(w,m)=>Zt(w-m,t),mul:(w,m)=>Zt(w*m,t),pow:(w,m)=>Zk(g,w,m),div:(w,m)=>Zt(w*o1(m,t),t),sqrN:w=>w*w,addN:(w,m)=>w+m,subN:(w,m)=>w-m,mulN:(w,m)=>w*m,inv:w=>o1(w,t),sqrt:o||(w=>(f||(f=Vk(t)),f(g,w))),toBytes:w=>n?WE(w,c):Ly(w,c),fromBytes:(w,m=!0)=>{if(a){if(!a.includes(w.length)||w.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+w.length);const k=new Uint8Array(c);k.set(w,n?0:k.length-w.length),w=k}if(w.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+w.length);let E=n?Jl(w):Ef(w);if(s&&(E=Zt(E,t)),!m&&!g.isValid(E))throw new Error("invalid field element: outside of range 0..ORDER");return E},invertBatch:w=>ZE(g,w),cmov:(w,m,E)=>E?m:w});return Object.freeze(g)}function XE(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function JE(t){const e=XE(t);return e+Math.ceil(e/2)}function Qk(t,e,n=!1){const r=t.length,i=XE(e),o=JE(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Jl(t):Ef(t),a=Zt(s,e-vn)+vn;return n?WE(a,i):Ly(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ia=BigInt(0),Yo=BigInt(1);function Bd(t,e){const n=e.negate();return t?n:e}function qo(t,e){const n=ZE(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function eS(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function qh(t,e){eS(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=pu(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function a1(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=Yo);const c=e*r,f=c+Math.abs(a)-1,g=a===0,w=a<0,m=e%2!==0;return{nextN:l,offset:f,isZero:g,isNeg:w,isNegF:m,offsetF:c}}function Xk(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Jk(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Zh=new WeakMap,tS=new WeakMap;function Qh(t){return tS.get(t)||1}function l1(t){if(t!==Ia)throw new Error("invalid wNAF")}class nS{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Ia;)n&Yo&&(r=r.add(i)),i=i.double(),n>>=Yo;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=qh(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=qh(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:f,isNeg:g,isNegF:w,offsetF:m}=a1(r,a,s);r=l,f?o=o.add(Bd(w,n[m])):i=i.add(Bd(g,n[c]))}return l1(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=qh(e,this.bits);for(let s=0;s<o.windows&&r!==Ia;s++){const{nextN:a,offset:l,isZero:c,isNeg:f}=a1(r,s,o);if(r=a,!c){const g=n[l];i=i.add(f?g.negate():g)}}return l1(r),i}getPrecomputes(e,n,r){let i=Zh.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Zh.set(n,i))),i}cached(e,n,r){const i=Qh(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=Qh(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){eS(n,this.bits),tS.set(e,n),Zh.delete(e)}hasCache(e){return Qh(e)!==1}}function eT(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>Ia||r>Ia;)n&Yo&&(o=o.add(i)),r&Yo&&(s=s.add(i)),i=i.double(),n>>=Yo,r>>=Yo;return{p1:o,p2:s}}function rS(t,e,n,r){Xk(n,t),Jk(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=FE(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=pu(l),f=new Array(Number(c)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let w=s;for(let m=g;m>=0;m-=l){f.fill(s);for(let k=0;k<o;k++){const N=r[k],b=Number(N>>BigInt(m)&c);f[b]=f[b].add(n[k])}let E=s;for(let k=f.length-1,N=s;k>0;k--)N=N.add(f[k]),E=E.add(N);if(w=w.add(E),m!==0)for(let k=0;k<l;k++)w=w.double()}return w}function u1(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return qk(e),e}else return _s(t,{isLE:n})}function iS(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Ia))throw new Error(`CURVE.${l} must be positive bigint`)}const i=u1(e.p,n.Fp,r),o=u1(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fi=BigInt(0),an=BigInt(1),Xh=BigInt(2),tT=BigInt(8);function nT(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function rT(t,e={}){const n=iS("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;gu(e,{},{uvRatio:"function"});const a=Xh<<BigInt(i.BYTES*8)-an,l=N=>r.create(N),c=e.uvRatio||((N,b)=>{try{return{isValid:!0,value:r.sqrt(r.div(N,b))}}catch{return{isValid:!1,value:Fi}}});if(!nT(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function f(N,b,A=!1){const S=A?an:Fi;return b0("coordinate "+N,b,S,a),b}function g(N){if(!(N instanceof E))throw new Error("ExtendedPoint expected")}const w=Ld((N,b)=>{const{X:A,Y:S,Z:x}=N,C=N.is0();b==null&&(b=C?tT:r.inv(x));const D=l(A*b),U=l(S*b),z=r.mul(x,b);if(C)return{x:Fi,y:an};if(z!==an)throw new Error("invZ was invalid");return{x:D,y:U}}),m=Ld(N=>{const{a:b,d:A}=o;if(N.is0())throw new Error("bad point: ZERO");const{X:S,Y:x,Z:C,T:D}=N,U=l(S*S),z=l(x*x),W=l(C*C),$=l(W*W),Z=l(U*b),j=l(W*l(Z+z)),_=l($+l(A*l(U*z)));if(j!==_)throw new Error("bad point: equation left != right (1)");const u=l(S*x),d=l(C*D);if(u!==d)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(b,A,S,x){this.X=f("x",b),this.Y=f("y",A),this.Z=f("z",S,!0),this.T=f("t",x),Object.freeze(this)}static CURVE(){return o}static fromAffine(b){if(b instanceof E)throw new Error("extended point not allowed");const{x:A,y:S}=b||{};return f("x",A),f("y",S),new E(A,S,an,l(A*S))}static fromBytes(b,A=!1){const S=r.BYTES,{a:x,d:C}=o;b=i1(Lr(b,S,"point")),fs(A,"zip215");const D=i1(b),U=b[S-1];D[S-1]=U&-129;const z=Jl(D),W=A?a:r.ORDER;b0("point.y",z,Fi,W);const $=l(z*z),Z=l($-an),j=l(C*$-x);let{isValid:_,value:u}=c(Z,j);if(!_)throw new Error("bad point: invalid y coordinate");const d=(u&an)===an,v=(U&128)!==0;if(!A&&u===Fi&&v)throw new Error("bad point: x=0 and x_0=1");return v!==d&&(u=l(-u)),E.fromAffine({x:u,y:z})}static fromHex(b,A=!1){return E.fromBytes(kt("point",b),A)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,A=!0){return k.createCache(this,b),A||this.multiply(Xh),this}assertValidity(){m(this)}equals(b){g(b);const{X:A,Y:S,Z:x}=this,{X:C,Y:D,Z:U}=b,z=l(A*U),W=l(C*x),$=l(S*U),Z=l(D*x);return z===W&&$===Z}is0(){return this.equals(E.ZERO)}negate(){return new E(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:b}=o,{X:A,Y:S,Z:x}=this,C=l(A*A),D=l(S*S),U=l(Xh*l(x*x)),z=l(b*C),W=A+S,$=l(l(W*W)-C-D),Z=z+D,j=Z-U,_=z-D,u=l($*j),d=l(Z*_),v=l($*_),R=l(j*Z);return new E(u,d,R,v)}add(b){g(b);const{a:A,d:S}=o,{X:x,Y:C,Z:D,T:U}=this,{X:z,Y:W,Z:$,T:Z}=b,j=l(x*z),_=l(C*W),u=l(U*S*Z),d=l(D*$),v=l((x+C)*(z+W)-j-_),R=d-u,I=d+u,O=l(_-A*j),B=l(v*R),M=l(I*O),p=l(v*O),P=l(R*I);return new E(B,M,P,p)}subtract(b){return this.add(b.negate())}multiply(b){if(!i.isValidNot0(b))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:A,f:S}=k.cached(this,b,x=>qo(E,x));return qo(E,[A,S])[0]}multiplyUnsafe(b,A=E.ZERO){if(!i.isValid(b))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return b===Fi?E.ZERO:this.is0()||b===an?this:k.unsafe(this,b,S=>qo(E,S),A)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return k.unsafe(this,o.n).is0()}toAffine(b){return w(this,b)}clearCofactor(){return s===an?this:this.multiplyUnsafe(s)}toBytes(){const{x:b,y:A}=this.toAffine(),S=r.toBytes(A);return S[S.length-1]|=b&an?128:0,S}toHex(){return ss(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(b){return qo(E,b)}static msm(b,A){return rS(E,i,b,A)}_setWindowSize(b){this.precompute(b)}toRawBytes(){return this.toBytes()}}E.BASE=new E(o.Gx,o.Gy,an,l(o.Gx*o.Gy)),E.ZERO=new E(Fi,an,an,Fi),E.Fp=r,E.Fn=i;const k=new nS(E,i.BITS);return E.BASE.precompute(8),E}function iT(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');gu(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||Oy,l=n.adjustScalarBytes||(W=>W),c=n.domain||((W,$,Z)=>{if(fs(Z,"phflag"),$.length||Z)throw new Error("Contexts/pre-hash are not supported");return W});function f(W){return s.create(Jl(W))}function g(W){const $=S.secretKey;W=kt("private key",W,$);const Z=kt("hashed private key",e(W),2*$),j=l(Z.slice(0,$)),_=Z.slice($,2*$),u=f(j);return{head:j,prefix:_,scalar:u}}function w(W){const{head:$,prefix:Z,scalar:j}=g(W),_=i.multiply(j),u=_.toBytes();return{head:$,prefix:Z,scalar:j,point:_,pointBytes:u}}function m(W){return w(W).pointBytes}function E(W=Uint8Array.of(),...$){const Z=Yr(...$);return f(e(c(Z,kt("context",W),!!r)))}function k(W,$,Z={}){W=kt("message",W),r&&(W=r(W));const{prefix:j,scalar:_,pointBytes:u}=w($),d=E(Z.context,j,W),v=i.multiply(d).toBytes(),R=E(Z.context,v,u,W),I=s.create(d+R*_);if(!s.isValid(I))throw new Error("sign failed: invalid s");const O=Yr(v,s.toBytes(I));return Lr(O,S.signature,"result")}const N={zip215:!0};function b(W,$,Z,j=N){const{context:_,zip215:u}=j,d=S.signature;W=kt("signature",W,d),$=kt("message",$),Z=kt("publicKey",Z,S.publicKey),u!==void 0&&fs(u,"zip215"),r&&($=r($));const v=d/2,R=W.subarray(0,v),I=Jl(W.subarray(v,d));let O,B,M;try{O=t.fromBytes(Z,u),B=t.fromBytes(R,u),M=i.multiplyUnsafe(I)}catch{return!1}if(!u&&O.isSmallOrder())return!1;const p=E(_,B.toBytes(),O.toBytes(),$);return B.add(O.multiplyUnsafe(p)).subtract(M).clearCofactor().is0()}const A=o.BYTES,S={secretKey:A,publicKey:A,signature:2*A,seed:A};function x(W=a(S.seed)){return Lr(W,S.seed,"seed")}function C(W){const $=z.randomSecretKey(W);return{secretKey:$,publicKey:m($)}}function D(W){return hu(W)&&W.length===s.BYTES}function U(W,$){try{return!!t.fromBytes(W,$)}catch{return!1}}const z={getExtendedPublicKey:w,randomSecretKey:x,isValidSecretKey:D,isValidPublicKey:U,toMontgomery(W){const{y:$}=t.fromBytes(W),Z=S.publicKey,j=Z===32;if(!j&&Z!==57)throw new Error("only defined for 25519 and 448");const _=j?o.div(an+$,an-$):o.div($-an,$+an);return o.toBytes(_)},toMontgomerySecret(W){const $=S.secretKey;Lr(W,$);const Z=e(W.subarray(0,$));return l(Z).subarray(0,$)},randomPrivateKey:x,precompute(W=8,$=t.BASE){return $.precompute(W,!1)}};return Object.freeze({keygen:C,getPublicKey:m,sign:k,verify:b,utils:z,Point:t,lengths:S})}function oT(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=_s(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function sT(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function aT(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=oT(t),o=rT(e,n),s=iT(o,r,i);return sT(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lT=BigInt(1),c1=BigInt(2);BigInt(3);const uT=BigInt(5),cT=BigInt(8),Py=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),oS={p:Py,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:cT,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function dT(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Py,a=t*t%o*t%o,l=Rt(a,c1,o)*a%o,c=Rt(l,lT,o)*t%o,f=Rt(c,uT,o)*c%o,g=Rt(f,e,o)*f%o,w=Rt(g,n,o)*g%o,m=Rt(w,r,o)*w%o,E=Rt(m,i,o)*m%o,k=Rt(E,i,o)*m%o,N=Rt(k,e,o)*f%o;return{pow_p_5_8:Rt(N,c1,o)*t%o,b2:a}}function fT(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const d1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function hT(t,e){const n=Py,r=Zt(e*e*e,n),i=Zt(r*r*e,n),o=dT(t*i).pow_p_5_8;let s=Zt(t*r*o,n);const a=Zt(e*s*s,n),l=s,c=Zt(s*d1,n),f=a===t,g=a===Zt(-t,n),w=a===Zt(-t*d1,n);return f&&(s=l),(g||w)&&(s=c),Gk(s,n)&&(s=Zt(-s,n)),{isValid:f||g,value:s}}const pT=_s(oS.p,{isLE:!0}),gT={...oS,Fp:pT,hash:zk,adjustScalarBytes:fT,uvRatio:hT},Da=aT(gT);var A0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ue,r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(A0,A0.exports);var yT=A0.exports,ec=yT.Buffer;function mT(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=ec.from(m)),!ec.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var E=0,k=0,N=0,b=m.length;N!==b&&m[N]===0;)N++,E++;for(var A=(b-N)*c+1>>>0,S=new Uint8Array(A);N!==b;){for(var x=m[N],C=0,D=A-1;(x!==0||C<k)&&D!==-1;D--,C++)x+=256*S[D]>>>0,S[D]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");k=C,N++}for(var U=A-k;U!==A&&S[U]===0;)U++;for(var z=a.repeat(E);U<A;++U)z+=t.charAt(S[U]);return z}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return ec.alloc(0);for(var E=0,k=0,N=0;m[E]===a;)k++,E++;for(var b=(m.length-E)*l+1>>>0,A=new Uint8Array(b);E<m.length;){var S=m.charCodeAt(E);if(S>255)return;var x=e[S];if(x===255)return;for(var C=0,D=b-1;(x!==0||C<N)&&D!==-1;D--,C++)x+=s*A[D]>>>0,A[D]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");N=C,E++}for(var U=b-N;U!==b&&A[U]===0;)U++;var z=ec.allocUnsafe(k+(b-U));z.fill(0,0,k);for(var W=k;U!==b;)z[W++]=A[U++];return z}function w(m){var E=g(m);if(E)return E;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var wT=mT,vT=wT,_T="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",sS=vT(_T);const Mt=ys(sS),Pd=zE;var gn={};function vi(t,e,n){return e<=t&&t<=n}function Sf(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function ET(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function ST(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Dd=-1;function Dy(t){this.tokens=[].slice.call(t)}Dy.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Dd},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Ra=-1;function Jh(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ud="utf-8";function zd(t,e){if(!(this instanceof zd))return new zd(t,e);if(t=t!==void 0?String(t).toLowerCase():Ud,t!==Ud)throw new Error("Encoding not supported. Only utf-8 is supported");e=Sf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}zd.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Sf(n),this._streaming||(this._decoder=new bT({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Dy(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Ra);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Ra)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),ST(o)}};function jd(t,e){if(!(this instanceof jd))return new jd(t,e);if(t=t!==void 0?String(t).toLowerCase():Ud,t!==Ud)throw new Error("Encoding not supported. Only utf-8 is supported");e=Sf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}jd.prototype={encode:function(e,n){e=e?String(e):"",n=Sf(n),this._streaming||(this._encoder=new AT(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Dy(ET(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Ra);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Ra;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function bT(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===Dd&&i!==0)return i=0,Jh(e);if(l===Dd)return Ra;if(i===0){if(vi(l,0,127))return l;if(vi(l,194,223))i=1,n=l-192;else if(vi(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(vi(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return Jh(e);return n=n<<6*i,null}if(!vi(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),Jh(e);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function AT(t){t.fatal,this.handler=function(e,n){if(n===Dd)return Ra;if(vi(n,0,127))return n;var r,i;vi(n,128,2047)?(r=1,i=192):vi(n,2048,65535)?(r=2,i=224):vi(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const IT=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:zd,TextEncoder:jd},Symbol.toStringTag,{value:"Module"})),RT=ms(IT);var kT=yn&&yn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),TT=yn&&yn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ii=yn&&yn.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},MT=yn&&yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&kT(e,t,n);return TT(e,t),e},aS=yn&&yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gn,"__esModule",{value:!0});var lS=gn.deserializeUnchecked=pS=gn.deserialize=hS=gn.serialize=gn.BinaryReader=gn.BinaryWriter=gn.BorshError=gn.baseDecode=gn.baseEncode=void 0;const to=aS(My),uS=aS(sS),NT=MT(RT),xT=typeof TextDecoder!="function"?NT.TextDecoder:TextDecoder,OT=new xT("utf-8",{fatal:!0});function CT(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),uS.default.encode(Buffer.from(t))}gn.baseEncode=CT;function LT(t){return Buffer.from(uS.default.decode(t))}gn.baseDecode=LT;const ep=1024;class Bn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}gn.BorshError=Bn;class cS{constructor(){this.buf=Buffer.alloc(ep),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ep)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new to.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new to.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new to.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new to.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(ep)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}gn.BinaryWriter=cS;function oi(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Bn("Reached the end of buffer when deserializing")}throw o}}}class hr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new to.default(e,"le")}readU128(){const e=this.readBuffer(16);return new to.default(e,"le")}readU256(){const e=this.readBuffer(32);return new to.default(e,"le")}readU512(){const e=this.readBuffer(64);return new to.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Bn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return OT.decode(n)}catch(r){throw new Bn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}ii([oi],hr.prototype,"readU8",null);ii([oi],hr.prototype,"readU16",null);ii([oi],hr.prototype,"readU32",null);ii([oi],hr.prototype,"readU64",null);ii([oi],hr.prototype,"readU128",null);ii([oi],hr.prototype,"readU256",null);ii([oi],hr.prototype,"readU512",null);ii([oi],hr.prototype,"readString",null);ii([oi],hr.prototype,"readFixedArray",null);ii([oi],hr.prototype,"readArray",null);gn.BinaryReader=hr;function dS(t){return t.charAt(0).toUpperCase()+t.slice(1)}function jo(t,e,n,r,i){try{if(typeof r=="string")i[`write${dS(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Bn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Bn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)jo(t,null,n[o],r[0],i)}else i.writeArray(n,o=>{jo(t,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),jo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{jo(t,e,s,r.key,i),jo(t,e,o,r.value,i)});break}default:throw new Bn(`FieldType ${r} unrecognized`)}else fS(t,n,i)}catch(o){throw o instanceof Bn&&o.addToFieldPath(e),o}}function fS(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Bn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{jo(t,i,e[i],o,n)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),jo(t,s,e[s],a,n);break}}}else throw new Bn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function BT(t,e,n=cS){const r=new n;return fS(t,e,r),r.toArray()}var hS=gn.serialize=BT;function Wo(t,e,n,r){try{if(typeof n=="string")return r[`read${dS(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(Wo(t,null,n[0],r));return i}else return r.readArray(()=>Wo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Wo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=Wo(t,e,n.key,r),l=Wo(t,e,n.value,r);i.set(a,l)}return i}return Uy(t,n,r)}catch(i){throw i instanceof Bn&&i.addToFieldPath(e),i}}function Uy(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Bn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of t.get(e).fields)i[o]=Wo(t,o,s,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Bn(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=Wo(t,o,s,n);return new e({[o]:a})}throw new Bn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function PT(t,e,n,r=hr){const i=new r(n),o=Uy(t,e,i);if(i.offset<n.length)throw new Bn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var pS=gn.deserialize=PT;function DT(t,e,n,r=hr){const i=new r(n);return Uy(t,e,i)}lS=gn.deserializeUnchecked=DT;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.s16=Y.s8=Y.nu64be=Y.u48be=Y.u40be=Y.u32be=Y.u24be=Y.u16be=fn=Y.nu64=Y.u48=Y.u40=fe=Y.u32=Y.u24=wr=Y.u16=De=Y.u8=go=Y.offset=Y.greedy=Y.Constant=Y.UTF8=Y.CString=Y.Blob=Y.Boolean=Y.BitField=Y.BitStructure=Y.VariantLayout=Y.Union=Y.UnionLayoutDiscriminator=Y.UnionDiscriminator=Y.Structure=Y.Sequence=Y.DoubleBE=Y.Double=Y.FloatBE=Y.Float=Y.NearInt64BE=Y.NearInt64=Y.NearUInt64BE=Y.NearUInt64=Y.IntBE=Y.Int=Y.UIntBE=Y.UInt=Y.OffsetLayout=Y.GreedyCount=Y.ExternalLayout=Y.bindConstructorLayout=Y.nameWithProperty=Y.Layout=Y.uint8ArrayToBuffer=Y.checkUint8Array=void 0;Y.constant=Y.utf8=Y.cstr=lt=Y.blob=Y.unionLayoutDiscriminator=Y.union=mn=Y.seq=Y.bits=he=Y.struct=Y.f64be=Y.f64=Y.f32be=Y.f32=Y.ns64be=Y.s48be=Y.s40be=Y.s32be=Y.s24be=Y.s16be=ir=Y.ns64=Y.s48=Y.s40=Y.s32=Y.s24=void 0;const zy=ue;function Ua(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Y.checkUint8Array=Ua;function We(t){return Ua(t),zy.Buffer.from(t.buffer,t.byteOffset,t.length)}Y.uint8ArrayToBuffer=We;let Ye=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};Y.Layout=Ye;function jy(t,e){return e.property?t+"["+e.property+"]":t}Y.nameWithProperty=jy;function UT(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ye))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Y.bindConstructorLayout=UT;let $n=class extends Ye{isCount(){throw new Error("ExternalLayout is abstract")}};Y.ExternalLayout=$n;let gS=class extends $n{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Ua(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};Y.GreedyCount=gS;let Wy=class extends $n{constructor(e,n=0,r){if(!(e instanceof Ye))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof br||this.layout instanceof Ur}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};Y.OffsetLayout=Wy;let br=class extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return We(e).readUIntLE(n,this.span)}encode(e,n,r=0){return We(n).writeUIntLE(e,r,this.span),this.span}};Y.UInt=br;let Ur=class extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return We(e).readUIntBE(n,this.span)}encode(e,n,r=0){return We(n).writeUIntBE(e,r,this.span),this.span}};Y.UIntBE=Ur;let Es=class extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return We(e).readIntLE(n,this.span)}encode(e,n,r=0){return We(n).writeIntLE(e,r,this.span),this.span}};Y.Int=Es;let za=class extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return We(e).readIntBE(n,this.span)}encode(e,n,r=0){return We(n).writeIntBE(e,r,this.span),this.span}};Y.IntBE=za;const I0=Math.pow(2,32);function bf(t){const e=Math.floor(t/I0),n=t-e*I0;return{hi32:e,lo32:n}}function Af(t,e){return t*I0+e}let yS=class extends Ye{constructor(e){super(8,e)}decode(e,n=0){const r=We(e),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return Af(o,i)}encode(e,n,r=0){const i=bf(e),o=We(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};Y.NearUInt64=yS;let mS=class extends Ye{constructor(e){super(8,e)}decode(e,n=0){const r=We(e),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return Af(i,o)}encode(e,n,r=0){const i=bf(e),o=We(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Y.NearUInt64BE=mS;let wS=class extends Ye{constructor(e){super(8,e)}decode(e,n=0){const r=We(e),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return Af(o,i)}encode(e,n,r=0){const i=bf(e),o=We(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};Y.NearInt64=wS;let vS=class extends Ye{constructor(e){super(8,e)}decode(e,n=0){const r=We(e),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return Af(i,o)}encode(e,n,r=0){const i=bf(e),o=We(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Y.NearInt64BE=vS;let _S=class extends Ye{constructor(e){super(4,e)}decode(e,n=0){return We(e).readFloatLE(n)}encode(e,n,r=0){return We(n).writeFloatLE(e,r),4}};Y.Float=_S;let ES=class extends Ye{constructor(e){super(4,e)}decode(e,n=0){return We(e).readFloatBE(n)}encode(e,n,r=0){return We(n).writeFloatBE(e,r),4}};Y.FloatBE=ES;let SS=class extends Ye{constructor(e){super(8,e)}decode(e,n=0){return We(e).readDoubleLE(n)}encode(e,n,r=0){return We(n).writeDoubleLE(e,r),8}};Y.Double=SS;let bS=class extends Ye{constructor(e){super(8,e)}decode(e,n=0){return We(e).readDoubleBE(n)}encode(e,n,r=0){return We(n).writeDoubleBE(e,r),8}};Y.DoubleBE=bS;let AS=class extends Ye{constructor(e,n,r){if(!(e instanceof Ye))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof $n&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof $n)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof $n&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let i=0,o=this.count;for(o instanceof $n&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof $n&&this.count.encode(e.length,n,r),o}};Y.Sequence=AS;let IS=class extends Ye{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Ye,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Ua(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};Y.Structure=IS;let Fy=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};Y.UnionDiscriminator=Fy;let Wd=class extends Fy{constructor(e,n){if(!(e instanceof $n&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};Y.UnionLayoutDiscriminator=Wd;let Hy=class extends Ye{constructor(e,n,r){let i;if(e instanceof br||e instanceof Ur)i=new Wd(new Wy(e));else if(e instanceof $n&&e.isCount())i=new Wd(e);else if(e instanceof Fy)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ye))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof br||e instanceof Ur)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof br||e instanceof Ur,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,o=i.decode(e,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,n+l)}else r=s.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new RS(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};Y.Union=Hy;let RS=class extends Ye{constructor(e,n,r,i){if(!(e instanceof Hy))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ye))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Y.VariantLayout=RS;function Os(t){return 0>t&&(t+=4294967296),t}let $y=class extends Ye{constructor(e,n,r){if(!(e instanceof br||e instanceof Ur))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Os(o),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Ky(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new kS(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};Y.BitStructure=$y;let Ky=class{constructor(e,n,r){if(!(e instanceof $y))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=Os(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Os(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Os(e&this.valueMask))throw new TypeError(jy("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Os(e<<this.start);this.container._packedSetValue(Os(n&~this.wordMask)|r)}};Y.BitField=Ky;let kS=class extends Ky{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Y.Boolean=kS;let TS=class extends Ye{constructor(e,n){if(!(e instanceof $n&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof $n||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),We(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof $n&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(jy("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=We(e);return We(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof $n&&this.length.encode(i,n,r),i}};Y.Blob=TS;let MS=class extends Ye{constructor(e){super(-1,e)}getSpan(e,n=0){Ua(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return We(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=zy.Buffer.from(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=We(n);return i.copy(s,r),s[r+o]=0,o+1}};Y.CString=MS;let NS=class extends Ye{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Ua(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return We(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=zy.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(We(n),r),o}};Y.UTF8=NS;let xS=class extends Ye{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};Y.Constant=xS;Y.greedy=(t,e)=>new gS(t,e);var go=Y.offset=(t,e,n)=>new Wy(t,e,n),De=Y.u8=t=>new br(1,t),wr=Y.u16=t=>new br(2,t);Y.u24=t=>new br(3,t);var fe=Y.u32=t=>new br(4,t);Y.u40=t=>new br(5,t);Y.u48=t=>new br(6,t);var fn=Y.nu64=t=>new yS(t);Y.u16be=t=>new Ur(2,t);Y.u24be=t=>new Ur(3,t);Y.u32be=t=>new Ur(4,t);Y.u40be=t=>new Ur(5,t);Y.u48be=t=>new Ur(6,t);Y.nu64be=t=>new mS(t);Y.s8=t=>new Es(1,t);Y.s16=t=>new Es(2,t);Y.s24=t=>new Es(3,t);Y.s32=t=>new Es(4,t);Y.s40=t=>new Es(5,t);Y.s48=t=>new Es(6,t);var ir=Y.ns64=t=>new wS(t);Y.s16be=t=>new za(2,t);Y.s24be=t=>new za(3,t);Y.s32be=t=>new za(4,t);Y.s40be=t=>new za(5,t);Y.s48be=t=>new za(6,t);Y.ns64be=t=>new vS(t);Y.f32=t=>new _S(t);Y.f32be=t=>new ES(t);Y.f64=t=>new SS(t);Y.f64be=t=>new bS(t);var he=Y.struct=(t,e,n)=>new IS(t,e,n);Y.bits=(t,e,n)=>new $y(t,e,n);var mn=Y.seq=(t,e,n)=>new AS(t,e,n);Y.union=(t,e,n)=>new Hy(t,e,n);Y.unionLayoutDiscriminator=(t,e)=>new Wd(t,e);var lt=Y.blob=(t,e)=>new TS(t,e);Y.cstr=t=>new MS(t);Y.utf8=(t,e)=>new NS(t,e);Y.constant=(t,e)=>new xS(t,e);var zT=8078e3,jT=8078001,WT=8078004,FT=8078005,HT=8078006,$T=8078011;function OS(t){return Array.isArray(t)?"%5B"+t.map(OS).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function KT([t,e]){return`${t}=${OS(e)}`}function VT(t){const e=Object.entries(t).map(KT).join("&");return btoa(e)}function GT(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${VT(e)}'`),`${n}\``}}var ca=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=GT(e,r);super(o,i);et(this,"cause",this.cause);et(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function YT(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function qT(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(YT(e,t));return t.write(e,n,0),n}})}function ZT(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function xs(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function QT(t,e){if(xs(t)!==xs(e))throw new ca(WT);if(xs(t)&&xs(e)&&t.fixedSize!==e.fixedSize)throw new ca(FT,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!xs(t)&&!xs(e)&&t.maxSize!==e.maxSize)throw new ca(HT,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function XT(t,e,n=0){if(e.length-n<=0)throw new ca(zT,{codecDescription:t})}function JT(t,e,n,r=0){const i=n.length-r;if(i<e)throw new ca(jT,{bytesLength:i,codecDescription:t,expected:e})}function eM(t,e,n,r){if(r<e||r>n)throw new ca($T,{codecDescription:t,max:n,min:e,value:r})}function CS(t){return(t==null?void 0:t.endian)!==1}function tM(t){return qT({fixedSize:t.size,write(e,n,r){t.range&&eM(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,CS(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function nM(t){return ZT({fixedSize:t.size,read(e,n=0){XT(t.name,e,n),JT(t.name,t.size,e,n);const r=new DataView(rM(e,n,t.size));return[t.get(r,CS(t.config)),n+t.size]}})}function rM(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var LS=(t={})=>tM({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),iM=(t={})=>nM({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),oM=(t={})=>QT(LS(t),iM(t));let sM=class extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function aM(t){return yu(t)&&typeof t[Symbol.iterator]=="function"}function yu(t){return typeof t=="object"&&t!=null}function Fd(t){return yu(t)&&!Array.isArray(t)}function jr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function lM(t){const{done:e,value:n}=t.next();return e?void 0:n}function uM(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${jr(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*f1(t,e,n,r){aM(t)||(t=[t]);for(const i of t){const o=uM(i,e,n,r);o&&(yield o)}}function*Vy(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,f,g]of e.entries(t,a)){const w=Vy(f,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,f],coerce:o,mask:s,message:n.message});for(const m of w)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(f=m[1],c===void 0?t=f:t instanceof Map?t.set(c,f):t instanceof Set?t.add(f):yu(t)&&(f!==void 0||c in t)&&(t[c]=f))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let si=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const f=i(l,c);return f1(f,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const f=o(l,c);return f1(f,c,this,l)}:this.refiner=()=>[]}assert(e,n){return BS(e,this,n)}create(e,n){return oe(e,this,n)}is(e){return PS(e,this)}mask(e,n){return cM(e,this,n)}validate(e,n={}){return mu(e,this,n)}};function BS(t,e,n){const r=mu(t,e,{message:n});if(r[0])throw r[0]}function oe(t,e,n){const r=mu(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function cM(t,e,n){const r=mu(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function PS(t,e){return!mu(t,e)[0]}function mu(t,e,n={}){const r=Vy(t,e,n),i=lM(r);return i[0]?[new sM(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Ss(t,e){return new si({type:t,schema:null,validator:e})}function dM(){return Ss("any",()=>!0)}function ae(t){return new si({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${jr(e)}`}})}function ri(){return Ss("boolean",t=>typeof t=="boolean")}function Gy(t){return Ss("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${jr(e)}`)}function mt(t){const e=jr(t),n=typeof t;return new si({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${jr(r)}`}})}function fM(){return Ss("never",()=>!1)}function le(t){return new si({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function V(){return Ss("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${jr(t)}`)}function ye(t){return new si({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function DS(t,e){return new si({type:"record",schema:null,*entries(n){if(yu(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Fd(n)||`Expected an object, but received: ${jr(n)}`},coercer(n){return Fd(n)?{...n}:n}})}function re(){return Ss("string",t=>typeof t=="string"||`Expected a string, but received: ${jr(t)}`)}function Yy(t){const e=fM();return new si({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${jr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function X(t){const e=Object.keys(t);return new si({type:"type",schema:t,*entries(n){if(yu(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Fd(n)||`Expected an object, but received: ${jr(n)}`},coercer(n){return Fd(n)?{...n}:n}})}function Dn(t){const e=t.map(n=>n.type).join(" | ");return new si({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=Vy(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${jr(n)}`,...i]}})}function ja(){return Ss("unknown",()=>!0)}function wu(t,e,n){return new si({...t,coercer:(r,i)=>PS(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var tc,hM=new Uint8Array(16);function US(){if(!tc&&(tc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!tc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tc(hM)}const pM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function If(t){return typeof t=="string"&&pM.test(t)}var dn=[];for(var tp=0;tp<256;++tp)dn.push((tp+256).toString(16).substr(1));function Rf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(dn[t[e+0]]+dn[t[e+1]]+dn[t[e+2]]+dn[t[e+3]]+"-"+dn[t[e+4]]+dn[t[e+5]]+"-"+dn[t[e+6]]+dn[t[e+7]]+"-"+dn[t[e+8]]+dn[t[e+9]]+"-"+dn[t[e+10]]+dn[t[e+11]]+dn[t[e+12]]+dn[t[e+13]]+dn[t[e+14]]+dn[t[e+15]]).toLowerCase();if(!If(n))throw TypeError("Stringified UUID is invalid");return n}var h1,np,rp=0,ip=0;function gM(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||h1,s=t.clockseq!==void 0?t.clockseq:np;if(o==null||s==null){var a=t.random||(t.rng||US)();o==null&&(o=h1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=np=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:ip+1,f=l-rp+(c-ip)/1e4;if(f<0&&t.clockseq===void 0&&(s=s+1&16383),(f<0||l>rp)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rp=l,ip=c,np=s,l+=122192928e5;var g=((l&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var w=l/4294967296*1e4&268435455;i[r++]=w>>>8&255,i[r++]=w&255,i[r++]=w>>>24&15|16,i[r++]=w>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return e||Rf(i)}function zS(t){if(!If(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function yM(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var mM="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wM="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function jS(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=yM(i)),typeof o=="string"&&(o=zS(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return Rf(l)}try{r.name=t}catch{}return r.DNS=mM,r.URL=wM,r}function vM(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return _M(EM(SM(t),t.length*8))}function _M(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function WS(t){return(t+64>>>9<<4)+14+1}function EM(t,e){t[e>>5]|=128<<e%32,t[WS(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,l=r,c=i,f=o;n=An(n,r,i,o,t[s],7,-680876936),o=An(o,n,r,i,t[s+1],12,-389564586),i=An(i,o,n,r,t[s+2],17,606105819),r=An(r,i,o,n,t[s+3],22,-1044525330),n=An(n,r,i,o,t[s+4],7,-176418897),o=An(o,n,r,i,t[s+5],12,1200080426),i=An(i,o,n,r,t[s+6],17,-1473231341),r=An(r,i,o,n,t[s+7],22,-45705983),n=An(n,r,i,o,t[s+8],7,1770035416),o=An(o,n,r,i,t[s+9],12,-1958414417),i=An(i,o,n,r,t[s+10],17,-42063),r=An(r,i,o,n,t[s+11],22,-1990404162),n=An(n,r,i,o,t[s+12],7,1804603682),o=An(o,n,r,i,t[s+13],12,-40341101),i=An(i,o,n,r,t[s+14],17,-1502002290),r=An(r,i,o,n,t[s+15],22,1236535329),n=In(n,r,i,o,t[s+1],5,-165796510),o=In(o,n,r,i,t[s+6],9,-1069501632),i=In(i,o,n,r,t[s+11],14,643717713),r=In(r,i,o,n,t[s],20,-373897302),n=In(n,r,i,o,t[s+5],5,-701558691),o=In(o,n,r,i,t[s+10],9,38016083),i=In(i,o,n,r,t[s+15],14,-660478335),r=In(r,i,o,n,t[s+4],20,-405537848),n=In(n,r,i,o,t[s+9],5,568446438),o=In(o,n,r,i,t[s+14],9,-1019803690),i=In(i,o,n,r,t[s+3],14,-187363961),r=In(r,i,o,n,t[s+8],20,1163531501),n=In(n,r,i,o,t[s+13],5,-1444681467),o=In(o,n,r,i,t[s+2],9,-51403784),i=In(i,o,n,r,t[s+7],14,1735328473),r=In(r,i,o,n,t[s+12],20,-1926607734),n=Rn(n,r,i,o,t[s+5],4,-378558),o=Rn(o,n,r,i,t[s+8],11,-2022574463),i=Rn(i,o,n,r,t[s+11],16,1839030562),r=Rn(r,i,o,n,t[s+14],23,-35309556),n=Rn(n,r,i,o,t[s+1],4,-1530992060),o=Rn(o,n,r,i,t[s+4],11,1272893353),i=Rn(i,o,n,r,t[s+7],16,-155497632),r=Rn(r,i,o,n,t[s+10],23,-1094730640),n=Rn(n,r,i,o,t[s+13],4,681279174),o=Rn(o,n,r,i,t[s],11,-358537222),i=Rn(i,o,n,r,t[s+3],16,-722521979),r=Rn(r,i,o,n,t[s+6],23,76029189),n=Rn(n,r,i,o,t[s+9],4,-640364487),o=Rn(o,n,r,i,t[s+12],11,-421815835),i=Rn(i,o,n,r,t[s+15],16,530742520),r=Rn(r,i,o,n,t[s+2],23,-995338651),n=kn(n,r,i,o,t[s],6,-198630844),o=kn(o,n,r,i,t[s+7],10,1126891415),i=kn(i,o,n,r,t[s+14],15,-1416354905),r=kn(r,i,o,n,t[s+5],21,-57434055),n=kn(n,r,i,o,t[s+12],6,1700485571),o=kn(o,n,r,i,t[s+3],10,-1894986606),i=kn(i,o,n,r,t[s+10],15,-1051523),r=kn(r,i,o,n,t[s+1],21,-2054922799),n=kn(n,r,i,o,t[s+8],6,1873313359),o=kn(o,n,r,i,t[s+15],10,-30611744),i=kn(i,o,n,r,t[s+6],15,-1560198380),r=kn(r,i,o,n,t[s+13],21,1309151649),n=kn(n,r,i,o,t[s+4],6,-145523070),o=kn(o,n,r,i,t[s+11],10,-1120210379),i=kn(i,o,n,r,t[s+2],15,718787259),r=kn(r,i,o,n,t[s+9],21,-343485551),n=no(n,a),r=no(r,l),i=no(i,c),o=no(o,f)}return[n,r,i,o]}function SM(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(WS(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function no(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function bM(t,e){return t<<e|t>>>32-e}function kf(t,e,n,r,i,o){return no(bM(no(no(e,t),no(r,o)),i),n)}function An(t,e,n,r,i,o,s){return kf(e&n|~e&r,t,e,i,o,s)}function In(t,e,n,r,i,o,s){return kf(e&r|n&~r,t,e,i,o,s)}function Rn(t,e,n,r,i,o,s){return kf(e^n^r,t,e,i,o,s)}function kn(t,e,n,r,i,o,s){return kf(n^(e|~r),t,e,i,o,s)}var AM=jS("v3",48,vM);function IM(t,e,n){t=t||{};var r=t.random||(t.rng||US)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Rf(r)}function RM(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function op(t,e){return t<<e|t>>>32-e}function kM(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=t[l*64+f*4]<<24|t[l*64+f*4+1]<<16|t[l*64+f*4+2]<<8|t[l*64+f*4+3];a[l]=c}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<s;++g){for(var w=new Uint32Array(80),m=0;m<16;++m)w[m]=a[g][m];for(var E=16;E<80;++E)w[E]=op(w[E-3]^w[E-8]^w[E-14]^w[E-16],1);for(var k=n[0],N=n[1],b=n[2],A=n[3],S=n[4],x=0;x<80;++x){var C=Math.floor(x/20),D=op(k,5)+RM(C,N,b,A)+S+e[C]+w[x]>>>0;S=A,A=b,b=op(N,30)>>>0,N=k,k=D}n[0]=n[0]+k>>>0,n[1]=n[1]+N>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+A>>>0,n[4]=n[4]+S>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var TM=jS("v5",80,kM);const MM="00000000-0000-0000-0000-000000000000";function NM(t){if(!If(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const xM=Object.freeze(Object.defineProperty({__proto__:null,NIL:MM,parse:zS,stringify:Rf,v1:gM,v3:AM,v4:IM,v5:TM,validate:If,version:NM},Symbol.toStringTag,{value:"Module"})),FS=ms(xM),OM=FS.v4,CM=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return OM()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var LM=CM;const BM=FS.v4,PM=LM,eu=function(t,e){if(!(this instanceof eu))return new eu(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return BM()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var DM=eu;eu.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{o=PM(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(c)return r(f);throw f}if(!c)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,f){i._parseResponse(c,f,r)}),o};eu.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return n(null,r.filter(i),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const UM=ys(DM);var HS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),E=n?n+c:c;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],m]:l._events[E].push(m):(l._events[E]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,E=new Array(m);w<m;w++)E[w]=g[w].fn;return E},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,E){var k=n?n+c:c;if(!this._events[k])return!1;var N=this._events[k],b=arguments.length,A,S;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),b){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,E),!0}for(S=1,A=new Array(b-1);S<b;S++)A[S-1]=arguments[S];N.fn.apply(N.context,A)}else{var x=N.length,C;for(S=0;S<x;S++)switch(N[S].once&&this.removeListener(c,N[S].fn,void 0,!0),b){case 1:N[S].fn.call(N[S].context);break;case 2:N[S].fn.call(N[S].context,f);break;case 3:N[S].fn.call(N[S].context,f,g);break;case 4:N[S].fn.call(N[S].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(b-1);C<b;C++)A[C-1]=arguments[C];N[S].fn.apply(N[S].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var E=this._events[m];if(E.fn)E.fn===f&&(!w||E.once)&&(!g||E.context===g)&&s(this,m);else{for(var k=0,N=[],b=E.length;k<b;k++)(E[k].fn!==f||w&&!E[k].once||g&&E[k].context!==g)&&N.push(E[k]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(HS);var zM=HS.exports;const $S=ys(zM);var jM=class extends $S{constructor(e,n,r){super();et(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function WM(t,e){return new jM(t,e)}var FM=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},HM=class extends $S{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();et(this,"address");et(this,"rpc_id");et(this,"queue");et(this,"options");et(this,"autoconnect");et(this,"ready");et(this,"reconnect");et(this,"reconnect_timer_id");et(this,"reconnect_interval");et(this,"max_reconnects");et(this,"rest_options");et(this,"current_reconnects");et(this,"generate_request_id");et(this,"socket");et(this,"webSocketFactory");et(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new FM,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=ue.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const $M=BigInt(0),el=BigInt(1),KM=BigInt(2),VM=BigInt(7),GM=BigInt(256),YM=BigInt(113),KS=[],VS=[],GS=[];for(let t=0,e=el,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],KS.push(2*(5*r+n)),VS.push((t+1)*(t+2)/2%64);let i=$M;for(let o=0;o<7;o++)e=(e<<el^(e>>VM)*YM)%GM,e&KM&&(i^=el<<(el<<BigInt(o))-el);GS.push(i)}const YS=DE(GS,!0),qM=YS[0],ZM=YS[1],p1=(t,e,n)=>n>32?Rk(t,e,n):Ak(t,e,n),g1=(t,e,n)=>n>32?kk(t,e,n):Ik(t,e,n);function QM(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],f=n[l+1],g=p1(c,f,1)^n[a],w=g1(c,f,1)^n[a+1];for(let m=0;m<50;m+=10)t[s+m]^=g,t[s+m+1]^=w}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=VS[s],l=p1(i,o,a),c=g1(i,o,a),f=KS[s];i=t[f],o=t[f+1],t[f]=l,t[f+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=qM[r],t[1]^=ZM[r]}_o(n)}class qy extends Ny{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Xl(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pk(this.state)}clone(){return this._cloneInto()}keccak(){Jw(this.state32),QM(this.state32,this.rounds),Jw(this.state32),this.posOut=0,this.pos=0}update(e){Aa(this),e=_f(e),Ci(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Aa(this,!1),Ci(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Xl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(LE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,_o(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new qy(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const XM=(t,e,n)=>xy(()=>new qy(e,t,n)),y1=XM(1,136,256/8);class qS extends Ny{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,CE(e);const r=_f(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),_o(o)}update(e){return Aa(this),this.iHash.update(e),this}digestInto(e){Aa(this),Ci(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ZS=(t,e,n)=>new qS(t,e).update(n).digest();ZS.create=(t,e)=>new qS(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const m1=(t,e)=>(t+(t>=0?e:-e)/QS)/e;function JM(t,e,n){const[[r,i],[o,s]]=e,a=m1(s*t,n),l=m1(-i*t,n);let c=t-a*r-l*o,f=-a*i-l*s;const g=c<Ii,w=f<Ii;g&&(c=-c),w&&(f=-f);const m=pu(Math.ceil(FE(n)/2))+da;if(c<Ii||c>=m||f<Ii||f>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:c,k2neg:w,k2:f}}function R0(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function sp(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return fs(n.lowS,"lowS"),fs(n.prehash,"prehash"),n.format!==void 0&&R0(n.format),n}class eN extends Error{constructor(e=""){super(e)}}const yi={Err:eN,_tlv:{encode:(t,e)=>{const{Err:n}=yi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Ju(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Ju(i.length/2|128):"";return Ju(t)+o+i+e},decode(t,e){const{Err:n}=yi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of c)s=s<<8|f;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=yi;if(t<Ii)throw new e("integer: negative integers are not allowed");let n=Ju(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=yi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ef(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=yi,i=kt("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:f}=r.decode(2,l);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=yi,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Ii=BigInt(0),da=BigInt(1),QS=BigInt(2),nc=BigInt(3),tN=BigInt(4);function ea(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=kt("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function nN(t,e={}){const n=iS("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;gu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=JS(r,i);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(j,_,u){const{x:d,y:v}=_.toAffine(),R=r.toBytes(d);if(fs(u,"isCompressed"),u){f();const I=!r.isOdd(v);return Yr(XS(I),R)}else return Yr(Uint8Array.of(4),R,r.toBytes(v))}function w(j){Lr(j,void 0,"Point");const{publicKey:_,publicKeyUncompressed:u}=c,d=j.length,v=j[0],R=j.subarray(1);if(d===_&&(v===2||v===3)){const I=r.fromBytes(R);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const O=k(I);let B;try{B=r.sqrt(O)}catch(P){const ie=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+ie)}f();const M=r.isOdd(B);return(v&1)===1!==M&&(B=r.neg(B)),{x:I,y:B}}else if(d===u&&v===4){const I=r.BYTES,O=r.fromBytes(R.subarray(0,I)),B=r.fromBytes(R.subarray(I,I*2));if(!N(O,B))throw new Error("bad point: is not on curve");return{x:O,y:B}}else throw new Error(`bad point: got length ${d}, expected compressed=${_} or uncompressed=${u}`)}const m=e.toBytes||g,E=e.fromBytes||w;function k(j){const _=r.sqr(j),u=r.mul(_,j);return r.add(r.add(u,r.mul(j,o.a)),o.b)}function N(j,_){const u=r.sqr(_),d=k(j);return r.eql(u,d)}if(!N(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(o.a,nc),tN),A=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(b,A)))throw new Error("bad curve params: a or b");function S(j,_,u=!1){if(!r.isValid(_)||u&&r.is0(_))throw new Error(`bad point coordinate ${j}`);return _}function x(j){if(!(j instanceof W))throw new Error("ProjectivePoint expected")}function C(j){if(!l||!l.basises)throw new Error("no endo");return JM(j,l.basises,i.ORDER)}const D=Ld((j,_)=>{const{X:u,Y:d,Z:v}=j;if(r.eql(v,r.ONE))return{x:u,y:d};const R=j.is0();_==null&&(_=R?r.ONE:r.inv(v));const I=r.mul(u,_),O=r.mul(d,_),B=r.mul(v,_);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error("invZ was invalid");return{x:I,y:O}}),U=Ld(j=>{if(j.is0()){if(e.allowInfinityPoint&&!r.is0(j.Y))return;throw new Error("bad point: ZERO")}const{x:_,y:u}=j.toAffine();if(!r.isValid(_)||!r.isValid(u))throw new Error("bad point: x or y not field elements");if(!N(_,u))throw new Error("bad point: equation left != right");if(!j.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(j,_,u,d,v){return u=new W(r.mul(u.X,j),u.Y,u.Z),_=Bd(d,_),u=Bd(v,u),_.add(u)}class W{constructor(_,u,d){this.X=S("x",_),this.Y=S("y",u,!0),this.Z=S("z",d),Object.freeze(this)}static CURVE(){return o}static fromAffine(_){const{x:u,y:d}=_||{};if(!_||!r.isValid(u)||!r.isValid(d))throw new Error("invalid affine point");if(_ instanceof W)throw new Error("projective point not allowed");return r.is0(u)&&r.is0(d)?W.ZERO:new W(u,d,r.ONE)}static fromBytes(_){const u=W.fromAffine(E(Lr(_,void 0,"point")));return u.assertValidity(),u}static fromHex(_){return W.fromBytes(kt("pointHex",_))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(_=8,u=!0){return Z.createCache(this,_),u||this.multiply(nc),this}assertValidity(){U(this)}hasEvenY(){const{y:_}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(_)}equals(_){x(_);const{X:u,Y:d,Z:v}=this,{X:R,Y:I,Z:O}=_,B=r.eql(r.mul(u,O),r.mul(R,v)),M=r.eql(r.mul(d,O),r.mul(I,v));return B&&M}negate(){return new W(this.X,r.neg(this.Y),this.Z)}double(){const{a:_,b:u}=o,d=r.mul(u,nc),{X:v,Y:R,Z:I}=this;let O=r.ZERO,B=r.ZERO,M=r.ZERO,p=r.mul(v,v),P=r.mul(R,R),ie=r.mul(I,I),ne=r.mul(v,R);return ne=r.add(ne,ne),M=r.mul(v,I),M=r.add(M,M),O=r.mul(_,M),B=r.mul(d,ie),B=r.add(O,B),O=r.sub(P,B),B=r.add(P,B),B=r.mul(O,B),O=r.mul(ne,O),M=r.mul(d,M),ie=r.mul(_,ie),ne=r.sub(p,ie),ne=r.mul(_,ne),ne=r.add(ne,M),M=r.add(p,p),p=r.add(M,p),p=r.add(p,ie),p=r.mul(p,ne),B=r.add(B,p),ie=r.mul(R,I),ie=r.add(ie,ie),p=r.mul(ie,ne),O=r.sub(O,p),M=r.mul(ie,P),M=r.add(M,M),M=r.add(M,M),new W(O,B,M)}add(_){x(_);const{X:u,Y:d,Z:v}=this,{X:R,Y:I,Z:O}=_;let B=r.ZERO,M=r.ZERO,p=r.ZERO;const P=o.a,ie=r.mul(o.b,nc);let ne=r.mul(u,R),se=r.mul(d,I),Ae=r.mul(v,O),Ee=r.add(u,d),we=r.add(R,I);Ee=r.mul(Ee,we),we=r.add(ne,se),Ee=r.sub(Ee,we),we=r.add(u,v);let Et=r.add(R,O);return we=r.mul(we,Et),Et=r.add(ne,Ae),we=r.sub(we,Et),Et=r.add(d,v),B=r.add(I,O),Et=r.mul(Et,B),B=r.add(se,Ae),Et=r.sub(Et,B),p=r.mul(P,we),B=r.mul(ie,Ae),p=r.add(B,p),B=r.sub(se,p),p=r.add(se,p),M=r.mul(B,p),se=r.add(ne,ne),se=r.add(se,ne),Ae=r.mul(P,Ae),we=r.mul(ie,we),se=r.add(se,Ae),Ae=r.sub(ne,Ae),Ae=r.mul(P,Ae),we=r.add(we,Ae),ne=r.mul(se,we),M=r.add(M,ne),ne=r.mul(Et,we),B=r.mul(Ee,B),B=r.sub(B,ne),ne=r.mul(Ee,se),p=r.mul(Et,p),p=r.add(p,ne),new W(B,M,p)}subtract(_){return this.add(_.negate())}is0(){return this.equals(W.ZERO)}multiply(_){const{endo:u}=e;if(!i.isValidNot0(_))throw new Error("invalid scalar: out of range");let d,v;const R=I=>Z.cached(this,I,O=>qo(W,O));if(u){const{k1neg:I,k1:O,k2neg:B,k2:M}=C(_),{p,f:P}=R(O),{p:ie,f:ne}=R(M);v=P.add(ne),d=z(u.beta,p,ie,I,B)}else{const{p:I,f:O}=R(_);d=I,v=O}return qo(W,[d,v])[0]}multiplyUnsafe(_){const{endo:u}=e,d=this;if(!i.isValid(_))throw new Error("invalid scalar: out of range");if(_===Ii||d.is0())return W.ZERO;if(_===da)return d;if(Z.hasCache(this))return this.multiply(_);if(u){const{k1neg:v,k1:R,k2neg:I,k2:O}=C(_),{p1:B,p2:M}=eT(W,d,R,O);return z(u.beta,B,M,v,I)}else return Z.unsafe(d,_)}multiplyAndAddUnsafe(_,u,d){const v=this.multiplyUnsafe(u).add(_.multiplyUnsafe(d));return v.is0()?void 0:v}toAffine(_){return D(this,_)}isTorsionFree(){const{isTorsionFree:_}=e;return s===da?!0:_?_(W,this):Z.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:_}=e;return s===da?this:_?_(W,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(_=!0){return fs(_,"isCompressed"),this.assertValidity(),m(W,this,_)}toHex(_=!0){return ss(this.toBytes(_))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(_=!0){return this.toBytes(_)}_setWindowSize(_){this.precompute(_)}static normalizeZ(_){return qo(W,_)}static msm(_,u){return rS(W,i,_,u)}static fromPrivateKey(_){return W.BASE.multiply(ea(i,_))}}W.BASE=new W(o.Gx,o.Gy,r.ONE),W.ZERO=new W(r.ZERO,r.ONE,r.ZERO),W.Fp=r,W.Fn=i;const $=i.BITS,Z=new nS(W,e.endo?Math.ceil($/2):$);return W.BASE.precompute(8),W}function XS(t){return Uint8Array.of(t?2:3)}function JS(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function rN(t,e={}){const{Fn:n}=t,r=e.randomBytes||Oy,i=Object.assign(JS(t.Fp,n),{seed:JE(n.ORDER)});function o(m){try{return!!ea(n,m)}catch{return!1}}function s(m,E){const{publicKey:k,publicKeyUncompressed:N}=i;try{const b=m.length;return E===!0&&b!==k||E===!1&&b!==N?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(i.seed)){return Qk(Lr(m,i.seed,"seed"),n.ORDER)}function l(m,E=!0){return t.BASE.multiply(ea(n,m)).toBytes(E)}function c(m){const E=a(m);return{secretKey:E,publicKey:l(E)}}function f(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:E,publicKey:k,publicKeyUncompressed:N}=i;if(n.allowedLengths||E===k)return;const b=kt("key",m).length;return b===k||b===N}function g(m,E,k=!0){if(f(m)===!0)throw new Error("first arg must be private key");if(f(E)===!1)throw new Error("second arg must be public key");const N=ea(n,m);return t.fromHex(E).multiply(N).toBytes(k)}return Object.freeze({getPublicKey:l,getSharedSecret:g,keygen:c,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:m=>ea(n,m),precompute(m=8,E=t.BASE){return E.precompute(m,!1)}},lengths:i})}function iN(t,e,n={}){CE(e),gu(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Oy,i=n.hmac||((u,...d)=>ZS(e,u,Yr(...d))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s,{keygen:c,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m}=rN(t,n),E={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},k="compact";function N(u){const d=a>>da;return u>d}function b(u,d){if(!s.isValidNot0(d))throw new Error(`invalid signature ${u}: out of range 1..Point.Fn.ORDER`);return d}function A(u,d){R0(d);const v=m.signature,R=d==="compact"?v:d==="recovered"?v+1:void 0;return Lr(u,R,`${d} signature`)}class S{constructor(d,v,R){this.r=b("r",d),this.s=b("s",v),R!=null&&(this.recovery=R),Object.freeze(this)}static fromBytes(d,v=k){A(d,v);let R;if(v==="der"){const{r:M,s:p}=yi.toSig(Lr(d));return new S(M,p)}v==="recovered"&&(R=d[0],v="compact",d=d.subarray(1));const I=s.BYTES,O=d.subarray(0,I),B=d.subarray(I,I*2);return new S(s.fromBytes(O),s.fromBytes(B),R)}static fromHex(d,v){return this.fromBytes(Cd(d),v)}addRecoveryBit(d){return new S(this.r,this.s,d)}recoverPublicKey(d){const v=o.ORDER,{r:R,s:I,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*QS<v&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const M=O===2||O===3?R+a:R;if(!o.isValid(M))throw new Error("recovery id 2 or 3 invalid");const p=o.toBytes(M),P=t.fromBytes(Yr(XS((O&1)===0),p)),ie=s.inv(M),ne=C(kt("msgHash",d)),se=s.create(-ne*ie),Ae=s.create(I*ie),Ee=t.BASE.multiplyUnsafe(se).add(P.multiplyUnsafe(Ae));if(Ee.is0())throw new Error("point at infinify");return Ee.assertValidity(),Ee}hasHighS(){return N(this.s)}toBytes(d=k){if(R0(d),d==="der")return Cd(yi.hexFromSig(this));const v=s.toBytes(this.r),R=s.toBytes(this.s);if(d==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Yr(Uint8Array.of(this.recovery),v,R)}return Yr(v,R)}toHex(d){return ss(this.toBytes(d))}assertValidity(){}static fromCompact(d){return S.fromBytes(kt("sig",d),"compact")}static fromDER(d){return S.fromBytes(kt("sig",d),"der")}normalizeS(){return this.hasHighS()?new S(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ss(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ss(this.toBytes("compact"))}}const x=n.bits2int||function(d){if(d.length>8192)throw new Error("input is too large");const v=Ef(d),R=d.length*8-l;return R>0?v>>BigInt(R):v},C=n.bits2int_modN||function(d){return s.create(x(d))},D=pu(l);function U(u){return b0("num < 2^"+l,u,Ii,D),s.toBytes(u)}function z(u,d){return Lr(u,void 0,"message"),d?Lr(e(u),void 0,"prehashed message"):u}function W(u,d,v){if(["recovered","canonical"].some(se=>se in v))throw new Error("sign() legacy options not supported");const{lowS:R,prehash:I,extraEntropy:O}=sp(v,E);u=z(u,I);const B=C(u),M=ea(s,d),p=[U(M),U(B)];if(O!=null&&O!==!1){const se=O===!0?r(m.secretKey):O;p.push(kt("extraEntropy",se))}const P=Yr(...p),ie=B;function ne(se){const Ae=x(se);if(!s.isValidNot0(Ae))return;const Ee=s.inv(Ae),we=t.BASE.multiply(Ae).toAffine(),Et=s.create(we.x);if(Et===Ii)return;const Qe=s.create(Ee*s.create(ie+Et*M));if(Qe===Ii)return;let Xe=(we.x===Et?0:2)|Number(we.y&da),yr=Qe;return R&&N(Qe)&&(yr=s.neg(Qe),Xe^=1),new S(Et,yr,Xe)}return{seed:P,k2sig:ne}}function $(u,d,v={}){u=kt("message",u);const{seed:R,k2sig:I}=W(u,d,v);return Wk(e.outputLen,s.BYTES,i)(R,I)}function Z(u){let d;const v=typeof u=="string"||hu(u),R=!v&&u!==null&&typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!v&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(R)d=new S(u.r,u.s);else if(v){try{d=S.fromBytes(kt("sig",u),"der")}catch(I){if(!(I instanceof yi.Err))throw I}if(!d)try{d=S.fromBytes(kt("sig",u),"compact")}catch{return!1}}return d||!1}function j(u,d,v,R={}){const{lowS:I,prehash:O,format:B}=sp(R,E);if(v=kt("publicKey",v),d=z(kt("message",d),O),"strict"in R)throw new Error("options.strict was renamed to lowS");const M=B===void 0?Z(u):S.fromBytes(kt("sig",u),B);if(M===!1)return!1;try{const p=t.fromBytes(v);if(I&&M.hasHighS())return!1;const{r:P,s:ie}=M,ne=C(d),se=s.inv(ie),Ae=s.create(ne*se),Ee=s.create(P*se),we=t.BASE.multiplyUnsafe(Ae).add(p.multiplyUnsafe(Ee));return we.is0()?!1:s.create(we.x)===P}catch{return!1}}function _(u,d,v={}){const{prehash:R}=sp(v,E);return d=z(d,R),S.fromBytes(u,"recovered").recoverPublicKey(d).toBytes()}return Object.freeze({keygen:c,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m,Point:t,sign:$,verify:j,recoverPublicKey:_,Signature:S,hash:e})}function oN(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=_s(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function sN(t){const{CURVE:e,curveOpts:n}=oN(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function aN(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,QE(n.Fn.ORDER,n.Fn.BITS))})}function lN(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=sN(t),o=nN(e,n),s=iN(o,r,i);return aN(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uN(t,e){const n=r=>lN({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zy={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},cN={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},w1=BigInt(2);function dN(t){const e=Zy.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,f=c*c*t%e,g=Rt(f,n,e)*f%e,w=Rt(g,n,e)*f%e,m=Rt(w,w1,e)*c%e,E=Rt(m,i,e)*m%e,k=Rt(E,o,e)*E%e,N=Rt(k,a,e)*k%e,b=Rt(N,l,e)*N%e,A=Rt(b,a,e)*k%e,S=Rt(A,n,e)*f%e,x=Rt(S,s,e)*E%e,C=Rt(x,r,e)*c%e,D=Rt(C,w1,e);if(!k0.eql(k0.sqr(D),t))throw new Error("Cannot find square root");return D}const k0=_s(Zy.p,{sqrt:dN}),Qy=uN({...Zy,Fp:k0,lowS:!0,endo:cN},zE),fN=Da.utils.randomPrivateKey,v1=()=>{const t=Da.utils.randomPrivateKey(),e=Hd(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Hd=Da.getPublicKey;function _1(t){try{return Da.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Xy=(t,e)=>Da.sign(t,e.slice(0,32)),hN=Da.verify,Me=t=>ue.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ue.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ue.Buffer.from(t);let Jy=class{constructor(e){Object.assign(this,e)}encode(){return ue.Buffer.from(hS(Ml,this))}static decode(e){return pS(Ml,this,e)}static decodeUnchecked(e){return lS(Ml,this,e)}};class pN extends Jy{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Ml=new Map;var eb;const tb=32,ni=32;function gN(t){return t._bn!==void 0}let E1=1;class Q extends Jy{constructor(e){if(super({}),this._bn=void 0,gN(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Mt.decode(e);if(n.length!=ni)throw new Error("Invalid public key input");this._bn=new wi(n)}else this._bn=new wi(e);if(this._bn.byteLength()>ni)throw new Error("Invalid public key input")}}static unique(){const e=new Q(E1);return E1+=1,new Q(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Mt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ue.Buffer);if(e.length===ni)return e;const n=ue.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ue.Buffer.concat([e.toBuffer(),ue.Buffer.from(n),r.toBuffer()]),o=Pd(i);return new Q(o)}static createProgramAddressSync(e,n){let r=ue.Buffer.alloc(0);e.forEach(function(o){if(o.length>tb)throw new TypeError("Max seed length exceeded");r=ue.Buffer.concat([r,Me(o)])}),r=ue.Buffer.concat([r,n.toBuffer(),ue.Buffer.from("ProgramDerivedAddress")]);const i=Pd(r);if(_1(i))throw new Error("Invalid seeds, address must fall off the curve");return new Q(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(ue.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Q(e);return _1(n.toBytes())}}eb=Q;Q.default=new eb("11111111111111111111111111111111");Ml.set(Q,{kind:"struct",fields:[["_bn","u256"]]});class yN{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Me(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Me(fN()),this._publicKey=Me(Hd(this._secretKey))}get publicKey(){return new Q(this._publicKey)}get secretKey(){return ue.Buffer.concat([this._secretKey,this._publicKey],64)}}const mN=new Q("BPFLoader1111111111111111111111111111111111"),yo=1232,Tf=127,tu=64;class em extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(em.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class tm extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(tm.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ta extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ta.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class nu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Ce=(t="publicKey")=>lt(32,t),wN=(t="signature")=>lt(64,t),Zo=(t="string")=>{const e=he([fe("length"),fe("lengthPadding"),lt(go(fe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:ue.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>fe().span+fe().span+ue.Buffer.from(o,"utf8").length,i},vN=(t="authorized")=>he([Ce("staker"),Ce("withdrawer")],t),_N=(t="lockup")=>he([ir("unixTimestamp"),ir("epoch"),Ce("custodian")],t),EN=(t="voteInit")=>he([Ce("nodePubkey"),Ce("authorizedVoter"),Ce("authorizedWithdrawer"),De("commission")],t),SN=(t="voteAuthorizeWithSeedArgs")=>he([fe("voteAuthorizationType"),Ce("currentAuthorityDerivedKeyOwnerPubkey"),Zo("currentAuthorityDerivedKeySeed"),Ce("newAuthorized")],t);function nb(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return nb({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Wn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function or(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function je(t,e){if(!t)throw new Error(e||"Assertion failed")}class Mf{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Mf(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];je(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{je(n.length>0,"Expected at least one writable signer key");const[l]=n[0];je(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Q(l)),...r.map(([l])=>new Q(l)),...i.map(([l])=>new Q(l)),...o.map(([l])=>new Q(l))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Q(o),l=e.findIndex(c=>c.equals(a));l>=0&&(je(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const rb="Reached end of buffer unexpectedly";function qr(t){if(t.length===0)throw new Error(rb);return t.shift()}function Fn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(rb);return t.splice(...e)}class Wr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Q(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Mt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new nu(this.staticAccountKeys)}static compile(e){const n=Mf.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new nu(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Mt.encode(a.data)}));return new Wr({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];or(n,e);const r=this.instructions.map(g=>{const{accounts:w,programIdIndex:m}=g,E=Array.from(Mt.decode(g.data));let k=[];or(k,w.length);let N=[];return or(N,E.length),{programIdIndex:m,keyIndicesCount:ue.Buffer.from(k),keyIndices:w,dataLength:ue.Buffer.from(N),data:E}});let i=[];or(i,r.length);let o=ue.Buffer.alloc(yo);ue.Buffer.from(i).copy(o);let s=i.length;r.forEach(g=>{const m=he([De("programIdIndex"),lt(g.keyIndicesCount.length,"keyIndicesCount"),mn(De("keyIndex"),g.keyIndices.length,"keyIndices"),lt(g.dataLength.length,"dataLength"),mn(De("userdatum"),g.data.length,"data")]).encode(g,o,s);s+=m}),o=o.slice(0,s);const a=he([lt(1,"numRequiredSignatures"),lt(1,"numReadonlySignedAccounts"),lt(1,"numReadonlyUnsignedAccounts"),lt(n.length,"keyCount"),mn(Ce("key"),e,"keys"),Ce("recentBlockhash")]),l={numRequiredSignatures:ue.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ue.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ue.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ue.Buffer.from(n),keys:this.accountKeys.map(g=>Me(g.toBytes())),recentBlockhash:Mt.decode(this.recentBlockhash)};let c=ue.Buffer.alloc(2048);const f=a.encode(l,c);return o.copy(c,f),c.slice(0,f+o.length)}static from(e){let n=[...e];const r=qr(n);if(r!==(r&Tf))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=qr(n),o=qr(n),s=Wn(n);let a=[];for(let w=0;w<s;w++){const m=Fn(n,0,ni);a.push(new Q(ue.Buffer.from(m)))}const l=Fn(n,0,ni),c=Wn(n);let f=[];for(let w=0;w<c;w++){const m=qr(n),E=Wn(n),k=Fn(n,0,E),N=Wn(n),b=Fn(n,0,N),A=Mt.encode(ue.Buffer.from(b));f.push({programIdIndex:m,accounts:k,data:A})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Mt.encode(ue.Buffer.from(l)),accountKeys:a,instructions:f};return new Wr(g)}}class hs{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new nu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Mf.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const f of o){const g=n.extractTableLookup(f);if(g!==void 0){const[w,{writable:m,readonly:E}]=g;r.push(w),i.writable.push(...m),i.readonly.push(...E)}}const[s,a]=n.getMessageComponents(),c=new nu(a,i).compileInstructions(e.instructions);return new hs({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();or(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();or(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();or(o,this.addressTableLookups.length);const s=he([De("prefix"),he([De("numRequiredSignatures"),De("numReadonlySignedAccounts"),De("numReadonlyUnsignedAccounts")],"header"),lt(e.length,"staticAccountKeysLength"),mn(Ce(),this.staticAccountKeys.length,"staticAccountKeys"),Ce("recentBlockhash"),lt(r.length,"instructionsLength"),lt(n.length,"serializedInstructions"),lt(o.length,"addressTableLookupsLength"),lt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(yo),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:Mt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(yo);for(const r of this.compiledInstructions){const i=Array();or(i,r.accountKeyIndexes.length);const o=Array();or(o,r.data.length);const s=he([De("programIdIndex"),lt(i.length,"encodedAccountKeyIndexesLength"),mn(De(),r.accountKeyIndexes.length,"accountKeyIndexes"),lt(o.length,"encodedDataLength"),lt(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(yo);for(const r of this.addressTableLookups){const i=Array();or(i,r.writableIndexes.length);const o=Array();or(o,r.readonlyIndexes.length);const s=he([Ce("accountKey"),lt(i.length,"encodedWritableIndexesLength"),mn(De(),r.writableIndexes.length,"writableIndexes"),lt(o.length,"encodedReadonlyIndexesLength"),mn(De(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=qr(n),i=r&Tf;je(r!==i,"Expected versioned message but received legacy message");const o=i;je(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:qr(n),numReadonlySignedAccounts:qr(n),numReadonlyUnsignedAccounts:qr(n)},a=[],l=Wn(n);for(let E=0;E<l;E++)a.push(new Q(Fn(n,0,ni)));const c=Mt.encode(Fn(n,0,ni)),f=Wn(n),g=[];for(let E=0;E<f;E++){const k=qr(n),N=Wn(n),b=Fn(n,0,N),A=Wn(n),S=new Uint8Array(Fn(n,0,A));g.push({programIdIndex:k,accountKeyIndexes:b,data:S})}const w=Wn(n),m=[];for(let E=0;E<w;E++){const k=new Q(Fn(n,0,ni)),N=Wn(n),b=Fn(n,0,N),A=Wn(n),S=Fn(n,0,A);m.push({accountKey:k,writableIndexes:b,readonlyIndexes:S})}return new hs({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:m})}}const nm={deserializeMessageVersion(t){const e=t[0],n=e&Tf;return n===e?"legacy":n},deserialize:t=>{const e=nm.deserializeMessageVersion(t);if(e==="legacy")return Wr.from(t);if(e===0)return hs.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let fi=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const bN=ue.Buffer.alloc(tu).fill(0);class $e{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ue.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Le{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new $e(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<n.length;k++)if(n[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const i=[],o=[];n.forEach(k=>{k.keys.forEach(b=>{o.push({...b})});const N=k.programId.toString();i.includes(N)||i.push(N)}),i.forEach(k=>{o.push({pubkey:new Q(k),isSigner:!1,isWritable:!1})});const s=[];o.forEach(k=>{const N=k.pubkey.toString(),b=s.findIndex(A=>A.pubkey.toString()===N);b>-1?(s[b].isWritable=s[b].isWritable||k.isWritable,s[b].isSigner=s[b].isSigner||k.isSigner):s.push(k)}),s.sort(function(k,N){if(k.isSigner!==N.isSigner)return k.isSigner?-1:1;if(k.isWritable!==N.isWritable)return k.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(N.pubkey.toBase58(),"en",b)});const a=s.findIndex(k=>k.pubkey.equals(r));if(a>-1){const[k]=s.splice(a,1);k.isSigner=!0,k.isWritable=!0,s.unshift(k)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const k of this.signatures){const N=s.findIndex(b=>b.pubkey.equals(k.publicKey));if(N>-1)s[N].isSigner||(s[N].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let l=0,c=0,f=0;const g=[],w=[];s.forEach(({pubkey:k,isSigner:N,isWritable:b})=>{N?(g.push(k.toString()),l+=1,b||(c+=1)):(w.push(k.toString()),b||(f+=1))});const m=g.concat(w),E=n.map(k=>{const{data:N,programId:b}=k;return{programIdIndex:m.indexOf(b.toString()),accounts:k.keys.map(A=>m.indexOf(A.pubkey.toString())),data:Mt.encode(N)}});return E.forEach(k=>{je(k.programIdIndex>=0),k.accounts.forEach(N=>je(N>=0))}),new Wr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:f},accountKeys:m,recentBlockhash:e,instructions:E})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=Xy(r,i.secretKey);this._addSignature(i.publicKey,Me(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){je(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ue.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):hN(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];or(r,n.length);const i=r.length+n.length*64+e.length,o=ue.Buffer.alloc(i);return je(n.length<256),ue.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(je(s.length===64,"signature has invalid length"),ue.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),je(o.length<=yo,`Transaction too large: ${o.length} > ${yo}`),o}get keys(){return je(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return je(this.instructions.length===1),this.instructions[0].programId}get data(){return je(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Wn(n);let i=[];for(let o=0;o<r;o++){const s=Fn(n,0,tu);i.push(Mt.encode(ue.Buffer.from(s)))}return Le.populate(Wr.from(n),i)}static populate(e,n=[]){const r=new Le;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==Mt.encode(bN)?null:Mt.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new $e({keys:o,programId:e.accountKeys[i.programIdIndex],data:Mt.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class rm{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;je(c>0,"Message header is invalid");const f=e.staticAccountKeys.length-s-l;je(f>=0,"Message header is invalid");const g=e.getAccountKeys(n),w=g.get(0);if(w===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const E of i){const k=[];for(const b of E.accountKeyIndexes){const A=g.get(b);if(A===void 0)throw new Error(`Failed to find key for account key index ${b}`);const S=b<s;let x;S?x=b<c:b<g.staticAccountKeys.length?x=b-s<f:x=b-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,k.push({pubkey:A,isSigner:b<r.numRequiredSignatures,isWritable:x})}const N=g.get(E.programIdIndex);if(N===void 0)throw new Error(`Failed to find program id for program id index ${E.programIdIndex}`);m.push(new $e({programId:N,data:Me(E.data),keys:k}))}return new rm({payerKey:w,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Wr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return hs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class ru{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)je(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(tu));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();or(n,this.signatures.length);const r=he([lt(n.length,"encodedSignaturesLength"),mn(wN(),this.signatures.length,"signatures"),lt(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let n=[...e];const r=[],i=Wn(n);for(let s=0;s<i;s++)r.push(new Uint8Array(Fn(n,0,tu)));const o=nm.deserialize(new Uint8Array(n));return new ru(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));je(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Xy(n,i.secretKey)}}addSignature(e,n){je(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));je(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const AN=160,IN=64,RN=AN/IN,ib=1e3/RN,Kr=new Q("SysvarC1ock11111111111111111111111111111111"),kN=new Q("SysvarEpochSchedu1e111111111111111111111111"),TN=new Q("Sysvar1nstructions1111111111111111111111111"),Ic=new Q("SysvarRecentB1ockHashes11111111111111111111"),ka=new Q("SysvarRent111111111111111111111111111111111"),MN=new Q("SysvarRewards111111111111111111111111111111"),NN=new Q("SysvarS1otHashes111111111111111111111111111"),xN=new Q("SysvarS1otHistory11111111111111111111111111"),Rc=new Q("SysvarStakeHistory1111111111111111111111111");class Eo extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const ON={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ge extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function T0(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw o!=null?new Eo({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Fo(t){return new Promise(e=>setTimeout(e,t))}function Pe(t,e){const n=t.layout.span>=0?t.layout.span:nb(t,e),r=ue.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function He(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const ob=fn("lamportsPerSignature"),sb=he([fe("version"),fe("state"),Ce("authorizedPubkey"),Ce("nonce"),he([ob],"feeCalculator")]),M0=sb.span;class Nf{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=sb.decode(Me(e),0);return new Nf({authorizedPubkey:new Q(n.authorizedPubkey),nonce:new Q(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Ta(t){const e=lt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=oM();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}class CN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(nt))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=He(nt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new Q(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=He(nt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=He(nt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new Q(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=He(nt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:o}=He(nt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Q(n),seed:r,space:i,programId:new Q(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=He(nt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Q(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=He(nt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Q(n),seed:r,programId:new Q(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:o,programId:s}=He(nt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Q(n),seed:r,lamports:i,space:o,programId:new Q(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=He(nt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Q(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),He(nt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=He(nt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=He(nt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Q(n)}}static checkProgramId(e){if(!e.equals(Jt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const nt=Object.freeze({Create:{index:0,layout:he([fe("instruction"),ir("lamports"),ir("space"),Ce("programId")])},Assign:{index:1,layout:he([fe("instruction"),Ce("programId")])},Transfer:{index:2,layout:he([fe("instruction"),Ta("lamports")])},CreateWithSeed:{index:3,layout:he([fe("instruction"),Ce("base"),Zo("seed"),ir("lamports"),ir("space"),Ce("programId")])},AdvanceNonceAccount:{index:4,layout:he([fe("instruction")])},WithdrawNonceAccount:{index:5,layout:he([fe("instruction"),ir("lamports")])},InitializeNonceAccount:{index:6,layout:he([fe("instruction"),Ce("authorized")])},AuthorizeNonceAccount:{index:7,layout:he([fe("instruction"),Ce("authorized")])},Allocate:{index:8,layout:he([fe("instruction"),ir("space")])},AllocateWithSeed:{index:9,layout:he([fe("instruction"),Ce("base"),Zo("seed"),ir("space"),Ce("programId")])},AssignWithSeed:{index:10,layout:he([fe("instruction"),Ce("base"),Zo("seed"),Ce("programId")])},TransferWithSeed:{index:11,layout:he([fe("instruction"),Ta("lamports"),Zo("seed"),Ce("programId")])},UpgradeNonceAccount:{index:12,layout:he([fe("instruction")])}});class Jt{constructor(){}static createAccount(e){const n=nt.Create,r=Pe(n,{lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())});return new $e({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=nt.TransferWithSeed;n=Pe(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=nt.Transfer;n=Pe(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new $e({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=nt.AssignWithSeed;n=Pe(i,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=nt.Assign;n=Pe(i,{programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $e({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=nt.CreateWithSeed,r=Pe(n,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new $e({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Le;"basePubkey"in e&&"seed"in e?n.add(Jt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:M0,programId:this.programId})):n.add(Jt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:M0,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=nt.InitializeNonceAccount,r=Pe(n,{authorized:Me(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ic,isSigner:!1,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new $e(i)}static nonceAdvance(e){const n=nt.AdvanceNonceAccount,r=Pe(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ic,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new $e(i)}static nonceWithdraw(e){const n=nt.WithdrawNonceAccount,r=Pe(n,{lamports:e.lamports});return new $e({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ic,isSigner:!1,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=nt.AuthorizeNonceAccount,r=Pe(n,{authorized:Me(e.newAuthorizedPubkey.toBuffer())});return new $e({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=nt.AllocateWithSeed;n=Pe(i,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=nt.Allocate;n=Pe(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $e({keys:r,programId:this.programId,data:n})}}Jt.programId=new Q("11111111111111111111111111111111");const LN=yo-300;class ps{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ps.chunkSize)+1+1)}static async load(e,n,r,i,o){{const g=await e.getMinimumBalanceForRentExemption(o.length),w=await e.getAccountInfo(r.publicKey,"confirmed");let m=null;if(w!==null){if(w.executable)return console.error("Program load failed, account is already executable"),!1;w.data.length!==o.length&&(m=m||new Le,m.add(Jt.allocate({accountPubkey:r.publicKey,space:o.length}))),w.owner.equals(i)||(m=m||new Le,m.add(Jt.assign({accountPubkey:r.publicKey,programId:i}))),w.lamports<g&&(m=m||new Le,m.add(Jt.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:g-w.lamports})))}else m=new Le().add(Jt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:g>0?g:1,space:o.length,programId:i}));m!==null&&await T0(e,m,[n,r],{commitment:"confirmed"})}const s=he([fe("instruction"),fe("offset"),fe("bytesLength"),fe("bytesLengthPadding"),mn(De("byte"),go(fe(),-8),"bytes")]),a=ps.chunkSize;let l=0,c=o,f=[];for(;c.length>0;){const g=c.slice(0,a),w=ue.Buffer.alloc(a+16);s.encode({instruction:0,offset:l,bytes:g,bytesLength:0,bytesLengthPadding:0},w);const m=new Le().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:w});f.push(T0(e,m,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Fo(1e3/4),l+=a,c=c.slice(a)}await Promise.all(f);{const g=he([fe("instruction")]),w=ue.Buffer.alloc(g.span);g.encode({instruction:1},w);const m=new Le().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1}],programId:i,data:w}),E="processed",k=await e.sendTransaction(m,[n,r],{preflightCommitment:E}),{context:N,value:b}=await e.confirmTransaction({signature:k,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},E);if(b.err)throw new Error(`Transaction ${k} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:E})>N.slot)break}catch{}await new Promise(A=>setTimeout(A,Math.round(ib/2)))}}return!0}}ps.chunkSize=LN;const BN=new Q("BPFLoader2111111111111111111111111111111111");class PN{static getMinNumSignatures(e){return ps.getMinNumSignatures(e)}static load(e,n,r,i,o){return ps.load(e,n,r,o,i)}}function DN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ap,S1;function UN(){if(S1)return ap;S1=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,f,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(g=t.call(r),g==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(g==="[object Object]"){for(l=e(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],f=n(r[c],!1),f!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+f),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return ap=function(r){var i=n(r,!1);if(i!==void 0)return""+i},ap}var zN=UN(),b1=DN(zN);const tl=32;function lp(t){let e=0;for(;t>1;)t/=2,e++;return e}function jN(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class ab{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=lp(jN(e+tl+1))-lp(tl)-1,r=this.getSlotsInEpoch(n),i=e-(r-tl);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*tl:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+lp(tl)):this.slotsPerEpoch}}var WN=globalThis.fetch;class FN extends HM{constructor(e,n,r){const i=o=>{const s=WM(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function HN(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const A1=56;class N0{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=HN($N,e),r=e.length-A1;je(r>=0,"lookup table is invalid"),je(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=he([mn(Ce(),i,"addresses")]).decode(e.slice(A1));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Q(n.authority[0]):void 0,addresses:o.map(s=>new Q(s))}}}const $N={index:1,layout:he([fe("typeIndex"),Ta("deactivationSlot"),fn("lastExtendedSlot"),De("lastExtendedStartIndex"),De(),mn(Ce(),go(De(),-1),"authority")])},KN=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function VN(t){const e=t.match(KN);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const _t=wu(Gy(Q),re(),t=>new Q(t)),lb=Yy([re(),mt("base64")]),im=wu(Gy(ue.Buffer),lb,t=>ue.Buffer.from(t[0],"base64")),ub=30*1e3;function GN(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function tt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function I1(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function cb(t){return Dn([X({jsonrpc:mt("2.0"),id:re(),result:t}),X({jsonrpc:mt("2.0"),id:re(),error:X({code:ja(),message:re(),data:ye(dM())})})])}const YN=cb(ja());function Te(t){return wu(cb(t),YN,e=>"error"in e?e:{...e,result:oe(e.result,t)})}function Nt(t){return Te(X({context:X({slot:V()}),value:t}))}function xf(t){return X({context:X({slot:V()}),value:t})}function up(t,e){return t===0?new hs({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Q(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Mt.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Wr(e)}const qN=X({foundation:V(),foundationTerm:V(),initial:V(),taper:V(),terminal:V()}),ZN=Te(ae(le(X({epoch:V(),effectiveSlot:V(),amount:V(),postBalance:V(),commission:ye(le(V()))})))),QN=ae(X({slot:V(),prioritizationFee:V()})),XN=X({total:V(),validator:V(),foundation:V(),epoch:V()}),JN=X({epoch:V(),slotIndex:V(),slotsInEpoch:V(),absoluteSlot:V(),blockHeight:ye(V()),transactionCount:ye(V())}),ex=X({slotsPerEpoch:V(),leaderScheduleSlotOffset:V(),warmup:ri(),firstNormalEpoch:V(),firstNormalSlot:V()}),tx=DS(re(),ae(V())),bs=le(Dn([X({}),re()])),nx=X({err:bs}),rx=mt("receivedSignature"),ix=X({"solana-core":re(),"feature-set":ye(V())}),ox=X({program:re(),programId:_t,parsed:ja()}),sx=X({programId:_t,accounts:ae(_t),data:re()}),R1=Nt(X({err:le(Dn([X({}),re()])),logs:le(ae(re())),accounts:ye(le(ae(le(X({executable:ri(),owner:re(),lamports:V(),data:ae(re()),rentEpoch:ye(V())}))))),unitsConsumed:ye(V()),returnData:ye(le(X({programId:re(),data:Yy([re(),mt("base64")])}))),innerInstructions:ye(le(ae(X({index:V(),instructions:ae(Dn([ox,sx]))}))))})),ax=Nt(X({byIdentity:DS(re(),ae(V())),range:X({firstSlot:V(),lastSlot:V()})}));function lx(t,e,n,r,i,o){const s=n||WN;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(f,g)=>{const w=await new Promise((m,E)=>{try{r(f,g,(k,N)=>m([k,N]))}catch(k){E(k)}});return await s(...w)}),new UM(async(f,g)=>{const w={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},lO)};try{let m=5,E,k=500;for(;l?E=await l(t,w):E=await s(t,w),!(E.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${E.status} ${E.statusText}.  Retrying after ${k}ms delay...`),await Fo(k),k*=2;const N=await E.text();E.ok?g(null,N):g(new Error(`${E.status} ${E.statusText}: ${N}`))}catch(m){m instanceof Error&&g(m)}},{})}function ux(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function cx(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const dx=Te(qN),fx=Te(XN),hx=Te(QN),px=Te(JN),gx=Te(ex),yx=Te(tx),mx=Te(V()),wx=Nt(X({total:V(),circulating:V(),nonCirculating:V(),nonCirculatingAccounts:ae(_t)})),x0=X({amount:re(),uiAmount:le(V()),decimals:V(),uiAmountString:ye(re())}),vx=Nt(ae(X({address:_t,amount:re(),uiAmount:le(V()),decimals:V(),uiAmountString:ye(re())}))),_x=Nt(ae(X({pubkey:_t,account:X({executable:ri(),owner:_t,lamports:V(),data:im,rentEpoch:V()})}))),O0=X({program:re(),parsed:ja(),space:V()}),Ex=Nt(ae(X({pubkey:_t,account:X({executable:ri(),owner:_t,lamports:V(),data:O0,rentEpoch:V()})}))),Sx=Nt(ae(X({lamports:V(),address:_t}))),iu=X({executable:ri(),owner:_t,lamports:V(),data:im,rentEpoch:V()}),bx=X({pubkey:_t,account:iu}),Ax=wu(Dn([Gy(ue.Buffer),O0]),Dn([lb,O0]),t=>Array.isArray(t)?oe(t,im):t),C0=X({executable:ri(),owner:_t,lamports:V(),data:Ax,rentEpoch:V()}),Ix=X({pubkey:_t,account:C0}),Rx=X({state:Dn([mt("active"),mt("inactive"),mt("activating"),mt("deactivating")]),active:V(),inactive:V()}),kx=Te(ae(X({signature:re(),slot:V(),err:bs,memo:le(re()),blockTime:ye(le(V()))}))),Tx=Te(ae(X({signature:re(),slot:V(),err:bs,memo:le(re()),blockTime:ye(le(V()))}))),Mx=X({subscription:V(),result:xf(iu)}),Nx=X({pubkey:_t,account:iu}),xx=X({subscription:V(),result:xf(Nx)}),Ox=X({parent:V(),slot:V(),root:V()}),Cx=X({subscription:V(),result:Ox}),Lx=Dn([X({type:Dn([mt("firstShredReceived"),mt("completed"),mt("optimisticConfirmation"),mt("root")]),slot:V(),timestamp:V()}),X({type:mt("createdBank"),parent:V(),slot:V(),timestamp:V()}),X({type:mt("frozen"),slot:V(),timestamp:V(),stats:X({numTransactionEntries:V(),numSuccessfulTransactions:V(),numFailedTransactions:V(),maxTransactionsPerEntry:V()})}),X({type:mt("dead"),slot:V(),timestamp:V(),err:re()})]),Bx=X({subscription:V(),result:Lx}),Px=X({subscription:V(),result:xf(Dn([nx,rx]))}),Dx=X({subscription:V(),result:V()}),Ux=X({pubkey:re(),gossip:le(re()),tpu:le(re()),rpc:le(re()),version:le(re())}),k1=X({votePubkey:re(),nodePubkey:re(),activatedStake:V(),epochVoteAccount:ri(),epochCredits:ae(Yy([V(),V(),V()])),commission:V(),lastVote:V(),rootSlot:le(V())}),zx=Te(X({current:ae(k1),delinquent:ae(k1)})),jx=Dn([mt("processed"),mt("confirmed"),mt("finalized")]),Wx=X({slot:V(),confirmations:le(V()),err:bs,confirmationStatus:ye(jx)}),Fx=Nt(ae(le(Wx))),Hx=Te(V()),db=X({accountKey:_t,writableIndexes:ae(V()),readonlyIndexes:ae(V())}),om=X({signatures:ae(re()),message:X({accountKeys:ae(re()),header:X({numRequiredSignatures:V(),numReadonlySignedAccounts:V(),numReadonlyUnsignedAccounts:V()}),instructions:ae(X({accounts:ae(V()),data:re(),programIdIndex:V()})),recentBlockhash:re(),addressTableLookups:ye(ae(db))})}),fb=X({pubkey:_t,signer:ri(),writable:ri(),source:ye(Dn([mt("transaction"),mt("lookupTable")]))}),hb=X({accountKeys:ae(fb),signatures:ae(re())}),pb=X({parsed:ja(),program:re(),programId:_t}),gb=X({accounts:ae(_t),data:re(),programId:_t}),$x=Dn([gb,pb]),Kx=Dn([X({parsed:ja(),program:re(),programId:re()}),X({accounts:ae(re()),data:re(),programId:re()})]),yb=wu($x,Kx,t=>"accounts"in t?oe(t,gb):oe(t,pb)),mb=X({signatures:ae(re()),message:X({accountKeys:ae(fb),instructions:ae(yb),recentBlockhash:re(),addressTableLookups:ye(le(ae(db)))})}),$d=X({accountIndex:V(),mint:re(),owner:ye(re()),programId:ye(re()),uiTokenAmount:x0}),wb=X({writable:ae(_t),readonly:ae(_t)}),Of=X({err:bs,fee:V(),innerInstructions:ye(le(ae(X({index:V(),instructions:ae(X({accounts:ae(V()),data:re(),programIdIndex:V()}))})))),preBalances:ae(V()),postBalances:ae(V()),logMessages:ye(le(ae(re()))),preTokenBalances:ye(le(ae($d))),postTokenBalances:ye(le(ae($d))),loadedAddresses:ye(wb),computeUnitsConsumed:ye(V()),costUnits:ye(V())}),sm=X({err:bs,fee:V(),innerInstructions:ye(le(ae(X({index:V(),instructions:ae(yb)})))),preBalances:ae(V()),postBalances:ae(V()),logMessages:ye(le(ae(re()))),preTokenBalances:ye(le(ae($d))),postTokenBalances:ye(le(ae($d))),loadedAddresses:ye(wb),computeUnitsConsumed:ye(V()),costUnits:ye(V())}),Wa=Dn([mt(0),mt("legacy")]),As=X({pubkey:re(),lamports:V(),postBalance:le(V()),rewardType:le(re()),commission:ye(le(V()))}),Vx=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),transactions:ae(X({transaction:om,meta:le(Of),version:ye(Wa)})),rewards:ye(ae(As)),blockTime:le(V()),blockHeight:le(V())}))),Gx=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),rewards:ye(ae(As)),blockTime:le(V()),blockHeight:le(V())}))),Yx=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),transactions:ae(X({transaction:hb,meta:le(Of),version:ye(Wa)})),rewards:ye(ae(As)),blockTime:le(V()),blockHeight:le(V())}))),qx=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),transactions:ae(X({transaction:mb,meta:le(sm),version:ye(Wa)})),rewards:ye(ae(As)),blockTime:le(V()),blockHeight:le(V())}))),Zx=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),transactions:ae(X({transaction:hb,meta:le(sm),version:ye(Wa)})),rewards:ye(ae(As)),blockTime:le(V()),blockHeight:le(V())}))),Qx=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),rewards:ye(ae(As)),blockTime:le(V()),blockHeight:le(V())}))),Xx=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),transactions:ae(X({transaction:om,meta:le(Of)})),rewards:ye(ae(As)),blockTime:le(V())}))),T1=Te(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:V(),signatures:ae(re()),blockTime:le(V())}))),cp=Te(le(X({slot:V(),meta:le(Of),blockTime:ye(le(V())),transaction:om,version:ye(Wa)}))),rc=Te(le(X({slot:V(),transaction:mb,meta:le(sm),blockTime:ye(le(V())),version:ye(Wa)}))),Jx=Nt(X({blockhash:re(),lastValidBlockHeight:V()})),eO=Nt(ri()),tO=X({slot:V(),numTransactions:V(),numSlots:V(),samplePeriodSecs:V()}),nO=Te(ae(tO)),rO=Nt(le(X({feeCalculator:X({lamportsPerSignature:V()})}))),iO=Te(re()),oO=Te(re()),sO=X({err:bs,logs:ae(re()),signature:re()}),aO=X({result:xf(sO),subscription:V()}),lO={"solana-client":"js/1.0.0-maintenance"};class am{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async f=>{const{commitment:g,config:w}=tt(f),m=this._buildArgs([],g,void 0,w),E=b1(m);return c[E]=c[E]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",m),N=oe(k,Te(V()));if("error"in N)throw new ge(N.error,"failed to get block height information");return N.result}finally{delete c[E]}})(),await c[E]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=GN(e),this._rpcWsEndpoint=r||VN(e),this._rpcClient=lx(e,i,o,s,a,l),this._rpcRequest=ux(this._rpcClient),this._rpcBatchRequest=cx(this._rpcClient),this._rpcWebSocket=new FN(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=oe(s,Nt(V()));if("error"in a)throw new ge(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=oe(n,Te(le(V())));if("error"in r)throw new ge(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=oe(e,Te(V()));if("error"in n)throw new ge(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=oe(e,mx);if("error"in n)throw new ge(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=oe(r,wx);if("error"in i)throw new ge(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=oe(i,Nt(x0));if("error"in o)throw new ge(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=oe(i,Nt(x0));if("error"in o)throw new ge(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=tt(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=oe(l,_x);if("error"in c)throw new ge(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=oe(s,Ex);if("error"in a)throw new ge(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=oe(i,Sx);if("error"in o)throw new ge(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=oe(i,vx);if("error"in o)throw new ge(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=oe(s,Nt(le(iu)));if("error"in a)throw new ge(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=oe(s,Nt(le(C0)));if("error"in a)throw new ge(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=tt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=oe(a,Nt(ae(le(C0))));if("error"in l)throw new ge(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=tt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=oe(a,Nt(ae(le(iu))));if("error"in l)throw new ge(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=tt(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=oe(a,Te(Rx));if("error"in l)throw new ge(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=tt(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:I1(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=ae(bx),f=s.withContext===!0?oe(l,Nt(c)):oe(l,Te(c));if("error"in f)throw new ge(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=oe(s,Te(ae(Ix)));if("error"in a)throw new ge(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Mt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return je(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(g,w)=>{r=void 0;const m={context:w,value:g};l({__type:fi.PROCESSED,response:m})},e);const f=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,w=>{w==="subscribed"&&g()})});(async()=>{if(await f,o)return;const g=await this.getSignatureStatus(n);if(o||g==null)return;const{context:w,value:m}=g;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:fi.PROCESSED,response:{context:w,value:m}})}})()}catch(f){c(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(g=>{const w=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await w();if(!o){for(;m<=r;)if(await Fo(1e3),o||(m=await w(),o))return;g({__type:fi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let f;try{const g=await Promise.race([c,l,s]);if(g.__type===fi.PROCESSED)f=g.response;else throw new em(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let E=o,k=null;const N=async()=>{try{const{context:b,value:A}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return k=b.slot,A==null?void 0:A.nonce}catch{return E}};(async()=>{if(E=await N(),!a)for(;;){if(o!==E){m({__type:fi.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await Fo(2e3),a||(E=await N(),a))return}})()}),{abortConfirmation:c,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),g=this.getCancellationPromise(n);let w;try{const m=await Promise.race([g,f,l]);if(m.__type===fi.PROCESSED)w=m.response;else{let E;for(;;){const k=await this.getSignatureStatus(s);if(k==null)break;if(k.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Fo(400);continue}E=k;break}if(E!=null&&E.value){const k=e||"finalized",{confirmationStatus:N}=E.value;switch(k){case"processed":case"recent":if(N!=="processed"&&N!=="confirmed"&&N!=="finalized")throw new ta(s);break;case"confirmed":case"single":case"singleGossip":if(N!=="confirmed"&&N!=="finalized")throw new ta(s);break;case"finalized":case"max":case"root":if(N!=="finalized")throw new ta(s);break;default:}w={context:E.context,value:{err:E.value.err}}}else throw new ta(s)}}finally{a=!0,c()}return w}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:fi.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===fi.PROCESSED)a=l.response;else throw new tm(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=oe(e,Te(ae(Ux)));if("error"in n)throw new ge(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=oe(r,zx);if("error"in i)throw new ge(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=oe(o,Te(V()));if("error"in s)throw new ge(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=oe(o,Te(re()));if("error"in s)throw new ge(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=oe(i,Te(ae(_t)));if("error"in o)throw new ge(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);je(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=oe(i,Fx);if("error"in o)throw new ge(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=oe(o,Te(V()));if("error"in s)throw new ge(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=oe(r,dx);if("error"in i)throw new ge(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=tt(r),s=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=oe(a,ZN);if("error"in l)throw new ge(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=oe(e,fx);if("error"in n)throw new ge(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=oe(o,px);if("error"in s)throw new ge(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=oe(e,gx);if("error"in n)throw new ge(n.error,"failed to get epoch schedule");const r=n.result;return new ab(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=oe(e,yx);if("error"in n)throw new ge(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=oe(i,Hx);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=oe(n,nO);if("error"in r)throw new ge(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=oe(i,rO);if("error"in o)throw new ge(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Me(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=oe(o,Nt(le(V())));if("error"in s)throw new ge(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=oe(i,hx);if("error"in o)throw new ge(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=oe(o,Jx);if("error"in s)throw new ge(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=oe(s,eO);if("error"in a)throw new ge(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=oe(e,Te(ix));if("error"in n)throw new ge(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=oe(e,Te(re()));if("error"in n)throw new ge(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(s,Yx);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(s,Gx);if("error"in a)throw a.error;return a.result}default:{const a=oe(s,Vx);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:f,version:g})=>({meta:f,transaction:{...c,message:up(g,c.message)},version:g}))}:null}}}catch(a){throw new ge(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(s,Zx);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(s,Qx);if("error"in a)throw a.error;return a.result}default:{const a=oe(s,qx);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ge(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=oe(o,ax);if("error"in s)throw new ge(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=oe(s,cp);if("error"in a)throw new ge(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:up(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=oe(s,rc);if("error"in a)throw new ge(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=tt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=oe(l,rc);if("error"in c)throw new ge(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=tt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=oe(l,cp);if("error"in c)throw new ge(c.error,"failed to get transactions");const f=c.result;return f&&{...f,transaction:{...f.transaction,message:up(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=oe(i,Xx);if("error"in o)throw new ge(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const f=new Wr(l.message);return{meta:c,transaction:{...l,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Le.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=oe(o,Te(ae(V())));if("error"in s)throw new ge(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=oe(i,T1);if("error"in o)throw new ge(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=oe(i,T1);if("error"in o)throw new ge(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=oe(i,cp);if("error"in o)throw new ge(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Wr(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Le.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=oe(i,rc);if("error"in o)throw new ge(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=oe(s,rc);if("error"in a)throw new ge(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=oe(o,kx);if("error"in s)throw new ge(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=oe(o,Tx);if("error"in s)throw new ge(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new N0({key:e,state:N0.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=Nf.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=oe(r,iO);if("error"in i)throw new ge(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Fo(100);const r=Date.now()-this._blockhashInfo.lastFetch>=ub;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Fo(ib/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=oe(o,Nt(V()));if("error"in s)throw new ge(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const k=e.serialize(),N=ue.Buffer.from(k).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const A=[N,b],S=await this._rpcRequest("simulateTransaction",A),x=oe(S,R1);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof Le){let E=e;i=new Le,i.feePayer=E.feePayer,i.instructions=e.instructions,i.nonceInfo=E.nonceInfo,i.signatures=E.signatures}else i=Le.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let E=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(E);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const N=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(N)&&!this._blockhashInfo.transactionSignatures.includes(N)){this._blockhashInfo.simulatedSignatures.push(N);break}else E=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(r){const E=(Array.isArray(r)?r:s.nonProgramIds()).map(k=>k.toBase58());f.accounts={encoding:"base64",addresses:E}}o&&(f.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(f.innerInstructions=n.innerInstructions);const g=[c,f],w=await this._rpcRequest("simulateTransaction",g),m=oe(w,R1);if("error"in m){let E;if("data"in m.error&&(E=m.error.data.logs,E&&Array.isArray(E))){const k=`
    `,N=k+E.join(k);console.error(m.error.message,N)}throw new Eo({action:"simulate",signature:"",transactionMessage:m.error.message,logs:E})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=Me(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),l=oe(a,oO);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new Eo({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=oe(e,Mx);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=b1([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];je(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=tt(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=oe(e,xx);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=tt(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:I1(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=oe(e,aO);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=oe(e,Cx);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=oe(e,Bx);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=oe(e,Px);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=oe(e,Dx);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class fa{constructor(e){this._keypair=void 0,this._keypair=e??v1()}static generate(){return new fa(v1())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),o=Hd(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new fa({publicKey:r,secretKey:e})}static fromSeed(e){const n=Hd(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new fa({publicKey:n,secretKey:r})}get publicKey(){return new Q(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const _i=Object.freeze({CreateLookupTable:{index:0,layout:he([fe("instruction"),Ta("recentSlot"),De("bumpSeed")])},FreezeLookupTable:{index:1,layout:he([fe("instruction")])},ExtendLookupTable:{index:2,layout:he([fe("instruction"),Ta(),mn(Ce(),go(fe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:he([fe("instruction")])},CloseLookupTable:{index:4,layout:he([fe("instruction")])}});class uO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(_i))if(s.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=He(_i.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=He(_i.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new Q(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(lm.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class lm{constructor(){}static createLookupTable(e){const[n,r]=Q.findProgramAddressSync([e.authority.toBuffer(),LS().encode(e.recentSlot)],this.programId),i=_i.CreateLookupTable,o=Pe(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Jt.programId,isSigner:!1,isWritable:!1}];return[new $e({programId:this.programId,keys:s,data:o}),n]}static freezeLookupTable(e){const n=_i.FreezeLookupTable,r=Pe(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $e({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=_i.ExtendLookupTable,r=Pe(n,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Jt.programId,isSigner:!1,isWritable:!1}),new $e({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=_i.DeactivateLookupTable,r=Pe(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $e({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=_i.CloseLookupTable,r=Pe(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new $e({programId:this.programId,keys:i,data:r})}}lm.programId=new Q("AddressLookupTab1e1111111111111111111111111");class cO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=De("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Zr))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=He(Zr.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=He(Zr.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=He(Zr.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=He(Zr.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(um.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Zr=Object.freeze({RequestUnits:{index:0,layout:he([De("instruction"),fe("units"),fe("additionalFee")])},RequestHeapFrame:{index:1,layout:he([De("instruction"),fe("bytes")])},SetComputeUnitLimit:{index:2,layout:he([De("instruction"),fe("units")])},SetComputeUnitPrice:{index:3,layout:he([De("instruction"),Ta("microLamports")])}});class um{constructor(){}static requestUnits(e){const n=Zr.RequestUnits,r=Pe(n,e);return new $e({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=Zr.RequestHeapFrame,r=Pe(n,e);return new $e({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=Zr.SetComputeUnitLimit,r=Pe(n,e);return new $e({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=Zr.SetComputeUnitPrice,r=Pe(n,{microLamports:BigInt(e.microLamports)});return new $e({keys:[],programId:this.programId,data:r})}}um.programId=new Q("ComputeBudget111111111111111111111111111111");const M1=64,N1=32,x1=64,O1=he([De("numSignatures"),De("padding"),wr("signatureOffset"),wr("signatureInstructionIndex"),wr("publicKeyOffset"),wr("publicKeyInstructionIndex"),wr("messageDataOffset"),wr("messageDataSize"),wr("messageInstructionIndex")]);class Cf{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:o}=e;je(n.length===N1,`Public Key must be ${N1} bytes but received ${n.length} bytes`),je(i.length===x1,`Signature must be ${x1} bytes but received ${i.length} bytes`);const s=O1.span,a=s+n.length,l=a+i.length,c=1,f=ue.Buffer.alloc(l+r.length),g=o??65535;return O1.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:s,publicKeyInstructionIndex:g,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:g},f),f.fill(n,s),f.fill(i,a),f.fill(r,l),new $e({keys:[],programId:Cf.programId,data:f})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;je(n.length===M1,`Private key must be ${M1} bytes but received ${n.length} bytes`);try{const o=fa.fromSecretKey(n),s=o.publicKey.toBytes(),a=Xy(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Cf.programId=new Q("Ed25519SigVerify111111111111111111111111111");const dO=(t,e)=>{const n=Qy.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};Qy.utils.isValidPrivateKey;const fO=Qy.getPublicKey,C1=32,dp=20,L1=64,hO=11,fp=he([De("numSignatures"),wr("signatureOffset"),De("signatureInstructionIndex"),wr("ethAddressOffset"),De("ethAddressInstructionIndex"),wr("messageDataOffset"),wr("messageDataSize"),De("messageInstructionIndex"),lt(20,"ethAddress"),lt(64,"signature"),De("recoveryId")]);class ha{constructor(){}static publicKeyToEthAddress(e){je(e.length===L1,`Public key must be ${L1} bytes but received ${e.length} bytes`);try{return ue.Buffer.from(y1(Me(e))).slice(-dp)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return ha.createInstructionWithEthAddress({ethAddress:ha.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=ue.Buffer.from(n.substr(2),"hex"):a=ue.Buffer.from(n,"hex"):a=n,je(a.length===dp,`Address must be ${dp} bytes but received ${a.length} bytes`);const l=1+hO,c=l,f=l+a.length,g=f+i.length+1,w=1,m=ue.Buffer.alloc(fp.span+r.length);return fp.encode({numSignatures:w,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:c,ethAddressInstructionIndex:s,messageDataOffset:g,messageDataSize:r.length,messageInstructionIndex:s,signature:Me(i),ethAddress:Me(a),recoveryId:o},m),m.fill(Me(r),fp.span),new $e({keys:[],programId:ha.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;je(n.length===C1,`Private key must be ${C1} bytes but received ${n.length} bytes`);try{const o=Me(n),s=fO(o,!1).slice(1),a=ue.Buffer.from(y1(Me(r))),[l,c]=dO(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:l,recoveryId:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}ha.programId=new Q("KeccakSecp256k11111111111111111111111111111");var vb;const _b=new Q("StakeConfig11111111111111111111111111111111");class Eb{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class vu{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}vb=vu;vu.default=new vb(0,0,Q.default);class pO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ln))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=He(ln.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Eb(new Q(n.staker),new Q(n.withdrawer)),lockup:new vu(r.unixTimestamp,r.epoch,new Q(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),He(ln.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=He(ln.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Q(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=He(ln.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Q(o),newAuthorizedPubkey:new Q(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=He(ln.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),He(ln.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=He(ln.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),He(ln.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Lf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const ln=Object.freeze({Initialize:{index:0,layout:he([fe("instruction"),vN(),_N()])},Authorize:{index:1,layout:he([fe("instruction"),Ce("newAuthorized"),fe("stakeAuthorizationType")])},Delegate:{index:2,layout:he([fe("instruction")])},Split:{index:3,layout:he([fe("instruction"),ir("lamports")])},Withdraw:{index:4,layout:he([fe("instruction"),ir("lamports")])},Deactivate:{index:5,layout:he([fe("instruction")])},Merge:{index:7,layout:he([fe("instruction")])},AuthorizeWithSeed:{index:8,layout:he([fe("instruction"),Ce("newAuthorized"),fe("stakeAuthorizationType"),Zo("authoritySeed"),Ce("authorityOwner")])}}),gO=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Lf{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,o=i||vu.default,s=ln.Initialize,a=Pe(s,{authorized:{staker:Me(r.staker.toBuffer()),withdrawer:Me(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Me(o.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new $e(l)}static createAccountWithSeed(e){const n=new Le;n.add(Jt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const n=new Le;n.add(Jt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,o=ln.Delegate,s=Pe(o);return new Le().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Rc,isSigner:!1,isWritable:!1},{pubkey:_b,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=ln.Authorize,l=Pe(a,{newAuthorized:Me(i.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Le().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:l}=e,c=ln.AuthorizeWithSeed,f=Pe(c,{newAuthorized:Me(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Me(o.toBuffer())}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1}];return l&&g.push({pubkey:l,isSigner:!0,isWritable:!1}),new Le().add({keys:g,programId:this.programId,data:f})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=ln.Split,a=Pe(s,{lamports:o});return new $e({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Le;return r.add(Jt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:l}=e,c=new Le;return c.add(Jt.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(Jt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,o=ln.Merge,s=Pe(o);return new Le().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Rc,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=ln.Withdraw,l=Pe(a,{lamports:o}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Rc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Le().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=ln.Deactivate,o=Pe(i);return new Le().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Lf.programId=new Q("Stake11111111111111111111111111111111111111");Lf.space=200;class Sb{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class yO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Qr))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=He(Qr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Sb(new Q(n.nodePubkey),new Q(n.authorizedVoter),new Q(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=He(Qr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Q(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=He(Qr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Q(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Q(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=He(Qr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Fa.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Qr=Object.freeze({InitializeAccount:{index:0,layout:he([fe("instruction"),EN()])},Authorize:{index:1,layout:he([fe("instruction"),Ce("newAuthorized"),fe("voteAuthorizationType")])},Withdraw:{index:3,layout:he([fe("instruction"),ir("lamports")])},UpdateValidatorIdentity:{index:4,layout:he([fe("instruction")])},AuthorizeWithSeed:{index:10,layout:he([fe("instruction"),SN()])}}),mO=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Fa{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,o=Qr.InitializeAccount,s=Pe(o,{voteInit:{nodePubkey:Me(i.nodePubkey.toBuffer()),authorizedVoter:Me(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Me(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new $e(a)}static createAccount(e){const n=new Le;return n.add(Jt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Qr.Authorize,a=Pe(s,{newAuthorized:Me(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Le().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,l=Qr.AuthorizeWithSeed,c=Pe(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Me(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Me(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Le().add({keys:f,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=Qr.Withdraw,a=Pe(s,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Le().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Fa.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=Qr.UpdateValidatorIdentity,s=Pe(o),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Le().add({keys:a,programId:this.programId,data:s})}}Fa.programId=new Q("Vote111111111111111111111111111111111111111");Fa.space=3762;const bb=new Q("Va1idator1nfo111111111111111111111111111111"),wO=X({name:re(),website:ye(re()),details:ye(re()),iconUrl:ye(re()),keybaseUsername:ye(re())});class cm{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Wn(n)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new Q(Fn(n,0,ni)),a=qr(n)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(bb)&&i[1].isSigner){const o=Zo().decode(ue.Buffer.from(n)),s=JSON.parse(o);return BS(s,wO),new cm(i[1].publicKey,s)}return null}}const vO=new Q("Vote111111111111111111111111111111111111111"),_O=he([Ce("nodePubkey"),Ce("authorizedWithdrawer"),De("commission"),fn(),mn(he([fn("slot"),fe("confirmationCount")]),go(fe(),-8),"votes"),De("rootSlotValid"),fn("rootSlot"),fn(),mn(he([fn("epoch"),Ce("authorizedVoter")]),go(fe(),-8),"authorizedVoters"),he([mn(he([Ce("authorizedPubkey"),fn("epochOfLastAuthorizedSwitch"),fn("targetEpoch")]),32,"buf"),fn("idx"),De("isEmpty")],"priorVoters"),fn(),mn(he([fn("epoch"),fn("credits"),fn("prevCredits")]),go(fe(),-8),"epochCredits"),he([fn("slot"),fn("timestamp")],"lastTimestamp")]);class dm{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=_O.decode(Me(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new dm({nodePubkey:new Q(r.nodePubkey),authorizedWithdrawer:new Q(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(EO),priorVoters:SO(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function EO({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Q(t)}}function B1({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new Q(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function SO({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(B1),...t.slice(0,e).map(B1)]}const P1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function bO(t,e){const n=e===!1?"http":"https";if(!t)return P1[n].devnet;const r=P1[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function AO(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),l=o&&o.commitment,f=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(f.err)throw a!=null?new Eo({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(f)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}const ll=1e9,IO=Object.freeze(Object.defineProperty({__proto__:null,Account:yN,AddressLookupTableAccount:N0,AddressLookupTableInstruction:uO,AddressLookupTableProgram:lm,Authorized:Eb,BLOCKHASH_CACHE_TIMEOUT_MS:ub,BPF_LOADER_DEPRECATED_PROGRAM_ID:mN,BPF_LOADER_PROGRAM_ID:BN,BpfLoader:PN,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Zr,ComputeBudgetInstruction:cO,ComputeBudgetProgram:um,Connection:am,Ed25519Program:Cf,Enum:pN,EpochSchedule:ab,FeeCalculatorLayout:ob,Keypair:fa,LAMPORTS_PER_SOL:ll,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:_i,Loader:ps,Lockup:vu,MAX_SEED_LENGTH:tb,Message:Wr,MessageAccountKeys:nu,MessageV0:hs,NONCE_ACCOUNT_LENGTH:M0,NonceAccount:Nf,PACKET_DATA_SIZE:yo,PUBLIC_KEY_LENGTH:ni,PublicKey:Q,SIGNATURE_LENGTH_IN_BYTES:tu,SOLANA_SCHEMA:Ml,STAKE_CONFIG_ID:_b,STAKE_INSTRUCTION_LAYOUTS:ln,SYSTEM_INSTRUCTION_LAYOUTS:nt,SYSVAR_CLOCK_PUBKEY:Kr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:kN,SYSVAR_INSTRUCTIONS_PUBKEY:TN,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Ic,SYSVAR_RENT_PUBKEY:ka,SYSVAR_REWARDS_PUBKEY:MN,SYSVAR_SLOT_HASHES_PUBKEY:NN,SYSVAR_SLOT_HISTORY_PUBKEY:xN,SYSVAR_STAKE_HISTORY_PUBKEY:Rc,Secp256k1Program:ha,SendTransactionError:Eo,SolanaJSONRPCError:ge,SolanaJSONRPCErrorCode:ON,StakeAuthorizationLayout:gO,StakeInstruction:pO,StakeProgram:Lf,Struct:Jy,SystemInstruction:CN,SystemProgram:Jt,Transaction:Le,TransactionExpiredBlockheightExceededError:em,TransactionExpiredNonceInvalidError:ta,TransactionExpiredTimeoutError:tm,TransactionInstruction:$e,TransactionMessage:rm,TransactionStatus:fi,VALIDATOR_INFO_KEY:bb,VERSION_PREFIX_MASK:Tf,VOTE_PROGRAM_ID:vO,ValidatorInfo:cm,VersionedMessage:nm,VersionedTransaction:ru,VoteAccount:dm,VoteAuthorizationLayout:mO,VoteInit:Sb,VoteInstruction:yO,VoteProgram:Fa,clusterApiUrl:bO,sendAndConfirmRawTransaction:AO,sendAndConfirmTransaction:T0},Symbol.toStringTag,{value:"Module"}));var Ab={exports:{}};const RO=/[\p{Lu}]/u,kO=/[\p{Ll}]/u,D1=/^[\p{Lu}](?![\p{Lu}])/gu,Ib=/([\p{Alpha}\p{N}_]|$)/u,Rb=/[_.\- ]+/,TO=new RegExp("^"+Rb.source),U1=new RegExp(Rb.source+Ib.source,"gu"),z1=new RegExp("\\d+"+Ib.source,"gu"),MO=(t,e,n)=>{let r=!1,i=!1,o=!1;for(let s=0;s<t.length;s++){const a=t[s];r&&RO.test(a)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,o=i,i=!0,s++):i&&o&&kO.test(a)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),o=i,i=!1,r=!0):(r=e(a)===a&&n(a)!==a,o=i,i=n(a)===a&&e(a)!==a)}return t},NO=(t,e)=>(D1.lastIndex=0,t.replace(D1,n=>e(n))),xO=(t,e)=>(U1.lastIndex=0,z1.lastIndex=0,t.replace(U1,(n,r)=>e(r)).replace(z1,n=>e(n))),kb=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=MO(t,n,r)),t=t.replace(TO,""),e.preserveConsecutiveUppercase?t=NO(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),xO(t,r))};Ab.exports=kb;Ab.exports.default=kb;var Re={},ce={};let qe=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};ce.Layout=qe;function fm(t,e){return e.property?t+"["+e.property+"]":t}ce.nameWithProperty=fm;function OO(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof qe))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}ce.bindConstructorLayout=OO;let Kn=class extends qe{isCount(){throw new Error("ExternalLayout is abstract")}};class Tb extends Kn{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let hm=class extends Kn{constructor(e,n,r){if(!(e instanceof qe))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof ai||this.layout instanceof Pi}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},ai=class extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},Pi=class extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class Is extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class Ha extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const L0=Math.pow(2,32);function Bf(t){const e=Math.floor(t/L0),n=t-e*L0;return{hi32:e,lo32:n}}function Pf(t,e){return t*L0+e}let CO=class extends qe{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Pf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Bf(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}};class LO extends qe{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),i=e.readUInt32BE(n+4);return Pf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Bf(e);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}let BO=class extends qe{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Pf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Bf(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}};class PO extends qe{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),i=e.readUInt32BE(n+4);return Pf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Bf(e);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}class Mb extends qe{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class Nb extends qe{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class xb extends qe{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class Ob extends qe{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class Cb extends qe{constructor(e,n,r){if(!(e instanceof qe))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Kn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Kn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,i=this.count;if(i instanceof Kn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n){n===void 0&&(n=0);const r=[];let i=0,o=this.count;for(o instanceof Kn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r){r===void 0&&(r=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Kn&&this.count.encode(e.length,n,r),o}}let Lb=class extends qe{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof qe,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},pm=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Kd=class extends pm{constructor(e,n){if(!(e instanceof Kn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},gm=class extends qe{constructor(e,n,r){const i=e instanceof ai||e instanceof Pi;if(i)e=new Kd(new hm(e));else if(e instanceof Kn&&e.isCount())e=new Kd(e);else if(!(e instanceof pm))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof qe))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new Bb(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},Bb=class extends qe{constructor(e,n,r,i){if(!(e instanceof gm))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof qe))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function Cs(t){return 0>t&&(t+=4294967296),t}class ym extends qe{constructor(e,n,r){if(!(e instanceof ai||e instanceof Pi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Cs(o),this},this._packedGetValue=function(){return i}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(i));return r}encode(e,n,r){r===void 0&&(r=0);const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Nl(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Pb(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class Nl{constructor(e,n,r){if(!(e instanceof ym))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=Cs(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return Cs(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==Cs(e&this.valueMask))throw new TypeError(fm("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Cs(e<<this.start);this.container._packedSetValue(Cs(n&~this.wordMask)|r)}}let Pb=class extends Nl{constructor(e,n){super(e,1,n)}decode(e,n){return!!Nl.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),Nl.prototype.encode.call(this,e)}},Db=class extends qe{constructor(e,n){if(!(e instanceof Kn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Kn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Kn&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(fm("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof Kn&&this.length.encode(i,n,r),i}};class Ub extends qe{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);return e.slice(n,n+i-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),n[r+o]=0,o+1}}class zb extends qe{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+i).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),o}}class jb extends qe{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}ce.ExternalLayout=Kn;ce.GreedyCount=Tb;ce.OffsetLayout=hm;ce.UInt=ai;ce.UIntBE=Pi;ce.Int=Is;ce.IntBE=Ha;ce.Float=Mb;ce.FloatBE=Nb;ce.Double=xb;ce.DoubleBE=Ob;ce.Sequence=Cb;ce.Structure=Lb;ce.UnionDiscriminator=pm;ce.UnionLayoutDiscriminator=Kd;ce.Union=gm;ce.VariantLayout=Bb;ce.BitStructure=ym;ce.BitField=Nl;ce.Boolean=Pb;ce.Blob=Db;ce.CString=Ub;ce.UTF8=zb;ce.Constant=jb;ce.greedy=(t,e)=>new Tb(t,e);ce.offset=(t,e,n)=>new hm(t,e,n);ce.u8=t=>new ai(1,t);ce.u16=t=>new ai(2,t);ce.u24=t=>new ai(3,t);ce.u32=t=>new ai(4,t);ce.u40=t=>new ai(5,t);ce.u48=t=>new ai(6,t);ce.nu64=t=>new CO(t);ce.u16be=t=>new Pi(2,t);ce.u24be=t=>new Pi(3,t);ce.u32be=t=>new Pi(4,t);ce.u40be=t=>new Pi(5,t);ce.u48be=t=>new Pi(6,t);ce.nu64be=t=>new LO(t);ce.s8=t=>new Is(1,t);ce.s16=t=>new Is(2,t);ce.s24=t=>new Is(3,t);ce.s32=t=>new Is(4,t);ce.s40=t=>new Is(5,t);ce.s48=t=>new Is(6,t);ce.ns64=t=>new BO(t);ce.s16be=t=>new Ha(2,t);ce.s24be=t=>new Ha(3,t);ce.s32be=t=>new Ha(4,t);ce.s40be=t=>new Ha(5,t);ce.s48be=t=>new Ha(6,t);ce.ns64be=t=>new PO(t);ce.f32=t=>new Mb(t);ce.f32be=t=>new Nb(t);ce.f64=t=>new xb(t);ce.f64be=t=>new Ob(t);ce.struct=(t,e,n)=>new Lb(t,e,n);ce.bits=(t,e,n)=>new ym(t,e,n);ce.seq=(t,e,n)=>new Cb(t,e,n);ce.union=(t,e,n)=>new gm(t,e,n);ce.unionLayoutDiscriminator=(t,e)=>new Kd(t,e);ce.blob=(t,e)=>new Db(t,e);ce.cstr=t=>new Ub(t);ce.utf8=(t,e)=>new zb(t,e);ce.const=(t,e)=>new jb(t,e);const Wb=ms(IO);(function(t){var e=yn&&yn.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=a,t.i64=l,t.u128=c,t.i128=f,t.u256=g,t.i256=w,t.publicKey=E,t.option=N,t.bool=b,t.vec=x,t.tagged=C,t.vecU8=D,t.str=U,t.rustEnum=z,t.array=W,t.map=Z;const n=ce,r=Wb,i=e(My);var o=ce;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends n.Layout{constructor(_,u,d){super(_,d),this.blob=(0,n.blob)(_),this.signed=u}decode(_,u=0){const d=new i.default(this.blob.decode(_,u),10,"le");return this.signed?d.fromTwos(this.span*8).clone():d}encode(_,u,d=0){return this.signed&&(_=_.toTwos(this.span*8)),this.blob.encode(_.toArrayLike(Buffer,"le",this.span),u,d)}}function a(j){return new s(8,!1,j)}function l(j){return new s(8,!0,j)}function c(j){return new s(16,!1,j)}function f(j){return new s(16,!0,j)}function g(j){return new s(32,!1,j)}function w(j){return new s(32,!0,j)}class m extends n.Layout{constructor(_,u,d,v){super(_.span,v),this.layout=_,this.decoder=u,this.encoder=d}decode(_,u){return this.decoder(this.layout.decode(_,u))}encode(_,u,d){return this.layout.encode(this.encoder(_),u,d)}getSpan(_,u){return this.layout.getSpan(_,u)}}function E(j){return new m((0,n.blob)(32),_=>new r.PublicKey(_),_=>_.toBuffer(),j)}class k extends n.Layout{constructor(_,u){super(-1,u),this.layout=_,this.discriminator=(0,n.u8)()}encode(_,u,d=0){return _==null?this.discriminator.encode(0,u,d):(this.discriminator.encode(1,u,d),this.layout.encode(_,u,d+1)+1)}decode(_,u=0){const d=this.discriminator.decode(_,u);if(d===0)return null;if(d===1)return this.layout.decode(_,u+1);throw new Error("Invalid option "+this.property)}getSpan(_,u=0){const d=this.discriminator.decode(_,u);if(d===0)return 1;if(d===1)return this.layout.getSpan(_,u+1)+1;throw new Error("Invalid option "+this.property)}}function N(j,_){return new k(j,_)}function b(j){return new m((0,n.u8)(),A,S,j)}function A(j){if(j===0)return!1;if(j===1)return!0;throw new Error("Invalid bool: "+j)}function S(j){return j?1:0}function x(j,_){const u=(0,n.u32)("length"),d=(0,n.struct)([u,(0,n.seq)(j,(0,n.offset)(u,-u.span),"values")]);return new m(d,({values:v})=>v,v=>({values:v}),_)}function C(j,_,u){const d=(0,n.struct)([a("tag"),_.replicate("data")]);function v({tag:R,data:I}){if(!R.eq(j))throw new Error("Invalid tag, expected: "+j.toString("hex")+", got: "+R.toString("hex"));return I}return new m(d,v,R=>({tag:j,data:R}),u)}function D(j){const _=(0,n.u32)("length"),u=(0,n.struct)([_,(0,n.blob)((0,n.offset)(_,-_.span),"data")]);return new m(u,({data:d})=>d,d=>({data:d}),j)}function U(j){return new m(D(),_=>_.toString("utf-8"),_=>Buffer.from(_,"utf-8"),j)}function z(j,_,u){const d=(0,n.union)(u??(0,n.u8)(),_);return j.forEach((v,R)=>d.addVariant(R,v,v.property)),d}function W(j,_,u){const d=(0,n.struct)([(0,n.seq)(j,_,"values")]);return new m(d,({values:v})=>v,v=>({values:v}),u)}class $ extends n.Layout{constructor(_,u,d){super(_.span+u.span,d),this.keyLayout=_,this.valueLayout=u}decode(_,u){u=u||0;const d=this.keyLayout.decode(_,u),v=this.valueLayout.decode(_,u+this.keyLayout.getSpan(_,u));return[d,v]}encode(_,u,d){d=d||0;const v=this.keyLayout.encode(_[0],u,d),R=this.valueLayout.encode(_[1],u,d+v);return v+R}getSpan(_,u){return this.keyLayout.getSpan(_,u)+this.valueLayout.getSpan(_,u)}}function Z(j,_,u){const d=(0,n.u32)("length"),v=(0,n.struct)([d,(0,n.seq)(new $(j,_),(0,n.offset)(d,-d.span),"values")]);return new m(v,({values:R})=>new Map(R),R=>({values:Array.from(R.entries())}),u)}})(Re);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function $a(t){let e=t.length;for(;--e>=0;)t[e]=0}const DO=3,UO=258,Fb=29,zO=256,jO=zO+1+Fb,Hb=30,WO=512,FO=new Array((jO+2)*2);$a(FO);const HO=new Array(Hb*2);$a(HO);const $O=new Array(WO);$a($O);const KO=new Array(UO-DO+1);$a(KO);const VO=new Array(Fb);$a(VO);const GO=new Array(Hb);$a(GO);try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const B0=new Uint8Array(256);for(let t=0;t<256;t++)B0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;B0[254]=B0[254]=1;var YO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),E=n?n+c:c;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],m]:l._events[E].push(m):(l._events[E]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,E=new Array(m);w<m;w++)E[w]=g[w].fn;return E},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,E){var k=n?n+c:c;if(!this._events[k])return!1;var N=this._events[k],b=arguments.length,A,S;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),b){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,E),!0}for(S=1,A=new Array(b-1);S<b;S++)A[S-1]=arguments[S];N.fn.apply(N.context,A)}else{var x=N.length,C;for(S=0;S<x;S++)switch(N[S].once&&this.removeListener(c,N[S].fn,void 0,!0),b){case 1:N[S].fn.call(N[S].context);break;case 2:N[S].fn.call(N[S].context,f);break;case 3:N[S].fn.call(N[S].context,f,g);break;case 4:N[S].fn.call(N[S].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(b-1);C<b;C++)A[C-1]=arguments[C];N[S].fn.apply(N[S].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var E=this._events[m];if(E.fn)E.fn===f&&(!w||E.once)&&(!g||E.context===g)&&s(this,m);else{for(var k=0,N=[],b=E.length;k<b;k++)(E[k].fn!==f||w&&!E[k].once||g&&E[k].context!==g)&&N.push(E[k]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(YO);function qO(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((n,r)=>t.slice(r*e,(r+1)*e))}const xo=t=>"version"in t;function ZO(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"0x")}function QO(t){t.indexOf("0x")===0&&(t=t.substr(2)),t.length%2===1&&(t="0"+t);let e=t.match(/.{2}/g);return e===null?ue.Buffer.from([]):ue.Buffer.from(e.map(n=>parseInt(n,16)))}var XO=Object.freeze({__proto__:null,encode:ZO,decode:QO});function JO(t){return new TextDecoder("utf-8").decode(t)}function eC(t){return new TextEncoder().encode(t)}var tC=Object.freeze({__proto__:null,decode:JO,encode:eC});function P0(t){return Mt.encode(t)}function nC(t){return Mt.decode(t)}var rC=Object.freeze({__proto__:null,encode:P0,decode:nC});function iC(t){return t.toString("base64")}function oC(t){return ue.Buffer.from(t,"base64")}var sC=Object.freeze({__proto__:null,encode:iC,decode:oC}),aC=Object.freeze({__proto__:null,hex:XO,utf8:tC,bs58:rC,base64:sC});Re.struct([Re.publicKey("authority"),Re.vecU8("data")]);function na(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}function lC(t){return t instanceof Q?t:new Q(t)}class uC extends TypeError{constructor(e,n){let r;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function cC(t){return pa(t)&&typeof t[Symbol.iterator]=="function"}function pa(t){return typeof t=="object"&&t!=null}function So(t){return typeof t=="string"?JSON.stringify(t):""+t}function dC(t){const{done:e,value:n}=t.next();return e?void 0:n}function fC(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+So(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*j1(t,e,n,r){cC(t)||(t=[t]);for(const i of t){const o=fC(i,e,n,r);o&&(yield o)}}function*mm(t,e,n){n===void 0&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&pa(e.schema)&&pa(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l=!0;for(const c of e.validator(t,a))l=!1,yield[c,void 0];for(let[c,f,g]of e.entries(t,a)){const w=mm(f,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,f],coerce:o,mask:s});for(const m of w)m[0]?(l=!1,yield[m[0],void 0]):o&&(f=m[1],c===void 0?t=f:t instanceof Map?t.set(c,f):t instanceof Set?t.add(f):pa(t)&&(t[c]=f))}if(l)for(const c of e.refiner(t,a))l=!1,yield[c,void 0];l&&(yield[void 0,t])}class To{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const f=i(l,c);return j1(f,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const f=o(l,c);return j1(f,c,this,l)}:this.refiner=()=>[]}assert(e){return hC(e,this)}create(e){return wm(e,this)}is(e){return $b(e,this)}mask(e){return pC(e,this)}validate(e,n){return n===void 0&&(n={}),_u(e,this,n)}}function hC(t,e){const n=_u(t,e);if(n[0])throw n[0]}function wm(t,e){const n=_u(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function pC(t,e){const n=_u(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function $b(t,e){return!_u(t,e)[0]}function _u(t,e,n){n===void 0&&(n={});const r=mm(t,e,n),i=dC(r);return i[0]?[new uC(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Eu(t,e){return new To({type:t,schema:null,validator:e})}function gC(){return Eu("any",()=>!0)}function hp(t){return new To({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+So(e)}})}function yC(){return Eu("boolean",t=>typeof t=="boolean")}function W1(t){const e=So(t);return new To({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+So(n)}})}function ic(t){return new To({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function kc(){return Eu("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+So(t))}function Tc(t){return new To({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Qo(){return Eu("string",t=>typeof t=="string"||"Expected a string, but received: "+So(t))}function mo(t){const e=Object.keys(t);return new To({type:"type",schema:t,*entries(n){if(pa(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return pa(n)||"Expected an object, but received: "+So(n)}})}function Kb(t){const e=t.map(n=>n.type).join(" | ");return new To({type:"union",schema:null,coercer(n,r){return(t.find(o=>{const[s]=o.validate(n,{coerce:!0});return!s})||vm()).coercer(n,r)},validator(n,r){const i=[];for(const o of t){const[...s]=mm(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+So(n),...i]}})}function vm(){return Eu("unknown",()=>!0)}function mC(t,e,n){return new To({...t,coercer:(r,i)=>$b(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}async function wC(t,e,n,r){t=lC(t),r||(r=RC());const i=new Le;if(i.add(new $e({programId:t,keys:e??[],data:n})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(i,[])}const F1=99;async function vC(t,e,n){return(await Vb(t,e,n)).map(i=>i?{publicKey:i.publicKey,account:i.account}:null)}async function Vb(t,e,n){if(e.length<=F1)return await H1(t,e,n);{const r=qO(e,F1);return(await Promise.all(r.map(o=>H1(t,o,n)))).flat()}}async function H1(t,e,n){const r=n??t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map((a,l)=>a===null?null:{publicKey:e[l],account:a,context:o})}async function Gb(t,e,n,r,i){var o;n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),f={encoding:"base64",commitment:r??t.commitment};if(i){const E=(Array.isArray(i)?i:s.nonProgramIds()).map(k=>k.toBase58());f.accounts={encoding:"base64",addresses:E}}n&&n.length>0&&(f.sigVerify=!0);const g=[c,f],w=await t._rpcRequest("simulateTransaction",g),m=wm(w,bC);if("error"in m){let E;if("data"in m.error&&(E=(o=m.error.data)===null||o===void 0?void 0:o.logs,E&&Array.isArray(E))){const k=`
    `,N=k+E.join(k);console.error(m.error.message,N)}throw new Eo("failed to simulate transaction: "+m.error.message,E)}return m.result}function _C(t){return mC(Yb(t),EC,e=>"error"in e?e:{...e,result:wm(e.result,t)})}const EC=Yb(vm());function Yb(t){return Kb([mo({jsonrpc:W1("2.0"),id:Qo(),result:t}),mo({jsonrpc:W1("2.0"),id:Qo(),error:mo({code:vm(),message:Qo(),data:Tc(gC())})})])}function SC(t){return _C(mo({context:mo({slot:kc()}),value:t}))}const bC=SC(mo({err:ic(Kb([mo({}),Qo()])),logs:ic(hp(Qo())),accounts:Tc(ic(hp(ic(mo({executable:yC(),owner:Qo(),lamports:kc(),data:hp(Qo()),rentEpoch:Tc(kc())}))))),unitsConsumed:Tc(kc())}));var AC=Object.freeze({__proto__:null,invoke:wC,getMultipleAccounts:vC,getMultipleAccountsAndContext:Vb,simulateTransaction:Gb});class Vd{constructor(e,n,r=Vd.defaultOptions()){this.connection=e,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=Vd.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var i,o,s,a;if(r===void 0&&(r=this.opts),xo(e))n&&e.sign(n);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const c of n)e.partialSign(c);e=await this.wallet.signTransaction(e);const l=e.serialize();try{return await $1(this.connection,l,r)}catch(c){if(c instanceof D0){const f=P0(xo(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=e.signature)!==null&&s!==void 0?s:new Uint8Array),g=xo(e)?0:void 0,w=await this.connection.getTransaction(f,{commitment:"confirmed",maxSupportedTransactionVersion:g});if(w){const m=(a=w.meta)===null||a===void 0?void 0:a.logMessages;throw m?new Eo(c.message,m):c}else throw c}else throw c}}async sendAll(e,n){var r,i,o;n===void 0&&(n=this.opts);const s=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let a=e.map(f=>{var g,w;if(xo(f.tx)){let m=f.tx;return f.signers&&m.sign(f.signers),m}else{let m=f.tx,E=(g=f.signers)!==null&&g!==void 0?g:[];return m.feePayer=(w=m.feePayer)!==null&&w!==void 0?w:this.wallet.publicKey,m.recentBlockhash=s,E.forEach(k=>{m.partialSign(k)}),m}});const l=await this.wallet.signAllTransactions(a),c=[];for(let f=0;f<a.length;f+=1){const g=l[f],w=g.serialize();try{c.push(await $1(this.connection,w,n))}catch(m){if(m instanceof D0){const E=P0(xo(g)?((r=g.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=g.signature)!==null&&i!==void 0?i:new Uint8Array),k=xo(g)?0:void 0,N=await this.connection.getTransaction(E,{commitment:"confirmed",maxSupportedTransactionVersion:k});if(N){const b=(o=N.meta)===null||o===void 0?void 0:o.logMessages;throw b?new Eo(m.message,b):m}else throw m}else throw m}}return c}async simulate(e,n,r,i){let o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,s;if(xo(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),s=await Gb(this.connection,e,n,r,i)),s.value.err)throw new IC(s.value);return s.value}}class IC extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function $1(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await t.sendRawTransaction(e,r);if(n!=null&&n.blockhash)if(r.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await t.confirmTransaction({abortSignal:a,signature:s,...n.blockhash},n&&n.commitment)).value}else i=(await t.confirmTransaction({signature:s,...n.blockhash},n&&n.commitment)).value;else i=(await t.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new D0(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class D0 extends Error{constructor(e){super(e)}}function RC(){return Vd.local()}var kC=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function TC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G={};Object.defineProperty(G,"__esModule",{value:!0});G.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=G.ANCHOR_ERROR__REQUIRE_VIOLATED=G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=G.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=G.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=G.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=G.ANCHOR_ERROR__CONSTRAINT_SPACE=G.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=G.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=G.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=G.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=G.ANCHOR_ERROR__CONSTRAINT_ZERO=G.ANCHOR_ERROR__CONSTRAINT_ADDRESS=G.ANCHOR_ERROR__CONSTRAINT_CLOSE=G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=G.ANCHOR_ERROR__CONSTRAINT_STATE=G.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=G.ANCHOR_ERROR__CONSTRAINT_SEEDS=G.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=G.ANCHOR_ERROR__CONSTRAINT_OWNER=G.ANCHOR_ERROR__CONSTRAINT_RAW=G.ANCHOR_ERROR__CONSTRAINT_SIGNER=G.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=G.ANCHOR_ERROR__CONSTRAINT_MUT=G.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=G.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=G.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=G.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=G.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=G.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0;G.ANCHOR_ERROR__DEPRECATED=G.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=G.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=G.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=G.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=G.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=G.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=G.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=G.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=G.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=G.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=G.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=G.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=G.ANCHOR_ERROR__INVALID_PROGRAM_ID=G.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=G.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=G.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=G.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=G.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=G.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=G.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=G.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=G.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=G.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0;G.ANCHOR_ERROR__INSTRUCTION_MISSING=100;G.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101;G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102;G.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103;G.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3;G.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001;G.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002;G.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500;G.ANCHOR_ERROR__CONSTRAINT_MUT=2e3;G.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001;G.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002;G.ANCHOR_ERROR__CONSTRAINT_RAW=2003;G.ANCHOR_ERROR__CONSTRAINT_OWNER=2004;G.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005;G.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006;G.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007;G.ANCHOR_ERROR__CONSTRAINT_STATE=2008;G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009;G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010;G.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011;G.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012;G.ANCHOR_ERROR__CONSTRAINT_ZERO=2013;G.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014;G.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015;G.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016;G.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017;G.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018;G.ANCHOR_ERROR__CONSTRAINT_SPACE=2019;G.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020;G.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021;G.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022;G.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028;G.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029;G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030;G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031;G.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032;G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033;G.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034;G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035;G.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036;G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037;G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038;G.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039;G.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;G.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;G.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502;G.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503;G.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504;G.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505;G.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506;G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3;G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001;G.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002;G.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003;G.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004;G.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005;G.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006;G.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007;G.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008;G.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009;G.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010;G.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011;G.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012;G.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013;G.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014;G.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015;G.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016;G.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017;G.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100;G.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101;G.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;G.ANCHOR_ERROR__DEPRECATED=5e3;const MC=new Set(["debug-logs"]),qb=new Map;function NC(t){if(!MC.has(t))throw new Error("Invalid feature");qb.set(t,!0)}function xC(t){return qb.get(t)!==void 0}var OC=Object.freeze({__proto__:null,set:NC,isSet:xC});class Oo extends Error{constructor(e){super(e),this.name="IdlError"}}class Fe{static fieldLayout(e,n=[],r){const i=e.name;switch(e.type){case"bool":return Re.bool(i);case"u8":return Re.u8(i);case"i8":return Re.i8(i);case"u16":return Re.u16(i);case"i16":return Re.i16(i);case"u32":return Re.u32(i);case"i32":return Re.i32(i);case"f32":return Re.f32(i);case"u64":return Re.u64(i);case"i64":return Re.i64(i);case"f64":return Re.f64(i);case"u128":return Re.u128(i);case"i128":return Re.i128(i);case"u256":return Re.u256(i);case"i256":return Re.i256(i);case"bytes":return Re.vecU8(i);case"string":return Re.str(i);case"pubkey":return Re.publicKey(i);default:{if("option"in e.type)return Re.option(Fe.fieldLayout({type:e.type.option},n,r),i);if("vec"in e.type)return Re.vec(Fe.fieldLayout({type:e.type.vec},n,r),i);if("array"in e.type){let[o,s]=e.type.array;return s=Fe.resolveArrayLen(s,r),Re.array(Fe.fieldLayout({type:o},n,r),s,i)}if("defined"in e.type){if(!n)throw new Oo("User defined types not provided");const o=e.type.defined.name,s=n.find(a=>a.name===o);if(!s)throw new Oo(`Type not found: ${e.name}`);return Fe.typeDefLayout({typeDef:s,types:n,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new Oo(`Invalid generic field: ${e.name}`);return Fe.fieldLayout({...e,type:o.type},n)}throw new Oo(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=na(e.type.fields,()=>[],s=>s.map(a=>{const l=i&&Fe.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Fe.fieldLayout(a,n,l)}),s=>s.map((a,l)=>{const c=i&&Fe.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Fe.fieldLayout({name:l.toString(),type:a},n,c)}));return Re.struct(o,r)}case"enum":{const o=e.type.variants.map(s=>{const a=na(s.fields,()=>[],l=>l.map(c=>{const f=i&&Fe.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:i});return Fe.fieldLayout(c,n,f)}),l=>l.map((c,f)=>{const g=i&&Fe.resolveGenericArgs({type:c,typeDef:e,genericArgs:i});return Fe.fieldLayout({name:f.toString(),type:c},n,g)}));return Re.struct(a,s.name)});return r!==void 0?Re.rustEnum(o).replicate(r):Re.rustEnum(o,r)}case"type":return Fe.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Fe.typeSize(e.option,n,r);if("coption"in e)return 4+Fe.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Fe.resolveArrayLen(s,r),Fe.typeSize(o,n,r)*s}if("defined"in e){const o=(i=n.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new Oo(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const l=r??e.defined.generics,c=l&&Fe.resolveGenericArgs({type:a,typeDef:o,genericArgs:l});return Fe.typeSize(a,n,c)};switch(o.type.kind){case"struct":return na(o.type.fields,()=>[0],a=>a.map(l=>s(l.type)),a=>a.map(l=>s(l))).reduce((a,l)=>a+l,0);case"enum":{const a=o.type.variants.map(l=>na(l.fields,()=>[0],c=>c.map(f=>s(f.type)),c=>c.map(f=>s(f))).reduce((c,f)=>c+f,0));return Math.max(...a)+1}case"type":return Fe.typeSize(o.type.alias,n,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new Oo(`Invalid generic: ${e.generic}`);return Fe.typeSize(o.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new Oo("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in n.generics){const s=n.generics[o];if("generic"in e&&s.name===e.generic)return[r[o]];if("option"in e){const a=Fe.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Fe.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,l]=e.array,c=typeof l=="object",f=Fe.resolveGenericArgs({type:a,typeDef:n,genericArgs:r,isDefined:i})||[];if(c){const g=n.generics.findIndex(w=>w.name===l.generic);g!==-1&&f.push(r[g])}if(f.length>0){if(!i)return f;if(f[0].kind==="type"&&f[1].kind==="const")return[{kind:"type",type:{array:[f[0].type,+f[1].value]}}]}if(c&&s.name===l.generic){const g=r[o];return i?[{kind:"type",type:{array:[a,+g.value]}}]:[g]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Fe.resolveGenericArgs({type:a.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class CC{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const i=r.name,o=r.args.map(a=>Fe.fieldLayout(a,e.types)),s=Re.struct(o,i);return[i,{discriminator:r.discriminator,layout:s}]});this.ixLayouts=new Map(n)}encode(e,n){const r=ue.Buffer.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o);return ue.Buffer.concat([ue.Buffer.from(i.discriminator),s])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?ue.Buffer.from(e,"hex"):Mt.decode(e));for(const[r,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(ue.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,n){return er.format(e,n,this.idl)}}class er{static format(e,n,r){const i=r.instructions.find(l=>e.name===l.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(l=>({name:l.name,type:er.formatIdlType(l.type),data:er.formatIdlData(l,e.data[l.name],r.types)})),s=er.flattenIdlAccounts(i.accounts),a=n.map((l,c)=>c<s.length?{name:s[c].name,...l}:{name:void 0,...l});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return er.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return er.formatIdlDataDefined(o,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+na(e.type.fields,()=>"",i=>Object.entries(n).map(([o,s])=>{const a=i.find(l=>l.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+er.formatIdlData(a,s,r)}).join(", "),i=>Object.entries(n).map(([o,s])=>o+": "+er.formatIdlData({name:"",type:i[o]},s,r)).join(", "))+" }";case"enum":{const i=Object.keys(n)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=n[i];return na(o.fields,()=>i,a=>{const l=Object.keys(s).map(c=>{const f=s[c],g=a.find(w=>w.name===c);if(!g)throw new Error(`Field not found: ${c}`);return c+": "+er.formatIdlData(g,f,r)}).join(", ");return`${i} { ${l} }`},a=>{const l=Object.entries(s).map(([c,f])=>c+": "+er.formatIdlData({name:"",type:a[c]},f,r)).join(", ");return`${i} { ${l} }`})}case"type":return er.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const i=LC(r.name);if(r.hasOwnProperty("accounts")){const o=n?`${n} > ${i}`:i;return er.flattenIdlAccounts(r.accounts,o)}else return{...r,name:n?`${n} > ${i}`:i}}).flat()}}function LC(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class BC{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const o=n.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Fe.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(r)}async encode(e,n){const r=ue.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o),a=this.accountDiscriminator(e);return ue.Buffer.concat([a,s])}decode(e,n){const r=this.accountDiscriminator(e);if(r.compare(n.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(ue.Buffer.from(r.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const r=this.accountDiscriminator(e),i=n.subarray(r.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(i)}memcmp(e,n){const r=this.accountDiscriminator(e);return{offset:0,bytes:Mt.encode(n?ue.Buffer.concat([r,n]):r)}}size(e){return this.accountDiscriminator(e).length+Fe.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const r=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return ue.Buffer.from(r.discriminator)}}class Xn{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Df=Xn;function PC(t,e){return e.property?t+"["+e.property+"]":t}class Xo extends Xn{isCount(){throw new Error("ExternalLayout is abstract")}}class Zb extends Xo{constructor(e,n,r){if(!(e instanceof Xn))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Uf||this.layout instanceof Qb}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class Uf extends Xn{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class Qb extends Xn{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const U0=Math.pow(2,32);function Xb(t){const e=Math.floor(t/U0),n=t-e*U0;return{hi32:e,lo32:n}}function Jb(t,e){return t*U0+e}class DC extends Xn{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Jb(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Xb(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class UC extends Xn{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Jb(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Xb(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class zC extends Xn{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Xn,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class eA{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class K1 extends eA{constructor(e,n){if(!(e instanceof Xo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class tA extends Xn{constructor(e,n,r){const i=e instanceof Uf||e instanceof Qb;if(i)e=new K1(new Zb(e));else if(e instanceof Xo&&e.isCount())e=new K1(e);else if(!(e instanceof eA))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Xn))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new jC(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class jC extends Xn{constructor(e,n,r,i){if(!(e instanceof tA))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Xn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class WC extends Xn{constructor(e,n){if(!(e instanceof Xo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Xo||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Xo&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(PC("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof Xo&&this.length.encode(i,n,r),i}}var FC=(t,e,n)=>new Zb(t,e,n),HC=t=>new Uf(1,t),Ei=t=>new Uf(4,t),$C=t=>new DC(t),Li=t=>new UC(t),on=(t,e,n)=>new zC(t,e,n),nA=(t,e,n)=>new tA(t,e,n),Su=(t,e)=>new WC(t,e);class KC extends Df{constructor(e){super(-1,e),this.property=e,this.layout=on([Ei("length"),Ei("lengthPadding"),Su(FC(Ei(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Ei().span+Ei().span+new wi(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function zf(t){return new KC(t)}function Rr(t){return Su(32,t)}const pr=nA(Ei("instruction"));pr.addVariant(0,on([Li("lamports"),Li("space"),Rr("owner")]),"createAccount");pr.addVariant(1,on([Rr("owner")]),"assign");pr.addVariant(2,on([Li("lamports")]),"transfer");pr.addVariant(3,on([Rr("base"),zf("seed"),Li("lamports"),Li("space"),Rr("owner")]),"createAccountWithSeed");pr.addVariant(4,on([Rr("authorized")]),"advanceNonceAccount");pr.addVariant(5,on([Li("lamports")]),"withdrawNonceAccount");pr.addVariant(6,on([Rr("authorized")]),"initializeNonceAccount");pr.addVariant(7,on([Rr("authorized")]),"authorizeNonceAccount");pr.addVariant(8,on([Li("space")]),"allocate");pr.addVariant(9,on([Rr("base"),zf("seed"),Li("space"),Rr("owner")]),"allocateWithSeed");pr.addVariant(10,on([Rr("base"),zf("seed"),Rr("owner")]),"assignWithSeed");pr.addVariant(11,on([Li("lamports"),zf("seed"),Rr("owner")]),"transferWithSeed");Math.max(...Object.values(pr.registry).map(t=>t.span));class VC extends Df{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function V1(t){return new VC(Su(32),e=>new Q(e),e=>e.toBuffer(),t)}on([Ei("version"),Ei("state"),V1("authorizedPubkey"),V1("nonce"),on([$C("lamportsPerSignature")],"feeCalculator")]);function GC(t){return new TextDecoder().decode(Pd(t))}var YC=Object.freeze({__proto__:null,hash:GC});function qC(t,e,n){const r=ue.Buffer.concat([t.toBuffer(),ue.Buffer.from(e),n.toBuffer()]);return new Q(Pd(r))}var ZC=Object.freeze({__proto__:null,createWithSeedSync:qC});const rA=new Q("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),iA=new Q("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function QC({mint:t,owner:e}){return Q.findProgramAddressSync([e.toBuffer(),rA.toBuffer(),t.toBuffer()],iA)[0]}var XC=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:rA,ASSOCIATED_PROGRAM_ID:iA,associatedAddress:QC}),z0={exports:{}};(function(t,e){var n=typeof self<"u"?self:kC,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(u){return u&&DataView.prototype.isPrototypeOf(u)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(u){return u&&c.indexOf(Object.prototype.toString.call(u))>-1};function g(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function w(u){return typeof u!="string"&&(u=String(u)),u}function m(u){var d={next:function(){var v=u.shift();return{done:v===void 0,value:v}}};return a.iterable&&(d[Symbol.iterator]=function(){return d}),d}function E(u){this.map={},u instanceof E?u.forEach(function(d,v){this.append(v,d)},this):Array.isArray(u)?u.forEach(function(d){this.append(d[0],d[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(d){this.append(d,u[d])},this)}E.prototype.append=function(u,d){u=g(u),d=w(d);var v=this.map[u];this.map[u]=v?v+", "+d:d},E.prototype.delete=function(u){delete this.map[g(u)]},E.prototype.get=function(u){return u=g(u),this.has(u)?this.map[u]:null},E.prototype.has=function(u){return this.map.hasOwnProperty(g(u))},E.prototype.set=function(u,d){this.map[g(u)]=w(d)},E.prototype.forEach=function(u,d){for(var v in this.map)this.map.hasOwnProperty(v)&&u.call(d,this.map[v],v,this)},E.prototype.keys=function(){var u=[];return this.forEach(function(d,v){u.push(v)}),m(u)},E.prototype.values=function(){var u=[];return this.forEach(function(d){u.push(d)}),m(u)},E.prototype.entries=function(){var u=[];return this.forEach(function(d,v){u.push([v,d])}),m(u)},a.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function k(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function N(u){return new Promise(function(d,v){u.onload=function(){d(u.result)},u.onerror=function(){v(u.error)}})}function b(u){var d=new FileReader,v=N(d);return d.readAsArrayBuffer(u),v}function A(u){var d=new FileReader,v=N(d);return d.readAsText(u),v}function S(u){for(var d=new Uint8Array(u),v=new Array(d.length),R=0;R<d.length;R++)v[R]=String.fromCharCode(d[R]);return v.join("")}function x(u){if(u.slice)return u.slice(0);var d=new Uint8Array(u.byteLength);return d.set(new Uint8Array(u)),d.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:a.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:a.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():a.arrayBuffer&&a.blob&&l(u)?(this._bodyArrayBuffer=x(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||f(u))?this._bodyArrayBuffer=x(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var u=k(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var u=k(this);if(u)return u;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(u){var d=u.toUpperCase();return D.indexOf(d)>-1?d:u}function z(u,d){d=d||{};var v=d.body;if(u instanceof z){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,d.headers||(this.headers=new E(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!v&&u._bodyInit!=null&&(v=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new E(d.headers)),this.method=U(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function W(u){var d=new FormData;return u.trim().split("&").forEach(function(v){if(v){var R=v.split("="),I=R.shift().replace(/\+/g," "),O=R.join("=").replace(/\+/g," ");d.append(decodeURIComponent(I),decodeURIComponent(O))}}),d}function $(u){var d=new E,v=u.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(R){var I=R.split(":"),O=I.shift().trim();if(O){var B=I.join(":").trim();d.append(O,B)}}),d}C.call(z.prototype);function Z(u,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new E(d.headers),this.url=d.url||"",this._initBody(u)}C.call(Z.prototype),Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},Z.error=function(){var u=new Z(null,{status:0,statusText:""});return u.type="error",u};var j=[301,302,303,307,308];Z.redirect=function(u,d){if(j.indexOf(d)===-1)throw new RangeError("Invalid status code");return new Z(null,{status:d,headers:{location:u}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,v){this.message=d,this.name=v;var R=Error(d);this.stack=R.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function _(u,d){return new Promise(function(v,R){var I=new z(u,d);if(I.signal&&I.signal.aborted)return R(new s.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function B(){O.abort()}O.onload=function(){var M={status:O.status,statusText:O.statusText,headers:$(O.getAllResponseHeaders()||"")};M.url="responseURL"in O?O.responseURL:M.headers.get("X-Request-URL");var p="response"in O?O.response:O.responseText;v(new Z(p,M))},O.onerror=function(){R(new TypeError("Network request failed"))},O.ontimeout=function(){R(new TypeError("Network request failed"))},O.onabort=function(){R(new s.DOMException("Aborted","AbortError"))},O.open(I.method,I.url,!0),I.credentials==="include"?O.withCredentials=!0:I.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&a.blob&&(O.responseType="blob"),I.headers.forEach(function(M,p){O.setRequestHeader(p,M)}),I.signal&&(I.signal.addEventListener("abort",B),O.onreadystatechange=function(){O.readyState===4&&I.signal.removeEventListener("abort",B)}),O.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return _.polyfill=!0,o.fetch||(o.fetch=_,o.Headers=E,o.Request=z,o.Response=Z),s.Headers=E,s.Request=z,s.Response=Z,s.fetch=_,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(z0,z0.exports);var JC=TC(z0.exports);async function e4(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([oA(t,e),JC(r)]),s=(await o.json()).filter(l=>!l.aborted&&l.state==="Built"&&l.verified==="Verified");if(s.length===0)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a}async function oA(t,e){const n=await t.getAccountInfo(e);if(n===null)throw new Error("program account not found");const{program:r}=j0(n.data),i=await t.getAccountInfo(r.programdataAddress);if(i===null)throw new Error("program data account not found");const{programData:o}=j0(i.data);return o}const t4=Re.rustEnum([Re.struct([],"uninitialized"),Re.struct([Re.option(Re.publicKey(),"authorityAddress")],"buffer"),Re.struct([Re.publicKey("programdataAddress")],"program"),Re.struct([Re.u64("slot"),Re.option(Re.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Re.u32());function j0(t){return t4.decode(t)}var n4=Object.freeze({__proto__:null,verifiedBuild:e4,fetchData:oA,decodeUpgradeableLoaderState:j0}),r4=Object.freeze({__proto__:null,sha256:YC,rpc:AC,publicKey:ZC,bytes:aC,token:XC,features:OC,registry:n4});function pp(t){return new sA(Su(8),e=>_m.fromBuffer(e),e=>e.toBuffer(),t)}function oc(t){return new sA(Su(32),e=>new Q(e),e=>e.toBuffer(),t)}function gp(t,e){return new i4(t,e)}class sA extends Df{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class i4 extends Df{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Ei()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}class _m extends wi{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new _m([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}on([oc("mint"),oc("owner"),pp("amount"),gp(oc(),"delegate"),(t=>{const e=nA(HC("discriminator"),null,t);return e.addVariant(0,on([]),"uninitialized"),e.addVariant(1,on([]),"initialized"),e.addVariant(2,on([]),"frozen"),e})("state"),gp(pp(),"isNative"),pp("delegatedAmount"),gp(oc(),"closeAuthority")]);new Q("11111111111111111111111111111111");const aA=te.createContext({});function o4(){return te.useContext(aA)}const lA=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=te.useMemo(()=>new am(e,n),[e,n]);return J.createElement(aA.Provider,{value:{connection:r}},t)};var uA={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),E=n?n+c:c;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],m]:l._events[E].push(m):(l._events[E]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,E=new Array(m);w<m;w++)E[w]=g[w].fn;return E},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,E){var k=n?n+c:c;if(!this._events[k])return!1;var N=this._events[k],b=arguments.length,A,S;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),b){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,E),!0}for(S=1,A=new Array(b-1);S<b;S++)A[S-1]=arguments[S];N.fn.apply(N.context,A)}else{var x=N.length,C;for(S=0;S<x;S++)switch(N[S].once&&this.removeListener(c,N[S].fn,void 0,!0),b){case 1:N[S].fn.call(N[S].context);break;case 2:N[S].fn.call(N[S].context,f);break;case 3:N[S].fn.call(N[S].context,f,g);break;case 4:N[S].fn.call(N[S].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(b-1);C<b;C++)A[C-1]=arguments[C];N[S].fn.apply(N[S].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var E=this._events[m];if(E.fn)E.fn===f&&(!w||E.once)&&(!g||E.context===g)&&s(this,m);else{for(var k=0,N=[],b=E.length;k<b;k++)(E[k].fn!==f||w&&!E[k].once||g&&E[k].context!==g)&&N.push(E[k]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(uA);var s4=uA.exports;const cA=ys(s4);class ht extends Error{constructor(e,n){super(e),this.error=n}}class bo extends ht{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class jf extends ht{constructor(){super(...arguments),this.name="WalletLoadError"}}class ro extends ht{constructor(){super(...arguments),this.name="WalletConfigError"}}class gs extends ht{constructor(){super(...arguments),this.name="WalletConnectionError"}}class bu extends ht{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Ka extends ht{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ri extends ht{constructor(){super(...arguments),this.name="WalletAccountError"}}class Ao extends ht{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class a4 extends ht{constructor(){super(...arguments),this.name="WalletKeypairError"}}class it extends ht{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Jr extends ht{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Yn extends ht{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Au extends ht{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class W0 extends ht{constructor(){super(...arguments),this.name="WalletSignInError"}}class l4 extends ht{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class u4 extends ht{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class c4 extends ht{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var Oe;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Oe||(Oe={}));class Em extends cA{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new it;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function Sm(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const o of e)o()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Gd(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Br(t){return"version"in t}class bm extends Em{async sendTransaction(e,n,r={}){let i=!0;try{if(Br(e)){if(!this.supportedTransactionVersions)throw new Jr("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Jr(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,r)}catch(o){throw o instanceof Yn?(i=!1,o):new Jr(o==null?void 0:o.message,o)}}else try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,s)}catch(o){throw o instanceof Yn?(i=!1,o):new Jr(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(Br(r)){if(!this.supportedTransactionVersions)throw new Yn("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Yn(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Iu extends bm{}class d4 extends Iu{}var Ne={},Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.SolanaSignAndSendTransaction=void 0;Wf.SolanaSignAndSendTransaction="solana:signAndSendTransaction";var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.SolanaSignIn=void 0;Ff.SolanaSignIn="solana:signIn";var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.SolanaSignMessage=void 0;Hf.SolanaSignMessage="solana:signMessage";var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.SolanaSignTransaction=void 0;$f.SolanaSignTransaction="solana:signTransaction";var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.SignAndSendAllTransactions=void 0;Kf.SignAndSendAllTransactions="solana:signAndSendAllTransactions";(function(t){var e=yn&&yn.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=yn&&yn.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Wf,t),n(Ff,t),n(Hf,t),n($f,t),n(Kf,t)})(Ne);const Ru="standard:connect",f4=Ru,ou="standard:disconnect",h4=ou,ku="standard:events",p4=ku,g4=Object.freeze(Object.defineProperty({__proto__:null,Connect:f4,Disconnect:h4,Events:p4,StandardConnect:Ru,StandardDisconnect:ou,StandardEvents:ku},Symbol.toStringTag,{value:"Module"}));function dA(t){return Ru in t.features&&ku in t.features&&(Ne.SolanaSignAndSendTransaction in t.features||Ne.SolanaSignTransaction in t.features)}var F0;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(F0||(F0={}));const y4=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:Iu,BaseSignInMessageSignerWalletAdapter:d4,BaseSignerWalletAdapter:bm,BaseWalletAdapter:Em,EventEmitter:cA,WalletAccountError:Ri,get WalletAdapterNetwork(){return F0},WalletConfigError:ro,WalletConnectionError:gs,WalletDisconnectedError:bu,WalletDisconnectionError:Ka,WalletError:ht,WalletKeypairError:a4,WalletLoadError:jf,WalletNotConnectedError:it,WalletNotReadyError:bo,WalletPublicKeyError:Ao,get WalletReadyState(){return Oe},WalletSendTransactionError:Jr,WalletSignInError:W0,WalletSignMessageError:Au,WalletSignTransactionError:Yn,WalletTimeoutError:l4,WalletWindowBlockedError:u4,WalletWindowClosedError:c4,isIosAndRedirectable:Gd,isVersionedTransaction:Br,isWalletAdapterCompatibleStandardWallet:dA,scopePollingDetectionStrategy:Sm},Symbol.toStringTag,{value:"Module"}));class G1 extends ht{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const m4=[],Vf={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){xr("call","select")},connect(){return Promise.reject(xr("call","connect"))},disconnect(){return Promise.reject(xr("call","disconnect"))},sendTransaction(){return Promise.reject(xr("call","sendTransaction"))},signTransaction(){return Promise.reject(xr("call","signTransaction"))},signAllTransactions(){return Promise.reject(xr("call","signAllTransactions"))},signMessage(){return Promise.reject(xr("call","signMessage"))},signIn(){return Promise.reject(xr("call","signIn"))}};Object.defineProperty(Vf,"wallets",{get(){return xr("read","wallets"),m4}});Object.defineProperty(Vf,"wallet",{get(){return xr("read","wallet"),null}});Object.defineProperty(Vf,"publicKey",{get(){return xr("read","publicKey"),null}});function xr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const fA=te.createContext(Vf);function Am(){return te.useContext(fA)}function w4(t,e){const n=te.useState(()=>{try{const o=localStorage.getItem(t);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=n[0],i=te.useRef(!0);return te.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,t]),n}var Mo={};const v4=ms(y4);var li={},Tu={},_4=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},hA={},gr={};let Im;const E4=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];gr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};gr.getSymbolTotalCodewords=function(e){return E4[e]};gr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};gr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Im=e};gr.isKanjiModeEnabled=function(){return typeof Im<"u"};gr.toSJIS=function(e){return Im(e)};var Gf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Gf);function pA(){this.buffer=[],this.length=0}pA.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var S4=pA;function Mu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Mu.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Mu.prototype.get=function(t,e){return this.data[t*this.size+e]};Mu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Mu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var b4=Mu,gA={};(function(t){const e=gr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(gA);var yA={};const A4=gr.getSymbolSize,Y1=7;yA.getPositions=function(e){const n=A4(e);return[[0,0],[n-Y1,0],[0,n-Y1]]};var mA={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,c=null,f=null;for(let g=0;g<o;g++){a=l=0,c=f=null;for(let w=0;w<o;w++){let m=i.get(g,w);m===c?a++:(a>=5&&(s+=e.N1+(a-5)),c=m,a=1),m=i.get(w,g),m===f?l++:(l>=5&&(s+=e.N1+(l-5)),f=m,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let f=0;f<o;f++)a=a<<1&2047|i.get(c,f),f>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(f,c),f>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){o(c),t.applyMask(c,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),f<l&&(l=f,a=c)}return a}})(mA);var Yf={};const io=Gf,sc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ac=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yf.getBlocksCount=function(e,n){switch(n){case io.L:return sc[(e-1)*4+0];case io.M:return sc[(e-1)*4+1];case io.Q:return sc[(e-1)*4+2];case io.H:return sc[(e-1)*4+3];default:return}};Yf.getTotalCodewordsCount=function(e,n){switch(n){case io.L:return ac[(e-1)*4+0];case io.M:return ac[(e-1)*4+1];case io.Q:return ac[(e-1)*4+2];case io.H:return ac[(e-1)*4+3];default:return}};var wA={},qf={};const xl=new Uint8Array(512),Yd=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)xl[n]=e,Yd[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)xl[n]=xl[n-255]})();qf.log=function(e){if(e<1)throw new Error("log("+e+")");return Yd[e]};qf.exp=function(e){return xl[e]};qf.mul=function(e,n){return e===0||n===0?0:xl[Yd[e]+Yd[n]]};(function(t){const e=qf;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(wA);const vA=wA;function Rm(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Rm.prototype.initialize=function(e){this.degree=e,this.genPoly=vA.generateECPolynomial(this.degree)};Rm.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=vA.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var I4=Rm,_A={},No={},km={};km.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ui={};const EA="[0-9]+",R4="[A-Z $%*+\\-./:]+";let su="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";su=su.replace(/u/g,"\\u");const k4="(?:(?![A-Z0-9 $%*+\\-./:]|"+su+`)(?:.|[\r
]))+`;ui.KANJI=new RegExp(su,"g");ui.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ui.BYTE=new RegExp(k4,"g");ui.NUMERIC=new RegExp(EA,"g");ui.ALPHANUMERIC=new RegExp(R4,"g");const T4=new RegExp("^"+su+"$"),M4=new RegExp("^"+EA+"$"),N4=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ui.testKanji=function(e){return T4.test(e)};ui.testNumeric=function(e){return M4.test(e)};ui.testAlphanumeric=function(e){return N4.test(e)};(function(t){const e=km,n=ui;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(No);(function(t){const e=gr,n=Yf,r=Gf,i=No,o=km,s=7973,a=e.getBCHDigit(s);function l(w,m,E){for(let k=1;k<=40;k++)if(m<=t.getCapacity(k,E,w))return k}function c(w,m){return i.getCharCountIndicator(w,m)+4}function f(w,m){let E=0;return w.forEach(function(k){const N=c(k.mode,m);E+=N+k.getBitsLength()}),E}function g(w,m){for(let E=1;E<=40;E++)if(f(w,E)<=t.getCapacity(E,m,i.MIXED))return E}t.from=function(m,E){return o.isValid(m)?parseInt(m,10):E},t.getCapacity=function(m,E,k){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const N=e.getSymbolTotalCodewords(m),b=n.getTotalCodewordsCount(m,E),A=(N-b)*8;if(k===i.MIXED)return A;const S=A-c(k,m);switch(k){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(m,E){let k;const N=r.from(E,r.M);if(Array.isArray(m)){if(m.length>1)return g(m,N);if(m.length===0)return 1;k=m[0]}else k=m;return l(k.mode,k.getLength(),N)},t.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let E=m<<12;for(;e.getBCHDigit(E)-a>=0;)E^=s<<e.getBCHDigit(E)-a;return m<<12|E}})(_A);var SA={};const H0=gr,bA=1335,x4=21522,q1=H0.getBCHDigit(bA);SA.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;H0.getBCHDigit(i)-q1>=0;)i^=bA<<H0.getBCHDigit(i)-q1;return(r<<10|i)^x4};var AA={};const O4=No;function Ma(t){this.mode=O4.NUMERIC,this.data=t.toString()}Ma.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ma.prototype.getLength=function(){return this.data.length};Ma.prototype.getBitsLength=function(){return Ma.getBitsLength(this.data.length)};Ma.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var C4=Ma;const L4=No,yp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Na(t){this.mode=L4.ALPHANUMERIC,this.data=t}Na.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Na.prototype.getLength=function(){return this.data.length};Na.prototype.getBitsLength=function(){return Na.getBitsLength(this.data.length)};Na.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=yp.indexOf(this.data[n])*45;r+=yp.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(yp.indexOf(this.data[n]),6)};var B4=Na;const P4=No;function xa(t){this.mode=P4.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}xa.getBitsLength=function(e){return e*8};xa.prototype.getLength=function(){return this.data.length};xa.prototype.getBitsLength=function(){return xa.getBitsLength(this.data.length)};xa.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var D4=xa;const U4=No,z4=gr;function Oa(t){this.mode=U4.KANJI,this.data=t}Oa.getBitsLength=function(e){return e*13};Oa.prototype.getLength=function(){return this.data.length};Oa.prototype.getBitsLength=function(){return Oa.getBitsLength(this.data.length)};Oa.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=z4.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var j4=Oa,IA={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,f,g,w,m,E,k,N;!a.empty();){l=a.pop(),c=l.value,g=l.cost,w=n[c]||{};for(f in w)w.hasOwnProperty(f)&&(m=w[f],E=g+m,k=s[f],N=typeof s[f]>"u",(N||k>E)&&(s[f]=E,a.push(f,E),o[f]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var b=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(b)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(IA);var W4=IA.exports;(function(t){const e=No,n=C4,r=B4,i=D4,o=j4,s=ui,a=gr,l=W4;function c(b){return unescape(encodeURIComponent(b)).length}function f(b,A,S){const x=[];let C;for(;(C=b.exec(S))!==null;)x.push({data:C[0],index:C.index,mode:A,length:C[0].length});return x}function g(b){const A=f(s.NUMERIC,e.NUMERIC,b),S=f(s.ALPHANUMERIC,e.ALPHANUMERIC,b);let x,C;return a.isKanjiModeEnabled()?(x=f(s.BYTE,e.BYTE,b),C=f(s.KANJI,e.KANJI,b)):(x=f(s.BYTE_KANJI,e.BYTE,b),C=[]),A.concat(S,x,C).sort(function(U,z){return U.index-z.index}).map(function(U){return{data:U.data,mode:U.mode,length:U.length}})}function w(b,A){switch(A){case e.NUMERIC:return n.getBitsLength(b);case e.ALPHANUMERIC:return r.getBitsLength(b);case e.KANJI:return o.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function m(b){return b.reduce(function(A,S){const x=A.length-1>=0?A[A.length-1]:null;return x&&x.mode===S.mode?(A[A.length-1].data+=S.data,A):(A.push(S),A)},[])}function E(b){const A=[];for(let S=0;S<b.length;S++){const x=b[S];switch(x.mode){case e.NUMERIC:A.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:A.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:A.push([x,{data:x.data,mode:e.BYTE,length:c(x.data)}]);break;case e.BYTE:A.push([{data:x.data,mode:e.BYTE,length:c(x.data)}])}}return A}function k(b,A){const S={},x={start:{}};let C=["start"];for(let D=0;D<b.length;D++){const U=b[D],z=[];for(let W=0;W<U.length;W++){const $=U[W],Z=""+D+W;z.push(Z),S[Z]={node:$,lastCount:0},x[Z]={};for(let j=0;j<C.length;j++){const _=C[j];S[_]&&S[_].node.mode===$.mode?(x[_][Z]=w(S[_].lastCount+$.length,$.mode)-w(S[_].lastCount,$.mode),S[_].lastCount+=$.length):(S[_]&&(S[_].lastCount=$.length),x[_][Z]=w($.length,$.mode)+4+e.getCharCountIndicator($.mode,A))}}C=z}for(let D=0;D<C.length;D++)x[C[D]].end=0;return{map:x,table:S}}function N(b,A){let S;const x=e.getBestModeForData(b);if(S=e.from(A,x),S!==e.BYTE&&S.bit<x.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(x));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new n(b);case e.ALPHANUMERIC:return new r(b);case e.KANJI:return new o(b);case e.BYTE:return new i(b)}}t.fromArray=function(A){return A.reduce(function(S,x){return typeof x=="string"?S.push(N(x,null)):x.data&&S.push(N(x.data,x.mode)),S},[])},t.fromString=function(A,S){const x=g(A,a.isKanjiModeEnabled()),C=E(x),D=k(C,S),U=l.find_path(D.map,"start","end"),z=[];for(let W=1;W<U.length-1;W++)z.push(D.table[U[W]].node);return t.fromArray(m(z))},t.rawSplit=function(A){return t.fromArray(g(A,a.isKanjiModeEnabled()))}})(AA);const Zf=gr,mp=Gf,F4=S4,H4=b4,$4=gA,K4=yA,$0=mA,K0=Yf,V4=I4,qd=_A,G4=SA,Y4=No,wp=AA;function q4(t,e){const n=t.size,r=K4.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function Z4(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Q4(t,e){const n=$4.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function X4(t,e){const n=t.size,r=qd.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function vp(t,e,n){const r=t.size,i=G4.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function J4(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),t.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function eL(t,e,n){const r=new F4;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Y4.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Zf.getSymbolTotalCodewords(t),o=K0.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return tL(r,t,e)}function tL(t,e,n){const r=Zf.getSymbolTotalCodewords(e),i=K0.getTotalCodewordsCount(e,n),o=r-i,s=K0.getBlocksCount(e,n),a=r%s,l=s-a,c=Math.floor(r/s),f=Math.floor(o/s),g=f+1,w=c-f,m=new V4(w);let E=0;const k=new Array(s),N=new Array(s);let b=0;const A=new Uint8Array(t.buffer);for(let U=0;U<s;U++){const z=U<l?f:g;k[U]=A.slice(E,E+z),N[U]=m.encode(k[U]),E+=z,b=Math.max(b,z)}const S=new Uint8Array(r);let x=0,C,D;for(C=0;C<b;C++)for(D=0;D<s;D++)C<k[D].length&&(S[x++]=k[D][C]);for(C=0;C<w;C++)for(D=0;D<s;D++)S[x++]=N[D][C];return S}function nL(t,e,n,r){let i;if(Array.isArray(t))i=wp.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const f=wp.rawSplit(t);c=qd.getBestVersionForData(f,n)}i=wp.fromString(t,c||40)}else throw new Error("Invalid data");const o=qd.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=eL(e,n,i),a=Zf.getSymbolSize(e),l=new H4(a);return q4(l,e),Z4(l),Q4(l,e),vp(l,n,0),e>=7&&X4(l,e),J4(l,s),isNaN(r)&&(r=$0.getBestMask(l,vp.bind(null,l,n))),$0.applyMask(r,l),vp(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}hA.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=mp.M,i,o;return typeof n<"u"&&(r=mp.from(n.errorCorrectionLevel,mp.M),i=qd.from(n.version),o=$0.from(n.maskPattern),n.toSJISFunc&&Zf.setToSJISFunction(n.toSJISFunc)),nL(e,i,r,o)};var RA={},Tm={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),c=Math.floor((s+o.margin*2)*l),f=o.margin*l,g=[o.color.light,o.color.dark];for(let w=0;w<c;w++)for(let m=0;m<c;m++){let E=(w*c+m)*4,k=o.color.light;if(w>=f&&m>=f&&w<c-f&&m<c-f){const N=Math.floor((w-f)/l),b=Math.floor((m-f)/l);k=g[a[N*s+b]?1:0]}r[E++]=k.r,r[E++]=k.g,r[E++]=k.b,r[E]=k.a}}})(Tm);(function(t){const e=Tm;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=r()),l=e.getOptions(l);const f=e.getImageWidth(o.modules.size,l),g=c.getContext("2d"),w=g.createImageData(f,f);return e.qrToImageData(w.data,o,l),n(g,c,f),g.putImageData(w,0,0),c},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=t.render(o,s,l),f=l.type||"image/png",g=l.rendererOpts||{};return c.toDataURL(f,g.quality)}})(RA);var kA={};const rL=Tm;function Z1(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function _p(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function iL(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?_p("M",l+n,.5+c+n):_p("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=_p("h",s),s=0)):i++}return r}kA.render=function(e,n,r){const i=rL.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+Z1(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Z1(i.color.dark,"stroke")+' d="'+iL(s,o,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,w),w};const oL=_4,V0=hA,TA=RA,sL=kA;function Mm(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!oL())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const f=V0.create(n,r);l(t(f,e,r))}catch(f){c(f)}})}try{const l=V0.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Tu.create=V0.create;Tu.toCanvas=Mm.bind(null,TA.render);Tu.toDataURL=Mm.bind(null,TA.renderToDataURL);Tu.toString=Mm.bind(null,function(t,e,n){return sL.render(t,n)});function Ep(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var Xr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(Xr);const aL="https://api.mainnet-beta.solana.com";function lL(t){return t.includes(aL)?Xr.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?Xr.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?Xr.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Xr.SOLANA_LOCALNET_CHAIN:Xr.SOLANA_MAINNET_CHAIN}function uL(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const lr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class ur extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const cL={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class Qf extends Error{constructor(...e){const[n,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ve(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function dL(t){return window.btoa(t)}function G0(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function fL(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Mc(t,e){return Ve(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function hL(t){return uL(t)}function pL(t){return dL(hL(t))}const MA="solana:signTransactions",Y0="solana:cloneAuthorization",gL="solana:signInWithSolana";function NA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return Ve(this,void 0,void 0,function*(){const{method:o,params:s}=yL(r,i,t),a=yield e(o,s);return o==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield wL(s.sign_in_payload,a,e)),mL(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function yL(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:o}=r;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:s}=r;if(o)switch(n){case"legacy":{i="reauthorize",r={auth_token:o,identity:s};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function mL(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[MA];return r.supports_clone_authorization===!0&&i.push(Y0),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Y0)})}}}return e}function wL(t,e,n){var r;return Ve(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,s=pL(Object.assign(Object.assign({},t),{domain:i,address:o})),a=yield n("sign_messages",{addresses:[o],payloads:[s]});return{address:o,signed_message:s,signature:a.signed_payloads[0].slice(s.length)}})}const ki=4;function vL(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ki);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const q0=12,Nm=65;function _L(t,e,n){return Ve(this,void 0,void 0,function*(){const r=vL(e),i=new Uint8Array(q0);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(OA(r,i),n,new TextEncoder().encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function xA(t,e){return Ve(this,void 0,void 0,function*(){const n=t.slice(0,ki),r=t.slice(ki,ki+q0),i=t.slice(ki+q0),o=yield crypto.subtle.decrypt(OA(n,r),e,i);return EL().decode(o)})}function OA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Sp;function EL(){return Sp===void 0&&(Sp=new TextDecoder("utf-8")),Sp}function CA(){return Ve(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Nc(){return Ve(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function LA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function SL(){return BA(49152+Math.floor(Math.random()*16384))}function BA(t){if(t<49152||t>65535)throw new ur(lr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function PA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const bL="solana-wallet";function Q1(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function DA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new ur(lr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${bL}:/`));const r=t.startsWith("/")?t:[...Q1(n.pathname),...Q1(t)].join("/");return new URL(r,n)}function AL(t,e,n,r=["v1"]){return Ve(this,void 0,void 0,function*(){const i=BA(e),o=yield crypto.subtle.exportKey("raw",t),s=LA(o),a=DA("v1/associate/local",n);return a.searchParams.set("association",PA(s)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function IL(t,e,n,r,i=["v1"]){return Ve(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",t),s=LA(o),a=DA("v1/associate/remote",r);return a.searchParams.set("association",PA(s)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${G0(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function UA(t,e){return Ve(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return _L(n,r,e)})}function zA(t,e){return Ve(this,void 0,void 0,function*(){const n=yield xA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Qf(r.id,r.error.code,r.error.message);return r})}function jA(t,e,n){return Ve(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,Nm),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function WA(t,e){return Ve(this,void 0,void 0,function*(){const n=yield xA(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new ur(lr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const Zd={Firefox:0,Other:1};function RL(){return navigator.userAgent.indexOf("Firefox/")!==-1?Zd.Firefox:Zd.Other}function kL(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let nl=null;function TL(t){nl==null&&(nl=document.createElement("iframe"),nl.style.display="none",document.body.appendChild(nl)),nl.contentWindow.location.href=t.toString()}function ML(t){return Ve(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=RL();switch(e){case Zd.Firefox:TL(t);break;case Zd.Other:{const n=kL();window.location.assign(t),yield n;break}default:}}catch{throw new ur(lr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function NL(t,e){return Ve(this,void 0,void 0,function*(){const n=SL(),r=yield AL(t,n,e);return yield ML(r),n})}const Qd={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},FA="com.solana.mobilewalletadapter.v1",X1="com.solana.mobilewalletadapter.v1.base64";function HA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ur(lr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function $A(t){let e;try{e=new URL(t)}catch{throw new ur(lr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new ur(lr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Xd(t){return new DataView(t).getUint32(0,!1)}function xL(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,o=0,s;do{if(o>=n||o>r)throw new RangeError("Failed to decode varint");s=e[o++],i|=(s&127)<<7*o}while(s>=128);return{value:i,offset:o}}function OL(t){let{value:e,offset:n}=xL(t);return new Uint8Array(t.slice(n,n+e))}function CL(t,e){return Ve(this,void 0,void 0,function*(){HA();const n=yield CA(),i=`ws://localhost:${yield NL(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const s=(()=>{const f=[...Qd.retryDelayScheduleMs];return()=>f.length>1?f.shift():f[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((f,g)=>{let w;const m={},E=()=>Ve(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}w.removeEventListener("open",E);const{associationKeypair:C}=c,D=yield Nc();w.send(yield Mc(D.publicKey,C.privateKey)),c={__type:"hello_req_sent",associationPublicKey:C.publicKey,ecdhPrivateKey:D.privateKey}}),k=C=>{C.wasClean?c={__type:"disconnected"}:g(new ur(lr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${C.code}: ${C.reason}).`,{closeEvent:C})),A()},N=C=>Ve(this,void 0,void 0,function*(){A(),Date.now()-o>=Qd.timeoutMs?g(new ur(lr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(D=>{const U=s();S=window.setTimeout(D,U)}),x())}),b=C=>Ve(this,void 0,void 0,function*(){const D=yield C.data.arrayBuffer();switch(c.__type){case"connecting":if(D.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const U=yield Nc();w.send(yield Mc(U.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:U.privateKey};break;case"connected":try{const z=D.slice(0,ki),W=Xd(z);if(W!==l+1)throw new Error("Encrypted message has invalid sequence number");l=W;const $=yield zA(D,c.sharedSecret),Z=m[$.id];delete m[$.id],Z.resolve($.result)}catch(z){if(z instanceof Qf){const W=m[z.jsonRpcMessageId];delete m[z.jsonRpcMessageId],W.reject(z)}else throw z}break;case"hello_req_sent":{if(D.byteLength===0){const j=yield Nc();w.send(yield Mc(j.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:j.privateKey};break}const z=yield jA(D,c.associationPublicKey,c.ecdhPrivateKey),W=D.slice(Nm),$=W.byteLength!==0?yield Ve(this,void 0,void 0,function*(){const j=W.slice(0,ki),_=Xd(j);if(_!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=_,WA(W,z)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:z,sessionProperties:$};const Z=NA($.protocol_version,(j,_)=>Ve(this,void 0,void 0,function*(){const u=a++;return w.send(yield UA({id:u,jsonrpc:"2.0",method:j,params:_??{}},z)),new Promise((d,v)=>{m[u]={resolve(R){switch(j){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=R;if(I!=null)try{$A(I)}catch(O){v(O);return}break}}d(R)},reject:v}})}));try{f(yield t(Z))}catch(j){g(j)}finally{A(),w.close()}break}}});let A,S;const x=()=>{A&&A(),c={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),w=new WebSocket(i,[FA]),w.addEventListener("open",E),w.addEventListener("close",k),w.addEventListener("error",N),w.addEventListener("message",b),A=()=>{window.clearTimeout(S),w.removeEventListener("open",E),w.removeEventListener("close",k),w.removeEventListener("error",N),w.removeEventListener("message",b)}};x()})})}function LL(t){return Ve(this,void 0,void 0,function*(){HA();const e=yield CA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const k=[...Qd.retryDelayScheduleMs];return()=>k.length>1?k.shift():k[0]})();let o=1,s=0,a,l={__type:"disconnected"},c,f,g=k=>Ve(this,void 0,void 0,function*(){if(a=="base64"){const N=yield k.data;return fL(N).buffer}else return yield k.data.arrayBuffer()});const w=yield new Promise((k,N)=>{const b=()=>Ve(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(X1)?a="base64":a="binary",c.removeEventListener("open",b)}),A=U=>{U.wasClean?l={__type:"disconnected"}:N(new ur(lr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${U.code}: ${U.reason}).`,{closeEvent:U})),f()},S=U=>Ve(this,void 0,void 0,function*(){f(),Date.now()-r>=Qd.timeoutMs?N(new ur(lr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(z=>{const W=i();C=window.setTimeout(z,W)}),D())}),x=U=>Ve(this,void 0,void 0,function*(){const z=yield g(U);if(l.__type==="connecting"){if(z.byteLength==0)throw new Error("Encountered unexpected message while connecting");const W=OL(z);l={__type:"reflector_id_received",reflectorId:W};const $=yield IL(e.publicKey,t.remoteHostAuthority,W,t==null?void 0:t.baseUri);c.removeEventListener("message",x),k($)}});let C;const D=()=>{f&&f(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[FA,X1]),c.addEventListener("open",b),c.addEventListener("close",A),c.addEventListener("error",S),c.addEventListener("message",x),f=()=>{window.clearTimeout(C),c.removeEventListener("open",b),c.removeEventListener("close",A),c.removeEventListener("error",S),c.removeEventListener("message",x)}};D()});let m=!1,E;return{associationUrl:w,close:()=>{c.close(),E()},wallet:new Promise((k,N)=>{const b={},A=S=>Ve(this,void 0,void 0,function*(){const x=yield g(S);switch(l.__type){case"reflector_id_received":if(x.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const C=yield Nc(),D=yield Mc(C.publicKey,e.privateKey);a=="base64"?c.send(G0(D)):c.send(D),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:C.privateKey};break;case"connected":try{const U=x.slice(0,ki),z=Xd(U);if(z!==s+1)throw new Error("Encrypted message has invalid sequence number");s=z;const W=yield zA(x,l.sharedSecret),$=b[W.id];delete b[W.id],$.resolve(W.result)}catch(U){if(U instanceof Qf){const z=b[U.jsonRpcMessageId];delete b[U.jsonRpcMessageId],z.reject(U)}else throw U}break;case"hello_req_sent":{const U=yield jA(x,l.associationPublicKey,l.ecdhPrivateKey),z=x.slice(Nm),W=z.byteLength!==0?yield Ve(this,void 0,void 0,function*(){const Z=z.slice(0,ki),j=Xd(Z);if(j!==s+1)throw new Error("Encrypted message has invalid sequence number");return s=j,WA(z,U)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:U,sessionProperties:W};const $=NA(W.protocol_version,(Z,j)=>Ve(this,void 0,void 0,function*(){const _=o++,u=yield UA({id:_,jsonrpc:"2.0",method:Z,params:j??{}},U);return a=="base64"?c.send(G0(u)):c.send(u),new Promise((d,v)=>{b[_]={resolve(R){switch(Z){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=R;if(I!=null)try{$A(I)}catch(O){v(O);return}break}}d(R)},reject:v}})}));m=!0;try{k($)}catch(Z){N(Z)}break}}});c.addEventListener("message",A),E=()=>{c.removeEventListener("message",A),f(),m||N(new ur(lr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}const BL=Object.freeze(Object.defineProperty({__proto__:null,SolanaCloneAuthorization:Y0,SolanaMobileWalletAdapterError:ur,SolanaMobileWalletAdapterErrorCode:lr,SolanaMobileWalletAdapterProtocolError:Qf,SolanaMobileWalletAdapterProtocolErrorCode:cL,SolanaSignInWithSolana:gL,SolanaSignTransactions:MA,startRemoteScenario:LL,transact:CL},Symbol.toStringTag,{value:"Module"})),PL=ms(BL),DL=ms(g4);function UL(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var E=0,k=0,N=0,b=m.length;N!==b&&m[N]===0;)N++,E++;for(var A=(b-N)*c+1>>>0,S=new Uint8Array(A);N!==b;){for(var x=m[N],C=0,D=A-1;(x!==0||C<k)&&D!==-1;D--,C++)x+=256*S[D]>>>0,S[D]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");k=C,N++}for(var U=A-k;U!==A&&S[U]===0;)U++;for(var z=a.repeat(E);U<A;++U)z+=t.charAt(S[U]);return z}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var E=0,k=0,N=0;m[E]===a;)k++,E++;for(var b=(m.length-E)*l+1>>>0,A=new Uint8Array(b);m[E];){var S=m.charCodeAt(E);if(S>255)return;var x=e[S];if(x===255)return;for(var C=0,D=b-1;(x!==0||C<N)&&D!==-1;D--,C++)x+=s*A[D]>>>0,A[D]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");N=C,E++}for(var U=b-N;U!==b&&A[U]===0;)U++;for(var z=new Uint8Array(k+(b-U)),W=k;U!==b;)z[W++]=A[U++];return z}function w(m){var E=g(m);if(E)return E;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var zL=UL;const jL=zL,WL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var FL=jL(WL);Object.defineProperty(li,"__esModule",{value:!0});var Qt=Ne,HL=Tu,KA=PL,ga=DL,$L=FL,J1=Xr;function VA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var KL=VA(HL),au=VA($L);function be(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function H(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function xe(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ul,en,Bo,Ls,GA,YA,qA,xc;const VL=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,GL=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,YL=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class ZA{constructor(){ul.add(this),en.set(this,null),Bo.set(this,{}),Ls.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),H(this,ul,"m",YA).call(this),H(this,en,"f")&&(H(this,en,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),H(this,ul,"m",qA).call(this),H(this,en,"f")&&(H(this,en,"f").style.display="none"),(n=H(this,Bo,"f").close)===null||n===void 0||n.forEach(r=>r(e))},xc.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),xe(this,en,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return be(this,void 0,void 0,function*(){console.log("Injecting modal"),H(this,ul,"m",GA).call(this)})}addEventListener(e,n){var r;return!((r=H(this,Bo,"f")[e])===null||r===void 0)&&r.push(n)||(H(this,Bo,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;H(this,Bo,"f")[e]=(r=H(this,Bo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}en=new WeakMap,Bo=new WeakMap,Ls=new WeakMap,xc=new WeakMap,ul=new WeakSet,GA=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){H(this,en,"f")||xe(this,en,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}xe(this,en,document.createElement("div")),H(this,en,"f").id="mobile-wallet-adapter-embedded-root-ui",H(this,en,"f").innerHTML=VL,H(this,en,"f").style.display="none";const e=H(this,en,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=GL+this.contentStyles;const r=document.createElement("div");r.innerHTML=YL,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(H(this,en,"f")),document.body.appendChild(r)},YA=function(){if(!H(this,en,"f")||H(this,Ls,"f"))return;[...H(this,en,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",H(this,xc,"f")),xe(this,Ls,!0)},qA=function(){if(!H(this,Ls,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",H(this,xc,"f")),!H(this,en,"f")))return;[...H(this,en,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),xe(this,Ls,!1)};class qL extends ZA{constructor(){super(...arguments),this.contentStyles=QL,this.contentHtml=ZL}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return be(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return be(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield KL.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const ZL=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,QL=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,QA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function oo(t){return window.btoa(String.fromCharCode.call(null,...t))}function xn(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Bs,Jo,Z0,Q0,X0,J0,cl,Tn,hi,Hi,Ps,Po,Oc,dl,Cc,eg,Lc,XA,tg,Bc,Ds,Pc,fl,Dc,Us,hl,Uc,ng,rg,zc,jc,ig,og,Wc,zs,es,sg,ag,lg,ug,pl,Mn,$i,Ki,js,Do,Fc,gl,Hc,$c,Mr,cg,Kc,JA,dg,Vc,yl,fg,ml,Gc,Ws,wl,Yc,hg,pg,qc,Zc,gg,yg,Qc;const xm="Mobile Wallet Adapter",eI=64,tI=[Qt.SolanaSignAndSendTransaction,Qt.SolanaSignTransaction,Qt.SolanaSignMessage,Qt.SolanaSignIn];class nI{constructor(e){Bs.add(this),Jo.set(this,{}),Z0.set(this,"1.0.0"),Q0.set(this,xm),X0.set(this,"https://solanamobile.com/wallets"),J0.set(this,QA),cl.set(this,void 0),Tn.set(this,void 0),hi.set(this,void 0),Hi.set(this,!1),Ps.set(this,0),Po.set(this,[]),Oc.set(this,void 0),dl.set(this,void 0),Cc.set(this,void 0),eg.set(this,(n,r)=>{var i;return!((i=H(this,Jo,"f")[n])===null||i===void 0)&&i.push(r)||(H(this,Jo,"f")[n]=[r]),()=>H(this,Bs,"m",XA).call(this,n,r)}),tg.set(this,({silent:n}={})=>be(this,void 0,void 0,function*(){if(H(this,Hi,"f")||this.connected)return{accounts:this.accounts};xe(this,Hi,!0);try{if(n){const r=yield H(this,hi,"f").get();if(r)yield H(this,Pc,"f").call(this,r.capabilities),yield H(this,Ds,"f").call(this,r);else return{accounts:this.accounts}}else yield H(this,Bc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{xe(this,Hi,!1)}return{accounts:this.accounts}})),Bc.set(this,n=>be(this,void 0,void 0,function*(){try{const r=yield H(this,hi,"f").get();if(r)return H(this,Ds,"f").call(this,r),r;const i=yield H(this,Oc,"f").select(H(this,Po,"f"));return yield H(this,Us,"f").call(this,o=>be(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:H(this,cl,"f"),sign_in_payload:n})]),l=H(this,Uc,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([H(this,Pc,"f").call(this,s),H(this,hi,"f").set(c),H(this,Ds,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Ds.set(this,n=>be(this,void 0,void 0,function*(){var r;const i=H(this,Tn,"f")==null||((r=H(this,Tn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||H(this,Tn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);xe(this,Tn,n),i&&H(this,Bs,"m",Lc).call(this,"change",{accounts:this.accounts})})),Pc.set(this,n=>be(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,o=Qt.SolanaSignAndSendTransaction in this.features!==i||Qt.SolanaSignTransaction in this.features!==r;xe(this,dl,Object.assign(Object.assign({},(i||!i&&!r)&&{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:H(this,zc,"f")}}),r&&{[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:H(this,jc,"f")}})),o&&H(this,Bs,"m",Lc).call(this,"change",{features:this.features})})),fl.set(this,(n,r,i)=>be(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=H(this,Tn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:H(this,cl,"f"),chain:i})]),c=H(this,Uc,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:c,chain:i,capabilities:a});Promise.all([H(this,hi,"f").set(f),H(this,Ds,"f").call(this,f)])}catch(a){throw H(this,Dc,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Dc.set(this,()=>be(this,void 0,void 0,function*(){var n;H(this,hi,"f").clear(),xe(this,Hi,!1),xe(this,Ps,(n=H(this,Ps,"f"),n++,n)),xe(this,Tn,void 0),H(this,Bs,"m",Lc).call(this,"change",{accounts:this.accounts})})),Us.set(this,n=>be(this,void 0,void 0,function*(){var r;const i=(r=H(this,Tn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,s=H(this,Ps,"f");try{return yield KA.transact(n,o)}catch(a){throw H(this,Ps,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield H(this,Cc,"f").call(this,this)),a}})),hl.set(this,()=>{if(!H(this,Tn,"f"))throw new Error("Wallet not connected");return{authToken:H(this,Tn,"f").auth_token,chain:H(this,Tn,"f").chain}}),Uc.set(this,n=>n.map(r=>{var i,o;const s=xn(r.address);return{address:au.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:H(this,Po,"f"),features:(o=r.features)!==null&&o!==void 0?o:tI}})),ng.set(this,n=>be(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,hl,"f").call(this);try{const o=n.map(s=>oo(s));return yield H(this,Us,"f").call(this,s=>be(this,void 0,void 0,function*(){return yield H(this,fl,"f").call(this,s,r,i),(yield s.signTransactions({payloads:o})).signed_payloads.map(xn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),rg.set(this,(n,r)=>be(this,void 0,void 0,function*(){const{authToken:i,chain:o}=H(this,hl,"f").call(this);try{return yield H(this,Us,"f").call(this,s=>be(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),H(this,fl,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions){const c=oo(n);return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[c]}))).signatures.map(xn)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),zc.set(this,(...n)=>be(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield H(this,rg,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),jc.set(this,(...n)=>be(this,void 0,void 0,function*(){return(yield H(this,ng,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),ig.set(this,(...n)=>be(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,hl,"f").call(this),o=n.map(({account:a})=>oo(a.publicKey)),s=n.map(({message:a})=>oo(a));try{return yield H(this,Us,"f").call(this,a=>be(this,void 0,void 0,function*(){return yield H(this,fl,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(xn).map(c=>({signedMessage:c,signature:c.slice(-eI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),og.set(this,(...n)=>be(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield H(this,Wc,"f").call(this,i));else return[yield H(this,Wc,"f").call(this,n[0])];return r})),Wc.set(this,n=>be(this,void 0,void 0,function*(){var r,i,o;xe(this,Hi,!0);try{const s=yield H(this,Bc,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(c=>c.address==a);return{account:Object.assign(Object.assign({},l??{address:au.default.encode(xn(a))}),{publicKey:xn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:H(this,Po,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:xn(s.sign_in_result.signed_message),signature:xn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{xe(this,Hi,!1)}})),xe(this,hi,e.authorizationCache),xe(this,cl,e.appIdentity),xe(this,Po,e.chains),xe(this,Oc,e.chainSelector),xe(this,Cc,e.onWalletNotFound),xe(this,dl,{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:H(this,zc,"f")},[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:H(this,jc,"f")}})}get version(){return H(this,Z0,"f")}get name(){return H(this,Q0,"f")}get url(){return H(this,X0,"f")}get icon(){return H(this,J0,"f")}get chains(){return H(this,Po,"f")}get features(){return Object.assign({[ga.StandardConnect]:{version:"1.0.0",connect:H(this,tg,"f")},[ga.StandardDisconnect]:{version:"1.0.0",disconnect:H(this,Dc,"f")},[ga.StandardEvents]:{version:"1.0.0",on:H(this,eg,"f")},[Qt.SolanaSignMessage]:{version:"1.0.0",signMessage:H(this,ig,"f")},[Qt.SolanaSignIn]:{version:"1.0.0",signIn:H(this,og,"f")}},H(this,dl,"f"))}get accounts(){var e,n;return(n=(e=H(this,Tn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!H(this,Tn,"f")}get isAuthorized(){return!!H(this,Tn,"f")}get currentAuthorization(){return H(this,Tn,"f")}get cachedAuthorizationResult(){return H(this,hi,"f").get()}}Jo=new WeakMap,Z0=new WeakMap,Q0=new WeakMap,X0=new WeakMap,J0=new WeakMap,cl=new WeakMap,Tn=new WeakMap,hi=new WeakMap,Hi=new WeakMap,Ps=new WeakMap,Po=new WeakMap,Oc=new WeakMap,dl=new WeakMap,Cc=new WeakMap,eg=new WeakMap,tg=new WeakMap,Bc=new WeakMap,Ds=new WeakMap,Pc=new WeakMap,fl=new WeakMap,Dc=new WeakMap,Us=new WeakMap,hl=new WeakMap,Uc=new WeakMap,ng=new WeakMap,rg=new WeakMap,zc=new WeakMap,jc=new WeakMap,ig=new WeakMap,og=new WeakMap,Wc=new WeakMap,Bs=new WeakSet,Lc=function(e,...n){var r;(r=H(this,Jo,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},XA=function(e,n){var r;H(this,Jo,"f")[e]=(r=H(this,Jo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class rI{constructor(e){zs.add(this),es.set(this,{}),sg.set(this,"1.0.0"),ag.set(this,xm),lg.set(this,"https://solanamobile.com/wallets"),ug.set(this,QA),pl.set(this,void 0),Mn.set(this,void 0),$i.set(this,void 0),Ki.set(this,!1),js.set(this,0),Do.set(this,[]),Fc.set(this,void 0),gl.set(this,void 0),Hc.set(this,void 0),$c.set(this,void 0),Mr.set(this,void 0),cg.set(this,(n,r)=>{var i;return!((i=H(this,es,"f")[n])===null||i===void 0)&&i.push(r)||(H(this,es,"f")[n]=[r]),()=>H(this,zs,"m",JA).call(this,n,r)}),dg.set(this,({silent:n}={})=>be(this,void 0,void 0,function*(){if(H(this,Ki,"f")||this.connected)return{accounts:this.accounts};xe(this,Ki,!0);try{yield H(this,Vc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{xe(this,Ki,!1)}return{accounts:this.accounts}})),Vc.set(this,n=>be(this,void 0,void 0,function*(){try{const r=yield H(this,$i,"f").get();if(r)return H(this,yl,"f").call(this,r),r;H(this,Mr,"f")&&xe(this,Mr,void 0,"f");const i=yield H(this,Fc,"f").select(H(this,Do,"f"));return yield H(this,Ws,"f").call(this,o=>be(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:H(this,pl,"f"),sign_in_payload:n})]),l=H(this,Yc,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([H(this,fg,"f").call(this,s),H(this,$i,"f").set(c),H(this,yl,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),yl.set(this,n=>be(this,void 0,void 0,function*(){var r;const i=H(this,Mn,"f")==null||((r=H(this,Mn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||H(this,Mn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);xe(this,Mn,n),i&&H(this,zs,"m",Kc).call(this,"change",{accounts:this.accounts})})),fg.set(this,n=>be(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),o=Qt.SolanaSignAndSendTransaction in this.features!==i||Qt.SolanaSignTransaction in this.features!==r;xe(this,gl,Object.assign(Object.assign({},i&&{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:H(this,qc,"f")}}),r&&{[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:H(this,Zc,"f")}})),o&&H(this,zs,"m",Kc).call(this,"change",{features:this.features})})),ml.set(this,(n,r,i)=>be(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=H(this,Mn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:H(this,pl,"f"),chain:i})]),c=H(this,Yc,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:c,chain:i,capabilities:a});Promise.all([H(this,$i,"f").set(f),H(this,yl,"f").call(this,f)])}catch(a){throw H(this,Gc,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Gc.set(this,()=>be(this,void 0,void 0,function*(){var n,r;(n=H(this,Mr,"f"))===null||n===void 0||n.close(),H(this,$i,"f").clear(),xe(this,Ki,!1),xe(this,js,(r=H(this,js,"f"),r++,r)),xe(this,Mn,void 0),xe(this,Mr,void 0),H(this,zs,"m",Kc).call(this,"change",{accounts:this.accounts})})),Ws.set(this,n=>be(this,void 0,void 0,function*(){var r;const i=(r=H(this,Mn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:H(this,$c,"f")}),a=H(this,js,"f"),l=new qL;if(H(this,Mr,"f"))return n(H(this,Mr,"f").wallet);try{const{associationUrl:c,close:f,wallet:g}=yield KA.startRemoteScenario(s),w=l.addEventListener("close",m=>{m&&f()});return l.initWithQR(c.toString()),l.open(),xe(this,Mr,{close:f,wallet:yield g},"f"),w(),l.close(),yield n(H(this,Mr,"f").wallet)}catch(c){throw l.close(),H(this,js,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield H(this,Hc,"f").call(this,this)),c}})),wl.set(this,()=>{if(!H(this,Mn,"f"))throw new Error("Wallet not connected");return{authToken:H(this,Mn,"f").auth_token,chain:H(this,Mn,"f").chain}}),Yc.set(this,n=>n.map(r=>{var i,o;const s=xn(r.address);return{address:au.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:H(this,Do,"f"),features:(o=r.features)!==null&&o!==void 0?o:tI}})),hg.set(this,n=>be(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,wl,"f").call(this);try{return yield H(this,Ws,"f").call(this,o=>be(this,void 0,void 0,function*(){return yield H(this,ml,"f").call(this,o,r,i),(yield o.signTransactions({payloads:n.map(oo)})).signed_payloads.map(xn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),pg.set(this,(n,r)=>be(this,void 0,void 0,function*(){const{authToken:i,chain:o}=H(this,wl,"f").call(this);try{return yield H(this,Ws,"f").call(this,s=>be(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),H(this,ml,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[oo(n)]}))).signatures.map(xn)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),qc.set(this,(...n)=>be(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield H(this,pg,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),Zc.set(this,(...n)=>be(this,void 0,void 0,function*(){return(yield H(this,hg,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),gg.set(this,(...n)=>be(this,void 0,void 0,function*(){const{authToken:r,chain:i}=H(this,wl,"f").call(this),o=n.map(({account:a})=>oo(a.publicKey)),s=n.map(({message:a})=>oo(a));try{return yield H(this,Ws,"f").call(this,a=>be(this,void 0,void 0,function*(){return yield H(this,ml,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(xn).map(c=>({signedMessage:c,signature:c.slice(-eI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),yg.set(this,(...n)=>be(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield H(this,Qc,"f").call(this,i));else return[yield H(this,Qc,"f").call(this,n[0])];return r})),Qc.set(this,n=>be(this,void 0,void 0,function*(){var r,i,o;xe(this,Ki,!0);try{const s=yield H(this,Vc,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(c=>c.address==a);return{account:Object.assign(Object.assign({},l??{address:au.default.encode(xn(a))}),{publicKey:xn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:H(this,Do,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:xn(s.sign_in_result.signed_message),signature:xn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{xe(this,Ki,!1)}})),xe(this,$i,e.authorizationCache),xe(this,pl,e.appIdentity),xe(this,Do,e.chains),xe(this,Fc,e.chainSelector),xe(this,$c,e.remoteHostAuthority),xe(this,Hc,e.onWalletNotFound),xe(this,gl,{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:H(this,qc,"f")},[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:H(this,Zc,"f")}})}get version(){return H(this,sg,"f")}get name(){return H(this,ag,"f")}get url(){return H(this,lg,"f")}get icon(){return H(this,ug,"f")}get chains(){return H(this,Do,"f")}get features(){return Object.assign({[ga.StandardConnect]:{version:"1.0.0",connect:H(this,dg,"f")},[ga.StandardDisconnect]:{version:"1.0.0",disconnect:H(this,Gc,"f")},[ga.StandardEvents]:{version:"1.0.0",on:H(this,cg,"f")},[Qt.SolanaSignMessage]:{version:"1.0.0",signMessage:H(this,gg,"f")},[Qt.SolanaSignIn]:{version:"1.0.0",signIn:H(this,yg,"f")}},H(this,gl,"f"))}get accounts(){var e,n;return(n=(e=H(this,Mn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!H(this,Mr,"f")&&!!H(this,Mn,"f")}get isAuthorized(){return!!H(this,Mn,"f")}get currentAuthorization(){return H(this,Mn,"f")}get cachedAuthorizationResult(){return H(this,$i,"f").get()}}es=new WeakMap,sg=new WeakMap,ag=new WeakMap,lg=new WeakMap,ug=new WeakMap,pl=new WeakMap,Mn=new WeakMap,$i=new WeakMap,Ki=new WeakMap,js=new WeakMap,Do=new WeakMap,Fc=new WeakMap,gl=new WeakMap,Hc=new WeakMap,$c=new WeakMap,Mr=new WeakMap,cg=new WeakMap,dg=new WeakMap,Vc=new WeakMap,yl=new WeakMap,fg=new WeakMap,ml=new WeakMap,Gc=new WeakMap,Ws=new WeakMap,wl=new WeakMap,Yc=new WeakMap,hg=new WeakMap,pg=new WeakMap,qc=new WeakMap,Zc=new WeakMap,gg=new WeakMap,yg=new WeakMap,Qc=new WeakMap,zs=new WeakSet,Kc=function(e,...n){var r;(r=H(this,es,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},JA=function(e,n){var r;H(this,es,"f")[e]=(r=H(this,es,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var XL=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},JL=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Xc;function ev(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new e3(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let e3=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Xc.set(this,void 0),XL(this,Xc,e,"f")}get detail(){return JL(this,Xc,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Xc=new WeakMap;function t3(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function n3(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function r3(t){t3()?ev(new nI(t)):n3()&&t.remoteHostAuthority!==void 0&&ev(new rI(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const i3="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",o3="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class s3 extends ZA{constructor(){super(...arguments),this.contentStyles=l3,this.contentHtml=a3}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=i3,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=o3,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const a3=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,l3=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function iI(){return be(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new s3;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function u3(){return()=>be(this,void 0,void 0,function*(){iI()})}const bp="SolanaMobileWalletAdapterDefaultAuthorizationCache";function c3(){let t;try{t=window.localStorage}catch{}return{clear(){return be(this,void 0,void 0,function*(){if(t)try{t.removeItem(bp)}catch{}})},get(){return be(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(bp));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):au.default.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return be(this,void 0,void 0,function*(){if(t)try{t.setItem(bp,JSON.stringify(e))}catch{}})}}}function d3(){return{select(t){return be(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(J1.SOLANA_MAINNET_CHAIN)?J1.SOLANA_MAINNET_CHAIN:t[0]})}}}li.LocalSolanaMobileWalletAdapterWallet=nI;li.RemoteSolanaMobileWalletAdapterWallet=rI;li.SolanaMobileWalletAdapterWalletName=xm;li.createDefaultAuthorizationCache=c3;li.createDefaultChainSelector=d3;li.createDefaultWalletNotFoundHandler=u3;li.defaultErrorModalWalletNotFoundHandler=iI;li.registerMwa=r3;Object.defineProperty(Mo,"__esModule",{value:!0});var tn=v4,Jc=Wb,Ho=Ne,Ca=li;function Ze(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function me(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function tr(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const mg="standard:connect",f3="standard:disconnect",h3="standard:events";function Ap(t){return window.btoa(String.fromCharCode.call(null,...t))}function p3(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var sn,gt,Xi,Si,ed,mi,Uo,wg,vg,oI,Jd,td,Yi;const g3="Mobile Wallet Adapter",y3=64;function m3(t){return"version"in t}function Om(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class sI extends tn.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),sn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),gt.set(this,void 0),Xi.set(this,!1),Si.set(this,p3()?tn.WalletReadyState.Loadable:tn.WalletReadyState.Unsupported),ed.set(this,void 0),mi.set(this,void 0),Uo.set(this,void 0),wg.set(this,r=>Ze(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){me(this,sn,"m",oI).call(this);const i=yield me(this,ed,"f").call(this,r.accounts);i!==me(this,mi,"f")&&(tr(this,mi,i),tr(this,Uo,void 0),this.emit("connect",this.publicKey))}})),tr(this,ed,r=>Ze(this,void 0,void 0,function*(){var i;const o=yield n.addressSelector.select(r.map(({publicKey:s})=>Ap(s)));return(i=r.find(({publicKey:s})=>Ap(s)===o))!==null&&i!==void 0?i:r[0]})),tr(this,gt,e),me(this,gt,"f").features[h3].on("change",me(this,wg,"f")),this.name=me(this,gt,"f").name,this.icon=me(this,gt,"f").icon,this.url=me(this,gt,"f").url}get publicKey(){var e;if(!me(this,Uo,"f")&&me(this,mi,"f"))try{tr(this,Uo,new Jc.PublicKey(me(this,mi,"f").publicKey),"f")}catch(n){throw new tn.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=me(this,Uo,"f"))!==null&&e!==void 0?e:null}get connected(){return me(this,gt,"f").connected}get connecting(){return me(this,Xi,"f")}get readyState(){return me(this,Si,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Ze(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Ze(this,void 0,void 0,function*(){me(this,sn,"m",vg).call(this,!0)})}connect(){return Ze(this,void 0,void 0,function*(){me(this,sn,"m",vg).call(this)})}performAuthorization(e){return Ze(this,void 0,void 0,function*(){try{const n=yield me(this,gt,"f").cachedAuthorizationResult;return n?(yield me(this,gt,"f").features[mg].connect({silent:!0}),n):(e?yield me(this,gt,"f").features[Ho.SolanaSignIn].signIn(e):yield me(this,gt,"f").features[mg].connect(),yield yield me(this,gt,"f").cachedAuthorizationResult)}catch(n){throw new tn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Ze(this,void 0,void 0,function*(){return yield me(this,sn,"m",Yi).call(this,()=>Ze(this,void 0,void 0,function*(){tr(this,Xi,!1),tr(this,Uo,void 0),tr(this,mi,void 0),yield me(this,gt,"f").features[f3].disconnect(),this.emit("disconnect")}))})}signIn(e){return Ze(this,void 0,void 0,function*(){return me(this,sn,"m",Yi).call(this,()=>Ze(this,void 0,void 0,function*(){var n;if(me(this,Si,"f")!==tn.WalletReadyState.Installed&&me(this,Si,"f")!==tn.WalletReadyState.Loadable)throw new tn.WalletNotReadyError;tr(this,Xi,!0);try{const r=yield me(this,gt,"f").features[Ho.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new tn.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{tr(this,Xi,!1)}}))})}signMessage(e){return Ze(this,void 0,void 0,function*(){return yield me(this,sn,"m",Yi).call(this,()=>Ze(this,void 0,void 0,function*(){const n=me(this,sn,"m",Jd).call(this);try{return(yield me(this,gt,"f").features[Ho.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new tn.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return Ze(this,void 0,void 0,function*(){return yield me(this,sn,"m",Yi).call(this,()=>Ze(this,void 0,void 0,function*(){const i=me(this,sn,"m",Jd).call(this);try{let o=function(){let s;switch(n.commitment){case"confirmed":case"finalized":case"processed":s=n.commitment;break;default:s="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=s;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(s==="finalized"?2:s==="confirmed"?1:0)?a:s};if(Ho.SolanaSignAndSendTransaction in me(this,gt,"f").features){const s=Om(me(this,gt,"f").currentAuthorization.chain),[a]=(yield me(this,gt,"f").features[Ho.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:s,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Ap(l.signature));return a}else{const[s]=yield me(this,sn,"m",td).call(this,[e]);if(m3(s))return yield n.sendTransaction(s);{const a=s.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new tn.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return Ze(this,void 0,void 0,function*(){return yield me(this,sn,"m",Yi).call(this,()=>Ze(this,void 0,void 0,function*(){const[n]=yield me(this,sn,"m",td).call(this,[e]);return n}))})}signAllTransactions(e){return Ze(this,void 0,void 0,function*(){return yield me(this,sn,"m",Yi).call(this,()=>Ze(this,void 0,void 0,function*(){return yield me(this,sn,"m",td).call(this,e)}))})}}gt=new WeakMap,Xi=new WeakMap,Si=new WeakMap,ed=new WeakMap,mi=new WeakMap,Uo=new WeakMap,wg=new WeakMap,sn=new WeakSet,vg=function(e=!1){return Ze(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield me(this,sn,"m",Yi).call(this,()=>Ze(this,void 0,void 0,function*(){if(me(this,Si,"f")!==tn.WalletReadyState.Installed&&me(this,Si,"f")!==tn.WalletReadyState.Loadable)throw new tn.WalletNotReadyError;tr(this,Xi,!0);try{yield me(this,gt,"f").features[mg].connect({silent:e})}catch(n){throw new tn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{tr(this,Xi,!1)}}))})},oI=function(){me(this,Si,"f")!==tn.WalletReadyState.Installed&&this.emit("readyStateChange",tr(this,Si,tn.WalletReadyState.Installed))},Jd=function(){if(!me(this,gt,"f").isAuthorized||!me(this,mi,"f"))throw new tn.WalletNotConnectedError;return me(this,mi,"f")},td=function(e){return Ze(this,void 0,void 0,function*(){const n=me(this,sn,"m",Jd).call(this);try{if(Ho.SolanaSignTransaction in me(this,gt,"f").features)return me(this,gt,"f").features[Ho.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,a=o[0]*y3+1;return Jc.VersionedMessage.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?Jc.Transaction.from(o):Jc.VersionedTransaction.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new tn.WalletSignTransactionError(r==null?void 0:r.message,r)}})},Yi=function(e){return Ze(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class aI extends sI{constructor(e){var n;const r=Om((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new Ca.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ze(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:Ca.createDefaultChainSelector(),onWalletNotFound:()=>Ze(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class w3 extends sI{constructor(e){const n=Om(e.chain);super(new Ca.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ze(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:Ca.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>Ze(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class v3 extends aI{}function _3(){return{select(t){return Ze(this,void 0,void 0,function*(){return t[0]})}}}function E3(){return Ca.createDefaultAuthorizationCache()}function S3(t){return Ze(this,void 0,void 0,function*(){return Ca.defaultErrorModalWalletNotFoundHandler()})}function b3(){return S3}Mo.LocalSolanaMobileWalletAdapter=aI;Mo.RemoteSolanaMobileWalletAdapter=w3;var A3=Mo.SolanaMobileWalletAdapter=v3,nd=Mo.SolanaMobileWalletAdapterWalletName=g3,I3=Mo.createDefaultAddressSelector=_3,R3=Mo.createDefaultAuthorizationResultCache=E3,k3=Mo.createDefaultWalletNotFoundHandler=b3,T3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},M3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},rd;function N3(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new x3(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class x3 extends Event{get detail(){return T3(this,rd,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),rd.set(this,void 0),M3(this,rd,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}rd=new WeakMap;function O3(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var pe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},qt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},pn,jn,ts,ns,zo,vl,ef,ze,tf,_g,id,Eg,Ol,Sg,tv,nv,rv,iv;class C3 extends Em{get name(){return pe(this,ze,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return pe(this,ze,"f").icon}get readyState(){return pe(this,tf,"f")}get publicKey(){return pe(this,ts,"f")}get connecting(){return pe(this,ns,"f")}get supportedTransactionVersions(){return pe(this,ef,"f")}get wallet(){return pe(this,ze,"f")}get standard(){return!0}constructor({wallet:e}){super(),pn.add(this),jn.set(this,void 0),ts.set(this,void 0),ns.set(this,void 0),zo.set(this,void 0),vl.set(this,void 0),ef.set(this,void 0),ze.set(this,void 0),tf.set(this,typeof window>"u"||typeof document>"u"?Oe.Unsupported:Oe.Installed),Sg.set(this,n=>{if("accounts"in n){const r=pe(this,ze,"f").accounts[0];pe(this,jn,"f")&&!pe(this,zo,"f")&&r!==pe(this,jn,"f")&&(r?pe(this,pn,"m",id).call(this,r):(this.emit("error",new bu),pe(this,pn,"m",Eg).call(this)))}"features"in n&&pe(this,pn,"m",Ol).call(this)}),qt(this,ze,e,"f"),qt(this,jn,null,"f"),qt(this,ts,null,"f"),qt(this,ns,!1,"f"),qt(this,zo,!1,"f"),qt(this,vl,pe(this,ze,"f").features[ku].on("change",pe(this,Sg,"f")),"f"),pe(this,pn,"m",Ol).call(this)}destroy(){qt(this,jn,null,"f"),qt(this,ts,null,"f"),qt(this,ns,!1,"f"),qt(this,zo,!1,"f");const e=pe(this,vl,"f");e&&(qt(this,vl,null,"f"),e())}async autoConnect(){return pe(this,pn,"m",_g).call(this,{silent:!0})}async connect(){return pe(this,pn,"m",_g).call(this)}async disconnect(){if(ou in pe(this,ze,"f").features)try{qt(this,zo,!0,"f"),await pe(this,ze,"f").features[ou].disconnect()}catch(e){this.emit("error",new Ka(e==null?void 0:e.message,e))}finally{qt(this,zo,!1,"f")}pe(this,pn,"m",Eg).call(this)}async sendTransaction(e,n,r={}){try{const i=pe(this,jn,"f");if(!i)throw new it;let o;if(Ne.SolanaSignAndSendTransaction in pe(this,ze,"f").features)if(i.features.includes(Ne.SolanaSignAndSendTransaction))o=Ne.SolanaSignAndSendTransaction;else if(Ne.SolanaSignTransaction in pe(this,ze,"f").features&&i.features.includes(Ne.SolanaSignTransaction))o=Ne.SolanaSignTransaction;else throw new Ri;else if(Ne.SolanaSignTransaction in pe(this,ze,"f").features){if(!i.features.includes(Ne.SolanaSignTransaction))throw new Ri;o=Ne.SolanaSignTransaction}else throw new ro;const s=lL(n.rpcEndpoint);if(!i.chains.includes(s))throw new Jr;try{const{signers:a,...l}=r;let c;if(Br(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Ne.SolanaSignAndSendTransaction){const[f]=await pe(this,ze,"f").features[Ne.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:Ep(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return Mt.encode(f.signature)}else{const[f]=await pe(this,ze,"f").features[Ne.SolanaSignTransaction].signTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:Ep(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(f.signedTransaction,{...l,preflightCommitment:Ep(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof ht?a:new Jr(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}jn=new WeakMap,ts=new WeakMap,ns=new WeakMap,zo=new WeakMap,vl=new WeakMap,ef=new WeakMap,ze=new WeakMap,tf=new WeakMap,Sg=new WeakMap,pn=new WeakSet,_g=async function(e){try{if(this.connected||this.connecting)return;if(pe(this,tf,"f")!==Oe.Installed)throw new bo;if(qt(this,ns,!0,"f"),!pe(this,ze,"f").accounts.length)try{await pe(this,ze,"f").features[Ru].connect(e)}catch(r){throw new gs(r==null?void 0:r.message,r)}const n=pe(this,ze,"f").accounts[0];if(!n)throw new Ri;pe(this,pn,"m",id).call(this,n)}catch(n){throw this.emit("error",n),n}finally{qt(this,ns,!1,"f")}},id=function(e){let n;try{n=new Q(e.address)}catch(r){throw new Ao(r==null?void 0:r.message,r)}qt(this,jn,e,"f"),qt(this,ts,n,"f"),pe(this,pn,"m",Ol).call(this),this.emit("connect",n)},Eg=function(){qt(this,jn,null,"f"),qt(this,ts,null,"f"),pe(this,pn,"m",Ol).call(this),this.emit("disconnect")},Ol=function(){var n,r;const e=Ne.SolanaSignAndSendTransaction in pe(this,ze,"f").features?pe(this,ze,"f").features[Ne.SolanaSignAndSendTransaction].supportedTransactionVersions:pe(this,ze,"f").features[Ne.SolanaSignTransaction].supportedTransactionVersions;qt(this,ef,O3(e,["legacy"])?null:new Set(e),"f"),Ne.SolanaSignTransaction in pe(this,ze,"f").features&&((n=pe(this,jn,"f"))!=null&&n.features.includes(Ne.SolanaSignTransaction))?(this.signTransaction=pe(this,pn,"m",tv),this.signAllTransactions=pe(this,pn,"m",nv)):(delete this.signTransaction,delete this.signAllTransactions),Ne.SolanaSignMessage in pe(this,ze,"f").features&&((r=pe(this,jn,"f"))!=null&&r.features.includes(Ne.SolanaSignMessage))?this.signMessage=pe(this,pn,"m",rv):delete this.signMessage,Ne.SolanaSignIn in pe(this,ze,"f").features?this.signIn=pe(this,pn,"m",iv):delete this.signIn},tv=async function(e){try{const n=pe(this,jn,"f");if(!n)throw new it;if(!(Ne.SolanaSignTransaction in pe(this,ze,"f").features))throw new ro;if(!n.features.includes(Ne.SolanaSignTransaction))throw new Ri;try{const i=(await pe(this,ze,"f").features[Ne.SolanaSignTransaction].signTransaction({account:n,transaction:Br(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Br(e)?ru.deserialize(i):Le.from(i)}catch(r){throw r instanceof ht?r:new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},nv=async function(e){try{const n=pe(this,jn,"f");if(!n)throw new it;if(!(Ne.SolanaSignTransaction in pe(this,ze,"f").features))throw new ro;if(!n.features.includes(Ne.SolanaSignTransaction))throw new Ri;try{const r=await pe(this,ze,"f").features[Ne.SolanaSignTransaction].signTransaction(...e.map(i=>({account:n,transaction:Br(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const s=r[o].signedTransaction;return Br(i)?ru.deserialize(s):Le.from(s)})}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},rv=async function(e){try{const n=pe(this,jn,"f");if(!n)throw new it;if(!(Ne.SolanaSignMessage in pe(this,ze,"f").features))throw new ro;if(!n.features.includes(Ne.SolanaSignMessage))throw new Ri;try{return(await pe(this,ze,"f").features[Ne.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Au(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},iv=async function(e={}){try{if(!(Ne.SolanaSignIn in pe(this,ze,"f").features))throw new ro;let n;try{[n]=await pe(this,ze,"f").features[Ne.SolanaSignIn].signIn(e)}catch(r){throw new W0(r==null?void 0:r.message,r)}if(!n)throw new W0;return pe(this,pn,"m",id).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const L3=dA;var B3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},P3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},od;let rr;const Xf=new Set;function D3(t){Cl=void 0,Xf.add(t)}function U3(t){Cl=void 0,Xf.delete(t)}const ra={};function z3(){if(rr||(rr=Object.freeze({register:ov,get:j3,on:W3}),typeof window>"u"))return rr;const t=Object.freeze({register:ov});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new F3(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return rr}function ov(...t){var e;return t=t.filter(n=>!Xf.has(n)),t.length?(t.forEach(n=>D3(n)),(e=ra.register)==null||e.forEach(n=>bg(()=>n(...t))),function(){var r;t.forEach(i=>U3(i)),(r=ra.unregister)==null||r.forEach(i=>bg(()=>i(...t)))}):()=>{}}let Cl;function j3(){return Cl||(Cl=[...Xf]),Cl}function W3(t,e){var n;return(n=ra[t])!=null&&n.push(e)||(ra[t]=[e]),function(){var i;ra[t]=(i=ra[t])==null?void 0:i.filter(o=>e!==o)}}function bg(t){try{t()}catch(e){console.error(e)}}class F3 extends Event{get detail(){return B3(this,od,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),od.set(this,void 0),P3(this,od,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}od=new WeakMap;function H3(){if(rr||(rr=z3(),typeof window>"u"))return rr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),rr;const{register:e}=rr,n=(...r)=>r.forEach(i=>bg(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),rr}return n(...t),rr}function $3(t){const e=sv(()=>new Set),{get:n,on:r}=sv(()=>H3()),[i,o]=te.useState(()=>av(n()));te.useEffect(()=>{const a=[r("register",(...l)=>o(c=>[...c,...av(l)])),r("unregister",(...l)=>o(c=>c.filter(f=>l.some(g=>g===f.wallet))))];return()=>a.forEach(l=>l())},[r]);const s=K3(i);return te.useEffect(()=>{if(!s)return;const a=new Set(i);new Set(s.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[s,i]),te.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),te.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function sv(t){const e=te.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function K3(t){const e=te.useRef(void 0);return te.useEffect(()=>{e.current=t}),e.current}function av(t){return t.filter(L3).map(e=>new C3({wallet:e}))}var ya;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(ya||(ya={}));function V3(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function G3({adapters:t,userAgentString:e}){return t.some(n=>n.name!==nd&&n.readyState===Oe.Installed)?ya.DESKTOP_WEB:e&&/android/i.test(e)&&!V3(e)?ya.MOBILE_WEB:ya.DESKTOP_WEB}function Y3(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function q3({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){const l=te.useRef(!1),[c,f]=te.useState(!1),g=te.useRef(!1),[w,m]=te.useState(!1),[E,k]=te.useState(()=>(n==null?void 0:n.publicKey)??null),[N,b]=te.useState(()=>(n==null?void 0:n.connected)??!1),A=te.useRef(s);te.useEffect(()=>(A.current=s,()=>{A.current=void 0}),[s]);const S=te.useRef((d,v)=>(r.current||(A.current?A.current(d,v):(console.error(d,v),d instanceof bo&&typeof window<"u"&&v&&window.open(v.url,"_blank"))),d)),[x,C]=te.useState(()=>e.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==Oe.Unsupported));te.useEffect(()=>{C(v=>e.map((R,I)=>{const O=v[I];return O&&O.adapter===R&&O.readyState===R.readyState?O:{adapter:R,readyState:R.readyState}}).filter(({readyState:R})=>R!==Oe.Unsupported));function d(v){C(R=>{const I=R.findIndex(({adapter:B})=>B===this);if(I===-1)return R;const{adapter:O}=R[I];return[...R.slice(0,I),{adapter:O,readyState:v},...R.slice(I+1)].filter(({readyState:B})=>B!==Oe.Unsupported)})}return e.forEach(v=>v.on("readyStateChange",d,v)),()=>{e.forEach(v=>v.off("readyStateChange",d,v))}},[n,e]);const D=te.useMemo(()=>x.find(d=>d.adapter===n)??null,[n,x]);te.useEffect(()=>{if(!n)return;const d=I=>{k(I),l.current=!1,f(!1),b(!0),g.current=!1,m(!1)},v=()=>{r.current||(k(null),l.current=!1,f(!1),b(!1),g.current=!1,m(!1))},R=I=>{S.current(I,n)};return n.on("connect",d),n.on("disconnect",v),n.on("error",R),()=>{n.off("connect",d),n.off("disconnect",v),n.off("error",R),v()}},[n,r]);const U=te.useRef(!1);te.useEffect(()=>()=>{U.current=!1},[n]),te.useEffect(()=>{U.current||l.current||N||!i||!((D==null?void 0:D.readyState)===Oe.Installed||(D==null?void 0:D.readyState)===Oe.Loadable)||(l.current=!0,f(!0),U.current=!0,async function(){try{await i()}catch{o()}finally{f(!1),l.current=!1}}())},[N,i,o,D]);const z=te.useCallback(async(d,v,R)=>{if(!n)throw S.current(new G1);if(!N)throw S.current(new it,n);return await n.sendTransaction(d,v,R)},[n,N]),W=te.useMemo(()=>n&&"signTransaction"in n?async d=>{if(!N)throw S.current(new it,n);return await n.signTransaction(d)}:void 0,[n,N]),$=te.useMemo(()=>n&&"signAllTransactions"in n?async d=>{if(!N)throw S.current(new it,n);return await n.signAllTransactions(d)}:void 0,[n,N]),Z=te.useMemo(()=>n&&"signMessage"in n?async d=>{if(!N)throw S.current(new it,n);return await n.signMessage(d)}:void 0,[n,N]),j=te.useMemo(()=>n&&"signIn"in n?async d=>await n.signIn(d):void 0,[n]),_=te.useCallback(async()=>{if(l.current||g.current||D!=null&&D.adapter.connected)return;if(!D)throw S.current(new G1);const{adapter:d,readyState:v}=D;if(!(v===Oe.Installed||v===Oe.Loadable))throw S.current(new bo,d);l.current=!0,f(!0);try{await d.connect()}catch(R){throw o(),R}finally{f(!1),l.current=!1}},[o,D]),u=te.useCallback(async()=>{if(!g.current&&n){g.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),g.current=!1}}},[n]);return J.createElement(fA.Provider,{value:{autoConnect:!!i,wallets:x,wallet:D,publicKey:E,connected:N,connecting:c,disconnecting:w,select:a,connect:_,disconnect:u,sendTransaction:z,signTransaction:W,signAllTransactions:$,signMessage:Z,signIn:j}},t)}let Ip;function Z3(){var t;return Ip===void 0&&(Ip=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),Ip}function lv(t){const e=Z3();return G3({adapters:t,userAgentString:e})===ya.MOBILE_WEB}function Q3(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function lI({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:o}=o4(),s=$3(e),a=te.useMemo(()=>{if(!lv(s))return null;const A=s.find(S=>S.name===nd);return A||new A3({addressSelector:I3(),appIdentity:{uri:Q3()},authorizationResultCache:R3(),cluster:Y3(o==null?void 0:o.rpcEndpoint),onWalletNotFound:k3()})},[s,o==null?void 0:o.rpcEndpoint]),l=te.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[c,f]=w4(r,null),g=te.useMemo(()=>l.find(A=>A.name===c)??null,[l,c]),w=te.useCallback(A=>{c!==A&&(g&&g.name!==nd&&g.disconnect(),f(A))},[g,f,c]);te.useEffect(()=>{if(!g)return;function A(){k.current||f(null)}return g.on("disconnect",A),()=>{g.off("disconnect",A)}},[g,s,f,c]);const m=te.useRef(!1),E=te.useMemo(()=>{if(!(!n||!g))return async()=>{(n===!0||await n(g))&&(m.current?await g.connect():await g.autoConnect())}},[n,g]),k=te.useRef(!1);te.useEffect(()=>{if(c===nd&&lv(s)){k.current=!1;return}function A(){k.current=!0}return window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A)}},[s,c]);const N=te.useCallback(()=>{g&&w(null)},[g,w]),b=te.useCallback(A=>{m.current=!0,w(A)},[w]);return J.createElement(q3,{wallets:l,adapter:g,isUnloadingRef:k,onAutoConnectRequest:E,onConnectError:N,onError:i,onSelectWallet:b},t)}const uI={setVisible(t){console.error(cI("call","setVisible"))},visible:!1};Object.defineProperty(uI,"visible",{get(){return console.error(cI("read","visible")),!1}});function cI(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const dI=te.createContext(uI);function fI(){return te.useContext(dI)}function X3({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:i,disconnecting:o,publicKey:s,select:a,wallet:l,wallets:c}=Am();let f;r?f="connecting":n?f="connected":o?f="disconnecting":l?f="has-wallet":f="no-wallet";const g=te.useCallback(()=>{e().catch(()=>{})},[e]),w=te.useCallback(()=>{i().catch(()=>{})},[i]),m=te.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:f,onConnect:f==="has-wallet"?g:void 0,onDisconnect:f!=="disconnecting"&&f!=="no-wallet"?w:void 0,onSelectWallet:m,publicKey:s??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const hI=t=>J.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&J.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&J.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),pI=({wallet:t,...e})=>t&&J.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function J3({walletIcon:t,walletName:e,...n}){return J.createElement(hI,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?J.createElement(pI,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function e6({children:t,labels:e,...n}){const{setVisible:r}=fI(),{buttonState:i,onConnect:o,onDisconnect:s,publicKey:a,walletIcon:l,walletName:c}=X3({onSelectWallet(){r(!0)}}),[f,g]=te.useState(!1),[w,m]=te.useState(!1),E=te.useRef(null);te.useEffect(()=>{const N=b=>{const A=E.current;!A||A.contains(b.target)||m(!1)};return document.addEventListener("mousedown",N),document.addEventListener("touchstart",N),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("touchstart",N)}},[]);const k=te.useMemo(()=>{if(t)return t;if(a){const N=a.toBase58();return N.slice(0,4)+".."+N.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return J.createElement("div",{className:"wallet-adapter-dropdown"},J.createElement(J3,{...n,"aria-expanded":w,style:{pointerEvents:w?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},k),J.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${w&&"wallet-adapter-dropdown-list-active"}`,ref:E,role:"menu"},a?J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),g(!0),setTimeout(()=>g(!1),400)},role:"menuitem"},f?e.copied:e["copy-address"]):null,J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),s?J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(),m(!1)},role:"menuitem"},e.disconnect):null))}const uv=({id:t,children:e,expanded:n=!1})=>{const r=te.useRef(null),i=te.useRef(!0),o="height 250ms ease-out",s=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return te.useLayoutEffect(()=>{n?s():a()},[n]),te.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function f(g){l&&g.target===l&&g.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",f),()=>l.removeEventListener("transitionend",f)},[n]),J.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},Rp=({handleClick:t,tabIndex:e,wallet:n})=>J.createElement("li",null,J.createElement(hI,{onClick:t,startIcon:J.createElement(pI,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Oe.Installed&&J.createElement("span",null,"Detected"))),t6=()=>J.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),J.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),J.createElement("g",{clipPath:"url(#clip0_880_5115)"},J.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),J.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),J.createElement("defs",null,J.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("clipPath",{id:"clip0_880_5115"},J.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),n6=({className:t="",container:e="body"})=>{const n=te.useRef(null),{wallets:r,select:i}=Am(),{setVisible:o}=fI(),[s,a]=te.useState(!1),[l,c]=te.useState(!1),[f,g]=te.useState(null),[w,m]=te.useMemo(()=>{const S=[],x=[];for(const C of r)C.readyState===Oe.Installed?S.push(C):x.push(C);return S.length?[S,x]:[x,[]]},[r]),E=te.useCallback(()=>{c(!1),setTimeout(()=>o(!1),150)},[o]),k=te.useCallback(S=>{S.preventDefault(),E()},[E]),N=te.useCallback((S,x)=>{i(x),k(S)},[i,k]),b=te.useCallback(()=>a(!s),[s]),A=te.useCallback(S=>{const x=n.current;if(!x)return;const C=x.querySelectorAll("button"),D=C[0],U=C[C.length-1];S.shiftKey?document.activeElement===D&&(U.focus(),S.preventDefault()):document.activeElement===U&&(D.focus(),S.preventDefault())},[n]);return te.useLayoutEffect(()=>{const S=C=>{C.key==="Escape"?E():C.key==="Tab"&&A(C)},{overflow:x}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",S,!1),()=>{document.body.style.overflow=x,window.removeEventListener("keydown",S,!1)}},[E,A]),te.useLayoutEffect(()=>g(document.querySelector(e)),[e]),f&&OE.createPortal(J.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},J.createElement("div",{className:"wallet-adapter-modal-container"},J.createElement("div",{className:"wallet-adapter-modal-wrapper"},J.createElement("button",{onClick:k,className:"wallet-adapter-modal-button-close"},J.createElement("svg",{width:"14",height:"14"},J.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),w.length?J.createElement(J.Fragment,null,J.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),J.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(S=>J.createElement(Rp,{key:S.adapter.name,handleClick:x=>N(x,S.adapter.name),wallet:S})),m.length?J.createElement(uv,{expanded:s,id:"wallet-adapter-modal-collapse"},m.map(S=>J.createElement(Rp,{key:S.adapter.name,handleClick:x=>N(x,S.adapter.name),tabIndex:s?0:-1,wallet:S}))):null),m.length?J.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:b,tabIndex:0},J.createElement("span",null,s?"Less ":"More ","options"),J.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},J.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):J.createElement(J.Fragment,null,J.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),J.createElement("div",{className:"wallet-adapter-modal-middle"},J.createElement(t6,null)),m.length?J.createElement(J.Fragment,null,J.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:b,tabIndex:0},J.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),J.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},J.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),J.createElement(uv,{expanded:s,id:"wallet-adapter-modal-collapse"},J.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(S=>J.createElement(Rp,{key:S.adapter.name,handleClick:x=>N(x,S.adapter.name),tabIndex:s?0:-1,wallet:S}))))):null))),J.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:k})),f)},gI=({children:t,...e})=>{const[n,r]=te.useState(!1);return J.createElement(dI.Provider,{value:{visible:n,setVisible:r}},t,n&&J.createElement(n6,{...e}))},r6={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function i6(t){return J.createElement(e6,{...t,labels:r6})}const o6="modulepreload",s6=function(t){return"/Investor_App_DMD/"+t},cv={},Jf=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=s6(l),l in cv)return;cv[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":o6,c||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),c)return new Promise((w,m)=>{g.addEventListener("load",w),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var lc={exports:{}},dv;function a6(){if(dv)return lc.exports;dv=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,D,U){return Function.prototype.apply.call(C,D,U)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(x){console&&console.warn&&console.warn(x)}var i=Number.isNaN||function(C){return C!==C};function o(){o.init.call(this)}lc.exports=o,lc.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");s=x}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function l(x){return x._maxListeners===void 0?o.defaultMaxListeners:x._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(C){for(var D=[],U=1;U<arguments.length;U++)D.push(arguments[U]);var z=C==="error",W=this._events;if(W!==void 0)z=z&&W.error===void 0;else if(!z)return!1;if(z){var $;if(D.length>0&&($=D[0]),$ instanceof Error)throw $;var Z=new Error("Unhandled error."+($?" ("+$.message+")":""));throw Z.context=$,Z}var j=W[C];if(j===void 0)return!1;if(typeof j=="function")e(j,this,D);else for(var _=j.length,u=E(j,_),U=0;U<_;++U)e(u[U],this,D);return!0};function c(x,C,D,U){var z,W,$;if(a(D),W=x._events,W===void 0?(W=x._events=Object.create(null),x._eventsCount=0):(W.newListener!==void 0&&(x.emit("newListener",C,D.listener?D.listener:D),W=x._events),$=W[C]),$===void 0)$=W[C]=D,++x._eventsCount;else if(typeof $=="function"?$=W[C]=U?[D,$]:[$,D]:U?$.unshift(D):$.push(D),z=l(x),z>0&&$.length>z&&!$.warned){$.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=x,Z.type=C,Z.count=$.length,r(Z)}return x}o.prototype.addListener=function(C,D){return c(this,C,D,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(C,D){return c(this,C,D,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(x,C,D){var U={fired:!1,wrapFn:void 0,target:x,type:C,listener:D},z=f.bind(U);return z.listener=D,U.wrapFn=z,z}o.prototype.once=function(C,D){return a(D),this.on(C,g(this,C,D)),this},o.prototype.prependOnceListener=function(C,D){return a(D),this.prependListener(C,g(this,C,D)),this},o.prototype.removeListener=function(C,D){var U,z,W,$,Z;if(a(D),z=this._events,z===void 0)return this;if(U=z[C],U===void 0)return this;if(U===D||U.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,U.listener||D));else if(typeof U!="function"){for(W=-1,$=U.length-1;$>=0;$--)if(U[$]===D||U[$].listener===D){Z=U[$].listener,W=$;break}if(W<0)return this;W===0?U.shift():k(U,W),U.length===1&&(z[C]=U[0]),z.removeListener!==void 0&&this.emit("removeListener",C,Z||D)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(C){var D,U,z;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[C]),this;if(arguments.length===0){var W=Object.keys(U),$;for(z=0;z<W.length;++z)$=W[z],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=U[C],typeof D=="function")this.removeListener(C,D);else if(D!==void 0)for(z=D.length-1;z>=0;z--)this.removeListener(C,D[z]);return this};function w(x,C,D){var U=x._events;if(U===void 0)return[];var z=U[C];return z===void 0?[]:typeof z=="function"?D?[z.listener||z]:[z]:D?N(z):E(z,z.length)}o.prototype.listeners=function(C){return w(this,C,!0)},o.prototype.rawListeners=function(C){return w(this,C,!1)},o.listenerCount=function(x,C){return typeof x.listenerCount=="function"?x.listenerCount(C):m.call(x,C)},o.prototype.listenerCount=m;function m(x){var C=this._events;if(C!==void 0){var D=C[x];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function E(x,C){for(var D=new Array(C),U=0;U<C;++U)D[U]=x[U];return D}function k(x,C){for(;C+1<x.length;C++)x[C]=x[C+1];x.pop()}function N(x){for(var C=new Array(x.length),D=0;D<C.length;++D)C[D]=x[D].listener||x[D];return C}function b(x,C){return new Promise(function(D,U){function z($){x.removeListener(C,W),U($)}function W(){typeof x.removeListener=="function"&&x.removeListener("error",z),D([].slice.call(arguments))}S(x,C,W,{once:!0}),C!=="error"&&A(x,z,{once:!0})})}function A(x,C,D){typeof x.on=="function"&&S(x,"error",C,D)}function S(x,C,D,U){if(typeof x.on=="function")U.once?x.once(C,D):x.on(C,D);else if(typeof x.addEventListener=="function")x.addEventListener(C,function z(W){U.once&&x.removeEventListener(C,z),D(W)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return lc.exports}var l6=a6();const FB=ys(l6),u6={},yI=(t,e)=>{u6[t]=e},eh=t=>{class e extends Error{constructor(i,o,s){super(i||t,s);et(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,o)for(const a in o)this[a]=o[a];if(s&&c6(s)&&"cause"in s&&!this.cause){const a=s.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return e};function c6(t){return typeof t=="object"}const HB=eh("DisconnectedDevice"),$B=eh("DisconnectedDeviceDuringOperation"),KB=eh("TransportOpenUserCancelled"),VB=eh("TransportRaceCondition");var fv;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(fv||(fv={}));class d6 extends Error{constructor(n,r){const i="TransportError";super(n||i);et(this,"id");this.name=i,this.message=n,this.stack=new Error(n).stack,this.id=r}}yI("TransportError",t=>new d6(t.message,t.id));const Ll={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function f6(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class Nu extends Error{constructor(n,{canBeMappedToChildError:r=!0}={}){const i=Object.keys(Ll).find(l=>Ll[l]===n)||"UNKNOWN_ERROR",o=f6(n)||i,s=n.toString(16),a=`Ledger device: ${o} (0x${s})`;super(a);et(this,"statusCode");et(this,"statusText");if(this.name="TransportStatusError",this.statusCode=n,this.statusText=i,Object.setPrototypeOf(this,Nu.prototype),r&&n===Ll.LOCKED_DEVICE)return new Cm(a)}}class Cm extends Nu{constructor(e){super(Ll.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,Cm.prototype)}}yI("TransportStatusError",t=>new Nu(t.statusCode));let mI=0;const qi=[],GB=(t,e,n)=>{const r={type:t,id:String(++mI),date:new Date};e&&(r.message=e),wI(r)},h6=({type:t,message:e,data:n,context:r})=>{const i={type:t,id:String(++mI),date:new Date};e&&(i.message=e),n&&(i.data=n),r&&(i.context=r),wI(i)};class sd{constructor(e,n){et(this,"type");et(this,"context");this.type=e,this.context=n}trace(e,n){h6({type:this.type,message:e,data:n,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new sd(e,this.context)}withContext(e){return new sd(this.type,e)}withUpdatedContext(e){return new sd(this.type,{...this.context,...e})}}const p6=t=>(qi.push(t),()=>{const e=qi.indexOf(t);e!==-1&&(qi[e]=qi[qi.length-1],qi.pop())});function wI(t){for(let e=0;e<qi.length;e++)try{qi[e](t)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=p6);function g6(t,e){const r=Buffer.alloc(17);let i=r.writeUInt8(4,0);return i=r.writeUInt32BE(uc(44),i),i=r.writeUInt32BE(uc(501),i),i=r.writeUInt32BE(uc(t),i),r.writeUInt32BE(uc(e),i),r}const y6=1<<31>>>0;function uc(t){return(t|y6)>>>0}const m6=5,w6=6,v6=0,_6=1,E6=1,S6=2,cc=255,hv=224;async function b6(t,e){const n=await vI(t,m6,v6,e);return new Q(n)}async function A6(t,e,n){const r=Buffer.alloc(1);r.writeUInt8(1,0);const i=Br(e)?e.message.serialize():e.serializeMessage(),o=Buffer.concat([r,n,i]);return await vI(t,w6,_6,o)}async function vI(t,e,n,r){let i=0,o=0;if(r.length>cc)for(;r.length-o>cc;){const l=r.slice(o,o+cc);if((await t.send(hv,e,n,i|S6,l)).length!==2)throw new Nu(Ll.INCORRECT_DATA);i|=E6,o+=cc}const s=r.slice(o),a=await t.send(hv,e,n,i,s);return a.slice(0,a.length-2)}const I6="Ledger";class _I extends bm{constructor(e={}){super(),this.name=I6,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?Oe.Unsupported:Oe.Loadable,this._disconnected=()=>{const n=this._transport;n&&(n.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new bu),this.emit("disconnect"))},this._derivationPath=e.derivationPath||g6(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Oe.Loadable)throw new bo;this._connecting=!0;let e;try{e=(await Jf(async()=>{const{default:i}=await import("./TransportWebHID-BkFiyv8l.js");return{default:i}},[])).default}catch(i){throw new jf(i==null?void 0:i.message,i)}let n;try{n=await e.create()}catch(i){throw new gs(i==null?void 0:i.message,i)}let r;try{r=await b6(n,this._derivationPath)}catch(i){throw new Ao(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),this._transport=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._transport,r=this._publicKey;if(!n||!r)throw new it;try{const i=await A6(n,e,this._derivationPath);e.addSignature(r,i)}catch(i){throw new Yn(i==null?void 0:i.message,i)}return e}catch(n){throw this.emit("error",n),n}}}const R6="Phantom";class EI extends Iu{constructor(e={}){super(),this.name=R6,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Oe.Unsupported:Oe.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new bu),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Q(n.toBytes())}catch(i){this.emit("error",new Ao(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Oe.Unsupported&&(Gd()?(this._readyState=Oe.Loadable,this.emit("readyStateChange",this._readyState)):Sm(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=Oe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Oe.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Oe.Loadable){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${o}`;return}if(this.readyState!==Oe.Installed)throw new bo;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new gs(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Ri;let r;try{r=new Q(n.publicKey.toBytes())}catch(i){throw new Ao(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new it;try{const{signers:o,...s}=r;Br(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof ht?o:new Jr(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signTransaction(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new it;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Au(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const k6="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Ke=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},T6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ad,rs,Ag,Ig,Rg,Nn,kg,SI,bI,Tg,Mg,Ng,xg,Og;class M6{constructor(){ad.add(this),rs.set(this,{}),Ag.set(this,"1.0.0"),Ig.set(this,"MetaMask"),Rg.set(this,k6),Nn.set(this,null),kg.set(this,(e,n)=>{var r;return(r=Ke(this,rs,"f")[e])!=null&&r.push(n)||(Ke(this,rs,"f")[e]=[n]),()=>Ke(this,ad,"m",bI).call(this,e,n)}),Tg.set(this,async()=>{if(!Ke(this,Nn,"f")){let e;try{e=(await Jf(async()=>{const{default:n}=await import("./index-Dnir1y2i.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}T6(this,Nn,new e,"f"),Ke(this,Nn,"f").on("standard_change",n=>Ke(this,ad,"m",SI).call(this,"change",n))}return this.accounts.length||await Ke(this,Nn,"f").connect(),{accounts:this.accounts}}),Mg.set(this,async()=>{Ke(this,Nn,"f")&&await Ke(this,Nn,"f").disconnect()}),Ng.set(this,async(...e)=>{if(!Ke(this,Nn,"f"))throw new it;return await Ke(this,Nn,"f").standardSignAndSendTransaction(...e)}),xg.set(this,async(...e)=>{if(!Ke(this,Nn,"f"))throw new it;return await Ke(this,Nn,"f").standardSignTransaction(...e)}),Og.set(this,async(...e)=>{if(!Ke(this,Nn,"f"))throw new it;return await Ke(this,Nn,"f").standardSignMessage(...e)})}get version(){return Ke(this,Ag,"f")}get name(){return Ke(this,Ig,"f")}get icon(){return Ke(this,Rg,"f")}get chains(){return[Xr.SOLANA_MAINNET_CHAIN,Xr.SOLANA_DEVNET_CHAIN,Xr.SOLANA_TESTNET_CHAIN]}get features(){return{[Ru]:{version:"1.0.0",connect:Ke(this,Tg,"f")},[ou]:{version:"1.0.0",disconnect:Ke(this,Mg,"f")},[ku]:{version:"1.0.0",on:Ke(this,kg,"f")},[Ne.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ke(this,Ng,"f")},[Ne.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ke(this,xg,"f")},[Ne.SolanaSignMessage]:{version:"1.0.0",signMessage:Ke(this,Og,"f")}}}get accounts(){return Ke(this,Nn,"f")?Ke(this,Nn,"f").standardAccounts:[]}}rs=new WeakMap,Ag=new WeakMap,Ig=new WeakMap,Rg=new WeakMap,Nn=new WeakMap,kg=new WeakMap,Tg=new WeakMap,Mg=new WeakMap,Ng=new WeakMap,xg=new WeakMap,Og=new WeakMap,ad=new WeakSet,SI=function(e,...n){var r;(r=Ke(this,rs,"f")[e])==null||r.forEach(i=>i.apply(null,n))},bI=function(e,n){var r;Ke(this,rs,"f")[e]=(r=Ke(this,rs,"f")[e])==null?void 0:r.filter(i=>n!==i)};let pv=!1;function N6(){pv||(N3(new M6),pv=!0)}async function x6(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var o,s;const i=r.data;(i==null?void 0:i.target)==="metamask-inpage"&&((o=i.data)==null?void 0:o.name)==="metamask-provider"&&(((s=i.data.data)==null?void 0:s.id)===t?(window.removeEventListener("message",n),i.data.data.error||N6()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const O6="Solflare";class AI extends Iu{constructor(e={}){super(),this.name=O6,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Oe.Unsupported:Oe.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new bu),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Q(n.toBytes())}catch(i){this.emit("error",new Ao(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Oe.Unsupported&&(Sm(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=Oe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),x6())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Oe.Loadable&&Gd()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Oe.Loadable&&this._readyState!==Oe.Installed)throw new bo;if(this.readyState===Oe.Loadable&&Gd()){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${o}`;return}let e;try{e=(await Jf(async()=>{const{default:i}=await import("./index-CZYiEEPe.js");return{default:i}},[])).default}catch(i){throw new jf(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new ro(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new gs(i==null?void 0:i.message,i)}if(!n.publicKey)throw new gs;let r;try{r=new Q(n.publicKey.toBytes())}catch(i){throw new Ao(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new it;try{const{signers:o,...s}=r;return Br(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,s)}catch(o){throw o instanceof ht?o:new Jr(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signTransaction(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signMessage(e,"utf8")}catch(r){throw new Au(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const C6="Torus";class II extends Iu{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=C6,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Oe.Unsupported:Oe.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Oe.Loadable)throw new bo;this._connecting=!0;let e;try{e=(await Jf(async()=>{const{default:o}=await import("./solanaEmbed.esm-bQLbNEPz.js");return{default:o}},[])).default}catch(o){throw new jf(o==null?void 0:o.message,o)}let n;try{n=window.torus||new e}catch(o){throw new ro(o==null?void 0:o.message,o)}if(!n.isInitialized)try{await n.init(this._params)}catch(o){throw new gs(o==null?void 0:o.message,o)}let r;try{r=await n.login()}catch(o){throw new Ri(o==null?void 0:o.message,o)}let i;try{i=new Q(r[0])}catch(o){throw new Ao(o==null?void 0:o.message,o)}this._wallet=n,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new it;try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof ht?o:new Jr(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signTransaction(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signMessage(e)}catch(r){throw new Au(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const L6="EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro",B6={name:"dmd_anchor",version:"0.1.0",spec:"0.1.0"},P6=[{name:"buy_dmd",discriminator:[118,112,238,202,214,39,149,203],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",writable:!0},{name:"treasury",writable:!0},{name:"vault_token_account",docs:["NEU: Vault-ATA (Owner = PDA)"],writable:!0},{name:"buyer_token_account",docs:["Kufer-ATA"],writable:!0},{name:"buyer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"sol_contribution",type:"u64"}]},{name:"claim_reward",discriminator:[149,95,181,242,94,90,158,162],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[]},{name:"claim_reward_v2",discriminator:[0,178,84,58,172,64,185,217],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"vault_token_account",writable:!0},{name:"buyer_token_account",writable:!0},{name:"buyer",signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"founder"}]}},{name:"founder",writable:!0,signer:!0},{name:"mint",writable:!0},{name:"founder_token_account",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"initial_price_sol",type:"u64"}]},{name:"sell_dmd",discriminator:[129,244,102,89,109,152,241,129],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"sell_dmd_v2",discriminator:[84,193,171,169,74,251,221,217],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"vault_token_account",writable:!0},{name:"buyer_token_account",writable:!0},{name:"treasury",docs:["Treasury zahlt SOL aus (Signer!)"],writable:!0,signer:!0},{name:"founder",docs:["Founder erhlt 65%-Anteil (von der Penalty)"],writable:!0},{name:"buyer",signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_tokens",type:"u64"}]},{name:"set_manual_price",discriminator:[6,210,4,51,43,53,139,140],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"founder",signer:!0}],args:[{name:"lamports_per_10k",type:"u64"}]},{name:"toggle_public_sale",discriminator:[48,110,255,143,126,24,42,91],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"founder",signer:!0}],args:[{name:"active",type:"bool"}]},{name:"whitelist_add",discriminator:[200,159,194,141,100,114,107,154],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer",docs:["Der Buyer, dessen Whitelist-Status gesetzt wird"]},{name:"buyer_state",docs:['PDA: [b"buyer", vault, buyer]  wird bei Bedarf angelegt'],writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",docs:["Nur Founder darf whitelisten und zahlt ggf. die Miete"],writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"status",type:"bool"}]}],D6=[{name:"BuyerState",discriminator:[196,226,50,172,9,123,201,250]},{name:"Vault",discriminator:[211,8,232,43,2,152,117,119]}],U6=[{code:6e3,name:"NotWhitelisted",msg:"Du bist nicht auf der Whitelist."},{code:6001,name:"ClaimTooEarly",msg:"Claim zu frh."},{code:6002,name:"SellTooEarly",msg:"Zu frh verkauft."},{code:6003,name:"HoldTooShort",msg:"Nicht lange genug gehalten."},{code:6004,name:"PresaleLimitReached",msg:"Presale Limit erreicht."},{code:6005,name:"Unauthorized",msg:"Nicht berechtigt."},{code:6006,name:"InsufficientFounderInit",msg:"Founder Initialisierung zu niedrig."},{code:6007,name:"MathOverflow",msg:"Arithmetischer berlauf."},{code:6008,name:"ContributionOutOfRange",msg:"Beitrag auerhalb des erlaubten Bereichs (0.510 SOL)."},{code:6009,name:"InvalidPrice",msg:"Ungltiger Preis."}],z6=[{name:"BuyerState",type:{kind:"struct",fields:[{name:"total_dmd",type:"u64"},{name:"last_reward_claim",type:"i64"},{name:"last_sell",type:"i64"},{name:"holding_since",type:"i64"},{name:"last_buy_day",type:"i64"},{name:"buy_count_today",type:"u64"},{name:"whitelisted",type:"bool"}]}},{name:"Vault",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"total_supply",type:"u64"},{name:"presale_sold",type:"u64"},{name:"initial_price_sol",type:"u64"},{name:"public_sale_active",type:"bool"},{name:"mint",type:"pubkey"},{name:"mint_decimals",type:"u8"}]}}],RI={address:L6,metadata:B6,instructions:P6,accounts:D6,errors:U6,types:z6};typeof window<"u"&&!window.Buffer&&(window.Buffer=ue.Buffer);const Lm=new Q("EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro"),kI="https://mainnet.helius-rpc.com/?api-key=cba27cb3-9d36-4095-ae3a-4025bc7ff611",ld=new Q("3rCZT3Xw6jvU4JWatQPsivS8fQ7gV7GjUfJnbTk9Ssn5"),dc=new Q("CEUmazdgtbUCcQyLq6NCm4BuQbvCsYFzKsS5wdRvZehV"),j6=new Q("AqPFb5LWQuzKiyoKTX9XgUwsYWoFvpeE8E8uzQvnDTzT"),Bm=new Q("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),TI=new Q("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),gv=60*60*24*30,W6=60*60*24*90,MI=r4.bytes.utf8;function rl(){return Q.findProgramAddressSync([MI.encode("vault")],Lm)[0]}function fc(t,e){return Q.findProgramAddressSync([MI.encode("buyer"),t.toBuffer(),e.toBuffer()],Lm)[0]}function kp(t){return Q.findProgramAddressSync([t.toBuffer(),Bm.toBuffer(),ld.toBuffer()],TI)[0]}function yv(t,e,n,r){return new $e({programId:TI,keys:[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Jt.programId,isSigner:!1,isWritable:!1},{pubkey:Bm,isSigner:!1,isWritable:!1}],data:ue.Buffer.alloc(0)})}const F6=new CC(RI),mv=new BC(RI);function Tp(t,e,n={}){const r=F6.encode(t,n);return new $e({programId:Lm,keys:e,data:r})}async function wv(){var n,r,i;const t=["https://price.jup.ag/v6/price?ids=SOL","https://price.jup.ag/v4/price?ids=SOL"];for(const o of t)try{const s=await fetch(o,{cache:"no-store"});if(!s.ok)continue;const a=await s.json(),l=((r=(n=a==null?void 0:a.data)==null?void 0:n.SOL)==null?void 0:r.price)??((i=a==null?void 0:a.data)==null?void 0:i.SOL);if(typeof l=="number")return l}catch{}const e=205;return e>0?e:0}function H6(){const t=Am(),[e]=te.useState(()=>new am(kI,"confirmed")),[n,r]=te.useState("1.0"),[i,o]=te.useState(""),[s,a]=te.useState(null),[l,c]=te.useState(0),[f,g]=te.useState(null),[w,m]=te.useState(null),E=!!t.publicKey,k={skipPreflight:!0};te.useEffect(()=>{let j=!0;(async()=>{try{const u=rl(),d=kp(u),[v,R,I,O]=await Promise.all([e.getAccountInfo(u),e.getBalance(dc),wv(),e.getTokenAccountBalance(d).then(B=>{var M;return((M=B==null?void 0:B.value)==null?void 0:M.uiAmount)??0}).catch(()=>0)]);if(!j)return;if(a(R/ll),c(I),m(O),v!=null&&v.data){const B=mv.decode("Vault",v.data);g(Number(B.initial_price_sol??0))}}catch(u){console.error("load investor data:",u)}})();const _=setInterval(()=>{e.getBalance(dc).then(u=>a(u/ll)).catch(()=>{}),wv().then(c).catch(()=>{})},3e4);return()=>{j=!1,clearInterval(_)}},[e]);const N=f!=null?f/ll:null,b=N!=null?N/1e4:null,A=b!=null&&l>0?b*l:null,S=te.useMemo(()=>s!=null&&l>0?s*l:null,[s,l]),x=te.useMemo(()=>w!=null&&A!=null?w*A:null,[w,A]);async function C(j,_,u){const d=[],v=kp(_),R=kp(u),[I,O]=await Promise.all([e.getAccountInfo(v),e.getAccountInfo(R)]);return I||d.push(yv(j,v,_,ld)),O||d.push(yv(j,R,u,ld)),{ixs:d,buyerAta:v,vaultAta:R}}async function D(j){try{const _=rl(),u=fc(_,j),d=await e.getAccountInfo(u);return d?mv.decode("BuyerState",d.data):null}catch{return null}}async function U(){try{if(!E)return alert("Verbinde deine Wallet.");o("Bereite Kauf vor");const j=t.publicKey,_=rl(),u=fc(_,j),{ixs:d,buyerAta:v,vaultAta:R}=await C(j,j,_),I=new wi(Math.floor(parseFloat(n)*ll));if(I.lte(new wi(0)))return alert("Ungltiger SOL-Betrag.");const O=[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:j6,isSigner:!1,isWritable:!0},{pubkey:dc,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!0,isWritable:!0},{pubkey:Bm,isSigner:!1,isWritable:!1},{pubkey:Jt.programId,isSigner:!1,isWritable:!1}],B=Tp("buy_dmd",O,{sol_contribution:I}),M=new Le;d.forEach(P=>M.add(P)),M.add(B),M.feePayer=j,M.recentBlockhash=(await e.getLatestBlockhash()).blockhash,o("Sende Buy");const p=await t.sendTransaction(M,e,k);o(` Buy gesendet: ${p}`)}catch(j){console.error(j),o(` Buy fehlgeschlagen: ${(j==null?void 0:j.message)??j}`)}}async function z(){try{if(!E)return alert("Verbinde deine Wallet.");const j=t.publicKey,_=await D(j),u=Math.floor(Date.now()/1e3);if(!_)return o(" Kein BuyerState  zuerst via Buy erwerben.");if(!_.whitelisted)return o(" Nicht auf Whitelist.");const d=new wi(Math.floor(parseFloat(n)*1e4));if(d.lte(new wi(0)))return o(" Ungltiger DMD-Betrag.");if(new wi(_.total_dmd).lt(d))return o(" Zu wenig DMD im BuyerState.");if(u-Number(_.last_sell??0)<gv)return o(" Sell-Lock: 30 Tage zwischen Verkufen.");o("Sende Sell");const v=rl(),R=fc(v,j),O=Tp("sell_dmd",[{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!0,isWritable:!0}],{amount:d}),B=new Le().add(O);B.feePayer=j,B.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const M=await t.sendTransaction(B,e,k);o(` Sell gesendet: ${M}`)}catch(j){console.error(j),o(` Sell fehlgeschlagen: ${(j==null?void 0:j.message)??j}`)}}async function W(){try{if(!E)return alert("Verbinde deine Wallet.");const j=t.publicKey,_=await D(j),u=Math.floor(Date.now()/1e3);if(!_)return o(" Kein BuyerState  zuerst via Buy erwerben.");if(!_.whitelisted)return o(" Nicht auf Whitelist.");if(Number(_.total_dmd)<=0)return o(" Kein DMD im BuyerState.");if(u-Number(_.holding_since??0)<gv)return o(" Hold zu kurz (30 Tage).");if(Number(_.last_reward_claim??0)!==0&&u-Number(_.last_reward_claim)<W6)return o(" Claim zu frh (90 Tage).");o("Sende Claim");const d=rl(),v=fc(d,j),I=Tp("claim_reward",[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!0,isWritable:!1}]),O=new Le().add(I);O.feePayer=j,O.recentBlockhash=(await e.getLatestBlockhash()).blockhash;const B=await t.sendTransaction(O,e,k);o(` Claim gesendet: ${B}`)}catch(j){console.error(j),o(` Claim fehlgeschlagen: ${(j==null?void 0:j.message)??j}`)}}function $(j){const _=j.toBase58();return`${_.slice(0,4)}${_.slice(-4)}`}const Z=j=>j==null?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j);return ve.jsxs("div",{className:"min-h-screen bg-[#0b0f14] text-yellow-300",children:[ve.jsx("div",{style:{position:"fixed",top:16,right:16,zIndex:50},children:ve.jsx(i6,{})}),ve.jsxs("header",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center gap-4",children:[ve.jsx("h1",{className:"text-2xl font-bold",style:{fontFamily:"Old English Text MT, serif"},children:"Die Mark Digital"}),ve.jsx("span",{className:"opacity-70",children:"Investor App  Solana"}),E&&ve.jsx("span",{className:"ml-auto text-xs text-white/60",children:$(t.publicKey)})]}),ve.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[ve.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[ve.jsxs("div",{className:"bg-white/5 rounded-xl p-5",children:[ve.jsx("div",{className:"text-lg font-semibold mb-2",children:"DMD Pricing"}),ve.jsxs("div",{className:"text-white/85 space-y-1",children:[ve.jsxs("div",{children:["Manual Price:"," ",ve.jsxs("b",{children:[N==null?"":N.toFixed(6)," SOL / 10k"]})]}),ve.jsxs("div",{className:"text-sm opacity-85",children:[" ",b==null?"":b.toFixed(9)," SOL / DMD",A!=null?`  ${Z(A)} / DMD`:""]}),ve.jsxs("div",{className:"text-xs opacity-60",children:["Mint: ",$(ld)]})]})]}),ve.jsxs("div",{className:"bg-white/5 rounded-xl p-5",children:[ve.jsx("div",{className:"text-lg font-semibold mb-2",children:"Treasury"}),ve.jsxs("div",{className:"text-white/85 space-y-1",children:[ve.jsxs("div",{children:["SOL: ",ve.jsx("b",{children:s==null?"":s.toFixed(4)})]}),ve.jsxs("div",{children:["USD:"," ",ve.jsx("b",{children:S==null?"":Z(S)})," ",ve.jsxs("span",{className:"opacity-60",children:["(SOL  $",l||"",")"]})]}),ve.jsxs("div",{className:"text-xs opacity-60",children:["Treasury: ",$(dc)]}),ve.jsx("div",{className:"mt-4 border-t border-white/10 pt-3",children:ve.jsxs("div",{className:"text-sm opacity-85",children:["Presale Pool: ",ve.jsx("b",{children:w==null?"":w.toLocaleString()})," DMD",x!=null?`    ${Z(x)} @ Manual`:""]})})]})]})]}),E?ve.jsxs(ve.Fragment,{children:[ve.jsxs("div",{className:"mt-8",children:[ve.jsx("label",{className:"block mb-2 opacity-80",children:"Betrag"}),ve.jsx("input",{value:n,onChange:j=>r(j.target.value),className:"px-3 py-2 rounded bg-black/50 border border-white/10",placeholder:"z. B. 1.5"}),ve.jsx("span",{className:"ml-2 opacity-60",children:"SOL (Buy)  DMD (Sell)"})]}),ve.jsxs("div",{className:"flex flex-wrap gap-8 mt-5",children:[ve.jsx("button",{onClick:U,className:"bg-green-600 hover:bg-green-700 px-6 py-3 rounded",children:"Buy DMD"}),ve.jsx("button",{onClick:z,className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded",children:"Sell DMD"}),ve.jsx("button",{onClick:W,className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded",children:"Claim Rewards"})]}),ve.jsx("p",{className:"mt-6 text-sm text-white/70 whitespace-pre-wrap",children:i})]}):ve.jsx("div",{className:"text-white/70 mt-8",children:"Verbinde deine Wallet, um zu handeln."})]}),ve.jsxs("footer",{className:"text-center text-white/40 text-sm py-6",children:[" ",new Date().getFullYear()," Die Mark Digital"]})]})}function $6(){const t=te.useMemo(()=>[new EI,new AI,new _I,new II],[]);return ve.jsx(lA,{endpoint:kI,children:ve.jsx(lI,{wallets:t,autoConnect:!0,children:ve.jsx(gI,{children:ve.jsx(H6,{})})})})}window.Buffer=ue.Buffer;const K6="https://mainnet.helius-rpc.com/?api-key=cba27cb3-9d36-4095-ae3a-4025bc7ff611",V6=[new EI,new AI,new _I,new II];Mp.createRoot(document.getElementById("root")).render(ve.jsx(J.StrictMode,{children:ve.jsx(lA,{endpoint:K6,children:ve.jsx(lI,{wallets:V6,autoConnect:!0,children:ve.jsx(gI,{children:ve.jsx($6,{})})})})}));export{FB as C,$B as D,sd as L,Q as P,Ll as S,Le as T,ru as V,d6 as a,Nu as b,VB as c,KB as d,HB as e,ue as f,ys as g,hk as h,l6 as i,yn as j,Ne as k,GB as l,a6 as r,yT as s};
