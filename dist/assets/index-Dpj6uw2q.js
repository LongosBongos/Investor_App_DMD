var nI=Object.defineProperty;var rI=(t,e,n)=>e in t?nI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>rI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oa(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ev={exports:{}},Yd={},tv={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),iI=Symbol.for("react.portal"),oI=Symbol.for("react.fragment"),sI=Symbol.for("react.strict_mode"),aI=Symbol.for("react.profiler"),lI=Symbol.for("react.provider"),uI=Symbol.for("react.context"),cI=Symbol.for("react.forward_ref"),dI=Symbol.for("react.suspense"),fI=Symbol.for("react.memo"),hI=Symbol.for("react.lazy"),Nm=Symbol.iterator;function pI(t){return t===null||typeof t!="object"?null:(t=Nm&&t[Nm]||t["@@iterator"],typeof t=="function"?t:null)}var nv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rv=Object.assign,iv={};function Ca(t,e,n){this.props=t,this.context=e,this.refs=iv,this.updater=n||nv}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ov(){}ov.prototype=Ca.prototype;function Eg(t,e,n){this.props=t,this.context=e,this.refs=iv,this.updater=n||nv}var Sg=Eg.prototype=new ov;Sg.constructor=Eg;rv(Sg,Ca.prototype);Sg.isPureReactComponent=!0;var xm=Array.isArray,sv=Object.prototype.hasOwnProperty,bg={current:null},av={key:!0,ref:!0,__self:!0,__source:!0};function lv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)sv.call(e,r)&&!av.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ou,type:t,key:o,ref:s,props:i,_owner:bg.current}}function gI(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function yI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Om=/\/+/g;function dh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yI(""+t.key):e.toString(36)}function ac(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ou:case iI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+dh(s,0):r,xm(i)?(n="",t!=null&&(n=t.replace(Om,"$&/")+"/"),ac(i,e,n,"",function(c){return c})):i!=null&&(Ag(i)&&(i=gI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Om,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",xm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+dh(o,a);s+=ac(o,e,n,l,i)}else if(l=pI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+dh(o,a++),s+=ac(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tu(t,e,n){if(t==null)return t;var r=[],i=0;return ac(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Un={current:null},lc={transition:null},wI={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:lc,ReactCurrentOwner:bg};function uv(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Tu,forEach:function(t,e,n){Tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tu(t,function(){e++}),e},toArray:function(t){return Tu(t,function(e){return e})||[]},only:function(t){if(!Ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Ca;Ce.Fragment=oI;Ce.Profiler=aI;Ce.PureComponent=Eg;Ce.StrictMode=sI;Ce.Suspense=dI;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI;Ce.act=uv;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=bg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sv.call(e,l)&&!av.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ou,type:t.type,key:i,ref:o,props:r,_owner:s}};Ce.createContext=function(t){return t={$$typeof:uI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lI,_context:t},t.Consumer=t};Ce.createElement=lv;Ce.createFactory=function(t){var e=lv.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:cI,render:t}};Ce.isValidElement=Ag;Ce.lazy=function(t){return{$$typeof:hI,_payload:{_status:-1,_result:t},_init:mI}};Ce.memo=function(t,e){return{$$typeof:fI,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=lc.transition;lc.transition={};try{t()}finally{lc.transition=e}};Ce.unstable_act=uv;Ce.useCallback=function(t,e){return Un.current.useCallback(t,e)};Ce.useContext=function(t){return Un.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Un.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Un.current.useEffect(t,e)};Ce.useId=function(){return Un.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Un.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Un.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Un.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Un.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Un.current.useReducer(t,e,n)};Ce.useRef=function(t){return Un.current.useRef(t)};Ce.useState=function(t){return Un.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Un.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Un.current.useTransition()};Ce.version="18.3.1";tv.exports=Ce;var ne=tv.exports;const J=gs(ne);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI=ne,_I=Symbol.for("react.element"),EI=Symbol.for("react.fragment"),SI=Object.prototype.hasOwnProperty,bI=vI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AI={key:!0,ref:!0,__self:!0,__source:!0};function cv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)SI.call(e,r)&&!AI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_I,type:t,key:o,ref:s,props:i,_owner:bI.current}}Yd.Fragment=EI;Yd.jsx=cv;Yd.jsxs=cv;ev.exports=Yd;var Qe=ev.exports,Ep={},dv={exports:{}},dr={},fv={exports:{}},hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,O){var P=I.length;I.push(O);e:for(;0<P;){var x=P-1>>>1,p=I[x];if(0<i(p,O))I[x]=O,I[P]=p,P=x;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],P=I.pop();if(P!==O){I[0]=P;e:for(var x=0,p=I.length,B=p>>>1;x<B;){var ie=2*(x+1)-1,te=I[ie],se=ie+1,be=I[se];if(0>i(te,P))se<p&&0>i(be,te)?(I[x]=be,I[se]=P,x=se):(I[x]=te,I[ie]=P,x=ie);else if(se<p&&0>i(be,P))I[x]=be,I[se]=P,x=se;else break e}}return O}function i(I,O){var P=I.sortIndex-O.sortIndex;return P!==0?P:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,g=null,w=3,m=!1,E=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=I)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function T(I){if(M=!1,_(I),!E)if(n(l)!==null)E=!0,v(C);else{var O=n(c);O!==null&&R(T,O.startTime-I)}}function C(I,O){E=!1,M&&(M=!1,S(z),z=-1),m=!0;var P=w;try{for(_(O),g=n(l);g!==null&&(!(g.expirationTime>O)||I&&!Z());){var x=g.callback;if(typeof x=="function"){g.callback=null,w=g.priorityLevel;var p=x(g.expirationTime<=O);O=t.unstable_now(),typeof p=="function"?g.callback=p:g===n(l)&&r(l),_(O)}else r(l);g=n(l)}if(g!==null)var B=!0;else{var ie=n(c);ie!==null&&R(T,ie.startTime-O),B=!1}return B}finally{g=null,w=P,m=!1}}var D=!1,U=null,z=-1,j=5,H=-1;function Z(){return!(t.unstable_now()-H<j)}function G(){if(U!==null){var I=t.unstable_now();H=I;var O=!0;try{O=U(!0,I)}finally{O?b():(D=!1,U=null)}}else D=!1}var b;if(typeof A=="function")b=function(){A(G)};else if(typeof MessageChannel<"u"){var u=new MessageChannel,d=u.port2;u.port1.onmessage=G,b=function(){d.postMessage(null)}}else b=function(){N(G,0)};function v(I){U=I,D||(D=!0,b())}function R(I,O){z=N(function(){I(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,v(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(w){case 1:case 2:case 3:var O=3;break;default:O=w}var P=w;w=O;try{return I()}finally{w=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=w;w=I;try{return O()}finally{w=P}},t.unstable_scheduleCallback=function(I,O,P){var x=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?x+P:x):P=x,I){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=P+p,I={id:f++,callback:O,priorityLevel:I,startTime:P,expirationTime:p,sortIndex:-1},P>x?(I.sortIndex=P,e(c,I),n(l)===null&&I===n(c)&&(M?(S(z),z=-1):M=!0,R(T,P-x))):(I.sortIndex=p,e(l,I),E||m||(E=!0,v(C))),I},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(I){var O=w;return function(){var P=w;w=O;try{return I.apply(this,arguments)}finally{w=P}}}})(hv);fv.exports=hv;var II=fv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RI=ne,cr=II;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pv=new Set,Ol={};function ys(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(Ol[t]=e,t=0;t<e.length;t++)pv.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sp=Object.prototype.hasOwnProperty,kI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},Lm={};function MI(t){return Sp.call(Lm,t)?!0:Sp.call(Cm,t)?!1:kI.test(t)?Lm[t]=!0:(Cm[t]=!0,!1)}function TI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NI(t,e,n,r){if(e===null||typeof e>"u"||TI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_n[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_n[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_n[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_n[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_n[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_n[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_n[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_n[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_n[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ig=/[\-:]([a-z])/g;function Rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ig,Rg);_n[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ig,Rg);_n[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ig,Rg);_n[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_n[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});_n.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_n[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kg(t,e,n,r){var i=_n.hasOwnProperty(e)?_n[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NI(e,n,i,r)&&(n=null),r||i===null?MI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bi=RI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),yv=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),mv=Symbol.for("react.offscreen"),Bm=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=Bm&&t[Bm]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,fh;function nl(t){if(fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fh=e&&e[1]||""}return`
`+fh+t}var hh=!1;function ph(t,e){if(!t||hh)return"";hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{hh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function xI(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=ph(t.type,!1),t;case 11:return t=ph(t.type.render,!1),t;case 1:return t=ph(t.type,!0),t;default:return""}}function Rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case js:return"Portal";case bp:return"Profiler";case Mg:return"StrictMode";case Ap:return"Suspense";case Ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yv:return(t.displayName||"Context")+".Consumer";case gv:return(t._context.displayName||"Context")+".Provider";case Tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ng:return e=t.displayName||null,e!==null?e:Rp(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return Rp(t(e))}catch{}}return null}function OI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(e);case 8:return e===Mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CI(t){var e=wv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=CI(t))}function vv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kp(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _v(t,e){e=e.checked,e!=null&&kg(t,"checked",e,!1)}function Mp(t,e){_v(t,e);var n=vo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rl=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Np(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Um(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(rl(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vo(n)}}function Ev(t,e){var n=vo(e.value),r=vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,bv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LI=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(t){LI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ml[e]=ml[t]})});function Av(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ml.hasOwnProperty(t)&&ml[t]?(""+e).trim():e+"px"}function Iv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Av(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var BI=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Op(t,e){if(e){if(BI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lp=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bp=null,ra=null,ia=null;function jm(t){if(t=lu(t)){if(typeof Bp!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Jd(e),Bp(t.stateNode,t.type,e))}}function Rv(t){ra?ia?ia.push(t):ia=[t]:ra=t}function kv(){if(ra){var t=ra,e=ia;if(ia=ra=null,jm(t),e)for(t=0;t<e.length;t++)jm(e[t])}}function Mv(t,e){return t(e)}function Tv(){}var gh=!1;function Nv(t,e,n){if(gh)return t(e,n);gh=!0;try{return Mv(t,e,n)}finally{gh=!1,(ra!==null||ia!==null)&&(Tv(),kv())}}function Ll(t,e){var n=t.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Pp=!1;if(Ti)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Pp=!1}function PI(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var wl=!1,rd=null,id=!1,Dp=null,DI={onError:function(t){wl=!0,rd=t}};function UI(t,e,n,r,i,o,s,a,l){wl=!1,rd=null,PI.apply(DI,arguments)}function zI(t,e,n,r,i,o,s,a,l){if(UI.apply(this,arguments),wl){if(wl){var c=rd;wl=!1,rd=null}else throw Error(ee(198));id||(id=!0,Dp=c)}}function ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wm(t){if(ms(t)!==t)throw Error(ee(188))}function jI(t){var e=t.alternate;if(!e){if(e=ms(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Wm(i),t;if(o===r)return Wm(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function Ov(t){return t=jI(t),t!==null?Cv(t):null}function Cv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cv(t);if(e!==null)return e;t=t.sibling}return null}var Lv=cr.unstable_scheduleCallback,Fm=cr.unstable_cancelCallback,WI=cr.unstable_shouldYield,FI=cr.unstable_requestPaint,Nt=cr.unstable_now,HI=cr.unstable_getCurrentPriorityLevel,Og=cr.unstable_ImmediatePriority,Bv=cr.unstable_UserBlockingPriority,od=cr.unstable_NormalPriority,KI=cr.unstable_LowPriority,Pv=cr.unstable_IdlePriority,qd=null,ti=null;function $I(t){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(qd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:YI,VI=Math.log,GI=Math.LN2;function YI(t){return t>>>=0,t===0?32:31-(VI(t)/GI|0)|0}var Cu=64,Lu=4194304;function il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=il(a):(o&=s,o!==0&&(r=il(o)))}else s=n&~i,s!==0?r=il(s):o!==0&&(r=il(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function qI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Pr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=qI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Up(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dv(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function QI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function Uv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zv,Lg,jv,Wv,Fv,zp=!1,Bu=[],ao=null,lo=null,uo=null,Bl=new Map,Pl=new Map,Zi=[],XI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hm(t,e){switch(t){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function Ga(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=lu(e),e!==null&&Lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JI(t,e,n,r,i){switch(e){case"focusin":return ao=Ga(ao,t,e,n,r,i),!0;case"dragenter":return lo=Ga(lo,t,e,n,r,i),!0;case"mouseover":return uo=Ga(uo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bl.set(o,Ga(Bl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pl.set(o,Ga(Pl.get(o)||null,t,e,n,r,i)),!0}return!1}function Hv(t){var e=Ho(t.target);if(e!==null){var n=ms(e);if(n!==null){if(e=n.tag,e===13){if(e=xv(n),e!==null){t.blockedOn=e,Fv(t.priority,function(){jv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lp=r,n.target.dispatchEvent(r),Lp=null}else return e=lu(n),e!==null&&Lg(e),t.blockedOn=n,!1;e.shift()}return!0}function Km(t,e,n){uc(t)&&n.delete(e)}function e2(){zp=!1,ao!==null&&uc(ao)&&(ao=null),lo!==null&&uc(lo)&&(lo=null),uo!==null&&uc(uo)&&(uo=null),Bl.forEach(Km),Pl.forEach(Km)}function Ya(t,e){t.blockedOn===e&&(t.blockedOn=null,zp||(zp=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,e2)))}function Dl(t){function e(i){return Ya(i,t)}if(0<Bu.length){Ya(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ao!==null&&Ya(ao,t),lo!==null&&Ya(lo,t),uo!==null&&Ya(uo,t),Bl.forEach(e),Pl.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)Hv(n),n.blockedOn===null&&Zi.shift()}var oa=Bi.ReactCurrentBatchConfig,ad=!0;function t2(t,e,n,r){var i=$e,o=oa.transition;oa.transition=null;try{$e=1,Bg(t,e,n,r)}finally{$e=i,oa.transition=o}}function n2(t,e,n,r){var i=$e,o=oa.transition;oa.transition=null;try{$e=4,Bg(t,e,n,r)}finally{$e=i,oa.transition=o}}function Bg(t,e,n,r){if(ad){var i=jp(t,e,n,r);if(i===null)Rh(t,e,r,ld,n),Hm(t,r);else if(JI(i,t,e,n,r))r.stopPropagation();else if(Hm(t,r),e&4&&-1<XI.indexOf(t)){for(;i!==null;){var o=lu(i);if(o!==null&&zv(o),o=jp(t,e,n,r),o===null&&Rh(t,e,r,ld,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Rh(t,e,r,null,n)}}var ld=null;function jp(t,e,n,r){if(ld=null,t=xg(r),t=Ho(t),t!==null)if(e=ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ld=t,null}function Kv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HI()){case Og:return 1;case Bv:return 4;case od:case KI:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var Ji=null,Pg=null,cc=null;function $v(){if(cc)return cc;var t,e=Pg,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return cc=i.slice(t,1<r?1-r:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pu(){return!0}function $m(){return!1}function fr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pu:$m,this.isPropagationStopped=$m,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),e}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=fr(La),au=vt({},La,{view:0,detail:0}),r2=fr(au),mh,wh,qa,Zd=vt({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(mh=t.screenX-qa.screenX,wh=t.screenY-qa.screenY):wh=mh=0,qa=t),mh)},movementY:function(t){return"movementY"in t?t.movementY:wh}}),Vm=fr(Zd),i2=vt({},Zd,{dataTransfer:0}),o2=fr(i2),s2=vt({},au,{relatedTarget:0}),vh=fr(s2),a2=vt({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),l2=fr(a2),u2=vt({},La,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c2=fr(u2),d2=vt({},La,{data:0}),Gm=fr(d2),f2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p2[t])?!!e[t]:!1}function Ug(){return g2}var y2=vt({},au,{key:function(t){if(t.key){var e=f2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m2=fr(y2),w2=vt({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ym=fr(w2),v2=vt({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),_2=fr(v2),E2=vt({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),S2=fr(E2),b2=vt({},Zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A2=fr(b2),I2=[9,13,27,32],zg=Ti&&"CompositionEvent"in window,vl=null;Ti&&"documentMode"in document&&(vl=document.documentMode);var R2=Ti&&"TextEvent"in window&&!vl,Vv=Ti&&(!zg||vl&&8<vl&&11>=vl),qm=" ",Zm=!1;function Gv(t,e){switch(t){case"keyup":return I2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fs=!1;function k2(t,e){switch(t){case"compositionend":return Yv(e);case"keypress":return e.which!==32?null:(Zm=!0,qm);case"textInput":return t=e.data,t===qm&&Zm?null:t;default:return null}}function M2(t,e){if(Fs)return t==="compositionend"||!zg&&Gv(t,e)?(t=$v(),cc=Pg=Ji=null,Fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vv&&e.locale!=="ko"?null:e.data;default:return null}}var T2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T2[t.type]:e==="textarea"}function qv(t,e,n,r){Rv(r),e=ud(e,"onChange"),0<e.length&&(n=new Dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Ul=null;function N2(t){s_(t,0)}function Qd(t){var e=$s(t);if(vv(e))return t}function x2(t,e){if(t==="change")return e}var Zv=!1;if(Ti){var _h;if(Ti){var Eh="oninput"in document;if(!Eh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Eh=typeof Xm.oninput=="function"}_h=Eh}else _h=!1;Zv=_h&&(!document.documentMode||9<document.documentMode)}function Jm(){_l&&(_l.detachEvent("onpropertychange",Qv),Ul=_l=null)}function Qv(t){if(t.propertyName==="value"&&Qd(Ul)){var e=[];qv(e,Ul,t,xg(t)),Nv(N2,e)}}function O2(t,e,n){t==="focusin"?(Jm(),_l=e,Ul=n,_l.attachEvent("onpropertychange",Qv)):t==="focusout"&&Jm()}function C2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(Ul)}function L2(t,e){if(t==="click")return Qd(e)}function B2(t,e){if(t==="input"||t==="change")return Qd(e)}function P2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:P2;function zl(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sp.call(e,i)||!jr(t[i],e[i]))return!1}return!0}function ew(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tw(t,e){var n=ew(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ew(n)}}function Xv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jv(){for(var t=window,e=nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nd(t.document)}return e}function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D2(t){var e=Jv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xv(n.ownerDocument.documentElement,n)){if(r!==null&&jg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=tw(n,o);var s=tw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U2=Ti&&"documentMode"in document&&11>=document.documentMode,Hs=null,Wp=null,El=null,Fp=!1;function nw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fp||Hs==null||Hs!==nd(r)||(r=Hs,"selectionStart"in r&&jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&zl(El,r)||(El=r,r=ud(Wp,"onSelect"),0<r.length&&(e=new Dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},Sh={},e_={};Ti&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Xd(t){if(Sh[t])return Sh[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e_)return Sh[t]=e[n];return t}var t_=Xd("animationend"),n_=Xd("animationiteration"),r_=Xd("animationstart"),i_=Xd("transitionend"),o_=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(t,e){o_.set(t,e),ys(e,[t])}for(var bh=0;bh<rw.length;bh++){var Ah=rw[bh],z2=Ah.toLowerCase(),j2=Ah[0].toUpperCase()+Ah.slice(1);Io(z2,"on"+j2)}Io(t_,"onAnimationEnd");Io(n_,"onAnimationIteration");Io(r_,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io(i_,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function iw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zI(r,e,void 0,t),t.currentTarget=null}function s_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;iw(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;iw(i,a,c),o=l}}}if(id)throw t=Dp,id=!1,Dp=null,t}function at(t,e){var n=e[Gp];n===void 0&&(n=e[Gp]=new Set);var r=t+"__bubble";n.has(r)||(a_(e,t,2,!1),n.add(r))}function Ih(t,e,n){var r=0;e&&(r|=4),a_(n,t,r,e)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function jl(t){if(!t[Uu]){t[Uu]=!0,pv.forEach(function(n){n!=="selectionchange"&&(W2.has(n)||Ih(n,!1,t),Ih(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uu]||(e[Uu]=!0,Ih("selectionchange",!1,e))}}function a_(t,e,n,r){switch(Kv(e)){case 1:var i=t2;break;case 4:i=n2;break;default:i=Bg}n=i.bind(null,e,n,t),i=void 0,!Pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ho(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Nv(function(){var c=o,f=xg(n),g=[];e:{var w=o_.get(t);if(w!==void 0){var m=Dg,E=t;switch(t){case"keypress":if(dc(n)===0)break e;case"keydown":case"keyup":m=m2;break;case"focusin":E="focus",m=vh;break;case"focusout":E="blur",m=vh;break;case"beforeblur":case"afterblur":m=vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=o2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_2;break;case t_:case n_:case r_:m=l2;break;case i_:m=S2;break;case"scroll":m=r2;break;case"wheel":m=A2;break;case"copy":case"cut":case"paste":m=c2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ym}var M=(e&4)!==0,N=!M&&t==="scroll",S=M?w!==null?w+"Capture":null:w;M=[];for(var A=c,_;A!==null;){_=A;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,S!==null&&(T=Ll(A,S),T!=null&&M.push(Wl(A,T,_)))),N)break;A=A.return}0<M.length&&(w=new m(w,E,null,n,f),g.push({event:w,listeners:M}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",w&&n!==Lp&&(E=n.relatedTarget||n.fromElement)&&(Ho(E)||E[Ni]))break e;if((m||w)&&(w=f.window===f?f:(w=f.ownerDocument)?w.defaultView||w.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=c,E=E?Ho(E):null,E!==null&&(N=ms(E),E!==N||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=c),m!==E)){if(M=Vm,T="onMouseLeave",S="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(M=Ym,T="onPointerLeave",S="onPointerEnter",A="pointer"),N=m==null?w:$s(m),_=E==null?w:$s(E),w=new M(T,A+"leave",m,n,f),w.target=N,w.relatedTarget=_,T=null,Ho(f)===c&&(M=new M(S,A+"enter",E,n,f),M.target=_,M.relatedTarget=N,T=M),N=T,m&&E)t:{for(M=m,S=E,A=0,_=M;_;_=As(_))A++;for(_=0,T=S;T;T=As(T))_++;for(;0<A-_;)M=As(M),A--;for(;0<_-A;)S=As(S),_--;for(;A--;){if(M===S||S!==null&&M===S.alternate)break t;M=As(M),S=As(S)}M=null}else M=null;m!==null&&ow(g,w,m,M,!1),E!==null&&N!==null&&ow(g,N,E,M,!0)}}e:{if(w=c?$s(c):window,m=w.nodeName&&w.nodeName.toLowerCase(),m==="select"||m==="input"&&w.type==="file")var C=x2;else if(Qm(w))if(Zv)C=B2;else{C=C2;var D=O2}else(m=w.nodeName)&&m.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(C=L2);if(C&&(C=C(t,c))){qv(g,C,n,f);break e}D&&D(t,w,c),t==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&Tp(w,"number",w.value)}switch(D=c?$s(c):window,t){case"focusin":(Qm(D)||D.contentEditable==="true")&&(Hs=D,Wp=c,El=null);break;case"focusout":El=Wp=Hs=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,nw(g,n,f);break;case"selectionchange":if(U2)break;case"keydown":case"keyup":nw(g,n,f)}var U;if(zg)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Fs?Gv(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Vv&&n.locale!=="ko"&&(Fs||z!=="onCompositionStart"?z==="onCompositionEnd"&&Fs&&(U=$v()):(Ji=f,Pg="value"in Ji?Ji.value:Ji.textContent,Fs=!0)),D=ud(c,z),0<D.length&&(z=new Gm(z,t,null,n,f),g.push({event:z,listeners:D}),U?z.data=U:(U=Yv(n),U!==null&&(z.data=U)))),(U=R2?k2(t,n):M2(t,n))&&(c=ud(c,"onBeforeInput"),0<c.length&&(f=new Gm("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:c}),f.data=U))}s_(g,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ll(t,n),o!=null&&r.unshift(Wl(t,o,i)),o=Ll(t,e),o!=null&&r.push(Wl(t,o,i))),t=t.return}return r}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ow(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ll(n,o),l!=null&&s.unshift(Wl(n,l,a))):i||(l=Ll(n,o),l!=null&&s.push(Wl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var F2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function sw(t){return(typeof t=="string"?t:""+t).replace(F2,`
`).replace(H2,"")}function zu(t,e,n){if(e=sw(e),sw(t)!==e&&n)throw Error(ee(425))}function cd(){}var Hp=null,Kp=null;function $p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,$2=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(t){return aw.resolve(null).then(t).catch(V2)}:Vp;function V2(t){setTimeout(function(){throw t})}function kh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dl(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Ba,Fl="__reactProps$"+Ba,Ni="__reactContainer$"+Ba,Gp="__reactEvents$"+Ba,G2="__reactListeners$"+Ba,Y2="__reactHandles$"+Ba;function Ho(t){var e=t[Gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[Gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lw(t);t!==null;){if(n=t[Gr])return n;t=lw(t)}return e}t=n,n=t.parentNode}return null}function lu(t){return t=t[Gr]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Jd(t){return t[Fl]||null}var Yp=[],Vs=-1;function Ro(t){return{current:t}}function ut(t){0>Vs||(t.current=Yp[Vs],Yp[Vs]=null,Vs--)}function rt(t,e){Vs++,Yp[Vs]=t.current,t.current=e}var _o={},Cn=Ro(_o),qn=Ro(!1),ss=_o;function ya(t,e){var n=t.type.contextTypes;if(!n)return _o;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function dd(){ut(qn),ut(Cn)}function uw(t,e,n){if(Cn.current!==_o)throw Error(ee(168));rt(Cn,e),rt(qn,n)}function l_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,OI(t)||"Unknown",i));return vt({},n,r)}function fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,ss=Cn.current,rt(Cn,t),rt(qn,qn.current),!0}function cw(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=l_(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,ut(qn),ut(Cn),rt(Cn,t)):ut(qn),rt(qn,n)}var yi=null,ef=!1,Mh=!1;function u_(t){yi===null?yi=[t]:yi.push(t)}function q2(t){ef=!0,u_(t)}function ko(){if(!Mh&&yi!==null){Mh=!0;var t=0,e=$e;try{var n=yi;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yi=null,ef=!1}catch(i){throw yi!==null&&(yi=yi.slice(t+1)),Lv(Og,ko),i}finally{$e=e,Mh=!1}}return null}var Gs=[],Ys=0,hd=null,pd=0,vr=[],_r=0,as=null,bi=1,Ai="";function Oo(t,e){Gs[Ys++]=pd,Gs[Ys++]=hd,hd=t,pd=e}function c_(t,e,n){vr[_r++]=bi,vr[_r++]=Ai,vr[_r++]=as,as=t;var r=bi;t=Ai;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,bi=1<<32-Pr(e)+i|n<<i|r,Ai=o+t}else bi=1<<o|n<<i|r,Ai=t}function Wg(t){t.return!==null&&(Oo(t,1),c_(t,1,0))}function Fg(t){for(;t===hd;)hd=Gs[--Ys],Gs[Ys]=null,pd=Gs[--Ys],Gs[Ys]=null;for(;t===as;)as=vr[--_r],vr[_r]=null,Ai=vr[--_r],vr[_r]=null,bi=vr[--_r],vr[_r]=null}var ar=null,sr=null,ft=!1,Cr=null;function d_(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,sr=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:bi,overflow:Ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ar=t,sr=null,!0):!1;default:return!1}}function qp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zp(t){if(ft){var e=sr;if(e){var n=e;if(!dw(t,e)){if(qp(t))throw Error(ee(418));e=co(n.nextSibling);var r=ar;e&&dw(t,e)?d_(r,n):(t.flags=t.flags&-4097|2,ft=!1,ar=t)}}else{if(qp(t))throw Error(ee(418));t.flags=t.flags&-4097|2,ft=!1,ar=t}}}function fw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function ju(t){if(t!==ar)return!1;if(!ft)return fw(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$p(t.type,t.memoizedProps)),e&&(e=sr)){if(qp(t))throw f_(),Error(ee(418));for(;e;)d_(t,e),e=co(e.nextSibling)}if(fw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sr=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=ar?co(t.stateNode.nextSibling):null;return!0}function f_(){for(var t=sr;t;)t=co(t.nextSibling)}function ma(){sr=ar=null,ft=!1}function Hg(t){Cr===null?Cr=[t]:Cr.push(t)}var Z2=Bi.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Wu(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hw(t){var e=t._init;return e(t._payload)}function h_(t){function e(S,A){if(t){var _=S.deletions;_===null?(S.deletions=[A],S.flags|=16):_.push(A)}}function n(S,A){if(!t)return null;for(;A!==null;)e(S,A),A=A.sibling;return null}function r(S,A){for(S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function i(S,A){return S=go(S,A),S.index=0,S.sibling=null,S}function o(S,A,_){return S.index=_,t?(_=S.alternate,_!==null?(_=_.index,_<A?(S.flags|=2,A):_):(S.flags|=2,A)):(S.flags|=1048576,A)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,A,_,T){return A===null||A.tag!==6?(A=Bh(_,S.mode,T),A.return=S,A):(A=i(A,_),A.return=S,A)}function l(S,A,_,T){var C=_.type;return C===Ws?f(S,A,_.props.children,T,_.key):A!==null&&(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vi&&hw(C)===A.type)?(T=i(A,_.props),T.ref=Za(S,A,_),T.return=S,T):(T=wc(_.type,_.key,_.props,null,S.mode,T),T.ref=Za(S,A,_),T.return=S,T)}function c(S,A,_,T){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=Ph(_,S.mode,T),A.return=S,A):(A=i(A,_.children||[]),A.return=S,A)}function f(S,A,_,T,C){return A===null||A.tag!==7?(A=is(_,S.mode,T,C),A.return=S,A):(A=i(A,_),A.return=S,A)}function g(S,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Bh(""+A,S.mode,_),A.return=S,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Nu:return _=wc(A.type,A.key,A.props,null,S.mode,_),_.ref=Za(S,null,A),_.return=S,_;case js:return A=Ph(A,S.mode,_),A.return=S,A;case Vi:var T=A._init;return g(S,T(A._payload),_)}if(rl(A)||$a(A))return A=is(A,S.mode,_,null),A.return=S,A;Wu(S,A)}return null}function w(S,A,_,T){var C=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(S,A,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nu:return _.key===C?l(S,A,_,T):null;case js:return _.key===C?c(S,A,_,T):null;case Vi:return C=_._init,w(S,A,C(_._payload),T)}if(rl(_)||$a(_))return C!==null?null:f(S,A,_,T,null);Wu(S,_)}return null}function m(S,A,_,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return S=S.get(_)||null,a(A,S,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nu:return S=S.get(T.key===null?_:T.key)||null,l(A,S,T,C);case js:return S=S.get(T.key===null?_:T.key)||null,c(A,S,T,C);case Vi:var D=T._init;return m(S,A,_,D(T._payload),C)}if(rl(T)||$a(T))return S=S.get(_)||null,f(A,S,T,C,null);Wu(A,T)}return null}function E(S,A,_,T){for(var C=null,D=null,U=A,z=A=0,j=null;U!==null&&z<_.length;z++){U.index>z?(j=U,U=null):j=U.sibling;var H=w(S,U,_[z],T);if(H===null){U===null&&(U=j);break}t&&U&&H.alternate===null&&e(S,U),A=o(H,A,z),D===null?C=H:D.sibling=H,D=H,U=j}if(z===_.length)return n(S,U),ft&&Oo(S,z),C;if(U===null){for(;z<_.length;z++)U=g(S,_[z],T),U!==null&&(A=o(U,A,z),D===null?C=U:D.sibling=U,D=U);return ft&&Oo(S,z),C}for(U=r(S,U);z<_.length;z++)j=m(U,S,z,_[z],T),j!==null&&(t&&j.alternate!==null&&U.delete(j.key===null?z:j.key),A=o(j,A,z),D===null?C=j:D.sibling=j,D=j);return t&&U.forEach(function(Z){return e(S,Z)}),ft&&Oo(S,z),C}function M(S,A,_,T){var C=$a(_);if(typeof C!="function")throw Error(ee(150));if(_=C.call(_),_==null)throw Error(ee(151));for(var D=C=null,U=A,z=A=0,j=null,H=_.next();U!==null&&!H.done;z++,H=_.next()){U.index>z?(j=U,U=null):j=U.sibling;var Z=w(S,U,H.value,T);if(Z===null){U===null&&(U=j);break}t&&U&&Z.alternate===null&&e(S,U),A=o(Z,A,z),D===null?C=Z:D.sibling=Z,D=Z,U=j}if(H.done)return n(S,U),ft&&Oo(S,z),C;if(U===null){for(;!H.done;z++,H=_.next())H=g(S,H.value,T),H!==null&&(A=o(H,A,z),D===null?C=H:D.sibling=H,D=H);return ft&&Oo(S,z),C}for(U=r(S,U);!H.done;z++,H=_.next())H=m(U,S,z,H.value,T),H!==null&&(t&&H.alternate!==null&&U.delete(H.key===null?z:H.key),A=o(H,A,z),D===null?C=H:D.sibling=H,D=H);return t&&U.forEach(function(G){return e(S,G)}),ft&&Oo(S,z),C}function N(S,A,_,T){if(typeof _=="object"&&_!==null&&_.type===Ws&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nu:e:{for(var C=_.key,D=A;D!==null;){if(D.key===C){if(C=_.type,C===Ws){if(D.tag===7){n(S,D.sibling),A=i(D,_.props.children),A.return=S,S=A;break e}}else if(D.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vi&&hw(C)===D.type){n(S,D.sibling),A=i(D,_.props),A.ref=Za(S,D,_),A.return=S,S=A;break e}n(S,D);break}else e(S,D);D=D.sibling}_.type===Ws?(A=is(_.props.children,S.mode,T,_.key),A.return=S,S=A):(T=wc(_.type,_.key,_.props,null,S.mode,T),T.ref=Za(S,A,_),T.return=S,S=T)}return s(S);case js:e:{for(D=_.key;A!==null;){if(A.key===D)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){n(S,A.sibling),A=i(A,_.children||[]),A.return=S,S=A;break e}else{n(S,A);break}else e(S,A);A=A.sibling}A=Ph(_,S.mode,T),A.return=S,S=A}return s(S);case Vi:return D=_._init,N(S,A,D(_._payload),T)}if(rl(_))return E(S,A,_,T);if($a(_))return M(S,A,_,T);Wu(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,A!==null&&A.tag===6?(n(S,A.sibling),A=i(A,_),A.return=S,S=A):(n(S,A),A=Bh(_,S.mode,T),A.return=S,S=A),s(S)):n(S,A)}return N}var wa=h_(!0),p_=h_(!1),gd=Ro(null),yd=null,qs=null,Kg=null;function $g(){Kg=qs=yd=null}function Vg(t){var e=gd.current;ut(gd),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sa(t,e){yd=t,Kg=qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function Ar(t){var e=t._currentValue;if(Kg!==t)if(t={context:t,memoizedValue:e,next:null},qs===null){if(yd===null)throw Error(ee(308));qs=t,yd.dependencies={lanes:0,firstContext:t}}else qs=qs.next=t;return e}var Ko=null;function Gg(t){Ko===null?Ko=[t]:Ko.push(t)}function g_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gg(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function Yg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,Gg(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}function pw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function md(t,e,n,r){var i=t.updateQueue;Gi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,f=c=l=null,a=o;do{var w=a.lane,m=a.eventTime;if((r&w)===w){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,M=a;switch(w=e,m=n,M.tag){case 1:if(E=M.payload,typeof E=="function"){g=E.call(m,g,w);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=M.payload,w=typeof E=="function"?E.call(m,g,w):E,w==null)break e;g=vt({},g,w);break e;case 2:Gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[a]:w.push(a))}else m={eventTime:m,lane:w,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,l=g):f=f.next=m,s|=w;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;w=a,a=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(f===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);us|=s,t.lanes=s,t.memoizedState=g}}function gw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var uu={},ni=Ro(uu),Hl=Ro(uu),Kl=Ro(uu);function $o(t){if(t===uu)throw Error(ee(174));return t}function qg(t,e){switch(rt(Kl,e),rt(Hl,t),rt(ni,uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xp(e,t)}ut(ni),rt(ni,e)}function va(){ut(ni),ut(Hl),ut(Kl)}function m_(t){$o(Kl.current);var e=$o(ni.current),n=xp(e,t.type);e!==n&&(rt(Hl,t),rt(ni,n))}function Zg(t){Hl.current===t&&(ut(ni),ut(Hl))}var yt=Ro(0);function wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Th=[];function Qg(){for(var t=0;t<Th.length;t++)Th[t]._workInProgressVersionPrimary=null;Th.length=0}var hc=Bi.ReactCurrentDispatcher,Nh=Bi.ReactCurrentBatchConfig,ls=0,wt=null,tn=null,cn=null,vd=!1,Sl=!1,$l=0,Q2=0;function En(){throw Error(ee(321))}function Xg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function Jg(t,e,n,r,i,o){if(ls=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hc.current=t===null||t.memoizedState===null?tR:nR,t=n(r,i),Sl){o=0;do{if(Sl=!1,$l=0,25<=o)throw Error(ee(301));o+=1,cn=tn=null,e.updateQueue=null,hc.current=rR,t=n(r,i)}while(Sl)}if(hc.current=_d,e=tn!==null&&tn.next!==null,ls=0,cn=tn=wt=null,vd=!1,e)throw Error(ee(300));return t}function ey(){var t=$l!==0;return $l=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?wt.memoizedState=cn=t:cn=cn.next=t,cn}function Ir(){if(tn===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=cn===null?wt.memoizedState:cn.next;if(e!==null)cn=e,tn=t;else{if(t===null)throw Error(ee(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},cn===null?wt.memoizedState=cn=t:cn=cn.next=t}return cn}function Vl(t,e){return typeof e=="function"?e(t):e}function xh(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=tn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((ls&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=g,s=r):l=l.next=g,wt.lanes|=f,us|=f}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,jr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,us|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oh(t){var e=Ir(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);jr(o,e.memoizedState)||(Vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function w_(){}function v_(t,e){var n=wt,r=Ir(),i=e(),o=!jr(r.memoizedState,i);if(o&&(r.memoizedState=i,Vn=!0),r=r.queue,ty(S_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||cn!==null&&cn.memoizedState.tag&1){if(n.flags|=2048,Gl(9,E_.bind(null,n,r,i,e),void 0,null),dn===null)throw Error(ee(349));ls&30||__(n,e,i)}return i}function __(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function E_(t,e,n,r){e.value=n,e.getSnapshot=r,b_(e)&&A_(t)}function S_(t,e,n){return n(function(){b_(e)&&A_(t)})}function b_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function A_(t){var e=xi(t,1);e!==null&&Dr(e,t,1,-1)}function yw(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e.queue=t,t=t.dispatch=eR.bind(null,wt,t),[e.memoizedState,t]}function Gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I_(){return Ir().memoizedState}function pc(t,e,n,r){var i=$r();wt.flags|=t,i.memoizedState=Gl(1|e,n,void 0,r===void 0?null:r)}function tf(t,e,n,r){var i=Ir();r=r===void 0?null:r;var o=void 0;if(tn!==null){var s=tn.memoizedState;if(o=s.destroy,r!==null&&Xg(r,s.deps)){i.memoizedState=Gl(e,n,o,r);return}}wt.flags|=t,i.memoizedState=Gl(1|e,n,o,r)}function mw(t,e){return pc(8390656,8,t,e)}function ty(t,e){return tf(2048,8,t,e)}function R_(t,e){return tf(4,2,t,e)}function k_(t,e){return tf(4,4,t,e)}function M_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T_(t,e,n){return n=n!=null?n.concat([t]):null,tf(4,4,M_.bind(null,e,t),n)}function ny(){}function N_(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x_(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function O_(t,e,n){return ls&21?(jr(n,e)||(n=Dv(),wt.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function X2(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Nh.transition;Nh.transition={};try{t(!1),e()}finally{$e=n,Nh.transition=r}}function C_(){return Ir().memoizedState}function J2(t,e,n){var r=po(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L_(t))B_(e,n);else if(n=g_(t,e,n,r),n!==null){var i=Pn();Dr(n,t,r,i),P_(n,e,r)}}function eR(t,e,n){var r=po(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L_(t))B_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,jr(a,s)){var l=e.interleaved;l===null?(i.next=i,Gg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=g_(t,e,i,r),n!==null&&(i=Pn(),Dr(n,t,r,i),P_(n,e,r))}}function L_(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function B_(t,e){Sl=vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}var _d={readContext:Ar,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},tR={readContext:Ar,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:Ar,useEffect:mw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pc(4194308,4,M_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return pc(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J2.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:yw,useDebugValue:ny,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=yw(!1),e=t[0];return t=X2.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=$r();if(ft){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),dn===null)throw Error(ee(349));ls&30||__(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,mw(S_.bind(null,r,o,t),[t]),r.flags|=2048,Gl(9,E_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$r(),e=dn.identifierPrefix;if(ft){var n=Ai,r=bi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nR={readContext:Ar,useCallback:N_,useContext:Ar,useEffect:ty,useImperativeHandle:T_,useInsertionEffect:R_,useLayoutEffect:k_,useMemo:x_,useReducer:xh,useRef:I_,useState:function(){return xh(Vl)},useDebugValue:ny,useDeferredValue:function(t){var e=Ir();return O_(e,tn.memoizedState,t)},useTransition:function(){var t=xh(Vl)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:w_,useSyncExternalStore:v_,useId:C_,unstable_isNewReconciler:!1},rR={readContext:Ar,useCallback:N_,useContext:Ar,useEffect:ty,useImperativeHandle:T_,useInsertionEffect:R_,useLayoutEffect:k_,useMemo:x_,useReducer:Oh,useRef:I_,useState:function(){return Oh(Vl)},useDebugValue:ny,useDeferredValue:function(t){var e=Ir();return tn===null?e.memoizedState=t:O_(e,tn.memoizedState,t)},useTransition:function(){var t=Oh(Vl)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:w_,useSyncExternalStore:v_,useId:C_,unstable_isNewReconciler:!1};function Nr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nf={isMounted:function(t){return(t=t._reactInternals)?ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=po(t),o=Mi(r,i);o.payload=e,n!=null&&(o.callback=n),e=fo(t,o,i),e!==null&&(Dr(e,t,i,r),fc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=po(t),o=Mi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=fo(t,o,i),e!==null&&(Dr(e,t,i,r),fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=po(t),i=Mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=fo(t,i,r),e!==null&&(Dr(e,t,r,n),fc(e,t,r))}};function ww(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!zl(n,r)||!zl(i,o):!0}function D_(t,e,n){var r=!1,i=_o,o=e.contextType;return typeof o=="object"&&o!==null?o=Ar(o):(i=Zn(e)?ss:Cn.current,r=e.contextTypes,o=(r=r!=null)?ya(t,i):_o),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nf.enqueueReplaceState(e,e.state,null)}function Jp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ar(o):(o=Zn(e)?ss:Cn.current,i.context=ya(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nf.enqueueReplaceState(i,i.state,null),md(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var n="",r=e;do n+=xI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function e0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iR=typeof WeakMap=="function"?WeakMap:Map;function U_(t,e,n){n=Mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sd||(Sd=!0,c0=r),e0(t,e)},n}function z_(t,e,n){n=Mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){e0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){e0(t,e),typeof r!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function _w(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wR.bind(null,t,e,n),e.then(t,t))}function Ew(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mi(-1,1),e.tag=2,fo(n,e,1))),n.lanes|=1),t)}var oR=Bi.ReactCurrentOwner,Vn=!1;function Ln(t,e,n,r){e.child=t===null?p_(e,null,n,r):wa(e,t.child,n,r)}function bw(t,e,n,r,i){n=n.render;var o=e.ref;return sa(e,i),r=Jg(t,e,n,r,o,i),n=ey(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(ft&&n&&Wg(e),e.flags|=1,Ln(t,e,r,i),e.child)}function Aw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!cy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,j_(t,e,o,r,i)):(t=wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zl,n(s,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=go(o,r),t.ref=e.ref,t.return=e,e.child=t}function j_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(zl(o,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return t0(t,e,n,r,i)}function W_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Qs,nr),nr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(Qs,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,rt(Qs,nr),nr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,rt(Qs,nr),nr|=r;return Ln(t,e,i,n),e.child}function F_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function t0(t,e,n,r,i){var o=Zn(n)?ss:Cn.current;return o=ya(e,o),sa(e,i),n=Jg(t,e,n,r,o,i),r=ey(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(ft&&r&&Wg(e),e.flags|=1,Ln(t,e,n,i),e.child)}function Iw(t,e,n,r,i){if(Zn(n)){var o=!0;fd(e)}else o=!1;if(sa(e,i),e.stateNode===null)gc(t,e),D_(e,n,r),Jp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ar(c):(c=Zn(n)?ss:Cn.current,c=ya(e,c));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vw(e,s,r,c),Gi=!1;var w=e.memoizedState;s.state=w,md(e,r,s,i),l=e.memoizedState,a!==r||w!==l||qn.current||Gi?(typeof f=="function"&&(Xp(e,n,f,r),l=e.memoizedState),(a=Gi||ww(e,n,a,r,w,l,c))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,y_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nr(e.type,a),s.props=c,g=e.pendingProps,w=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ar(l):(l=Zn(n)?ss:Cn.current,l=ya(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||w!==l)&&vw(e,s,r,l),Gi=!1,w=e.memoizedState,s.state=w,md(e,r,s,i);var E=e.memoizedState;a!==g||w!==E||qn.current||Gi?(typeof m=="function"&&(Xp(e,n,m,r),E=e.memoizedState),(c=Gi||ww(e,n,c,r,w,E,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return n0(t,e,n,r,o,i)}function n0(t,e,n,r,i,o){F_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&cw(e,n,!1),Oi(t,e,o);r=e.stateNode,oR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=wa(e,t.child,null,o),e.child=wa(e,null,a,o)):Ln(t,e,a,o),e.memoizedState=r.state,i&&cw(e,n,!0),e.child}function H_(t){var e=t.stateNode;e.pendingContext?uw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uw(t,e.context,!1),qg(t,e.containerInfo)}function Rw(t,e,n,r,i){return ma(),Hg(i),e.flags|=256,Ln(t,e,n,r),e.child}var r0={dehydrated:null,treeContext:null,retryLane:0};function i0(t){return{baseLanes:t,cachePool:null,transitions:null}}function K_(t,e,n){var r=e.pendingProps,i=yt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(yt,i&1),t===null)return Zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=sf(s,r,0,null),t=is(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=i0(n),e.memoizedState=r0,t):ry(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=go(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=go(a,o):(o=is(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?i0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=r0,r}return o=t.child,t=o.sibling,r=go(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ry(t,e){return e=sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&Hg(r),wa(e,t.child,null,n),t=ry(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ch(Error(ee(422))),Fu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=sf({mode:"visible",children:r.children},i,0,null),o=is(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&wa(e,t.child,null,s),e.child.memoizedState=i0(s),e.memoizedState=r0,o);if(!(e.mode&1))return Fu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=Ch(o,r,void 0),Fu(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vn||a){if(r=dn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xi(t,i),Dr(r,t,i,-1))}return uy(),r=Ch(Error(ee(421))),Fu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sr=co(i.nextSibling),ar=e,ft=!0,Cr=null,t!==null&&(vr[_r++]=bi,vr[_r++]=Ai,vr[_r++]=as,bi=t.id,Ai=t.overflow,as=e),e=ry(e,r.children),e.flags|=4096,e)}function kw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qp(t.return,e,n)}function Lh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ln(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kw(t,n,e);else if(t.tag===19)kw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lh(e,!0,n,null,o);break;case"together":Lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aR(t,e,n){switch(e.tag){case 3:H_(e),ma();break;case 5:m_(e);break;case 1:Zn(e.type)&&fd(e);break;case 4:qg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(gd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?K_(t,e,n):(rt(yt,yt.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);rt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,W_(t,e,n)}return Oi(t,e,n)}var V_,o0,G_,Y_;V_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o0=function(){};G_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$o(ni.current);var o=null;switch(n){case"input":i=kp(t,i),r=kp(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=Np(t,i),r=Np(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cd)}Op(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ol.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Y_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lR(t,e,n){var r=e.pendingProps;switch(Fg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return Zn(e.type)&&dd(),Sn(e),null;case 3:return r=e.stateNode,va(),ut(qn),ut(Cn),Qg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(h0(Cr),Cr=null))),o0(t,e),Sn(e),null;case 5:Zg(e);var i=$o(Kl.current);if(n=e.type,t!==null&&e.stateNode!=null)G_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Sn(e),null}if(t=$o(ni.current),ju(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Gr]=e,r[Fl]=o,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<ol.length;i++)at(ol[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":Pm(r,o),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},at("invalid",r);break;case"textarea":Um(r,o),at("invalid",r)}Op(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",""+a]):Ol.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&at("scroll",r)}switch(n){case"input":xu(r),Dm(r,o,!0);break;case"textarea":xu(r),zm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Gr]=e,t[Fl]=r,V_(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cp(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<ol.length;i++)at(ol[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":Pm(t,r),i=kp(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),at("invalid",t);break;case"textarea":Um(t,r),i=Np(t,r),at("invalid",t);break;default:i=r}Op(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Iv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cl(t,l):typeof l=="number"&&Cl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ol.hasOwnProperty(o)?l!=null&&o==="onScroll"&&at("scroll",t):l!=null&&kg(t,o,l,s))}switch(n){case"input":xu(t),Dm(t,r,!1);break;case"textarea":xu(t),zm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?na(t,!!r.multiple,o,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)Y_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=$o(Kl.current),$o(ni.current),ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gr]=e,(o=r.nodeValue!==n)&&(t=ar,t!==null))switch(t.tag){case 3:zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gr]=e,e.stateNode=r}return Sn(e),null;case 13:if(ut(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&sr!==null&&e.mode&1&&!(e.flags&128))f_(),ma(),e.flags|=98560,o=!1;else if(o=ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Gr]=e}else ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),o=!1}else Cr!==null&&(h0(Cr),Cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?on===0&&(on=3):uy())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return va(),o0(t,e),t===null&&jl(e.stateNode.containerInfo),Sn(e),null;case 10:return Vg(e.type._context),Sn(e),null;case 17:return Zn(e.type)&&dd(),Sn(e),null;case 19:if(ut(yt),o=e.memoizedState,o===null)return Sn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Qa(o,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=wd(t),s!==null){for(e.flags|=128,Qa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(yt,yt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Nt()>Ea&&(e.flags|=128,r=!0,Qa(o,!1),e.lanes=4194304)}else{if(!r)if(t=wd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ft)return Sn(e),null}else 2*Nt()-o.renderingStartTime>Ea&&n!==1073741824&&(e.flags|=128,r=!0,Qa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nt(),e.sibling=null,n=yt.current,rt(yt,r?n&1|2:n&1),e):(Sn(e),null);case 22:case 23:return ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function uR(t,e){switch(Fg(e),e.tag){case 1:return Zn(e.type)&&dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return va(),ut(qn),ut(Cn),Qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zg(e),null;case 13:if(ut(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(yt),null;case 4:return va(),null;case 10:return Vg(e.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var Hu=!1,On=!1,cR=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function s0(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var Mw=!1;function dR(t,e){if(Hp=ad,t=Jv(),jg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,f=0,g=t,w=null;t:for(;;){for(var m;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(l=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(m=g.firstChild)!==null;)w=g,g=m;for(;;){if(g===t)break t;if(w===n&&++c===i&&(a=s),w===o&&++f===r&&(l=s),(m=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kp={focusedElem:t,selectionRange:n},ad=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var M=E.memoizedProps,N=E.memoizedState,S=e.stateNode,A=S.getSnapshotBeforeUpdate(e.elementType===e.type?M:Nr(e.type,M),N);S.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(T){Mt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return E=Mw,Mw=!1,E}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&s0(e,n,o)}i=i.next}while(i!==r)}}function rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function a0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q_(t){var e=t.alternate;e!==null&&(t.alternate=null,q_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gr],delete e[Fl],delete e[Gp],delete e[G2],delete e[Y2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Z_(t){return t.tag===5||t.tag===3||t.tag===4}function Tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function l0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cd));else if(r!==4&&(t=t.child,t!==null))for(l0(t,e,n),t=t.sibling;t!==null;)l0(t,e,n),t=t.sibling}function u0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(u0(t,e,n),t=t.sibling;t!==null;)u0(t,e,n),t=t.sibling}var pn=null,Or=!1;function Di(t,e,n){for(n=n.child;n!==null;)Q_(t,e,n),n=n.sibling}function Q_(t,e,n){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(qd,n)}catch{}switch(n.tag){case 5:On||Zs(n,e);case 6:var r=pn,i=Or;pn=null,Di(t,e,n),pn=r,Or=i,pn!==null&&(Or?(t=pn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pn.removeChild(n.stateNode));break;case 18:pn!==null&&(Or?(t=pn,n=n.stateNode,t.nodeType===8?kh(t.parentNode,n):t.nodeType===1&&kh(t,n),Dl(t)):kh(pn,n.stateNode));break;case 4:r=pn,i=Or,pn=n.stateNode.containerInfo,Or=!0,Di(t,e,n),pn=r,Or=i;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&s0(n,e,s),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!On&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,Di(t,e,n),On=r):Di(t,e,n);break;default:Di(t,e,n)}}function Nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cR),e.forEach(function(r){var i=_R.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:pn=a.stateNode,Or=!1;break e;case 3:pn=a.stateNode.containerInfo,Or=!0;break e;case 4:pn=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(pn===null)throw Error(ee(160));Q_(o,s,i),pn=null,Or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X_(e,t),e=e.sibling}function X_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mr(e,t),Hr(t),r&4){try{bl(3,t,t.return),rf(3,t)}catch(M){Mt(t,t.return,M)}try{bl(5,t,t.return)}catch(M){Mt(t,t.return,M)}}break;case 1:Mr(e,t),Hr(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(Mr(e,t),Hr(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var i=t.stateNode;try{Cl(i,"")}catch(M){Mt(t,t.return,M)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&_v(i,o),Cp(a,s);var c=Cp(a,o);for(s=0;s<l.length;s+=2){var f=l[s],g=l[s+1];f==="style"?Iv(i,g):f==="dangerouslySetInnerHTML"?bv(i,g):f==="children"?Cl(i,g):kg(i,f,g,c)}switch(a){case"input":Mp(i,o);break;case"textarea":Ev(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?na(i,!!o.multiple,m,!1):w!==!!o.multiple&&(o.defaultValue!=null?na(i,!!o.multiple,o.defaultValue,!0):na(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fl]=o}catch(M){Mt(t,t.return,M)}}break;case 6:if(Mr(e,t),Hr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(M){Mt(t,t.return,M)}}break;case 3:if(Mr(e,t),Hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(M){Mt(t,t.return,M)}break;case 4:Mr(e,t),Hr(t);break;case 13:Mr(e,t),Hr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sy=Nt())),r&4&&Nw(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(On=(c=On)||f,Mr(e,t),On=c):Mr(e,t),Hr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(g=ce=f;ce!==null;){switch(w=ce,m=w.child,w.tag){case 0:case 11:case 14:case 15:bl(4,w,w.return);break;case 1:Zs(w,w.return);var E=w.stateNode;if(typeof E.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(M){Mt(r,n,M)}}break;case 5:Zs(w,w.return);break;case 22:if(w.memoizedState!==null){Ow(g);continue}}m!==null?(m.return=w,ce=m):Ow(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Av("display",s))}catch(M){Mt(t,t.return,M)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(M){Mt(t,t.return,M)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Mr(e,t),Hr(t),r&4&&Nw(t);break;case 21:break;default:Mr(e,t),Hr(t)}}function Hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Z_(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cl(i,""),r.flags&=-33);var o=Tw(t);u0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Tw(t);l0(t,a,s);break;default:throw Error(ee(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fR(t,e,n){ce=t,J_(t)}function J_(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Hu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||On;a=Hu;var c=On;if(Hu=s,(On=l)&&!c)for(ce=i;ce!==null;)s=ce,l=s.child,s.tag===22&&s.memoizedState!==null?Cw(i):l!==null?(l.return=s,ce=l):Cw(i);for(;o!==null;)ce=o,J_(o),o=o.sibling;ce=i,Hu=a,On=c}xw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):xw(t)}}function xw(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:On||rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!On)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Dl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}On||e.flags&512&&a0(e)}catch(w){Mt(e,e.return,w)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Ow(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Cw(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rf(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Mt(e,i,l)}}var o=e.return;try{a0(e)}catch(l){Mt(e,o,l)}break;case 5:var s=e.return;try{a0(e)}catch(l){Mt(e,s,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var hR=Math.ceil,Ed=Bi.ReactCurrentDispatcher,iy=Bi.ReactCurrentOwner,Sr=Bi.ReactCurrentBatchConfig,De=0,dn=null,Xt=null,wn=0,nr=0,Qs=Ro(0),on=0,Yl=null,us=0,of=0,oy=0,Al=null,Hn=null,sy=0,Ea=1/0,gi=null,Sd=!1,c0=null,ho=null,Ku=!1,eo=null,bd=0,Il=0,d0=null,yc=-1,mc=0;function Pn(){return De&6?Nt():yc!==-1?yc:yc=Nt()}function po(t){return t.mode&1?De&2&&wn!==0?wn&-wn:Z2.transition!==null?(mc===0&&(mc=Dv()),mc):(t=$e,t!==0||(t=window.event,t=t===void 0?16:Kv(t.type)),t):1}function Dr(t,e,n,r){if(50<Il)throw Il=0,d0=null,Error(ee(185));su(t,n,r),(!(De&2)||t!==dn)&&(t===dn&&(!(De&2)&&(of|=n),on===4&&Qi(t,wn)),Qn(t,r),n===1&&De===0&&!(e.mode&1)&&(Ea=Nt()+500,ef&&ko()))}function Qn(t,e){var n=t.callbackNode;ZI(t,e);var r=sd(t,t===dn?wn:0);if(r===0)n!==null&&Fm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fm(n),e===1)t.tag===0?q2(Lw.bind(null,t)):u_(Lw.bind(null,t)),$2(function(){!(De&6)&&ko()}),n=null;else{switch(Uv(r)){case 1:n=Og;break;case 4:n=Bv;break;case 16:n=od;break;case 536870912:n=Pv;break;default:n=od}n=aE(n,eE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eE(t,e){if(yc=-1,mc=0,De&6)throw Error(ee(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=sd(t,t===dn?wn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ad(t,r);else{e=r;var i=De;De|=2;var o=nE();(dn!==t||wn!==e)&&(gi=null,Ea=Nt()+500,rs(t,e));do try{yR();break}catch(a){tE(t,a)}while(!0);$g(),Ed.current=o,De=i,Xt!==null?e=0:(dn=null,wn=0,e=on)}if(e!==0){if(e===2&&(i=Up(t),i!==0&&(r=i,e=f0(t,i))),e===1)throw n=Yl,rs(t,0),Qi(t,r),Qn(t,Nt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!pR(i)&&(e=Ad(t,r),e===2&&(o=Up(t),o!==0&&(r=o,e=f0(t,o))),e===1))throw n=Yl,rs(t,0),Qi(t,r),Qn(t,Nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Co(t,Hn,gi);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=sy+500-Nt(),10<e)){if(sd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vp(Co.bind(null,t,Hn,gi),e);break}Co(t,Hn,gi);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hR(r/1960))-r,10<r){t.timeoutHandle=Vp(Co.bind(null,t,Hn,gi),r);break}Co(t,Hn,gi);break;case 5:Co(t,Hn,gi);break;default:throw Error(ee(329))}}}return Qn(t,Nt()),t.callbackNode===n?eE.bind(null,t):null}function f0(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=Ad(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&h0(e)),t}function h0(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function pR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~oy,e&=~of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function Lw(t){if(De&6)throw Error(ee(327));aa();var e=sd(t,0);if(!(e&1))return Qn(t,Nt()),null;var n=Ad(t,e);if(t.tag!==0&&n===2){var r=Up(t);r!==0&&(e=r,n=f0(t,r))}if(n===1)throw n=Yl,rs(t,0),Qi(t,e),Qn(t,Nt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,Hn,gi),Qn(t,Nt()),null}function ay(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Ea=Nt()+500,ef&&ko())}}function cs(t){eo!==null&&eo.tag===0&&!(De&6)&&aa();var e=De;De|=1;var n=Sr.transition,r=$e;try{if(Sr.transition=null,$e=1,t)return t()}finally{$e=r,Sr.transition=n,De=e,!(De&6)&&ko()}}function ly(){nr=Qs.current,ut(Qs)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K2(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(Fg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dd();break;case 3:va(),ut(qn),ut(Cn),Qg();break;case 5:Zg(r);break;case 4:va();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:Vg(r.type._context);break;case 22:case 23:ly()}n=n.return}if(dn=t,Xt=t=go(t.current,null),wn=nr=e,on=0,Yl=null,oy=of=us=0,Hn=Al=null,Ko!==null){for(e=0;e<Ko.length;e++)if(n=Ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ko=null}return t}function tE(t,e){do{var n=Xt;try{if($g(),hc.current=_d,vd){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vd=!1}if(ls=0,cn=tn=wt=null,Sl=!1,$l=0,iy.current=null,n===null||n.return===null){on=1,Yl=e,Xt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=wn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Ew(s);if(m!==null){m.flags&=-257,Sw(m,s,a,o,e),m.mode&1&&_w(o,c,e),e=m,l=c;var E=e.updateQueue;if(E===null){var M=new Set;M.add(l),e.updateQueue=M}else E.add(l);break e}else{if(!(e&1)){_w(o,c,e),uy();break e}l=Error(ee(426))}}else if(ft&&a.mode&1){var N=Ew(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Sw(N,s,a,o,e),Hg(_a(l,a));break e}}o=l=_a(l,a),on!==4&&(on=2),Al===null?Al=[o]:Al.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=U_(o,l,e);pw(o,S);break e;case 1:a=l;var A=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ho===null||!ho.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=z_(o,a,e);pw(o,T);break e}}o=o.return}while(o!==null)}iE(n)}catch(C){e=C,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function nE(){var t=Ed.current;return Ed.current=_d,t===null?_d:t}function uy(){(on===0||on===3||on===2)&&(on=4),dn===null||!(us&268435455)&&!(of&268435455)||Qi(dn,wn)}function Ad(t,e){var n=De;De|=2;var r=nE();(dn!==t||wn!==e)&&(gi=null,rs(t,e));do try{gR();break}catch(i){tE(t,i)}while(!0);if($g(),De=n,Ed.current=r,Xt!==null)throw Error(ee(261));return dn=null,wn=0,on}function gR(){for(;Xt!==null;)rE(Xt)}function yR(){for(;Xt!==null&&!WI();)rE(Xt)}function rE(t){var e=sE(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?iE(t):Xt=e,iy.current=null}function iE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uR(n,e),n!==null){n.flags&=32767,Xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Xt=null;return}}else if(n=lR(n,e,nr),n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);on===0&&(on=5)}function Co(t,e,n){var r=$e,i=Sr.transition;try{Sr.transition=null,$e=1,mR(t,e,n,r)}finally{Sr.transition=i,$e=r}return null}function mR(t,e,n,r){do aa();while(eo!==null);if(De&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(QI(t,o),t===dn&&(Xt=dn=null,wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ku||(Ku=!0,aE(od,function(){return aa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Sr.transition,Sr.transition=null;var s=$e;$e=1;var a=De;De|=4,iy.current=null,dR(t,n),X_(n,t),D2(Kp),ad=!!Hp,Kp=Hp=null,t.current=n,fR(n),FI(),De=a,$e=s,Sr.transition=o}else t.current=n;if(Ku&&(Ku=!1,eo=t,bd=i),o=t.pendingLanes,o===0&&(ho=null),$I(n.stateNode),Qn(t,Nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sd)throw Sd=!1,t=c0,c0=null,t;return bd&1&&t.tag!==0&&aa(),o=t.pendingLanes,o&1?t===d0?Il++:(Il=0,d0=t):Il=0,ko(),null}function aa(){if(eo!==null){var t=Uv(bd),e=Sr.transition,n=$e;try{if(Sr.transition=null,$e=16>t?16:t,eo===null)var r=!1;else{if(t=eo,eo=null,bd=0,De&6)throw Error(ee(331));var i=De;for(De|=4,ce=t.current;ce!==null;){var o=ce,s=o.child;if(ce.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ce=c;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:bl(8,f,o)}var g=f.child;if(g!==null)g.return=f,ce=g;else for(;ce!==null;){f=ce;var w=f.sibling,m=f.return;if(q_(f),f===c){ce=null;break}if(w!==null){w.return=m,ce=w;break}ce=m}}}var E=o.alternate;if(E!==null){var M=E.child;if(M!==null){E.child=null;do{var N=M.sibling;M.sibling=null,M=N}while(M!==null)}}ce=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ce=s;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bl(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ce=S;break e}ce=o.return}}var A=t.current;for(ce=A;ce!==null;){s=ce;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ce=_;else e:for(s=A;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(C){Mt(a,a.return,C)}if(a===s){ce=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ce=T;break e}ce=a.return}}if(De=i,ko(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(qd,t)}catch{}r=!0}return r}finally{$e=n,Sr.transition=e}}return!1}function Bw(t,e,n){e=_a(n,e),e=U_(t,e,1),t=fo(t,e,1),e=Pn(),t!==null&&(su(t,1,e),Qn(t,e))}function Mt(t,e,n){if(t.tag===3)Bw(t,t,n);else for(;e!==null;){if(e.tag===3){Bw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ho===null||!ho.has(r))){t=_a(n,t),t=z_(e,t,1),e=fo(e,t,1),t=Pn(),e!==null&&(su(e,1,t),Qn(e,t));break}}e=e.return}}function wR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,dn===t&&(wn&n)===n&&(on===4||on===3&&(wn&130023424)===wn&&500>Nt()-sy?rs(t,0):oy|=n),Qn(t,e)}function oE(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=Pn();t=xi(t,e),t!==null&&(su(t,e,n),Qn(t,n))}function vR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oE(t,n)}function _R(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),oE(t,n)}var sE;sE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,aR(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,ft&&e.flags&1048576&&c_(e,pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gc(t,e),t=e.pendingProps;var i=ya(e,Cn.current);sa(e,n),i=Jg(null,e,r,t,i,n);var o=ey();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(o=!0,fd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yg(e),i.updater=nf,e.stateNode=i,i._reactInternals=e,Jp(e,r,t,n),e=n0(null,e,r,!0,o,n)):(e.tag=0,ft&&o&&Wg(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=SR(r),t=Nr(r,t),i){case 0:e=t0(null,e,r,t,n);break e;case 1:e=Iw(null,e,r,t,n);break e;case 11:e=bw(null,e,r,t,n);break e;case 14:e=Aw(null,e,r,Nr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),t0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Iw(t,e,r,i,n);case 3:e:{if(H_(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,y_(t,e),md(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=_a(Error(ee(423)),e),e=Rw(t,e,r,n,i);break e}else if(r!==i){i=_a(Error(ee(424)),e),e=Rw(t,e,r,n,i);break e}else for(sr=co(e.stateNode.containerInfo.firstChild),ar=e,ft=!0,Cr=null,n=p_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ma(),r===i){e=Oi(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return m_(e),t===null&&Zp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,$p(r,i)?s=null:o!==null&&$p(r,o)&&(e.flags|=32),F_(t,e),Ln(t,e,s,n),e.child;case 6:return t===null&&Zp(e),null;case 13:return K_(t,e,n);case 4:return qg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wa(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),bw(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,rt(gd,r._currentValue),r._currentValue=s,o!==null)if(jr(o.value,s)){if(o.children===i.children&&!qn.current){e=Oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Mi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qp(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Qp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sa(e,n),i=Ar(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=Nr(r,e.pendingProps),i=Nr(r.type,i),Aw(t,e,r,i,n);case 15:return j_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),gc(t,e),e.tag=1,Zn(r)?(t=!0,fd(e)):t=!1,sa(e,n),D_(e,r,i),Jp(e,r,i,n),n0(null,e,r,!0,t,n);case 19:return $_(t,e,n);case 22:return W_(t,e,n)}throw Error(ee(156,e.tag))};function aE(t,e){return Lv(t,e)}function ER(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new ER(t,e,n,r)}function cy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SR(t){if(typeof t=="function")return cy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tg)return 11;if(t===Ng)return 14}return 2}function go(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")cy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ws:return is(n.children,i,o,e);case Mg:s=8,i|=8;break;case bp:return t=Er(12,n,e,i|2),t.elementType=bp,t.lanes=o,t;case Ap:return t=Er(13,n,e,i),t.elementType=Ap,t.lanes=o,t;case Ip:return t=Er(19,n,e,i),t.elementType=Ip,t.lanes=o,t;case mv:return sf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gv:s=10;break e;case yv:s=9;break e;case Tg:s=11;break e;case Ng:s=14;break e;case Vi:s=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Er(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function is(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function sf(t,e,n,r){return t=Er(22,t,r,e),t.elementType=mv,t.lanes=n,t.stateNode={isHidden:!1},t}function Bh(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function Ph(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dy(t,e,n,r,i,o,s,a,l){return t=new bR(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Er(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(o),t}function AR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lE(t){if(!t)return _o;t=t._reactInternals;e:{if(ms(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Zn(n))return l_(t,n,e)}return e}function uE(t,e,n,r,i,o,s,a,l){return t=dy(n,r,!0,t,i,o,s,a,l),t.context=lE(null),n=t.current,r=Pn(),i=po(n),o=Mi(r,i),o.callback=e??null,fo(n,o,i),t.current.lanes=i,su(t,i,r),Qn(t,r),t}function af(t,e,n,r){var i=e.current,o=Pn(),s=po(i);return n=lE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fo(i,e,s),t!==null&&(Dr(t,i,s,o),fc(t,i,s)),s}function Id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fy(t,e){Pw(t,e),(t=t.alternate)&&Pw(t,e)}function IR(){return null}var cE=typeof reportError=="function"?reportError:function(t){console.error(t)};function hy(t){this._internalRoot=t}lf.prototype.render=hy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));af(t,e,null,null)};lf.prototype.unmount=hy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){af(null,t,null,null)}),e[Ni]=null}};function lf(t){this._internalRoot=t}lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&Hv(t)}};function py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dw(){}function RR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Id(s);o.call(c)}}var s=uE(e,r,t,0,null,!1,!1,"",Dw);return t._reactRootContainer=s,t[Ni]=s.current,jl(t.nodeType===8?t.parentNode:t),cs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Id(l);a.call(c)}}var l=dy(t,0,!1,null,null,!1,!1,"",Dw);return t._reactRootContainer=l,t[Ni]=l.current,jl(t.nodeType===8?t.parentNode:t),cs(function(){af(e,l,n,r)}),l}function cf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Id(s);a.call(l)}}af(e,s,t,i)}else s=RR(n,e,t,i,r);return Id(s)}zv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=il(e.pendingLanes);n!==0&&(Cg(e,n|1),Qn(e,Nt()),!(De&6)&&(Ea=Nt()+500,ko()))}break;case 13:cs(function(){var r=xi(t,1);if(r!==null){var i=Pn();Dr(r,t,1,i)}}),fy(t,1)}};Lg=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=Pn();Dr(e,t,134217728,n)}fy(t,134217728)}};jv=function(t){if(t.tag===13){var e=po(t),n=xi(t,e);if(n!==null){var r=Pn();Dr(n,t,e,r)}fy(t,e)}};Wv=function(){return $e};Fv=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};Bp=function(t,e,n){switch(e){case"input":if(Mp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jd(r);if(!i)throw Error(ee(90));vv(r),Mp(r,i)}}}break;case"textarea":Ev(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};Mv=ay;Tv=cs;var kR={usingClientEntryPoint:!1,Events:[lu,$s,Jd,Rv,kv,ay]},Xa={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MR={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ov(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||IR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{qd=$u.inject(MR),ti=$u}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kR;dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(e))throw Error(ee(200));return AR(t,e,null,n)};dr.createRoot=function(t,e){if(!py(t))throw Error(ee(299));var n=!1,r="",i=cE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dy(t,1,!1,null,null,n,!1,r,i),t[Ni]=e.current,jl(t.nodeType===8?t.parentNode:t),new hy(e)};dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Ov(e),t=t===null?null:t.stateNode,t};dr.flushSync=function(t){return cs(t)};dr.hydrate=function(t,e,n){if(!uf(e))throw Error(ee(200));return cf(null,t,e,!0,n)};dr.hydrateRoot=function(t,e,n){if(!py(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=cE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=uE(e,null,t,1,n??null,i,!1,o,s),t[Ni]=e.current,jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lf(e)};dr.render=function(t,e,n){if(!uf(e))throw Error(ee(200));return cf(null,t,e,!1,n)};dr.unmountComponentAtNode=function(t){if(!uf(t))throw Error(ee(40));return t._reactRootContainer?(cs(function(){cf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};dr.unstable_batchedUpdates=ay;dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uf(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return cf(t,e,n,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function dE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dE)}catch(t){console.error(t)}}dE(),dv.exports=dr;var fE=dv.exports,Uw=fE;Ep.createRoot=Uw.createRoot,Ep.hydrateRoot=Uw.hydrateRoot;const TR="modulepreload",NR=function(t){return"/investor_App_DMD/"+t},zw={},cu=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=NR(l),l in zw)return;zw[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":TR,c||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),c)return new Promise((w,m)=>{g.addEventListener("load",w),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var ge={},df={};df.byteLength=CR;df.toByteArray=BR;df.fromByteArray=UR;var Yr=[],mr=[],xR=typeof Uint8Array<"u"?Uint8Array:Array,Dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Is=0,OR=Dh.length;Is<OR;++Is)Yr[Is]=Dh[Is],mr[Dh.charCodeAt(Is)]=Is;mr[45]=62;mr[95]=63;function hE(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function CR(t){var e=hE(t),n=e[0],r=e[1];return(n+r)*3/4-r}function LR(t,e,n){return(e+n)*3/4-n}function BR(t){var e,n=hE(t),r=n[0],i=n[1],o=new xR(LR(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=mr[t.charCodeAt(l)]<<18|mr[t.charCodeAt(l+1)]<<12|mr[t.charCodeAt(l+2)]<<6|mr[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=mr[t.charCodeAt(l)]<<2|mr[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=mr[t.charCodeAt(l)]<<10|mr[t.charCodeAt(l+1)]<<4|mr[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function PR(t){return Yr[t>>18&63]+Yr[t>>12&63]+Yr[t>>6&63]+Yr[t&63]}function DR(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(PR(r));return i.join("")}function UR(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(DR(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Yr[e>>2]+Yr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Yr[e>>10]+Yr[e>>4&63]+Yr[e<<2&63]+"=")),i.join("")}var gy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */gy.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,f=-7,g=n?i-1:0,w=n?-1:1,m=t[e+g];for(g+=w,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+t[e+g],g+=w,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=s*256+t[e+g],g+=w,f-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(m?-1:1)*s*Math.pow(2,o-r)};gy.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,f=(1<<c)-1,g=f>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:o-1,E=r?1:-1,M=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+g>=1?e+=w/l:e+=w*Math.pow(2,1-g),e*l>=2&&(s++,l/=2),s+g>=f?(a=0,s=f):s+g>=1?(a=(e*l-1)*Math.pow(2,i),s=s+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),s=0));i>=8;t[n+m]=a&255,m+=E,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+m]=s&255,m+=E,s/=256,c-=8);t[n+m-E]|=M*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=df,n=gy,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const k=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(k,h),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');const h=new Uint8Array(k);return Object.setPrototypeOf(h,a.prototype),h}function a(k,h,y){if(typeof k=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(k)}return l(k,h,y)}a.poolSize=8192;function l(k,h,y){if(typeof k=="string")return w(k,h);if(ArrayBuffer.isView(k))return E(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(Jn(k,ArrayBuffer)||k&&Jn(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jn(k,SharedArrayBuffer)||k&&Jn(k.buffer,SharedArrayBuffer)))return M(k,h,y);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=k.valueOf&&k.valueOf();if(L!=null&&L!==k)return a.from(L,h,y);const W=N(k);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),h,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,h,y){return l(k,h,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function f(k,h,y){return c(k),k<=0?s(k):h!==void 0?typeof y=="string"?s(k).fill(h,y):s(k).fill(h):s(k)}a.alloc=function(k,h,y){return f(k,h,y)};function g(k){return c(k),s(k<0?0:S(k)|0)}a.allocUnsafe=function(k){return g(k)},a.allocUnsafeSlow=function(k){return g(k)};function w(k,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const y=_(k,h)|0;let L=s(y);const W=L.write(k,h);return W!==y&&(L=L.slice(0,W)),L}function m(k){const h=k.length<0?0:S(k.length)|0,y=s(h);for(let L=0;L<h;L+=1)y[L]=k[L]&255;return y}function E(k){if(Jn(k,Uint8Array)){const h=new Uint8Array(k);return M(h.buffer,h.byteOffset,h.byteLength)}return m(k)}function M(k,h,y){if(h<0||k.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<h+(y||0))throw new RangeError('"length" is outside of buffer bounds');let L;return h===void 0&&y===void 0?L=new Uint8Array(k):y===void 0?L=new Uint8Array(k,h):L=new Uint8Array(k,h,y),Object.setPrototypeOf(L,a.prototype),L}function N(k){if(a.isBuffer(k)){const h=S(k.length)|0,y=s(h);return y.length===0||k.copy(y,0,0,h),y}if(k.length!==void 0)return typeof k.length!="number"||dt(k.length)?s(0):m(k);if(k.type==="Buffer"&&Array.isArray(k.data))return m(k.data)}function S(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function A(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,y){if(Jn(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),Jn(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(h)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===y)return 0;let L=h.length,W=y.length;for(let K=0,q=Math.min(L,W);K<q;++K)if(h[K]!==y[K]){L=h[K],W=y[K];break}return L<W?-1:W<L?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,y){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let L;if(y===void 0)for(y=0,L=0;L<h.length;++L)y+=h[L].length;const W=a.allocUnsafe(y);let K=0;for(L=0;L<h.length;++L){let q=h[L];if(Jn(q,Uint8Array))K+q.length>W.length?(a.isBuffer(q)||(q=a.from(q)),q.copy(W,K)):Uint8Array.prototype.set.call(W,q,K);else if(a.isBuffer(q))q.copy(W,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=q.length}return W};function _(k,h){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||Jn(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const y=k.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&y===0)return 0;let W=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return ct(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return pt(k).length;default:if(W)return L?-1:ct(k).length;h=(""+h).toLowerCase(),W=!0}}a.byteLength=_;function T(k,h,y){let L=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,h>>>=0,y<=h))return"";for(k||(k="utf8");;)switch(k){case"hex":return O(this,h,y);case"utf8":case"utf-8":return u(this,h,y);case"ascii":return R(this,h,y);case"latin1":case"binary":return I(this,h,y);case"base64":return b(this,h,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,h,y);default:if(L)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),L=!0}}a.prototype._isBuffer=!0;function C(k,h,y){const L=k[h];k[h]=k[y],k[y]=L}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<h;y+=2)C(this,y,y+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<h;y+=4)C(this,y,y+3),C(this,y+1,y+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<h;y+=8)C(this,y,y+7),C(this,y+1,y+6),C(this,y+2,y+5),C(this,y+3,y+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?u(this,0,h):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const y=t.INSPECT_MAX_BYTES;return h=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,y,L,W,K){if(Jn(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(y===void 0&&(y=0),L===void 0&&(L=h?h.length:0),W===void 0&&(W=0),K===void 0&&(K=this.length),y<0||L>h.length||W<0||K>this.length)throw new RangeError("out of range index");if(W>=K&&y>=L)return 0;if(W>=K)return-1;if(y>=L)return 1;if(y>>>=0,L>>>=0,W>>>=0,K>>>=0,this===h)return 0;let q=K-W,Re=L-y;const Ae=Math.min(q,Re),Ee=this.slice(W,K),st=h.slice(y,L);for(let ve=0;ve<Ae;++ve)if(Ee[ve]!==st[ve]){q=Ee[ve],Re=st[ve];break}return q<Re?-1:Re<q?1:0};function D(k,h,y,L,W){if(k.length===0)return-1;if(typeof y=="string"?(L=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,dt(y)&&(y=W?0:k.length-1),y<0&&(y=k.length+y),y>=k.length){if(W)return-1;y=k.length-1}else if(y<0)if(W)y=0;else return-1;if(typeof h=="string"&&(h=a.from(h,L)),a.isBuffer(h))return h.length===0?-1:U(k,h,y,L,W);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(k,h,y):Uint8Array.prototype.lastIndexOf.call(k,h,y):U(k,[h],y,L,W);throw new TypeError("val must be string, number or Buffer")}function U(k,h,y,L,W){let K=1,q=k.length,Re=h.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(k.length<2||h.length<2)return-1;K=2,q/=2,Re/=2,y/=2}function Ae(st,ve){return K===1?st[ve]:st.readUInt16BE(ve*K)}let Ee;if(W){let st=-1;for(Ee=y;Ee<q;Ee++)if(Ae(k,Ee)===Ae(h,st===-1?0:Ee-st)){if(st===-1&&(st=Ee),Ee-st+1===Re)return st*K}else st!==-1&&(Ee-=Ee-st),st=-1}else for(y+Re>q&&(y=q-Re),Ee=y;Ee>=0;Ee--){let st=!0;for(let ve=0;ve<Re;ve++)if(Ae(k,Ee+ve)!==Ae(h,ve)){st=!1;break}if(st)return Ee}return-1}a.prototype.includes=function(h,y,L){return this.indexOf(h,y,L)!==-1},a.prototype.indexOf=function(h,y,L){return D(this,h,y,L,!0)},a.prototype.lastIndexOf=function(h,y,L){return D(this,h,y,L,!1)};function z(k,h,y,L){y=Number(y)||0;const W=k.length-y;L?(L=Number(L),L>W&&(L=W)):L=W;const K=h.length;L>K/2&&(L=K/2);let q;for(q=0;q<L;++q){const Re=parseInt(h.substr(q*2,2),16);if(dt(Re))return q;k[y+q]=Re}return q}function j(k,h,y,L){return ot(ct(h,k.length-y),k,y,L)}function H(k,h,y,L){return ot(bt(h),k,y,L)}function Z(k,h,y,L){return ot(pt(h),k,y,L)}function G(k,h,y,L){return ot(Mu(h,k.length-y),k,y,L)}a.prototype.write=function(h,y,L,W){if(y===void 0)W="utf8",L=this.length,y=0;else if(L===void 0&&typeof y=="string")W=y,L=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(L)?(L=L>>>0,W===void 0&&(W="utf8")):(W=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-y;if((L===void 0||L>K)&&(L=K),h.length>0&&(L<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let q=!1;for(;;)switch(W){case"hex":return z(this,h,y,L);case"utf8":case"utf-8":return j(this,h,y,L);case"ascii":case"latin1":case"binary":return H(this,h,y,L);case"base64":return Z(this,h,y,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,h,y,L);default:if(q)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(k,h,y){return h===0&&y===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(h,y))}function u(k,h,y){y=Math.min(k.length,y);const L=[];let W=h;for(;W<y;){const K=k[W];let q=null,Re=K>239?4:K>223?3:K>191?2:1;if(W+Re<=y){let Ae,Ee,st,ve;switch(Re){case 1:K<128&&(q=K);break;case 2:Ae=k[W+1],(Ae&192)===128&&(ve=(K&31)<<6|Ae&63,ve>127&&(q=ve));break;case 3:Ae=k[W+1],Ee=k[W+2],(Ae&192)===128&&(Ee&192)===128&&(ve=(K&15)<<12|(Ae&63)<<6|Ee&63,ve>2047&&(ve<55296||ve>57343)&&(q=ve));break;case 4:Ae=k[W+1],Ee=k[W+2],st=k[W+3],(Ae&192)===128&&(Ee&192)===128&&(st&192)===128&&(ve=(K&15)<<18|(Ae&63)<<12|(Ee&63)<<6|st&63,ve>65535&&ve<1114112&&(q=ve))}}q===null?(q=65533,Re=1):q>65535&&(q-=65536,L.push(q>>>10&1023|55296),q=56320|q&1023),L.push(q),W+=Re}return v(L)}const d=4096;function v(k){const h=k.length;if(h<=d)return String.fromCharCode.apply(String,k);let y="",L=0;for(;L<h;)y+=String.fromCharCode.apply(String,k.slice(L,L+=d));return y}function R(k,h,y){let L="";y=Math.min(k.length,y);for(let W=h;W<y;++W)L+=String.fromCharCode(k[W]&127);return L}function I(k,h,y){let L="";y=Math.min(k.length,y);for(let W=h;W<y;++W)L+=String.fromCharCode(k[W]);return L}function O(k,h,y){const L=k.length;(!h||h<0)&&(h=0),(!y||y<0||y>L)&&(y=L);let W="";for(let K=h;K<y;++K)W+=At[k[K]];return W}function P(k,h,y){const L=k.slice(h,y);let W="";for(let K=0;K<L.length-1;K+=2)W+=String.fromCharCode(L[K]+L[K+1]*256);return W}a.prototype.slice=function(h,y){const L=this.length;h=~~h,y=y===void 0?L:~~y,h<0?(h+=L,h<0&&(h=0)):h>L&&(h=L),y<0?(y+=L,y<0&&(y=0)):y>L&&(y=L),y<h&&(y=h);const W=this.subarray(h,y);return Object.setPrototypeOf(W,a.prototype),W};function x(k,h,y){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+h>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=this[h],K=1,q=0;for(;++q<y&&(K*=256);)W+=this[h+q]*K;return W},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=this[h+--y],K=1;for(;y>0&&(K*=256);)W+=this[h+--y]*K;return W},a.prototype.readUint8=a.prototype.readUInt8=function(h,y){return h=h>>>0,y||x(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,y){return h=h>>>0,y||x(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,y){return h=h>>>0,y||x(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,y){return h=h>>>0,y||x(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,y){return h=h>>>0,y||x(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const W=y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,K=this[++h]+this[++h]*2**8+this[++h]*2**16+L*2**24;return BigInt(W)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const W=y*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],K=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+L;return(BigInt(W)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=this[h],K=1,q=0;for(;++q<y&&(K*=256);)W+=this[h+q]*K;return K*=128,W>=K&&(W-=Math.pow(2,8*y)),W},a.prototype.readIntBE=function(h,y,L){h=h>>>0,y=y>>>0,L||x(h,y,this.length);let W=y,K=1,q=this[h+--W];for(;W>0&&(K*=256);)q+=this[h+--W]*K;return K*=128,q>=K&&(q-=Math.pow(2,8*y)),q},a.prototype.readInt8=function(h,y){return h=h>>>0,y||x(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,y){h=h>>>0,y||x(h,2,this.length);const L=this[h]|this[h+1]<<8;return L&32768?L|4294901760:L},a.prototype.readInt16BE=function(h,y){h=h>>>0,y||x(h,2,this.length);const L=this[h+1]|this[h]<<8;return L&32768?L|4294901760:L},a.prototype.readInt32LE=function(h,y){return h=h>>>0,y||x(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,y){return h=h>>>0,y||x(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const W=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(L<<24);return(BigInt(W)<<BigInt(32))+BigInt(y+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=kr(function(h){h=h>>>0,yr(h,"offset");const y=this[h],L=this[h+7];(y===void 0||L===void 0)&&Je(h,this.length-8);const W=(y<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(W)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+L)}),a.prototype.readFloatLE=function(h,y){return h=h>>>0,y||x(h,4,this.length),n.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,y){return h=h>>>0,y||x(h,4,this.length),n.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,y){return h=h>>>0,y||x(h,8,this.length),n.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,y){return h=h>>>0,y||x(h,8,this.length),n.read(this,h,!1,52,8)};function p(k,h,y,L,W,K){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>W||h<K)throw new RangeError('"value" argument is out of bounds');if(y+L>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,y,L,W){if(h=+h,y=y>>>0,L=L>>>0,!W){const Re=Math.pow(2,8*L)-1;p(this,h,y,L,Re,0)}let K=1,q=0;for(this[y]=h&255;++q<L&&(K*=256);)this[y+q]=h/K&255;return y+L},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,y,L,W){if(h=+h,y=y>>>0,L=L>>>0,!W){const Re=Math.pow(2,8*L)-1;p(this,h,y,L,Re,0)}let K=L-1,q=1;for(this[y+K]=h&255;--K>=0&&(q*=256);)this[y+K]=h/q&255;return y+L},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,1,255,0),this[y]=h&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,65535,0),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,65535,0),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,4294967295,0),this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=h&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,4294967295,0),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4};function B(k,h,y,L,W){Xe(h,L,W,k,y,7);let K=Number(h&BigInt(4294967295));k[y++]=K,K=K>>8,k[y++]=K,K=K>>8,k[y++]=K,K=K>>8,k[y++]=K;let q=Number(h>>BigInt(32)&BigInt(4294967295));return k[y++]=q,q=q>>8,k[y++]=q,q=q>>8,k[y++]=q,q=q>>8,k[y++]=q,y}function ie(k,h,y,L,W){Xe(h,L,W,k,y,7);let K=Number(h&BigInt(4294967295));k[y+7]=K,K=K>>8,k[y+6]=K,K=K>>8,k[y+5]=K,K=K>>8,k[y+4]=K;let q=Number(h>>BigInt(32)&BigInt(4294967295));return k[y+3]=q,q=q>>8,k[y+2]=q,q=q>>8,k[y+1]=q,q=q>>8,k[y]=q,y+8}a.prototype.writeBigUInt64LE=kr(function(h,y=0){return B(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=kr(function(h,y=0){return ie(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,y,L,W){if(h=+h,y=y>>>0,!W){const Ae=Math.pow(2,8*L-1);p(this,h,y,L,Ae-1,-Ae)}let K=0,q=1,Re=0;for(this[y]=h&255;++K<L&&(q*=256);)h<0&&Re===0&&this[y+K-1]!==0&&(Re=1),this[y+K]=(h/q>>0)-Re&255;return y+L},a.prototype.writeIntBE=function(h,y,L,W){if(h=+h,y=y>>>0,!W){const Ae=Math.pow(2,8*L-1);p(this,h,y,L,Ae-1,-Ae)}let K=L-1,q=1,Re=0;for(this[y+K]=h&255;--K>=0&&(q*=256);)h<0&&Re===0&&this[y+K+1]!==0&&(Re=1),this[y+K]=(h/q>>0)-Re&255;return y+L},a.prototype.writeInt8=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,1,127,-128),h<0&&(h=255+h+1),this[y]=h&255,y+1},a.prototype.writeInt16LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,32767,-32768),this[y]=h&255,this[y+1]=h>>>8,y+2},a.prototype.writeInt16BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,2,32767,-32768),this[y]=h>>>8,this[y+1]=h&255,y+2},a.prototype.writeInt32LE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,2147483647,-2147483648),this[y]=h&255,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24,y+4},a.prototype.writeInt32BE=function(h,y,L){return h=+h,y=y>>>0,L||p(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=h&255,y+4},a.prototype.writeBigInt64LE=kr(function(h,y=0){return B(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=kr(function(h,y=0){return ie(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(k,h,y,L,W,K){if(y+L>k.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function se(k,h,y,L,W){return h=+h,y=y>>>0,W||te(k,h,y,4),n.write(k,h,y,L,23,4),y+4}a.prototype.writeFloatLE=function(h,y,L){return se(this,h,y,!0,L)},a.prototype.writeFloatBE=function(h,y,L){return se(this,h,y,!1,L)};function be(k,h,y,L,W){return h=+h,y=y>>>0,W||te(k,h,y,8),n.write(k,h,y,L,52,8),y+8}a.prototype.writeDoubleLE=function(h,y,L){return be(this,h,y,!0,L)},a.prototype.writeDoubleBE=function(h,y,L){return be(this,h,y,!1,L)},a.prototype.copy=function(h,y,L,W){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(L||(L=0),!W&&W!==0&&(W=this.length),y>=h.length&&(y=h.length),y||(y=0),W>0&&W<L&&(W=L),W===L||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),h.length-y<W-L&&(W=h.length-y+L);const K=W-L;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,L,W):Uint8Array.prototype.set.call(h,this.subarray(L,W),y),K},a.prototype.fill=function(h,y,L,W){if(typeof h=="string"){if(typeof y=="string"?(W=y,y=0,L=this.length):typeof L=="string"&&(W=L,L=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!a.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(h.length===1){const q=h.charCodeAt(0);(W==="utf8"&&q<128||W==="latin1")&&(h=q)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(y<0||this.length<y||this.length<L)throw new RangeError("Out of range index");if(L<=y)return this;y=y>>>0,L=L===void 0?this.length:L>>>0,h||(h=0);let K;if(typeof h=="number")for(K=y;K<L;++K)this[K]=h;else{const q=a.isBuffer(h)?h:a.from(h,W),Re=q.length;if(Re===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(K=0;K<L-y;++K)this[K+y]=q[K%Re]}return this};const _e={};function we(k,h,y){_e[k]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}we("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(k,h){return`The "${k}" argument must be of type number. Received type ${typeof h}`},TypeError),we("ERR_OUT_OF_RANGE",function(k,h,y){let L=`The value of "${k}" is out of range.`,W=y;return Number.isInteger(y)&&Math.abs(y)>2**32?W=Et(String(y)):typeof y=="bigint"&&(W=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(W=Et(W)),W+="n"),L+=` It must be ${h}. Received ${W}`,L},RangeError);function Et(k){let h="",y=k.length;const L=k[0]==="-"?1:0;for(;y>=L+4;y-=3)h=`_${k.slice(y-3,y)}${h}`;return`${k.slice(0,y)}${h}`}function Ze(k,h,y){yr(h,"offset"),(k[h]===void 0||k[h+y]===void 0)&&Je(h,k.length-(y+1))}function Xe(k,h,y,L,W,K){if(k>y||k<h){const q=typeof h=="bigint"?"n":"";let Re;throw h===0||h===BigInt(0)?Re=`>= 0${q} and < 2${q} ** ${(K+1)*8}${q}`:Re=`>= -(2${q} ** ${(K+1)*8-1}${q}) and < 2 ** ${(K+1)*8-1}${q}`,new _e.ERR_OUT_OF_RANGE("value",Re,k)}Ze(L,W,K)}function yr(k,h){if(typeof k!="number")throw new _e.ERR_INVALID_ARG_TYPE(h,"number",k)}function Je(k,h,y){throw Math.floor(k)!==k?(yr(k,y),new _e.ERR_OUT_OF_RANGE("offset","an integer",k)):h<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,k)}const St=/[^+/0-9A-Za-z-_]/g;function ku(k){if(k=k.split("=")[0],k=k.trim().replace(St,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function ct(k,h){h=h||1/0;let y;const L=k.length;let W=null;const K=[];for(let q=0;q<L;++q){if(y=k.charCodeAt(q),y>55295&&y<57344){if(!W){if(y>56319){(h-=3)>-1&&K.push(239,191,189);continue}else if(q+1===L){(h-=3)>-1&&K.push(239,191,189);continue}W=y;continue}if(y<56320){(h-=3)>-1&&K.push(239,191,189),W=y;continue}y=(W-55296<<10|y-56320)+65536}else W&&(h-=3)>-1&&K.push(239,191,189);if(W=null,y<128){if((h-=1)<0)break;K.push(y)}else if(y<2048){if((h-=2)<0)break;K.push(y>>6|192,y&63|128)}else if(y<65536){if((h-=3)<0)break;K.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((h-=4)<0)break;K.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return K}function bt(k){const h=[];for(let y=0;y<k.length;++y)h.push(k.charCodeAt(y)&255);return h}function Mu(k,h){let y,L,W;const K=[];for(let q=0;q<k.length&&!((h-=2)<0);++q)y=k.charCodeAt(q),L=y>>8,W=y%256,K.push(W),K.push(L);return K}function pt(k){return e.toByteArray(ku(k))}function ot(k,h,y,L){let W;for(W=0;W<L&&!(W+y>=h.length||W>=k.length);++W)h[W+y]=k[W];return W}function Jn(k,h){return k instanceof h||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===h.name}function dt(k){return k!==k}const At=function(){const k="0123456789abcdef",h=new Array(256);for(let y=0;y<16;++y){const L=y*16;for(let W=0;W<16;++W)h[L+W]=k[y]+k[W]}return h}();function kr(k){return typeof BigInt>"u"?It:k}function It(){throw new Error("BigInt not supported")}})(ge);const Rs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function du(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ql(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ci(t,...e){if(!du(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ql(t.outputLen),ql(t.blockLen)}function Sa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gE(t,e){Ci(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function zR(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Eo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Uh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Kr(t,e){return t<<32-e|t>>>e}const jR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function WR(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function FR(t){for(let e=0;e<t.length;e++)t[e]=WR(t[e]);return t}const jw=jR?t=>t:FR,yE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",HR=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function os(t){if(Ci(t),yE)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=HR[t[n]];return e}const di={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ww(t){if(t>=di._0&&t<=di._9)return t-di._0;if(t>=di.A&&t<=di.F)return t-(di.A-10);if(t>=di.a&&t<=di.f)return t-(di.a-10)}function Rd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(yE)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=Ww(t.charCodeAt(o)),a=Ww(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function KR(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ff(t){return typeof t=="string"&&(t=KR(t)),Ci(t),t}function qr(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ci(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class yy{}function my(t){const e=r=>t().update(ff(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function wy(t=32){if(Rs&&typeof Rs.getRandomValues=="function")return Rs.getRandomValues(new Uint8Array(t));if(Rs&&typeof Rs.randomBytes=="function")return Uint8Array.from(Rs.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function $R(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function VR(t,e,n){return t&e^~t&n}function GR(t,e,n){return t&e^t&n^e&n}class mE extends yy{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Uh(this.buffer)}update(e){Sa(this),e=ff(e),Ci(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Uh(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sa(this),gE(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Eo(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let g=s;g<i;g++)n[g]=0;$R(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Uh(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,f[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ui=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Vu=BigInt(2**32-1),Fw=BigInt(32);function YR(t,e=!1){return e?{h:Number(t&Vu),l:Number(t>>Fw&Vu)}:{h:Number(t>>Fw&Vu)|0,l:Number(t&Vu)|0}}function wE(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=YR(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const Hw=(t,e,n)=>t>>>n,Kw=(t,e,n)=>t<<32-n|e>>>n,ks=(t,e,n)=>t>>>n|e<<32-n,Ms=(t,e,n)=>t<<32-n|e>>>n,Gu=(t,e,n)=>t<<64-n|e>>>n-32,Yu=(t,e,n)=>t>>>n-32|e<<64-n,qR=(t,e,n)=>t<<n|e>>>32-n,ZR=(t,e,n)=>e<<n|t>>>32-n,QR=(t,e,n)=>e<<n-32|t>>>64-n,XR=(t,e,n)=>t<<n-32|e>>>64-n;function fi(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const JR=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),ek=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,tk=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),nk=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,rk=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),ik=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,ok=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zi=new Uint32Array(64);class sk extends mE{constructor(e=32){super(64,e,8,!1),this.A=Ui[0]|0,this.B=Ui[1]|0,this.C=Ui[2]|0,this.D=Ui[3]|0,this.E=Ui[4]|0,this.F=Ui[5]|0,this.G=Ui[6]|0,this.H=Ui[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)zi[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const w=zi[g-15],m=zi[g-2],E=Kr(w,7)^Kr(w,18)^w>>>3,M=Kr(m,17)^Kr(m,19)^m>>>10;zi[g]=M+zi[g-7]+E+zi[g-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:f}=this;for(let g=0;g<64;g++){const w=Kr(a,6)^Kr(a,11)^Kr(a,25),m=f+w+VR(a,l,c)+ok[g]+zi[g]|0,M=(Kr(r,2)^Kr(r,13)^Kr(r,22))+GR(r,i,o)|0;f=c,c=l,l=a,a=s+m|0,s=o,o=i,i=r,r=m+M|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(r,i,o,s,a,l,c,f)}roundClean(){Eo(zi)}destroy(){this.set(0,0,0,0,0,0,0,0),Eo(this.buffer)}}const vE=wE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ak=vE[0],lk=vE[1],ji=new Uint32Array(80),Wi=new Uint32Array(80);class uk extends mE{constructor(e=64){super(128,e,16,!1),this.Ah=bn[0]|0,this.Al=bn[1]|0,this.Bh=bn[2]|0,this.Bl=bn[3]|0,this.Ch=bn[4]|0,this.Cl=bn[5]|0,this.Dh=bn[6]|0,this.Dl=bn[7]|0,this.Eh=bn[8]|0,this.El=bn[9]|0,this.Fh=bn[10]|0,this.Fl=bn[11]|0,this.Gh=bn[12]|0,this.Gl=bn[13]|0,this.Hh=bn[14]|0,this.Hl=bn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:f,Fh:g,Fl:w,Gh:m,Gl:E,Hh:M,Hl:N}=this;return[e,n,r,i,o,s,a,l,c,f,g,w,m,E,M,N]}set(e,n,r,i,o,s,a,l,c,f,g,w,m,E,M,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=f|0,this.Fh=g|0,this.Fl=w|0,this.Gh=m|0,this.Gl=E|0,this.Hh=M|0,this.Hl=N|0}process(e,n){for(let _=0;_<16;_++,n+=4)ji[_]=e.getUint32(n),Wi[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const T=ji[_-15]|0,C=Wi[_-15]|0,D=ks(T,C,1)^ks(T,C,8)^Hw(T,C,7),U=Ms(T,C,1)^Ms(T,C,8)^Kw(T,C,7),z=ji[_-2]|0,j=Wi[_-2]|0,H=ks(z,j,19)^Gu(z,j,61)^Hw(z,j,6),Z=Ms(z,j,19)^Yu(z,j,61)^Kw(z,j,6),G=tk(U,Z,Wi[_-7],Wi[_-16]),b=nk(G,D,H,ji[_-7],ji[_-16]);ji[_]=b|0,Wi[_]=G|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:f,Eh:g,El:w,Fh:m,Fl:E,Gh:M,Gl:N,Hh:S,Hl:A}=this;for(let _=0;_<80;_++){const T=ks(g,w,14)^ks(g,w,18)^Gu(g,w,41),C=Ms(g,w,14)^Ms(g,w,18)^Yu(g,w,41),D=g&m^~g&M,U=w&E^~w&N,z=rk(A,C,U,lk[_],Wi[_]),j=ik(z,S,T,D,ak[_],ji[_]),H=z|0,Z=ks(r,i,28)^Gu(r,i,34)^Gu(r,i,39),G=Ms(r,i,28)^Yu(r,i,34)^Yu(r,i,39),b=r&o^r&a^o&a,u=i&s^i&l^s&l;S=M|0,A=N|0,M=m|0,N=E|0,m=g|0,E=w|0,{h:g,l:w}=fi(c|0,f|0,j|0,H|0),c=a|0,f=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const d=JR(H,G,u);r=ek(d,j,Z,b),i=d|0}({h:r,l:i}=fi(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=fi(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=fi(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:f}=fi(this.Dh|0,this.Dl|0,c|0,f|0),{h:g,l:w}=fi(this.Eh|0,this.El|0,g|0,w|0),{h:m,l:E}=fi(this.Fh|0,this.Fl|0,m|0,E|0),{h:M,l:N}=fi(this.Gh|0,this.Gl|0,M|0,N|0),{h:S,l:A}=fi(this.Hh|0,this.Hl|0,S|0,A|0),this.set(r,i,o,s,a,l,c,f,g,w,m,E,M,N,S,A)}roundClean(){Eo(ji,Wi)}destroy(){Eo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const _E=my(()=>new sk),ck=my(()=>new uk);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vy=BigInt(0),p0=BigInt(1);function ds(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Lr(t,e,n=""){const r=du(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function qu(t){const e=t.toString(16);return e.length&1?"0"+e:e}function EE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vy:BigInt("0x"+t)}function hf(t){return EE(os(t))}function Zl(t){return Ci(t),EE(os(Uint8Array.from(t).reverse()))}function _y(t,e){return Rd(t.toString(16).padStart(e*2,"0"))}function SE(t,e){return _y(t,e).reverse()}function kt(t,e,n){let r;if(typeof e=="string")try{r=Rd(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(du(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function $w(t){return Uint8Array.from(t)}const zh=t=>typeof t=="bigint"&&vy<=t;function dk(t,e,n){return zh(t)&&zh(e)&&zh(n)&&e<=t&&t<n}function g0(t,e,n,r){if(!dk(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function bE(t){let e;for(e=0;t>vy;t>>=p0,e+=1);return e}const fu=t=>(p0<<BigInt(t))-p0;function fk(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...m)=>n(s,o,...m),f=(m=r(0))=>{s=c(i(0),m),o=c(),m.length!==0&&(s=c(i(1),m),o=c())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const E=[];for(;m<e;){o=c();const M=o.slice();E.push(M),m+=o.length}return qr(...E)};return(m,E)=>{l(),f(m);let M;for(;!(M=E(g()));)f();return l(),M}}function hu(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function kd(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gn=BigInt(0),vn=BigInt(1),Vo=BigInt(2),AE=BigInt(3),IE=BigInt(4),RE=BigInt(5),hk=BigInt(7),kE=BigInt(8),pk=BigInt(9),ME=BigInt(16);function Zt(t,e){const n=t%e;return n>=Gn?n:e+n}function Rt(t,e,n){let r=t;for(;e-- >Gn;)r*=r,r%=n;return r}function Vw(t,e){if(t===Gn)throw new Error("invert: expected non-zero number");if(e<=Gn)throw new Error("invert: expected positive modulus, got "+e);let n=Zt(t,e),r=e,i=Gn,o=vn;for(;n!==Gn;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==vn)throw new Error("invert: does not exist");return Zt(i,e)}function Ey(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function TE(t,e){const n=(t.ORDER+vn)/IE,r=t.pow(e,n);return Ey(t,r,e),r}function gk(t,e){const n=(t.ORDER-RE)/kE,r=t.mul(e,Vo),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,Vo),i),a=t.mul(o,t.sub(s,t.ONE));return Ey(t,a,e),a}function yk(t){const e=ws(t),n=NE(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+hk)/ME;return(a,l)=>{let c=a.pow(l,s),f=a.mul(c,r);const g=a.mul(c,i),w=a.mul(c,o),m=a.eql(a.sqr(f),l),E=a.eql(a.sqr(g),l);c=a.cmov(c,f,m),f=a.cmov(w,g,E);const M=a.eql(a.sqr(f),l),N=a.cmov(c,f,M);return Ey(a,N,l),N}}function NE(t){if(t<AE)throw new Error("sqrt is not defined for small field");let e=t-vn,n=0;for(;e%Vo===Gn;)e/=Vo,n++;let r=Vo;const i=ws(t);for(;Gw(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return TE;let o=i.pow(r,e);const s=(e+vn)/Vo;return function(l,c){if(l.is0(c))return c;if(Gw(l,c)!==1)throw new Error("Cannot find square root");let f=n,g=l.mul(l.ONE,o),w=l.pow(c,e),m=l.pow(c,s);for(;!l.eql(w,l.ONE);){if(l.is0(w))return l.ZERO;let E=1,M=l.sqr(w);for(;!l.eql(M,l.ONE);)if(E++,M=l.sqr(M),E===f)throw new Error("Cannot find square root");const N=vn<<BigInt(f-E-1),S=l.pow(g,N);f=E,g=l.sqr(S),w=l.mul(w,g),m=l.mul(m,S)}return m}}function mk(t){return t%IE===AE?TE:t%kE===RE?gk:t%ME===pk?yk(t):NE(t)}const wk=(t,e)=>(Zt(t,e)&vn)===vn,vk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _k(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=vk.reduce((r,i)=>(r[i]="function",r),e);return hu(t,n),t}function Ek(t,e,n){if(n<Gn)throw new Error("invalid exponent, negatives unsupported");if(n===Gn)return t.ONE;if(n===vn)return e;let r=t.ONE,i=e;for(;n>Gn;)n&vn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=vn;return r}function xE(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function Gw(t,e){const n=(t.ORDER-vn)/Vo,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function OE(t,e){e!==void 0&&ql(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ws(t,e,n=!1,r={}){if(t<=Gn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const w=e;w.BITS&&(i=w.BITS),w.sqrt&&(o=w.sqrt),typeof w.isLE=="boolean"&&(n=w.isLE),typeof w.modFromBytes=="boolean"&&(s=w.modFromBytes),a=w.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=OE(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:fu(l),ZERO:Gn,ONE:vn,allowedLengths:a,create:w=>Zt(w,t),isValid:w=>{if(typeof w!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof w);return Gn<=w&&w<t},is0:w=>w===Gn,isValidNot0:w=>!g.is0(w)&&g.isValid(w),isOdd:w=>(w&vn)===vn,neg:w=>Zt(-w,t),eql:(w,m)=>w===m,sqr:w=>Zt(w*w,t),add:(w,m)=>Zt(w+m,t),sub:(w,m)=>Zt(w-m,t),mul:(w,m)=>Zt(w*m,t),pow:(w,m)=>Ek(g,w,m),div:(w,m)=>Zt(w*Vw(m,t),t),sqrN:w=>w*w,addN:(w,m)=>w+m,subN:(w,m)=>w-m,mulN:(w,m)=>w*m,inv:w=>Vw(w,t),sqrt:o||(w=>(f||(f=mk(t)),f(g,w))),toBytes:w=>n?SE(w,c):_y(w,c),fromBytes:(w,m=!0)=>{if(a){if(!a.includes(w.length)||w.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+w.length);const M=new Uint8Array(c);M.set(w,n?0:M.length-w.length),w=M}if(w.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+w.length);let E=n?Zl(w):hf(w);if(s&&(E=Zt(E,t)),!m&&!g.isValid(E))throw new Error("invalid field element: outside of range 0..ORDER");return E},invertBatch:w=>xE(g,w),cmov:(w,m,E)=>E?m:w});return Object.freeze(g)}function CE(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function LE(t){const e=CE(t);return e+Math.ceil(e/2)}function Sk(t,e,n=!1){const r=t.length,i=CE(e),o=LE(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Zl(t):hf(t),a=Zt(s,e-vn)+vn;return n?SE(a,i):_y(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ba=BigInt(0),Go=BigInt(1);function Md(t,e){const n=e.negate();return t?n:e}function Yo(t,e){const n=xE(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function BE(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function jh(t,e){BE(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=fu(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function Yw(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=Go);const c=e*r,f=c+Math.abs(a)-1,g=a===0,w=a<0,m=e%2!==0;return{nextN:l,offset:f,isZero:g,isNeg:w,isNegF:m,offsetF:c}}function bk(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Ak(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Wh=new WeakMap,PE=new WeakMap;function Fh(t){return PE.get(t)||1}function qw(t){if(t!==ba)throw new Error("invalid wNAF")}class DE{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>ba;)n&Go&&(r=r.add(i)),i=i.double(),n>>=Go;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=jh(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=jh(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:f,isNeg:g,isNegF:w,offsetF:m}=Yw(r,a,s);r=l,f?o=o.add(Md(w,n[m])):i=i.add(Md(g,n[c]))}return qw(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=jh(e,this.bits);for(let s=0;s<o.windows&&r!==ba;s++){const{nextN:a,offset:l,isZero:c,isNeg:f}=Yw(r,s,o);if(r=a,!c){const g=n[l];i=i.add(f?g.negate():g)}}return qw(r),i}getPrecomputes(e,n,r){let i=Wh.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Wh.set(n,i))),i}cached(e,n,r){const i=Fh(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=Fh(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){BE(n,this.bits),PE.set(e,n),Wh.delete(e)}hasCache(e){return Fh(e)!==1}}function Ik(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>ba||r>ba;)n&Go&&(o=o.add(i)),r&Go&&(s=s.add(i)),i=i.double(),n>>=Go,r>>=Go;return{p1:o,p2:s}}function UE(t,e,n,r){bk(n,t),Ak(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=bE(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=fu(l),f=new Array(Number(c)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let w=s;for(let m=g;m>=0;m-=l){f.fill(s);for(let M=0;M<o;M++){const N=r[M],S=Number(N>>BigInt(m)&c);f[S]=f[S].add(n[M])}let E=s;for(let M=f.length-1,N=s;M>0;M--)N=N.add(f[M]),E=E.add(N);if(w=w.add(E),m!==0)for(let M=0;M<l;M++)w=w.double()}return w}function Zw(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return _k(e),e}else return ws(t,{isLE:n})}function zE(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>ba))throw new Error(`CURVE.${l} must be positive bigint`)}const i=Zw(e.p,n.Fp,r),o=Zw(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fi=BigInt(0),ln=BigInt(1),Hh=BigInt(2),Rk=BigInt(8);function kk(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function Mk(t,e={}){const n=zE("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;hu(e,{},{uvRatio:"function"});const a=Hh<<BigInt(i.BYTES*8)-ln,l=N=>r.create(N),c=e.uvRatio||((N,S)=>{try{return{isValid:!0,value:r.sqrt(r.div(N,S))}}catch{return{isValid:!1,value:Fi}}});if(!kk(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function f(N,S,A=!1){const _=A?ln:Fi;return g0("coordinate "+N,S,_,a),S}function g(N){if(!(N instanceof E))throw new Error("ExtendedPoint expected")}const w=kd((N,S)=>{const{X:A,Y:_,Z:T}=N,C=N.is0();S==null&&(S=C?Rk:r.inv(T));const D=l(A*S),U=l(_*S),z=r.mul(T,S);if(C)return{x:Fi,y:ln};if(z!==ln)throw new Error("invZ was invalid");return{x:D,y:U}}),m=kd(N=>{const{a:S,d:A}=o;if(N.is0())throw new Error("bad point: ZERO");const{X:_,Y:T,Z:C,T:D}=N,U=l(_*_),z=l(T*T),j=l(C*C),H=l(j*j),Z=l(U*S),G=l(j*l(Z+z)),b=l(H+l(A*l(U*z)));if(G!==b)throw new Error("bad point: equation left != right (1)");const u=l(_*T),d=l(C*D);if(u!==d)throw new Error("bad point: equation left != right (2)");return!0});class E{constructor(S,A,_,T){this.X=f("x",S),this.Y=f("y",A),this.Z=f("z",_,!0),this.T=f("t",T),Object.freeze(this)}static CURVE(){return o}static fromAffine(S){if(S instanceof E)throw new Error("extended point not allowed");const{x:A,y:_}=S||{};return f("x",A),f("y",_),new E(A,_,ln,l(A*_))}static fromBytes(S,A=!1){const _=r.BYTES,{a:T,d:C}=o;S=$w(Lr(S,_,"point")),ds(A,"zip215");const D=$w(S),U=S[_-1];D[_-1]=U&-129;const z=Zl(D),j=A?a:r.ORDER;g0("point.y",z,Fi,j);const H=l(z*z),Z=l(H-ln),G=l(C*H-T);let{isValid:b,value:u}=c(Z,G);if(!b)throw new Error("bad point: invalid y coordinate");const d=(u&ln)===ln,v=(U&128)!==0;if(!A&&u===Fi&&v)throw new Error("bad point: x=0 and x_0=1");return v!==d&&(u=l(-u)),E.fromAffine({x:u,y:z})}static fromHex(S,A=!1){return E.fromBytes(kt("point",S),A)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,A=!0){return M.createCache(this,S),A||this.multiply(Hh),this}assertValidity(){m(this)}equals(S){g(S);const{X:A,Y:_,Z:T}=this,{X:C,Y:D,Z:U}=S,z=l(A*U),j=l(C*T),H=l(_*U),Z=l(D*T);return z===j&&H===Z}is0(){return this.equals(E.ZERO)}negate(){return new E(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:S}=o,{X:A,Y:_,Z:T}=this,C=l(A*A),D=l(_*_),U=l(Hh*l(T*T)),z=l(S*C),j=A+_,H=l(l(j*j)-C-D),Z=z+D,G=Z-U,b=z-D,u=l(H*G),d=l(Z*b),v=l(H*b),R=l(G*Z);return new E(u,d,R,v)}add(S){g(S);const{a:A,d:_}=o,{X:T,Y:C,Z:D,T:U}=this,{X:z,Y:j,Z:H,T:Z}=S,G=l(T*z),b=l(C*j),u=l(U*_*Z),d=l(D*H),v=l((T+C)*(z+j)-G-b),R=d-u,I=d+u,O=l(b-A*G),P=l(v*R),x=l(I*O),p=l(v*O),B=l(R*I);return new E(P,x,B,p)}subtract(S){return this.add(S.negate())}multiply(S){if(!i.isValidNot0(S))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:A,f:_}=M.cached(this,S,T=>Yo(E,T));return Yo(E,[A,_])[0]}multiplyUnsafe(S,A=E.ZERO){if(!i.isValid(S))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return S===Fi?E.ZERO:this.is0()||S===ln?this:M.unsafe(this,S,_=>Yo(E,_),A)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return M.unsafe(this,o.n).is0()}toAffine(S){return w(this,S)}clearCofactor(){return s===ln?this:this.multiplyUnsafe(s)}toBytes(){const{x:S,y:A}=this.toAffine(),_=r.toBytes(A);return _[_.length-1]|=S&ln?128:0,_}toHex(){return os(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(S){return Yo(E,S)}static msm(S,A){return UE(E,i,S,A)}_setWindowSize(S){this.precompute(S)}toRawBytes(){return this.toBytes()}}E.BASE=new E(o.Gx,o.Gy,ln,l(o.Gx*o.Gy)),E.ZERO=new E(Fi,ln,ln,Fi),E.Fp=r,E.Fn=i;const M=new DE(E,i.BITS);return E.BASE.precompute(8),E}function Tk(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');hu(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||wy,l=n.adjustScalarBytes||(j=>j),c=n.domain||((j,H,Z)=>{if(ds(Z,"phflag"),H.length||Z)throw new Error("Contexts/pre-hash are not supported");return j});function f(j){return s.create(Zl(j))}function g(j){const H=_.secretKey;j=kt("private key",j,H);const Z=kt("hashed private key",e(j),2*H),G=l(Z.slice(0,H)),b=Z.slice(H,2*H),u=f(G);return{head:G,prefix:b,scalar:u}}function w(j){const{head:H,prefix:Z,scalar:G}=g(j),b=i.multiply(G),u=b.toBytes();return{head:H,prefix:Z,scalar:G,point:b,pointBytes:u}}function m(j){return w(j).pointBytes}function E(j=Uint8Array.of(),...H){const Z=qr(...H);return f(e(c(Z,kt("context",j),!!r)))}function M(j,H,Z={}){j=kt("message",j),r&&(j=r(j));const{prefix:G,scalar:b,pointBytes:u}=w(H),d=E(Z.context,G,j),v=i.multiply(d).toBytes(),R=E(Z.context,v,u,j),I=s.create(d+R*b);if(!s.isValid(I))throw new Error("sign failed: invalid s");const O=qr(v,s.toBytes(I));return Lr(O,_.signature,"result")}const N={zip215:!0};function S(j,H,Z,G=N){const{context:b,zip215:u}=G,d=_.signature;j=kt("signature",j,d),H=kt("message",H),Z=kt("publicKey",Z,_.publicKey),u!==void 0&&ds(u,"zip215"),r&&(H=r(H));const v=d/2,R=j.subarray(0,v),I=Zl(j.subarray(v,d));let O,P,x;try{O=t.fromBytes(Z,u),P=t.fromBytes(R,u),x=i.multiplyUnsafe(I)}catch{return!1}if(!u&&O.isSmallOrder())return!1;const p=E(b,P.toBytes(),O.toBytes(),H);return P.add(O.multiplyUnsafe(p)).subtract(x).clearCofactor().is0()}const A=o.BYTES,_={secretKey:A,publicKey:A,signature:2*A,seed:A};function T(j=a(_.seed)){return Lr(j,_.seed,"seed")}function C(j){const H=z.randomSecretKey(j);return{secretKey:H,publicKey:m(H)}}function D(j){return du(j)&&j.length===s.BYTES}function U(j,H){try{return!!t.fromBytes(j,H)}catch{return!1}}const z={getExtendedPublicKey:w,randomSecretKey:T,isValidSecretKey:D,isValidPublicKey:U,toMontgomery(j){const{y:H}=t.fromBytes(j),Z=_.publicKey,G=Z===32;if(!G&&Z!==57)throw new Error("only defined for 25519 and 448");const b=G?o.div(ln+H,ln-H):o.div(H-ln,H+ln);return o.toBytes(b)},toMontgomerySecret(j){const H=_.secretKey;Lr(j,H);const Z=e(j.subarray(0,H));return l(Z).subarray(0,H)},randomPrivateKey:T,precompute(j=8,H=t.BASE){return H.precompute(j,!1)}};return Object.freeze({keygen:C,getPublicKey:m,sign:M,verify:S,utils:z,Point:t,lengths:_})}function Nk(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=ws(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function xk(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function Ok(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=Nk(t),o=Mk(e,n),s=Tk(o,r,i);return xk(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ck=BigInt(1),Qw=BigInt(2);BigInt(3);const Lk=BigInt(5),Bk=BigInt(8),Sy=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),jE={p:Sy,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Bk,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Pk(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Sy,a=t*t%o*t%o,l=Rt(a,Qw,o)*a%o,c=Rt(l,Ck,o)*t%o,f=Rt(c,Lk,o)*c%o,g=Rt(f,e,o)*f%o,w=Rt(g,n,o)*g%o,m=Rt(w,r,o)*w%o,E=Rt(m,i,o)*m%o,M=Rt(E,i,o)*m%o,N=Rt(M,e,o)*f%o;return{pow_p_5_8:Rt(N,Qw,o)*t%o,b2:a}}function Dk(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Xw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Uk(t,e){const n=Sy,r=Zt(e*e*e,n),i=Zt(r*r*e,n),o=Pk(t*i).pow_p_5_8;let s=Zt(t*r*o,n);const a=Zt(e*s*s,n),l=s,c=Zt(s*Xw,n),f=a===t,g=a===Zt(-t,n),w=a===Zt(-t*Xw,n);return f&&(s=l),(g||w)&&(s=c),wk(s,n)&&(s=Zt(-s,n)),{isValid:f||g,value:s}}const zk=ws(jE.p,{isLE:!0}),jk={...jE,Fp:zk,hash:ck,adjustScalarBytes:Dk,uvRatio:Uk},Pa=Ok(jk);var by={exports:{}};const Wk={},Fk=Object.freeze(Object.defineProperty({__proto__:null,default:Wk},Symbol.toStringTag,{value:"Module"})),Hk=Oa(Fk);by.exports;(function(t){(function(e,n){function r(b,u){if(!b)throw new Error(u||"Assertion failed")}function i(b,u){b.super_=u;var d=function(){};d.prototype=u.prototype,b.prototype=new d,b.prototype.constructor=b}function o(b,u,d){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(b||0,u||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Hk.Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,d){return u.cmp(d)>0?u:d},o.min=function(u,d){return u.cmp(d)<0?u:d},o.prototype._init=function(u,d,v){if(typeof u=="number")return this._initNumber(u,d,v);if(typeof u=="object")return this._initArray(u,d,v);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var R=0;u[0]==="-"&&(R++,this.negative=1),R<u.length&&(d===16?this._parseHex(u,R,v):(this._parseBase(u,d,R),v==="le"&&this._initArray(this.toArray(),d,v)))},o.prototype._initNumber=function(u,d,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},o.prototype._initArray=function(u,d,v){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var I,O,P=0;if(v==="be")for(R=u.length-1,I=0;R>=0;R-=3)O=u[R]|u[R-1]<<8|u[R-2]<<16,this.words[I]|=O<<P&67108863,this.words[I+1]=O>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);else if(v==="le")for(R=0,I=0;R<u.length;R+=3)O=u[R]|u[R+1]<<8|u[R+2]<<16,this.words[I]|=O<<P&67108863,this.words[I+1]=O>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);return this._strip()};function a(b,u){var d=b.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+b)}function l(b,u,d){var v=a(b,d);return d-1>=u&&(v|=a(b,d-1)<<4),v}o.prototype._parseHex=function(u,d,v){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var I=0,O=0,P;if(v==="be")for(R=u.length-1;R>=d;R-=2)P=l(u,d,R)<<I,this.words[O]|=P&67108863,I>=18?(I-=18,O+=1,this.words[O]|=P>>>26):I+=8;else{var x=u.length-d;for(R=x%2===0?d+1:d;R<u.length;R+=2)P=l(u,d,R)<<I,this.words[O]|=P&67108863,I>=18?(I-=18,O+=1,this.words[O]|=P>>>26):I+=8}this._strip()};function c(b,u,d,v){for(var R=0,I=0,O=Math.min(b.length,d),P=u;P<O;P++){var x=b.charCodeAt(P)-48;R*=v,x>=49?I=x-49+10:x>=17?I=x-17+10:I=x,r(x>=0&&I<v,"Invalid character"),R+=I}return R}o.prototype._parseBase=function(u,d,v){this.words=[0],this.length=1;for(var R=0,I=1;I<=67108863;I*=d)R++;R--,I=I/d|0;for(var O=u.length-v,P=O%R,x=Math.min(O,O-P)+v,p=0,B=v;B<x;B+=R)p=c(u,B,B+R,d),this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(P!==0){var ie=1;for(p=c(u,B,u.length,d),B=0;B<P;B++)ie*=d;this.imuln(ie),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(b,u){b.words=u.words,b.length=u.length,b.negative=u.negative,b.red=u.red}if(o.prototype._move=function(u){f(u,this)},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,d){u=u||10,d=d|0||1;var v;if(u===16||u==="hex"){v="";for(var R=0,I=0,O=0;O<this.length;O++){var P=this.words[O],x=((P<<R|I)&16777215).toString(16);I=P>>>24-R&16777215,R+=2,R>=26&&(R-=26,O--),I!==0||O!==this.length-1?v=w[6-x.length]+x+v:v=x+v}for(I!==0&&(v=I.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var p=m[u],B=E[u];v="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var te=ie.modrn(B).toString(u);ie=ie.idivn(B),ie.isZero()?v=te+v:v=w[p-te.length]+te+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),o.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var M=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};o.prototype.toArrayLike=function(u,d,v){this._strip();var R=this.byteLength(),I=v||Math.max(1,R);r(R<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var O=M(u,I),P=d==="le"?"LE":"BE";return this["_toArrayLike"+P](O,R),O},o.prototype._toArrayLikeLE=function(u,d){for(var v=0,R=0,I=0,O=0;I<this.length;I++){var P=this.words[I]<<O|R;u[v++]=P&255,v<u.length&&(u[v++]=P>>8&255),v<u.length&&(u[v++]=P>>16&255),O===6?(v<u.length&&(u[v++]=P>>24&255),R=0,O=0):(R=P>>>24,O+=2)}if(v<u.length)for(u[v++]=R;v<u.length;)u[v++]=0},o.prototype._toArrayLikeBE=function(u,d){for(var v=u.length-1,R=0,I=0,O=0;I<this.length;I++){var P=this.words[I]<<O|R;u[v--]=P&255,v>=0&&(u[v--]=P>>8&255),v>=0&&(u[v--]=P>>16&255),O===6?(v>=0&&(u[v--]=P>>24&255),R=0,O=0):(R=P>>>24,O+=2)}if(v>=0)for(u[v--]=R;v>=0;)u[v--]=0},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var d=u,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},o.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,v=0;return d&8191||(v+=13,d>>>=13),d&127||(v+=7,d>>>=7),d&15||(v+=4,d>>>=4),d&3||(v+=2,d>>>=2),d&1||v++,v},o.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function N(b){for(var u=new Array(b.bitLength()),d=0;d<u.length;d++){var v=d/26|0,R=d%26;u[d]=b.words[v]>>>R&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(u+=v,v!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},o.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=d.length,this._strip()},o.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var d,v;this.length>u.length?(d=this,v=u):(d=u,v=this);for(var R=0;R<v.length;R++)this.words[R]=d.words[R]^v.words[R];if(this!==d)for(;R<d.length;R++)this.words[R]=d.words[R];return this.length=d.length,this._strip()},o.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,v=u%26;this._expand(d),v>0&&d--;for(var R=0;R<d;R++)this.words[R]=~this.words[R]&67108863;return v>0&&(this.words[R]=~this.words[R]&67108863>>26-v),this._strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,d){r(typeof u=="number"&&u>=0);var v=u/26|0,R=u%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<R:this.words[v]=this.words[v]&~(1<<R),this._strip()},o.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var v,R;this.length>u.length?(v=this,R=u):(v=u,R=this);for(var I=0,O=0;O<R.length;O++)d=(v.words[O]|0)+(R.words[O]|0)+I,this.words[O]=d&67108863,I=d>>>26;for(;I!==0&&O<v.length;O++)d=(v.words[O]|0)+I,this.words[O]=d&67108863,I=d>>>26;if(this.length=v.length,I!==0)this.words[this.length]=I,this.length++;else if(v!==this)for(;O<v.length;O++)this.words[O]=v.words[O];return this},o.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,I;v>0?(R=this,I=u):(R=u,I=this);for(var O=0,P=0;P<I.length;P++)d=(R.words[P]|0)-(I.words[P]|0)+O,O=d>>26,this.words[P]=d&67108863;for(;O!==0&&P<R.length;P++)d=(R.words[P]|0)+O,O=d>>26,this.words[P]=d&67108863;if(O===0&&P<R.length&&R!==this)for(;P<R.length;P++)this.words[P]=R.words[P];return this.length=Math.max(this.length,P),R!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function S(b,u,d){d.negative=u.negative^b.negative;var v=b.length+u.length|0;d.length=v,v=v-1|0;var R=b.words[0]|0,I=u.words[0]|0,O=R*I,P=O&67108863,x=O/67108864|0;d.words[0]=P;for(var p=1;p<v;p++){for(var B=x>>>26,ie=x&67108863,te=Math.min(p,u.length-1),se=Math.max(0,p-b.length+1);se<=te;se++){var be=p-se|0;R=b.words[be]|0,I=u.words[se]|0,O=R*I+ie,B+=O/67108864|0,ie=O&67108863}d.words[p]=ie|0,x=B|0}return x!==0?d.words[p]=x|0:d.length--,d._strip()}var A=function(u,d,v){var R=u.words,I=d.words,O=v.words,P=0,x,p,B,ie=R[0]|0,te=ie&8191,se=ie>>>13,be=R[1]|0,_e=be&8191,we=be>>>13,Et=R[2]|0,Ze=Et&8191,Xe=Et>>>13,yr=R[3]|0,Je=yr&8191,St=yr>>>13,ku=R[4]|0,ct=ku&8191,bt=ku>>>13,Mu=R[5]|0,pt=Mu&8191,ot=Mu>>>13,Jn=R[6]|0,dt=Jn&8191,At=Jn>>>13,kr=R[7]|0,It=kr&8191,k=kr>>>13,h=R[8]|0,y=h&8191,L=h>>>13,W=R[9]|0,K=W&8191,q=W>>>13,Re=I[0]|0,Ae=Re&8191,Ee=Re>>>13,st=I[1]|0,ve=st&8191,Ot=st>>>13,Sm=I[2]|0,Ct=Sm&8191,Lt=Sm>>>13,bm=I[3]|0,Bt=bm&8191,Pt=bm>>>13,Am=I[4]|0,Dt=Am&8191,Ut=Am>>>13,Im=I[5]|0,zt=Im&8191,jt=Im>>>13,Rm=I[6]|0,Wt=Rm&8191,Ft=Rm>>>13,km=I[7]|0,Ht=km&8191,Kt=km>>>13,Mm=I[8]|0,$t=Mm&8191,Vt=Mm>>>13,Tm=I[9]|0,Gt=Tm&8191,Yt=Tm>>>13;v.negative=u.negative^d.negative,v.length=19,x=Math.imul(te,Ae),p=Math.imul(te,Ee),p=p+Math.imul(se,Ae)|0,B=Math.imul(se,Ee);var Vf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Vf>>>26)|0,Vf&=67108863,x=Math.imul(_e,Ae),p=Math.imul(_e,Ee),p=p+Math.imul(we,Ae)|0,B=Math.imul(we,Ee),x=x+Math.imul(te,ve)|0,p=p+Math.imul(te,Ot)|0,p=p+Math.imul(se,ve)|0,B=B+Math.imul(se,Ot)|0;var Gf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Gf>>>26)|0,Gf&=67108863,x=Math.imul(Ze,Ae),p=Math.imul(Ze,Ee),p=p+Math.imul(Xe,Ae)|0,B=Math.imul(Xe,Ee),x=x+Math.imul(_e,ve)|0,p=p+Math.imul(_e,Ot)|0,p=p+Math.imul(we,ve)|0,B=B+Math.imul(we,Ot)|0,x=x+Math.imul(te,Ct)|0,p=p+Math.imul(te,Lt)|0,p=p+Math.imul(se,Ct)|0,B=B+Math.imul(se,Lt)|0;var Yf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Yf>>>26)|0,Yf&=67108863,x=Math.imul(Je,Ae),p=Math.imul(Je,Ee),p=p+Math.imul(St,Ae)|0,B=Math.imul(St,Ee),x=x+Math.imul(Ze,ve)|0,p=p+Math.imul(Ze,Ot)|0,p=p+Math.imul(Xe,ve)|0,B=B+Math.imul(Xe,Ot)|0,x=x+Math.imul(_e,Ct)|0,p=p+Math.imul(_e,Lt)|0,p=p+Math.imul(we,Ct)|0,B=B+Math.imul(we,Lt)|0,x=x+Math.imul(te,Bt)|0,p=p+Math.imul(te,Pt)|0,p=p+Math.imul(se,Bt)|0,B=B+Math.imul(se,Pt)|0;var qf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(qf>>>26)|0,qf&=67108863,x=Math.imul(ct,Ae),p=Math.imul(ct,Ee),p=p+Math.imul(bt,Ae)|0,B=Math.imul(bt,Ee),x=x+Math.imul(Je,ve)|0,p=p+Math.imul(Je,Ot)|0,p=p+Math.imul(St,ve)|0,B=B+Math.imul(St,Ot)|0,x=x+Math.imul(Ze,Ct)|0,p=p+Math.imul(Ze,Lt)|0,p=p+Math.imul(Xe,Ct)|0,B=B+Math.imul(Xe,Lt)|0,x=x+Math.imul(_e,Bt)|0,p=p+Math.imul(_e,Pt)|0,p=p+Math.imul(we,Bt)|0,B=B+Math.imul(we,Pt)|0,x=x+Math.imul(te,Dt)|0,p=p+Math.imul(te,Ut)|0,p=p+Math.imul(se,Dt)|0,B=B+Math.imul(se,Ut)|0;var Zf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Zf>>>26)|0,Zf&=67108863,x=Math.imul(pt,Ae),p=Math.imul(pt,Ee),p=p+Math.imul(ot,Ae)|0,B=Math.imul(ot,Ee),x=x+Math.imul(ct,ve)|0,p=p+Math.imul(ct,Ot)|0,p=p+Math.imul(bt,ve)|0,B=B+Math.imul(bt,Ot)|0,x=x+Math.imul(Je,Ct)|0,p=p+Math.imul(Je,Lt)|0,p=p+Math.imul(St,Ct)|0,B=B+Math.imul(St,Lt)|0,x=x+Math.imul(Ze,Bt)|0,p=p+Math.imul(Ze,Pt)|0,p=p+Math.imul(Xe,Bt)|0,B=B+Math.imul(Xe,Pt)|0,x=x+Math.imul(_e,Dt)|0,p=p+Math.imul(_e,Ut)|0,p=p+Math.imul(we,Dt)|0,B=B+Math.imul(we,Ut)|0,x=x+Math.imul(te,zt)|0,p=p+Math.imul(te,jt)|0,p=p+Math.imul(se,zt)|0,B=B+Math.imul(se,jt)|0;var Qf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Qf>>>26)|0,Qf&=67108863,x=Math.imul(dt,Ae),p=Math.imul(dt,Ee),p=p+Math.imul(At,Ae)|0,B=Math.imul(At,Ee),x=x+Math.imul(pt,ve)|0,p=p+Math.imul(pt,Ot)|0,p=p+Math.imul(ot,ve)|0,B=B+Math.imul(ot,Ot)|0,x=x+Math.imul(ct,Ct)|0,p=p+Math.imul(ct,Lt)|0,p=p+Math.imul(bt,Ct)|0,B=B+Math.imul(bt,Lt)|0,x=x+Math.imul(Je,Bt)|0,p=p+Math.imul(Je,Pt)|0,p=p+Math.imul(St,Bt)|0,B=B+Math.imul(St,Pt)|0,x=x+Math.imul(Ze,Dt)|0,p=p+Math.imul(Ze,Ut)|0,p=p+Math.imul(Xe,Dt)|0,B=B+Math.imul(Xe,Ut)|0,x=x+Math.imul(_e,zt)|0,p=p+Math.imul(_e,jt)|0,p=p+Math.imul(we,zt)|0,B=B+Math.imul(we,jt)|0,x=x+Math.imul(te,Wt)|0,p=p+Math.imul(te,Ft)|0,p=p+Math.imul(se,Wt)|0,B=B+Math.imul(se,Ft)|0;var Xf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Xf>>>26)|0,Xf&=67108863,x=Math.imul(It,Ae),p=Math.imul(It,Ee),p=p+Math.imul(k,Ae)|0,B=Math.imul(k,Ee),x=x+Math.imul(dt,ve)|0,p=p+Math.imul(dt,Ot)|0,p=p+Math.imul(At,ve)|0,B=B+Math.imul(At,Ot)|0,x=x+Math.imul(pt,Ct)|0,p=p+Math.imul(pt,Lt)|0,p=p+Math.imul(ot,Ct)|0,B=B+Math.imul(ot,Lt)|0,x=x+Math.imul(ct,Bt)|0,p=p+Math.imul(ct,Pt)|0,p=p+Math.imul(bt,Bt)|0,B=B+Math.imul(bt,Pt)|0,x=x+Math.imul(Je,Dt)|0,p=p+Math.imul(Je,Ut)|0,p=p+Math.imul(St,Dt)|0,B=B+Math.imul(St,Ut)|0,x=x+Math.imul(Ze,zt)|0,p=p+Math.imul(Ze,jt)|0,p=p+Math.imul(Xe,zt)|0,B=B+Math.imul(Xe,jt)|0,x=x+Math.imul(_e,Wt)|0,p=p+Math.imul(_e,Ft)|0,p=p+Math.imul(we,Wt)|0,B=B+Math.imul(we,Ft)|0,x=x+Math.imul(te,Ht)|0,p=p+Math.imul(te,Kt)|0,p=p+Math.imul(se,Ht)|0,B=B+Math.imul(se,Kt)|0;var Jf=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(Jf>>>26)|0,Jf&=67108863,x=Math.imul(y,Ae),p=Math.imul(y,Ee),p=p+Math.imul(L,Ae)|0,B=Math.imul(L,Ee),x=x+Math.imul(It,ve)|0,p=p+Math.imul(It,Ot)|0,p=p+Math.imul(k,ve)|0,B=B+Math.imul(k,Ot)|0,x=x+Math.imul(dt,Ct)|0,p=p+Math.imul(dt,Lt)|0,p=p+Math.imul(At,Ct)|0,B=B+Math.imul(At,Lt)|0,x=x+Math.imul(pt,Bt)|0,p=p+Math.imul(pt,Pt)|0,p=p+Math.imul(ot,Bt)|0,B=B+Math.imul(ot,Pt)|0,x=x+Math.imul(ct,Dt)|0,p=p+Math.imul(ct,Ut)|0,p=p+Math.imul(bt,Dt)|0,B=B+Math.imul(bt,Ut)|0,x=x+Math.imul(Je,zt)|0,p=p+Math.imul(Je,jt)|0,p=p+Math.imul(St,zt)|0,B=B+Math.imul(St,jt)|0,x=x+Math.imul(Ze,Wt)|0,p=p+Math.imul(Ze,Ft)|0,p=p+Math.imul(Xe,Wt)|0,B=B+Math.imul(Xe,Ft)|0,x=x+Math.imul(_e,Ht)|0,p=p+Math.imul(_e,Kt)|0,p=p+Math.imul(we,Ht)|0,B=B+Math.imul(we,Kt)|0,x=x+Math.imul(te,$t)|0,p=p+Math.imul(te,Vt)|0,p=p+Math.imul(se,$t)|0,B=B+Math.imul(se,Vt)|0;var eh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(eh>>>26)|0,eh&=67108863,x=Math.imul(K,Ae),p=Math.imul(K,Ee),p=p+Math.imul(q,Ae)|0,B=Math.imul(q,Ee),x=x+Math.imul(y,ve)|0,p=p+Math.imul(y,Ot)|0,p=p+Math.imul(L,ve)|0,B=B+Math.imul(L,Ot)|0,x=x+Math.imul(It,Ct)|0,p=p+Math.imul(It,Lt)|0,p=p+Math.imul(k,Ct)|0,B=B+Math.imul(k,Lt)|0,x=x+Math.imul(dt,Bt)|0,p=p+Math.imul(dt,Pt)|0,p=p+Math.imul(At,Bt)|0,B=B+Math.imul(At,Pt)|0,x=x+Math.imul(pt,Dt)|0,p=p+Math.imul(pt,Ut)|0,p=p+Math.imul(ot,Dt)|0,B=B+Math.imul(ot,Ut)|0,x=x+Math.imul(ct,zt)|0,p=p+Math.imul(ct,jt)|0,p=p+Math.imul(bt,zt)|0,B=B+Math.imul(bt,jt)|0,x=x+Math.imul(Je,Wt)|0,p=p+Math.imul(Je,Ft)|0,p=p+Math.imul(St,Wt)|0,B=B+Math.imul(St,Ft)|0,x=x+Math.imul(Ze,Ht)|0,p=p+Math.imul(Ze,Kt)|0,p=p+Math.imul(Xe,Ht)|0,B=B+Math.imul(Xe,Kt)|0,x=x+Math.imul(_e,$t)|0,p=p+Math.imul(_e,Vt)|0,p=p+Math.imul(we,$t)|0,B=B+Math.imul(we,Vt)|0,x=x+Math.imul(te,Gt)|0,p=p+Math.imul(te,Yt)|0,p=p+Math.imul(se,Gt)|0,B=B+Math.imul(se,Yt)|0;var th=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(th>>>26)|0,th&=67108863,x=Math.imul(K,ve),p=Math.imul(K,Ot),p=p+Math.imul(q,ve)|0,B=Math.imul(q,Ot),x=x+Math.imul(y,Ct)|0,p=p+Math.imul(y,Lt)|0,p=p+Math.imul(L,Ct)|0,B=B+Math.imul(L,Lt)|0,x=x+Math.imul(It,Bt)|0,p=p+Math.imul(It,Pt)|0,p=p+Math.imul(k,Bt)|0,B=B+Math.imul(k,Pt)|0,x=x+Math.imul(dt,Dt)|0,p=p+Math.imul(dt,Ut)|0,p=p+Math.imul(At,Dt)|0,B=B+Math.imul(At,Ut)|0,x=x+Math.imul(pt,zt)|0,p=p+Math.imul(pt,jt)|0,p=p+Math.imul(ot,zt)|0,B=B+Math.imul(ot,jt)|0,x=x+Math.imul(ct,Wt)|0,p=p+Math.imul(ct,Ft)|0,p=p+Math.imul(bt,Wt)|0,B=B+Math.imul(bt,Ft)|0,x=x+Math.imul(Je,Ht)|0,p=p+Math.imul(Je,Kt)|0,p=p+Math.imul(St,Ht)|0,B=B+Math.imul(St,Kt)|0,x=x+Math.imul(Ze,$t)|0,p=p+Math.imul(Ze,Vt)|0,p=p+Math.imul(Xe,$t)|0,B=B+Math.imul(Xe,Vt)|0,x=x+Math.imul(_e,Gt)|0,p=p+Math.imul(_e,Yt)|0,p=p+Math.imul(we,Gt)|0,B=B+Math.imul(we,Yt)|0;var nh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(nh>>>26)|0,nh&=67108863,x=Math.imul(K,Ct),p=Math.imul(K,Lt),p=p+Math.imul(q,Ct)|0,B=Math.imul(q,Lt),x=x+Math.imul(y,Bt)|0,p=p+Math.imul(y,Pt)|0,p=p+Math.imul(L,Bt)|0,B=B+Math.imul(L,Pt)|0,x=x+Math.imul(It,Dt)|0,p=p+Math.imul(It,Ut)|0,p=p+Math.imul(k,Dt)|0,B=B+Math.imul(k,Ut)|0,x=x+Math.imul(dt,zt)|0,p=p+Math.imul(dt,jt)|0,p=p+Math.imul(At,zt)|0,B=B+Math.imul(At,jt)|0,x=x+Math.imul(pt,Wt)|0,p=p+Math.imul(pt,Ft)|0,p=p+Math.imul(ot,Wt)|0,B=B+Math.imul(ot,Ft)|0,x=x+Math.imul(ct,Ht)|0,p=p+Math.imul(ct,Kt)|0,p=p+Math.imul(bt,Ht)|0,B=B+Math.imul(bt,Kt)|0,x=x+Math.imul(Je,$t)|0,p=p+Math.imul(Je,Vt)|0,p=p+Math.imul(St,$t)|0,B=B+Math.imul(St,Vt)|0,x=x+Math.imul(Ze,Gt)|0,p=p+Math.imul(Ze,Yt)|0,p=p+Math.imul(Xe,Gt)|0,B=B+Math.imul(Xe,Yt)|0;var rh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(rh>>>26)|0,rh&=67108863,x=Math.imul(K,Bt),p=Math.imul(K,Pt),p=p+Math.imul(q,Bt)|0,B=Math.imul(q,Pt),x=x+Math.imul(y,Dt)|0,p=p+Math.imul(y,Ut)|0,p=p+Math.imul(L,Dt)|0,B=B+Math.imul(L,Ut)|0,x=x+Math.imul(It,zt)|0,p=p+Math.imul(It,jt)|0,p=p+Math.imul(k,zt)|0,B=B+Math.imul(k,jt)|0,x=x+Math.imul(dt,Wt)|0,p=p+Math.imul(dt,Ft)|0,p=p+Math.imul(At,Wt)|0,B=B+Math.imul(At,Ft)|0,x=x+Math.imul(pt,Ht)|0,p=p+Math.imul(pt,Kt)|0,p=p+Math.imul(ot,Ht)|0,B=B+Math.imul(ot,Kt)|0,x=x+Math.imul(ct,$t)|0,p=p+Math.imul(ct,Vt)|0,p=p+Math.imul(bt,$t)|0,B=B+Math.imul(bt,Vt)|0,x=x+Math.imul(Je,Gt)|0,p=p+Math.imul(Je,Yt)|0,p=p+Math.imul(St,Gt)|0,B=B+Math.imul(St,Yt)|0;var ih=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(ih>>>26)|0,ih&=67108863,x=Math.imul(K,Dt),p=Math.imul(K,Ut),p=p+Math.imul(q,Dt)|0,B=Math.imul(q,Ut),x=x+Math.imul(y,zt)|0,p=p+Math.imul(y,jt)|0,p=p+Math.imul(L,zt)|0,B=B+Math.imul(L,jt)|0,x=x+Math.imul(It,Wt)|0,p=p+Math.imul(It,Ft)|0,p=p+Math.imul(k,Wt)|0,B=B+Math.imul(k,Ft)|0,x=x+Math.imul(dt,Ht)|0,p=p+Math.imul(dt,Kt)|0,p=p+Math.imul(At,Ht)|0,B=B+Math.imul(At,Kt)|0,x=x+Math.imul(pt,$t)|0,p=p+Math.imul(pt,Vt)|0,p=p+Math.imul(ot,$t)|0,B=B+Math.imul(ot,Vt)|0,x=x+Math.imul(ct,Gt)|0,p=p+Math.imul(ct,Yt)|0,p=p+Math.imul(bt,Gt)|0,B=B+Math.imul(bt,Yt)|0;var oh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(oh>>>26)|0,oh&=67108863,x=Math.imul(K,zt),p=Math.imul(K,jt),p=p+Math.imul(q,zt)|0,B=Math.imul(q,jt),x=x+Math.imul(y,Wt)|0,p=p+Math.imul(y,Ft)|0,p=p+Math.imul(L,Wt)|0,B=B+Math.imul(L,Ft)|0,x=x+Math.imul(It,Ht)|0,p=p+Math.imul(It,Kt)|0,p=p+Math.imul(k,Ht)|0,B=B+Math.imul(k,Kt)|0,x=x+Math.imul(dt,$t)|0,p=p+Math.imul(dt,Vt)|0,p=p+Math.imul(At,$t)|0,B=B+Math.imul(At,Vt)|0,x=x+Math.imul(pt,Gt)|0,p=p+Math.imul(pt,Yt)|0,p=p+Math.imul(ot,Gt)|0,B=B+Math.imul(ot,Yt)|0;var sh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(sh>>>26)|0,sh&=67108863,x=Math.imul(K,Wt),p=Math.imul(K,Ft),p=p+Math.imul(q,Wt)|0,B=Math.imul(q,Ft),x=x+Math.imul(y,Ht)|0,p=p+Math.imul(y,Kt)|0,p=p+Math.imul(L,Ht)|0,B=B+Math.imul(L,Kt)|0,x=x+Math.imul(It,$t)|0,p=p+Math.imul(It,Vt)|0,p=p+Math.imul(k,$t)|0,B=B+Math.imul(k,Vt)|0,x=x+Math.imul(dt,Gt)|0,p=p+Math.imul(dt,Yt)|0,p=p+Math.imul(At,Gt)|0,B=B+Math.imul(At,Yt)|0;var ah=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(ah>>>26)|0,ah&=67108863,x=Math.imul(K,Ht),p=Math.imul(K,Kt),p=p+Math.imul(q,Ht)|0,B=Math.imul(q,Kt),x=x+Math.imul(y,$t)|0,p=p+Math.imul(y,Vt)|0,p=p+Math.imul(L,$t)|0,B=B+Math.imul(L,Vt)|0,x=x+Math.imul(It,Gt)|0,p=p+Math.imul(It,Yt)|0,p=p+Math.imul(k,Gt)|0,B=B+Math.imul(k,Yt)|0;var lh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(lh>>>26)|0,lh&=67108863,x=Math.imul(K,$t),p=Math.imul(K,Vt),p=p+Math.imul(q,$t)|0,B=Math.imul(q,Vt),x=x+Math.imul(y,Gt)|0,p=p+Math.imul(y,Yt)|0,p=p+Math.imul(L,Gt)|0,B=B+Math.imul(L,Yt)|0;var uh=(P+x|0)+((p&8191)<<13)|0;P=(B+(p>>>13)|0)+(uh>>>26)|0,uh&=67108863,x=Math.imul(K,Gt),p=Math.imul(K,Yt),p=p+Math.imul(q,Gt)|0,B=Math.imul(q,Yt);var ch=(P+x|0)+((p&8191)<<13)|0;return P=(B+(p>>>13)|0)+(ch>>>26)|0,ch&=67108863,O[0]=Vf,O[1]=Gf,O[2]=Yf,O[3]=qf,O[4]=Zf,O[5]=Qf,O[6]=Xf,O[7]=Jf,O[8]=eh,O[9]=th,O[10]=nh,O[11]=rh,O[12]=ih,O[13]=oh,O[14]=sh,O[15]=ah,O[16]=lh,O[17]=uh,O[18]=ch,P!==0&&(O[19]=P,v.length++),v};Math.imul||(A=S);function _(b,u,d){d.negative=u.negative^b.negative,d.length=b.length+u.length;for(var v=0,R=0,I=0;I<d.length-1;I++){var O=R;R=0;for(var P=v&67108863,x=Math.min(I,u.length-1),p=Math.max(0,I-b.length+1);p<=x;p++){var B=I-p,ie=b.words[B]|0,te=u.words[p]|0,se=ie*te,be=se&67108863;O=O+(se/67108864|0)|0,be=be+P|0,P=be&67108863,O=O+(be>>>26)|0,R+=O>>>26,O&=67108863}d.words[I]=P,v=O,O=R}return v!==0?d.words[I]=v:d.length--,d._strip()}function T(b,u,d){return _(b,u,d)}o.prototype.mulTo=function(u,d){var v,R=this.length+u.length;return this.length===10&&u.length===10?v=A(this,u,d):R<63?v=S(this,u,d):R<1024?v=_(this,u,d):v=T(this,u,d),v},o.prototype.mul=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},o.prototype.mulf=function(u){var d=new o(null);return d.words=new Array(this.length+u.length),T(this,u,d)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){var d=u<0;d&&(u=-u),r(typeof u=="number"),r(u<67108864);for(var v=0,R=0;R<this.length;R++){var I=(this.words[R]|0)*u,O=(I&67108863)+(v&67108863);v>>=26,v+=I/67108864|0,v+=O>>>26,this.words[R]=O&67108863}return v!==0&&(this.words[R]=v,this.length++),this.length=u===0?1:this.length,d?this.ineg():this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var d=N(u);if(d.length===0)return new o(1);for(var v=this,R=0;R<d.length&&d[R]===0;R++,v=v.sqr());if(++R<d.length)for(var I=v.sqr();R<d.length;R++,I=I.sqr())d[R]!==0&&(v=v.mul(I));return v},o.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,R=67108863>>>26-d<<26-d,I;if(d!==0){var O=0;for(I=0;I<this.length;I++){var P=this.words[I]&R,x=(this.words[I]|0)-P<<d;this.words[I]=x|O,O=P>>>26-d}O&&(this.words[I]=O,this.length++)}if(v!==0){for(I=this.length-1;I>=0;I--)this.words[I+v]=this.words[I];for(I=0;I<v;I++)this.words[I]=0;this.length+=v}return this._strip()},o.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,d,v){r(typeof u=="number"&&u>=0);var R;d?R=(d-d%26)/26:R=0;var I=u%26,O=Math.min((u-I)/26,this.length),P=67108863^67108863>>>I<<I,x=v;if(R-=O,R=Math.max(0,R),x){for(var p=0;p<O;p++)x.words[p]=this.words[p];x.length=O}if(O!==0)if(this.length>O)for(this.length-=O,p=0;p<this.length;p++)this.words[p]=this.words[p+O];else this.words[0]=0,this.length=1;var B=0;for(p=this.length-1;p>=0&&(B!==0||p>=R);p--){var ie=this.words[p]|0;this.words[p]=B<<26-I|ie>>>I,B=ie&P}return x&&B!==0&&(x.words[x.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(u,d,v){return r(this.negative===0),this.iushrn(u,d,v)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26,R=1<<d;if(this.length<=v)return!1;var I=this.words[v];return!!(I&R)},o.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var d=u%26,v=(u-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var R=67108863^67108863>>>d<<d;this.words[this.length-1]&=R}return this._strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,d,v){var R=u.length+v,I;this._expand(R);var O,P=0;for(I=0;I<u.length;I++){O=(this.words[I+v]|0)+P;var x=(u.words[I]|0)*d;O-=x&67108863,P=(O>>26)-(x/67108864|0),this.words[I+v]=O&67108863}for(;I<this.length-v;I++)O=(this.words[I+v]|0)+P,P=O>>26,this.words[I+v]=O&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,I=0;I<this.length;I++)O=-(this.words[I]|0)+P,P=O>>26,this.words[I]=O&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(u,d){var v=this.length-u.length,R=this.clone(),I=u,O=I.words[I.length-1]|0,P=this._countBits(O);v=26-P,v!==0&&(I=I.ushln(v),R.iushln(v),O=I.words[I.length-1]|0);var x=R.length-I.length,p;if(d!=="mod"){p=new o(null),p.length=x+1,p.words=new Array(p.length);for(var B=0;B<p.length;B++)p.words[B]=0}var ie=R.clone()._ishlnsubmul(I,1,x);ie.negative===0&&(R=ie,p&&(p.words[x]=1));for(var te=x-1;te>=0;te--){var se=(R.words[I.length+te]|0)*67108864+(R.words[I.length+te-1]|0);for(se=Math.min(se/O|0,67108863),R._ishlnsubmul(I,se,te);R.negative!==0;)se--,R.negative=0,R._ishlnsubmul(I,1,te),R.isZero()||(R.negative^=1);p&&(p.words[te]=se)}return p&&p._strip(),R._strip(),d!=="div"&&v!==0&&R.iushrn(v),{div:p||null,mod:R}},o.prototype.divmod=function(u,d,v){if(r(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var R,I,O;return this.negative!==0&&u.negative===0?(O=this.neg().divmod(u,d),d!=="mod"&&(R=O.div.neg()),d!=="div"&&(I=O.mod.neg(),v&&I.negative!==0&&I.iadd(u)),{div:R,mod:I}):this.negative===0&&u.negative!==0?(O=this.divmod(u.neg(),d),d!=="mod"&&(R=O.div.neg()),{div:R,mod:O.mod}):this.negative&u.negative?(O=this.neg().divmod(u.neg(),d),d!=="div"&&(I=O.mod.neg(),v&&I.negative!==0&&I.isub(u)),{div:O.div,mod:I}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modrn(u.words[0]))}:this._wordDiv(u,d)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(u):d.mod,R=u.ushrn(1),I=u.andln(1),O=v.cmp(R);return O<0||I===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modrn=function(u){var d=u<0;d&&(u=-u),r(u<=67108863);for(var v=(1<<26)%u,R=0,I=this.length-1;I>=0;I--)R=(v*R+(this.words[I]|0))%u;return d?-R:R},o.prototype.modn=function(u){return this.modrn(u)},o.prototype.idivn=function(u){var d=u<0;d&&(u=-u),r(u<=67108863);for(var v=0,R=this.length-1;R>=0;R--){var I=(this.words[R]|0)+v*67108864;this.words[R]=I/u|0,v=I%u}return this._strip(),d?this.ineg():this},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var R=new o(1),I=new o(0),O=new o(0),P=new o(1),x=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++x;for(var p=v.clone(),B=d.clone();!d.isZero();){for(var ie=0,te=1;!(d.words[0]&te)&&ie<26;++ie,te<<=1);if(ie>0)for(d.iushrn(ie);ie-- >0;)(R.isOdd()||I.isOdd())&&(R.iadd(p),I.isub(B)),R.iushrn(1),I.iushrn(1);for(var se=0,be=1;!(v.words[0]&be)&&se<26;++se,be<<=1);if(se>0)for(v.iushrn(se);se-- >0;)(O.isOdd()||P.isOdd())&&(O.iadd(p),P.isub(B)),O.iushrn(1),P.iushrn(1);d.cmp(v)>=0?(d.isub(v),R.isub(O),I.isub(P)):(v.isub(d),O.isub(R),P.isub(I))}return{a:O,b:P,gcd:v.iushln(x)}},o.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var d=this,v=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var R=new o(1),I=new o(0),O=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var P=0,x=1;!(d.words[0]&x)&&P<26;++P,x<<=1);if(P>0)for(d.iushrn(P);P-- >0;)R.isOdd()&&R.iadd(O),R.iushrn(1);for(var p=0,B=1;!(v.words[0]&B)&&p<26;++p,B<<=1);if(p>0)for(v.iushrn(p);p-- >0;)I.isOdd()&&I.iadd(O),I.iushrn(1);d.cmp(v)>=0?(d.isub(v),R.isub(I)):(v.isub(d),I.isub(R))}var ie;return d.cmpn(1)===0?ie=R:ie=I,ie.cmpn(0)<0&&ie.iadd(u),ie},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),v=u.clone();d.negative=0,v.negative=0;for(var R=0;d.isEven()&&v.isEven();R++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var I=d.cmp(v);if(I<0){var O=d;d=v,v=O}else if(I===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(R)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){r(typeof u=="number");var d=u%26,v=(u-d)/26,R=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=R,this;for(var I=R,O=v;I!==0&&O<this.length;O++){var P=this.words[O]|0;P+=I,I=P>>>26,P&=67108863,this.words[O]=P}return I!==0&&(this.words[O]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(u=-u),r(u<=67108863,"Number is too big");var R=this.words[0]|0;v=R===u?0:R<u?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var R=this.words[v]|0,I=u.words[v]|0;if(R!==I){R<I?d=-1:R>I&&(d=1);break}}return d},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new Z(u)},o.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var C={k256:null,p224:null,p192:null,p25519:null};function D(b,u){this.name=b,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},D.prototype.ireduce=function(u){var d=u,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var R=v<this.n?-1:d.ucmp(this.p);return R===0?(d.words[0]=0,d.length=1):R>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},D.prototype.split=function(u,d){u.iushrn(this.n,0,d)},D.prototype.imulK=function(u){return u.imul(this.k)};function U(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,D),U.prototype.split=function(u,d){for(var v=4194303,R=Math.min(u.length,9),I=0;I<R;I++)d.words[I]=u.words[I];if(d.length=R,u.length<=9){u.words[0]=0,u.length=1;return}var O=u.words[9];for(d.words[d.length++]=O&v,I=10;I<u.length;I++){var P=u.words[I]|0;u.words[I-10]=(P&v)<<4|O>>>22,O=P}O>>>=22,u.words[I-10]=O,O===0&&u.length>10?u.length-=10:u.length-=9},U.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,v=0;v<u.length;v++){var R=u.words[v]|0;d+=R*977,u.words[v]=d&67108863,d=R*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,D);function j(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(j,D);function H(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,D),H.prototype.imulK=function(u){for(var d=0,v=0;v<u.length;v++){var R=(u.words[v]|0)*19+d,I=R&67108863;R>>>=26,u.words[v]=I,d=R}return d!==0&&(u.words[u.length++]=d),u},o._prime=function(u){if(C[u])return C[u];var d;if(u==="k256")d=new U;else if(u==="p224")d=new z;else if(u==="p192")d=new j;else if(u==="p25519")d=new H;else throw new Error("Unknown prime "+u);return C[u]=d,d};function Z(b){if(typeof b=="string"){var u=o._prime(b);this.m=u.p,this.prime=u}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}Z.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},Z.prototype._verify2=function(u,d){r((u.negative|d.negative)===0,"red works only with positives"),r(u.red&&u.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},Z.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Z.prototype.add=function(u,d){this._verify2(u,d);var v=u.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},Z.prototype.iadd=function(u,d){this._verify2(u,d);var v=u.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},Z.prototype.sub=function(u,d){this._verify2(u,d);var v=u.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},Z.prototype.isub=function(u,d){this._verify2(u,d);var v=u.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},Z.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},Z.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},Z.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},Z.prototype.isqr=function(u){return this.imul(u,u.clone())},Z.prototype.sqr=function(u){return this.mul(u,u)},Z.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(u,v)}for(var R=this.m.subn(1),I=0;!R.isZero()&&R.andln(1)===0;)I++,R.iushrn(1);r(!R.isZero());var O=new o(1).toRed(this),P=O.redNeg(),x=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,x).cmp(P)!==0;)p.redIAdd(P);for(var B=this.pow(p,R),ie=this.pow(u,R.addn(1).iushrn(1)),te=this.pow(u,R),se=I;te.cmp(O)!==0;){for(var be=te,_e=0;be.cmp(O)!==0;_e++)be=be.redSqr();r(_e<se);var we=this.pow(B,new o(1).iushln(se-_e-1));ie=ie.redMul(we),B=we.redSqr(),te=te.redMul(B),se=_e}return ie},Z.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(u,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var v=4,R=new Array(1<<v);R[0]=new o(1).toRed(this),R[1]=u;for(var I=2;I<R.length;I++)R[I]=this.mul(R[I-1],u);var O=R[0],P=0,x=0,p=d.bitLength()%26;for(p===0&&(p=26),I=d.length-1;I>=0;I--){for(var B=d.words[I],ie=p-1;ie>=0;ie--){var te=B>>ie&1;if(O!==R[0]&&(O=this.sqr(O)),te===0&&P===0){x=0;continue}P<<=1,P|=te,x++,!(x!==v&&(I!==0||ie!==0))&&(O=this.mul(O,R[P]),x=0,P=0)}p=26}return O},Z.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},Z.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},o.mont=function(u){return new G(u)};function G(b){Z.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,Z),G.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},G.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},G.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(d),R=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(R).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},G.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new o(0)._forceRed(this);var v=u.mul(d),R=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=v.isub(R).iushrn(this.shift),O=I;return I.cmp(this.m)>=0?O=I.isub(this.m):I.cmpn(0)<0&&(O=I.iadd(this.m)),O._forceRed(this)},G.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,xt)})(by);var Ay=by.exports;const to=gs(Ay);var y0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ge,r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(y0,y0.exports);var Kk=y0.exports,Zu=Kk.Buffer;function $k(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Zu.from(m)),!Zu.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var E=0,M=0,N=0,S=m.length;N!==S&&m[N]===0;)N++,E++;for(var A=(S-N)*c+1>>>0,_=new Uint8Array(A);N!==S;){for(var T=m[N],C=0,D=A-1;(T!==0||C<M)&&D!==-1;D--,C++)T+=256*_[D]>>>0,_[D]=T%s>>>0,T=T/s>>>0;if(T!==0)throw new Error("Non-zero carry");M=C,N++}for(var U=A-M;U!==A&&_[U]===0;)U++;for(var z=a.repeat(E);U<A;++U)z+=t.charAt(_[U]);return z}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Zu.alloc(0);for(var E=0,M=0,N=0;m[E]===a;)M++,E++;for(var S=(m.length-E)*l+1>>>0,A=new Uint8Array(S);E<m.length;){var _=m.charCodeAt(E);if(_>255)return;var T=e[_];if(T===255)return;for(var C=0,D=S-1;(T!==0||C<N)&&D!==-1;D--,C++)T+=s*A[D]>>>0,A[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");N=C,E++}for(var U=S-N;U!==S&&A[U]===0;)U++;var z=Zu.allocUnsafe(M+(S-U));z.fill(0,0,M);for(var j=M;U!==S;)z[j++]=A[U++];return z}function w(m){var E=g(m);if(E)return E;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var Vk=$k,Gk=Vk,Yk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",WE=Gk(Yk);const nn=gs(WE),Jw=_E;var yn={};function vi(t,e,n){return e<=t&&t<=n}function pf(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function qk(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function Zk(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Td=-1;function Iy(t){this.tokens=[].slice.call(t)}Iy.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Td},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Aa=-1;function Kh(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Nd="utf-8";function xd(t,e){if(!(this instanceof xd))return new xd(t,e);if(t=t!==void 0?String(t).toLowerCase():Nd,t!==Nd)throw new Error("Encoding not supported. Only utf-8 is supported");e=pf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}xd.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=pf(n),this._streaming||(this._decoder=new Qk({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Iy(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Aa);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Aa)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Zk(o)}};function Od(t,e){if(!(this instanceof Od))return new Od(t,e);if(t=t!==void 0?String(t).toLowerCase():Nd,t!==Nd)throw new Error("Encoding not supported. Only utf-8 is supported");e=pf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Od.prototype={encode:function(e,n){e=e?String(e):"",n=pf(n),this._streaming||(this._encoder=new Xk(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Iy(qk(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Aa);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Aa;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function Qk(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===Td&&i!==0)return i=0,Kh(e);if(l===Td)return Aa;if(i===0){if(vi(l,0,127))return l;if(vi(l,194,223))i=1,n=l-192;else if(vi(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(vi(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return Kh(e);return n=n<<6*i,null}if(!vi(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),Kh(e);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function Xk(t){t.fatal,this.handler=function(e,n){if(n===Td)return Aa;if(vi(n,0,127))return n;var r,i;vi(n,128,2047)?(r=1,i=192):vi(n,2048,65535)?(r=2,i=224):vi(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const Jk=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:xd,TextEncoder:Od},Symbol.toStringTag,{value:"Module"})),eM=Oa(Jk);var tM=xt&&xt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),nM=xt&&xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oi=xt&&xt.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},rM=xt&&xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&tM(e,t,n);return nM(e,t),e},FE=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});var HE=yn.deserializeUnchecked=qE=yn.deserialize=YE=yn.serialize=yn.BinaryReader=yn.BinaryWriter=yn.BorshError=yn.baseDecode=yn.baseEncode=void 0;const no=FE(Ay),KE=FE(WE),iM=rM(eM),oM=typeof TextDecoder!="function"?iM.TextDecoder:TextDecoder,sM=new oM("utf-8",{fatal:!0});function aM(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),KE.default.encode(Buffer.from(t))}yn.baseEncode=aM;function lM(t){return Buffer.from(KE.default.decode(t))}yn.baseDecode=lM;const $h=1024;class Bn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}yn.BorshError=Bn;class $E{constructor(){this.buf=Buffer.alloc($h),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc($h)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new no.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new no.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new no.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new no.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc($h)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}yn.BinaryWriter=$E;function si(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Bn("Reached the end of buffer when deserializing")}throw o}}}class hr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new no.default(e,"le")}readU128(){const e=this.readBuffer(16);return new no.default(e,"le")}readU256(){const e=this.readBuffer(32);return new no.default(e,"le")}readU512(){const e=this.readBuffer(64);return new no.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Bn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return sM.decode(n)}catch(r){throw new Bn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}oi([si],hr.prototype,"readU8",null);oi([si],hr.prototype,"readU16",null);oi([si],hr.prototype,"readU32",null);oi([si],hr.prototype,"readU64",null);oi([si],hr.prototype,"readU128",null);oi([si],hr.prototype,"readU256",null);oi([si],hr.prototype,"readU512",null);oi([si],hr.prototype,"readString",null);oi([si],hr.prototype,"readFixedArray",null);oi([si],hr.prototype,"readArray",null);yn.BinaryReader=hr;function VE(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zo(t,e,n,r,i){try{if(typeof r=="string")i[`write${VE(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Bn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Bn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)zo(t,null,n[o],r[0],i)}else i.writeArray(n,o=>{zo(t,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),zo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{zo(t,e,s,r.key,i),zo(t,e,o,r.value,i)});break}default:throw new Bn(`FieldType ${r} unrecognized`)}else GE(t,n,i)}catch(o){throw o instanceof Bn&&o.addToFieldPath(e),o}}function GE(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Bn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{zo(t,i,e[i],o,n)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),zo(t,s,e[s],a,n);break}}}else throw new Bn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function uM(t,e,n=$E){const r=new n;return GE(t,e,r),r.toArray()}var YE=yn.serialize=uM;function jo(t,e,n,r){try{if(typeof n=="string")return r[`read${VE(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(jo(t,null,n[0],r));return i}else return r.readArray(()=>jo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?jo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=jo(t,e,n.key,r),l=jo(t,e,n.value,r);i.set(a,l)}return i}return Ry(t,n,r)}catch(i){throw i instanceof Bn&&i.addToFieldPath(e),i}}function Ry(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Bn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of t.get(e).fields)i[o]=jo(t,o,s,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Bn(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=jo(t,o,s,n);return new e({[o]:a})}throw new Bn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function cM(t,e,n,r=hr){const i=new r(n),o=Ry(t,e,i);if(i.offset<n.length)throw new Bn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var qE=yn.deserialize=cM;function dM(t,e,n,r=hr){const i=new r(n);return Ry(t,e,i)}HE=yn.deserializeUnchecked=dM;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.s16=Y.s8=Y.nu64be=Y.u48be=Y.u40be=Y.u32be=Y.u24be=Y.u16be=hn=Y.nu64=Y.u48=Y.u40=de=Y.u32=Y.u24=wr=Y.u16=Pe=Y.u8=yo=Y.offset=Y.greedy=Y.Constant=Y.UTF8=Y.CString=Y.Blob=Y.Boolean=Y.BitField=Y.BitStructure=Y.VariantLayout=Y.Union=Y.UnionLayoutDiscriminator=Y.UnionDiscriminator=Y.Structure=Y.Sequence=Y.DoubleBE=Y.Double=Y.FloatBE=Y.Float=Y.NearInt64BE=Y.NearInt64=Y.NearUInt64BE=Y.NearUInt64=Y.IntBE=Y.Int=Y.UIntBE=Y.UInt=Y.OffsetLayout=Y.GreedyCount=Y.ExternalLayout=Y.bindConstructorLayout=Y.nameWithProperty=Y.Layout=Y.uint8ArrayToBuffer=Y.checkUint8Array=void 0;Y.constant=Y.utf8=Y.cstr=lt=Y.blob=Y.unionLayoutDiscriminator=Y.union=mn=Y.seq=Y.bits=fe=Y.struct=Y.f64be=Y.f64=Y.f32be=Y.f32=Y.ns64be=Y.s48be=Y.s40be=Y.s32be=Y.s24be=Y.s16be=ir=Y.ns64=Y.s48=Y.s40=Y.s32=Y.s24=void 0;const ky=ge;function Da(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Y.checkUint8Array=Da;function je(t){return Da(t),ky.Buffer.from(t.buffer,t.byteOffset,t.length)}Y.uint8ArrayToBuffer=je;let Ve=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};Y.Layout=Ve;function My(t,e){return e.property?t+"["+e.property+"]":t}Y.nameWithProperty=My;function fM(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ve))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Y.bindConstructorLayout=fM;let Kn=class extends Ve{isCount(){throw new Error("ExternalLayout is abstract")}};Y.ExternalLayout=Kn;let ZE=class extends Kn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Da(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};Y.GreedyCount=ZE;let Ty=class extends Kn{constructor(e,n=0,r){if(!(e instanceof Ve))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof br||this.layout instanceof Ur}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};Y.OffsetLayout=Ty;let br=class extends Ve{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return je(e).readUIntLE(n,this.span)}encode(e,n,r=0){return je(n).writeUIntLE(e,r,this.span),this.span}};Y.UInt=br;let Ur=class extends Ve{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return je(e).readUIntBE(n,this.span)}encode(e,n,r=0){return je(n).writeUIntBE(e,r,this.span),this.span}};Y.UIntBE=Ur;let vs=class extends Ve{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return je(e).readIntLE(n,this.span)}encode(e,n,r=0){return je(n).writeIntLE(e,r,this.span),this.span}};Y.Int=vs;let Ua=class extends Ve{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return je(e).readIntBE(n,this.span)}encode(e,n,r=0){return je(n).writeIntBE(e,r,this.span),this.span}};Y.IntBE=Ua;const m0=Math.pow(2,32);function gf(t){const e=Math.floor(t/m0),n=t-e*m0;return{hi32:e,lo32:n}}function yf(t,e){return t*m0+e}let QE=class extends Ve{constructor(e){super(8,e)}decode(e,n=0){const r=je(e),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return yf(o,i)}encode(e,n,r=0){const i=gf(e),o=je(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};Y.NearUInt64=QE;let XE=class extends Ve{constructor(e){super(8,e)}decode(e,n=0){const r=je(e),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return yf(i,o)}encode(e,n,r=0){const i=gf(e),o=je(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Y.NearUInt64BE=XE;let JE=class extends Ve{constructor(e){super(8,e)}decode(e,n=0){const r=je(e),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return yf(o,i)}encode(e,n,r=0){const i=gf(e),o=je(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};Y.NearInt64=JE;let eS=class extends Ve{constructor(e){super(8,e)}decode(e,n=0){const r=je(e),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return yf(i,o)}encode(e,n,r=0){const i=gf(e),o=je(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Y.NearInt64BE=eS;let tS=class extends Ve{constructor(e){super(4,e)}decode(e,n=0){return je(e).readFloatLE(n)}encode(e,n,r=0){return je(n).writeFloatLE(e,r),4}};Y.Float=tS;let nS=class extends Ve{constructor(e){super(4,e)}decode(e,n=0){return je(e).readFloatBE(n)}encode(e,n,r=0){return je(n).writeFloatBE(e,r),4}};Y.FloatBE=nS;let rS=class extends Ve{constructor(e){super(8,e)}decode(e,n=0){return je(e).readDoubleLE(n)}encode(e,n,r=0){return je(n).writeDoubleLE(e,r),8}};Y.Double=rS;let iS=class extends Ve{constructor(e){super(8,e)}decode(e,n=0){return je(e).readDoubleBE(n)}encode(e,n,r=0){return je(n).writeDoubleBE(e,r),8}};Y.DoubleBE=iS;let oS=class extends Ve{constructor(e,n,r){if(!(e instanceof Ve))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Kn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Kn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Kn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let i=0,o=this.count;for(o instanceof Kn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Kn&&this.count.encode(e.length,n,r),o}};Y.Sequence=oS;let sS=class extends Ve{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Ve,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Da(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};Y.Structure=sS;let Ny=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};Y.UnionDiscriminator=Ny;let Cd=class extends Ny{constructor(e,n){if(!(e instanceof Kn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};Y.UnionLayoutDiscriminator=Cd;let xy=class extends Ve{constructor(e,n,r){let i;if(e instanceof br||e instanceof Ur)i=new Cd(new Ty(e));else if(e instanceof Kn&&e.isCount())i=new Cd(e);else if(e instanceof Ny)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ve))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof br||e instanceof Ur)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof br||e instanceof Ur,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,o=i.decode(e,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,n+l)}else r=s.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new aS(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};Y.Union=xy;let aS=class extends Ve{constructor(e,n,r,i){if(!(e instanceof xy))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ve))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Y.VariantLayout=aS;function Ns(t){return 0>t&&(t+=4294967296),t}let Oy=class extends Ve{constructor(e,n,r){if(!(e instanceof br||e instanceof Ur))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Ns(o),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Cy(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new lS(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};Y.BitStructure=Oy;let Cy=class{constructor(e,n,r){if(!(e instanceof Oy))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=Ns(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ns(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ns(e&this.valueMask))throw new TypeError(My("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ns(e<<this.start);this.container._packedSetValue(Ns(n&~this.wordMask)|r)}};Y.BitField=Cy;let lS=class extends Cy{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Y.Boolean=lS;let uS=class extends Ve{constructor(e,n){if(!(e instanceof Kn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Kn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),je(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Kn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(My("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=je(e);return je(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof Kn&&this.length.encode(i,n,r),i}};Y.Blob=uS;let cS=class extends Ve{constructor(e){super(-1,e)}getSpan(e,n=0){Da(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return je(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=ky.Buffer.from(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=je(n);return i.copy(s,r),s[r+o]=0,o+1}};Y.CString=cS;let dS=class extends Ve{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Da(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return je(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=ky.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(je(n),r),o}};Y.UTF8=dS;let fS=class extends Ve{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};Y.Constant=fS;Y.greedy=(t,e)=>new ZE(t,e);var yo=Y.offset=(t,e,n)=>new Ty(t,e,n),Pe=Y.u8=t=>new br(1,t),wr=Y.u16=t=>new br(2,t);Y.u24=t=>new br(3,t);var de=Y.u32=t=>new br(4,t);Y.u40=t=>new br(5,t);Y.u48=t=>new br(6,t);var hn=Y.nu64=t=>new QE(t);Y.u16be=t=>new Ur(2,t);Y.u24be=t=>new Ur(3,t);Y.u32be=t=>new Ur(4,t);Y.u40be=t=>new Ur(5,t);Y.u48be=t=>new Ur(6,t);Y.nu64be=t=>new XE(t);Y.s8=t=>new vs(1,t);Y.s16=t=>new vs(2,t);Y.s24=t=>new vs(3,t);Y.s32=t=>new vs(4,t);Y.s40=t=>new vs(5,t);Y.s48=t=>new vs(6,t);var ir=Y.ns64=t=>new JE(t);Y.s16be=t=>new Ua(2,t);Y.s24be=t=>new Ua(3,t);Y.s32be=t=>new Ua(4,t);Y.s40be=t=>new Ua(5,t);Y.s48be=t=>new Ua(6,t);Y.ns64be=t=>new eS(t);Y.f32=t=>new tS(t);Y.f32be=t=>new nS(t);Y.f64=t=>new rS(t);Y.f64be=t=>new iS(t);var fe=Y.struct=(t,e,n)=>new sS(t,e,n);Y.bits=(t,e,n)=>new Oy(t,e,n);var mn=Y.seq=(t,e,n)=>new oS(t,e,n);Y.union=(t,e,n)=>new xy(t,e,n);Y.unionLayoutDiscriminator=(t,e)=>new Cd(t,e);var lt=Y.blob=(t,e)=>new uS(t,e);Y.cstr=t=>new cS(t);Y.utf8=(t,e)=>new dS(t,e);Y.constant=(t,e)=>new fS(t,e);var hM=8078e3,pM=8078001,gM=8078004,yM=8078005,mM=8078006,wM=8078011;function hS(t){return Array.isArray(t)?"%5B"+t.map(hS).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function vM([t,e]){return`${t}=${hS(e)}`}function _M(t){const e=Object.entries(t).map(vM).join("&");return btoa(e)}function EM(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${_M(e)}'`),`${n}\``}}var la=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=EM(e,r);super(o,i);et(this,"cause",this.cause);et(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function SM(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function bM(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(SM(e,t));return t.write(e,n,0),n}})}function AM(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Ts(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function IM(t,e){if(Ts(t)!==Ts(e))throw new la(gM);if(Ts(t)&&Ts(e)&&t.fixedSize!==e.fixedSize)throw new la(yM,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ts(t)&&!Ts(e)&&t.maxSize!==e.maxSize)throw new la(mM,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function RM(t,e,n=0){if(e.length-n<=0)throw new la(hM,{codecDescription:t})}function kM(t,e,n,r=0){const i=n.length-r;if(i<e)throw new la(pM,{bytesLength:i,codecDescription:t,expected:e})}function MM(t,e,n,r){if(r<e||r>n)throw new la(wM,{codecDescription:t,max:n,min:e,value:r})}function pS(t){return(t==null?void 0:t.endian)!==1}function TM(t){return bM({fixedSize:t.size,write(e,n,r){t.range&&MM(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,pS(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function NM(t){return AM({fixedSize:t.size,read(e,n=0){RM(t.name,e,n),kM(t.name,t.size,e,n);const r=new DataView(xM(e,n,t.size));return[t.get(r,pS(t.config)),n+t.size]}})}function xM(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var gS=(t={})=>TM({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),OM=(t={})=>NM({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),CM=(t={})=>IM(gS(t),OM(t));let LM=class extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function BM(t){return pu(t)&&typeof t[Symbol.iterator]=="function"}function pu(t){return typeof t=="object"&&t!=null}function Ld(t){return pu(t)&&!Array.isArray(t)}function Wr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function PM(t){const{done:e,value:n}=t.next();return e?void 0:n}function DM(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Wr(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*e1(t,e,n,r){BM(t)||(t=[t]);for(const i of t){const o=DM(i,e,n,r);o&&(yield o)}}function*Ly(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,f,g]of e.entries(t,a)){const w=Ly(f,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,f],coerce:o,mask:s,message:n.message});for(const m of w)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(f=m[1],c===void 0?t=f:t instanceof Map?t.set(c,f):t instanceof Set?t.add(f):pu(t)&&(f!==void 0||c in t)&&(t[c]=f))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let ai=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const f=i(l,c);return e1(f,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const f=o(l,c);return e1(f,c,this,l)}:this.refiner=()=>[]}assert(e,n){return yS(e,this,n)}create(e,n){return oe(e,this,n)}is(e){return mS(e,this)}mask(e,n){return UM(e,this,n)}validate(e,n={}){return gu(e,this,n)}};function yS(t,e,n){const r=gu(t,e,{message:n});if(r[0])throw r[0]}function oe(t,e,n){const r=gu(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function UM(t,e,n){const r=gu(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function mS(t,e){return!gu(t,e)[0]}function gu(t,e,n={}){const r=Ly(t,e,n),i=PM(r);return i[0]?[new LM(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function _s(t,e){return new ai({type:t,schema:null,validator:e})}function zM(){return _s("any",()=>!0)}function ae(t){return new ai({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Wr(e)}`}})}function ii(){return _s("boolean",t=>typeof t=="boolean")}function By(t){return _s("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Wr(e)}`)}function mt(t){const e=Wr(t),n=typeof t;return new ai({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Wr(r)}`}})}function jM(){return _s("never",()=>!1)}function le(t){return new ai({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function $(){return _s("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Wr(t)}`)}function ye(t){return new ai({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function wS(t,e){return new ai({type:"record",schema:null,*entries(n){if(pu(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Ld(n)||`Expected an object, but received: ${Wr(n)}`},coercer(n){return Ld(n)?{...n}:n}})}function re(){return _s("string",t=>typeof t=="string"||`Expected a string, but received: ${Wr(t)}`)}function Py(t){const e=jM();return new ai({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Wr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function X(t){const e=Object.keys(t);return new ai({type:"type",schema:t,*entries(n){if(pu(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ld(n)||`Expected an object, but received: ${Wr(n)}`},coercer(n){return Ld(n)?{...n}:n}})}function Dn(t){const e=t.map(n=>n.type).join(" | ");return new ai({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=Ly(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Wr(n)}`,...i]}})}function za(){return _s("unknown",()=>!0)}function yu(t,e,n){return new ai({...t,coercer:(r,i)=>mS(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Qu,WM=new Uint8Array(16);function vS(){if(!Qu&&(Qu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Qu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qu(WM)}const FM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mf(t){return typeof t=="string"&&FM.test(t)}var fn=[];for(var Vh=0;Vh<256;++Vh)fn.push((Vh+256).toString(16).substr(1));function wf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(fn[t[e+0]]+fn[t[e+1]]+fn[t[e+2]]+fn[t[e+3]]+"-"+fn[t[e+4]]+fn[t[e+5]]+"-"+fn[t[e+6]]+fn[t[e+7]]+"-"+fn[t[e+8]]+fn[t[e+9]]+"-"+fn[t[e+10]]+fn[t[e+11]]+fn[t[e+12]]+fn[t[e+13]]+fn[t[e+14]]+fn[t[e+15]]).toLowerCase();if(!mf(n))throw TypeError("Stringified UUID is invalid");return n}var t1,Gh,Yh=0,qh=0;function HM(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||t1,s=t.clockseq!==void 0?t.clockseq:Gh;if(o==null||s==null){var a=t.random||(t.rng||vS)();o==null&&(o=t1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Gh=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:qh+1,f=l-Yh+(c-qh)/1e4;if(f<0&&t.clockseq===void 0&&(s=s+1&16383),(f<0||l>Yh)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Yh=l,qh=c,Gh=s,l+=122192928e5;var g=((l&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var w=l/4294967296*1e4&268435455;i[r++]=w>>>8&255,i[r++]=w&255,i[r++]=w>>>24&15|16,i[r++]=w>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var m=0;m<6;++m)i[r+m]=o[m];return e||wf(i)}function _S(t){if(!mf(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function KM(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var $M="6ba7b810-9dad-11d1-80b4-00c04fd430c8",VM="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ES(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=KM(i)),typeof o=="string"&&(o=_S(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return wf(l)}try{r.name=t}catch{}return r.DNS=$M,r.URL=VM,r}function GM(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return YM(qM(ZM(t),t.length*8))}function YM(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function SS(t){return(t+64>>>9<<4)+14+1}function qM(t,e){t[e>>5]|=128<<e%32,t[SS(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,l=r,c=i,f=o;n=An(n,r,i,o,t[s],7,-680876936),o=An(o,n,r,i,t[s+1],12,-389564586),i=An(i,o,n,r,t[s+2],17,606105819),r=An(r,i,o,n,t[s+3],22,-1044525330),n=An(n,r,i,o,t[s+4],7,-176418897),o=An(o,n,r,i,t[s+5],12,1200080426),i=An(i,o,n,r,t[s+6],17,-1473231341),r=An(r,i,o,n,t[s+7],22,-45705983),n=An(n,r,i,o,t[s+8],7,1770035416),o=An(o,n,r,i,t[s+9],12,-1958414417),i=An(i,o,n,r,t[s+10],17,-42063),r=An(r,i,o,n,t[s+11],22,-1990404162),n=An(n,r,i,o,t[s+12],7,1804603682),o=An(o,n,r,i,t[s+13],12,-40341101),i=An(i,o,n,r,t[s+14],17,-1502002290),r=An(r,i,o,n,t[s+15],22,1236535329),n=In(n,r,i,o,t[s+1],5,-165796510),o=In(o,n,r,i,t[s+6],9,-1069501632),i=In(i,o,n,r,t[s+11],14,643717713),r=In(r,i,o,n,t[s],20,-373897302),n=In(n,r,i,o,t[s+5],5,-701558691),o=In(o,n,r,i,t[s+10],9,38016083),i=In(i,o,n,r,t[s+15],14,-660478335),r=In(r,i,o,n,t[s+4],20,-405537848),n=In(n,r,i,o,t[s+9],5,568446438),o=In(o,n,r,i,t[s+14],9,-1019803690),i=In(i,o,n,r,t[s+3],14,-187363961),r=In(r,i,o,n,t[s+8],20,1163531501),n=In(n,r,i,o,t[s+13],5,-1444681467),o=In(o,n,r,i,t[s+2],9,-51403784),i=In(i,o,n,r,t[s+7],14,1735328473),r=In(r,i,o,n,t[s+12],20,-1926607734),n=Rn(n,r,i,o,t[s+5],4,-378558),o=Rn(o,n,r,i,t[s+8],11,-2022574463),i=Rn(i,o,n,r,t[s+11],16,1839030562),r=Rn(r,i,o,n,t[s+14],23,-35309556),n=Rn(n,r,i,o,t[s+1],4,-1530992060),o=Rn(o,n,r,i,t[s+4],11,1272893353),i=Rn(i,o,n,r,t[s+7],16,-155497632),r=Rn(r,i,o,n,t[s+10],23,-1094730640),n=Rn(n,r,i,o,t[s+13],4,681279174),o=Rn(o,n,r,i,t[s],11,-358537222),i=Rn(i,o,n,r,t[s+3],16,-722521979),r=Rn(r,i,o,n,t[s+6],23,76029189),n=Rn(n,r,i,o,t[s+9],4,-640364487),o=Rn(o,n,r,i,t[s+12],11,-421815835),i=Rn(i,o,n,r,t[s+15],16,530742520),r=Rn(r,i,o,n,t[s+2],23,-995338651),n=kn(n,r,i,o,t[s],6,-198630844),o=kn(o,n,r,i,t[s+7],10,1126891415),i=kn(i,o,n,r,t[s+14],15,-1416354905),r=kn(r,i,o,n,t[s+5],21,-57434055),n=kn(n,r,i,o,t[s+12],6,1700485571),o=kn(o,n,r,i,t[s+3],10,-1894986606),i=kn(i,o,n,r,t[s+10],15,-1051523),r=kn(r,i,o,n,t[s+1],21,-2054922799),n=kn(n,r,i,o,t[s+8],6,1873313359),o=kn(o,n,r,i,t[s+15],10,-30611744),i=kn(i,o,n,r,t[s+6],15,-1560198380),r=kn(r,i,o,n,t[s+13],21,1309151649),n=kn(n,r,i,o,t[s+4],6,-145523070),o=kn(o,n,r,i,t[s+11],10,-1120210379),i=kn(i,o,n,r,t[s+2],15,718787259),r=kn(r,i,o,n,t[s+9],21,-343485551),n=ro(n,a),r=ro(r,l),i=ro(i,c),o=ro(o,f)}return[n,r,i,o]}function ZM(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(SS(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ro(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function QM(t,e){return t<<e|t>>>32-e}function vf(t,e,n,r,i,o){return ro(QM(ro(ro(e,t),ro(r,o)),i),n)}function An(t,e,n,r,i,o,s){return vf(e&n|~e&r,t,e,i,o,s)}function In(t,e,n,r,i,o,s){return vf(e&r|n&~r,t,e,i,o,s)}function Rn(t,e,n,r,i,o,s){return vf(e^n^r,t,e,i,o,s)}function kn(t,e,n,r,i,o,s){return vf(n^(e|~r),t,e,i,o,s)}var XM=ES("v3",48,GM);function JM(t,e,n){t=t||{};var r=t.random||(t.rng||vS)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return wf(r)}function eT(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Zh(t,e){return t<<e|t>>>32-e}function tT(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=t[l*64+f*4]<<24|t[l*64+f*4+1]<<16|t[l*64+f*4+2]<<8|t[l*64+f*4+3];a[l]=c}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<s;++g){for(var w=new Uint32Array(80),m=0;m<16;++m)w[m]=a[g][m];for(var E=16;E<80;++E)w[E]=Zh(w[E-3]^w[E-8]^w[E-14]^w[E-16],1);for(var M=n[0],N=n[1],S=n[2],A=n[3],_=n[4],T=0;T<80;++T){var C=Math.floor(T/20),D=Zh(M,5)+eT(C,N,S,A)+_+e[C]+w[T]>>>0;_=A,A=S,S=Zh(N,30)>>>0,N=M,M=D}n[0]=n[0]+M>>>0,n[1]=n[1]+N>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+A>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var nT=ES("v5",80,tT);const rT="00000000-0000-0000-0000-000000000000";function iT(t){if(!mf(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const oT=Object.freeze(Object.defineProperty({__proto__:null,NIL:rT,parse:_S,stringify:wf,v1:HM,v3:XM,v4:JM,v5:nT,validate:mf,version:iT},Symbol.toStringTag,{value:"Module"})),bS=Oa(oT),sT=bS.v4,aT=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return sT()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var lT=aT;const uT=bS.v4,cT=lT,Ql=function(t,e){if(!(this instanceof Ql))return new Ql(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uT()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var dT=Ql;Ql.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{o=cT(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(c)return r(f);throw f}if(!c)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,f){i._parseResponse(c,f,r)}),o};Ql.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return n(null,r.filter(i),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const fT=gs(dT);var AS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),E=n?n+c:c;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],m]:l._events[E].push(m):(l._events[E]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,E=new Array(m);w<m;w++)E[w]=g[w].fn;return E},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,E){var M=n?n+c:c;if(!this._events[M])return!1;var N=this._events[M],S=arguments.length,A,_;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,E),!0}for(_=1,A=new Array(S-1);_<S;_++)A[_-1]=arguments[_];N.fn.apply(N.context,A)}else{var T=N.length,C;for(_=0;_<T;_++)switch(N[_].once&&this.removeListener(c,N[_].fn,void 0,!0),S){case 1:N[_].fn.call(N[_].context);break;case 2:N[_].fn.call(N[_].context,f);break;case 3:N[_].fn.call(N[_].context,f,g);break;case 4:N[_].fn.call(N[_].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(S-1);C<S;C++)A[C-1]=arguments[C];N[_].fn.apply(N[_].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var E=this._events[m];if(E.fn)E.fn===f&&(!w||E.once)&&(!g||E.context===g)&&s(this,m);else{for(var M=0,N=[],S=E.length;M<S;M++)(E[M].fn!==f||w&&!E[M].once||g&&E[M].context!==g)&&N.push(E[M]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(AS);var hT=AS.exports;const IS=gs(hT);var pT=class extends IS{constructor(e,n,r){super();et(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function gT(t,e){return new pT(t,e)}var yT=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},mT=class extends IS{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();et(this,"address");et(this,"rpc_id");et(this,"queue");et(this,"options");et(this,"autoconnect");et(this,"ready");et(this,"reconnect");et(this,"reconnect_timer_id");et(this,"reconnect_interval");et(this,"max_reconnects");et(this,"rest_options");et(this,"current_reconnects");et(this,"generate_request_id");et(this,"socket");et(this,"webSocketFactory");et(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new yT,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=ge.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const wT=BigInt(0),Ja=BigInt(1),vT=BigInt(2),_T=BigInt(7),ET=BigInt(256),ST=BigInt(113),RS=[],kS=[],MS=[];for(let t=0,e=Ja,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],RS.push(2*(5*r+n)),kS.push((t+1)*(t+2)/2%64);let i=wT;for(let o=0;o<7;o++)e=(e<<Ja^(e>>_T)*ST)%ET,e&vT&&(i^=Ja<<(Ja<<BigInt(o))-Ja);MS.push(i)}const TS=wE(MS,!0),bT=TS[0],AT=TS[1],n1=(t,e,n)=>n>32?QR(t,e,n):qR(t,e,n),r1=(t,e,n)=>n>32?XR(t,e,n):ZR(t,e,n);function IT(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],f=n[l+1],g=n1(c,f,1)^n[a],w=r1(c,f,1)^n[a+1];for(let m=0;m<50;m+=10)t[s+m]^=g,t[s+m+1]^=w}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=kS[s],l=n1(i,o,a),c=r1(i,o,a),f=RS[s];i=t[f],o=t[f+1],t[f]=l,t[f+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=bT[r],t[1]^=AT[r]}Eo(n)}class Dy extends yy{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,ql(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=zR(this.state)}clone(){return this._cloneInto()}keccak(){jw(this.state32),IT(this.state32,this.rounds),jw(this.state32),this.posOut=0,this.pos=0}update(e){Sa(this),e=ff(e),Ci(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Sa(this,!1),Ci(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ql(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Eo(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new Dy(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const RT=(t,e,n)=>my(()=>new Dy(e,t,n)),i1=RT(1,136,256/8);class NS extends yy{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,pE(e);const r=ff(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Eo(o)}update(e){return Sa(this),this.iHash.update(e),this}digestInto(e){Sa(this),Ci(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xS=(t,e,n)=>new NS(t,e).update(n).digest();xS.create=(t,e)=>new NS(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o1=(t,e)=>(t+(t>=0?e:-e)/OS)/e;function kT(t,e,n){const[[r,i],[o,s]]=e,a=o1(s*t,n),l=o1(-i*t,n);let c=t-a*r-l*o,f=-a*i-l*s;const g=c<Ii,w=f<Ii;g&&(c=-c),w&&(f=-f);const m=fu(Math.ceil(bE(n)/2))+ua;if(c<Ii||c>=m||f<Ii||f>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:c,k2neg:w,k2:f}}function w0(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Qh(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return ds(n.lowS,"lowS"),ds(n.prehash,"prehash"),n.format!==void 0&&w0(n.format),n}class MT extends Error{constructor(e=""){super(e)}}const mi={Err:MT,_tlv:{encode:(t,e)=>{const{Err:n}=mi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=qu(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?qu(i.length/2|128):"";return qu(t)+o+i+e},decode(t,e){const{Err:n}=mi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of c)s=s<<8|f;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=mi;if(t<Ii)throw new e("integer: negative integers are not allowed");let n=qu(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=mi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hf(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=mi,i=kt("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:f}=r.decode(2,l);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=mi,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Ii=BigInt(0),ua=BigInt(1),OS=BigInt(2),Xu=BigInt(3),TT=BigInt(4);function Xs(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=kt("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function NT(t,e={}){const n=zE("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;hu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=LS(r,i);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(G,b,u){const{x:d,y:v}=b.toAffine(),R=r.toBytes(d);if(ds(u,"isCompressed"),u){f();const I=!r.isOdd(v);return qr(CS(I),R)}else return qr(Uint8Array.of(4),R,r.toBytes(v))}function w(G){Lr(G,void 0,"Point");const{publicKey:b,publicKeyUncompressed:u}=c,d=G.length,v=G[0],R=G.subarray(1);if(d===b&&(v===2||v===3)){const I=r.fromBytes(R);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const O=M(I);let P;try{P=r.sqrt(O)}catch(B){const ie=B instanceof Error?": "+B.message:"";throw new Error("bad point: is not on curve, sqrt error"+ie)}f();const x=r.isOdd(P);return(v&1)===1!==x&&(P=r.neg(P)),{x:I,y:P}}else if(d===u&&v===4){const I=r.BYTES,O=r.fromBytes(R.subarray(0,I)),P=r.fromBytes(R.subarray(I,I*2));if(!N(O,P))throw new Error("bad point: is not on curve");return{x:O,y:P}}else throw new Error(`bad point: got length ${d}, expected compressed=${b} or uncompressed=${u}`)}const m=e.toBytes||g,E=e.fromBytes||w;function M(G){const b=r.sqr(G),u=r.mul(b,G);return r.add(r.add(u,r.mul(G,o.a)),o.b)}function N(G,b){const u=r.sqr(b),d=M(G);return r.eql(u,d)}if(!N(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const S=r.mul(r.pow(o.a,Xu),TT),A=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(S,A)))throw new Error("bad curve params: a or b");function _(G,b,u=!1){if(!r.isValid(b)||u&&r.is0(b))throw new Error(`bad point coordinate ${G}`);return b}function T(G){if(!(G instanceof j))throw new Error("ProjectivePoint expected")}function C(G){if(!l||!l.basises)throw new Error("no endo");return kT(G,l.basises,i.ORDER)}const D=kd((G,b)=>{const{X:u,Y:d,Z:v}=G;if(r.eql(v,r.ONE))return{x:u,y:d};const R=G.is0();b==null&&(b=R?r.ONE:r.inv(v));const I=r.mul(u,b),O=r.mul(d,b),P=r.mul(v,b);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:I,y:O}}),U=kd(G=>{if(G.is0()){if(e.allowInfinityPoint&&!r.is0(G.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:u}=G.toAffine();if(!r.isValid(b)||!r.isValid(u))throw new Error("bad point: x or y not field elements");if(!N(b,u))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(G,b,u,d,v){return u=new j(r.mul(u.X,G),u.Y,u.Z),b=Md(d,b),u=Md(v,u),b.add(u)}class j{constructor(b,u,d){this.X=_("x",b),this.Y=_("y",u,!0),this.Z=_("z",d),Object.freeze(this)}static CURVE(){return o}static fromAffine(b){const{x:u,y:d}=b||{};if(!b||!r.isValid(u)||!r.isValid(d))throw new Error("invalid affine point");if(b instanceof j)throw new Error("projective point not allowed");return r.is0(u)&&r.is0(d)?j.ZERO:new j(u,d,r.ONE)}static fromBytes(b){const u=j.fromAffine(E(Lr(b,void 0,"point")));return u.assertValidity(),u}static fromHex(b){return j.fromBytes(kt("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,u=!0){return Z.createCache(this,b),u||this.multiply(Xu),this}assertValidity(){U(this)}hasEvenY(){const{y:b}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(b)}equals(b){T(b);const{X:u,Y:d,Z:v}=this,{X:R,Y:I,Z:O}=b,P=r.eql(r.mul(u,O),r.mul(R,v)),x=r.eql(r.mul(d,O),r.mul(I,v));return P&&x}negate(){return new j(this.X,r.neg(this.Y),this.Z)}double(){const{a:b,b:u}=o,d=r.mul(u,Xu),{X:v,Y:R,Z:I}=this;let O=r.ZERO,P=r.ZERO,x=r.ZERO,p=r.mul(v,v),B=r.mul(R,R),ie=r.mul(I,I),te=r.mul(v,R);return te=r.add(te,te),x=r.mul(v,I),x=r.add(x,x),O=r.mul(b,x),P=r.mul(d,ie),P=r.add(O,P),O=r.sub(B,P),P=r.add(B,P),P=r.mul(O,P),O=r.mul(te,O),x=r.mul(d,x),ie=r.mul(b,ie),te=r.sub(p,ie),te=r.mul(b,te),te=r.add(te,x),x=r.add(p,p),p=r.add(x,p),p=r.add(p,ie),p=r.mul(p,te),P=r.add(P,p),ie=r.mul(R,I),ie=r.add(ie,ie),p=r.mul(ie,te),O=r.sub(O,p),x=r.mul(ie,B),x=r.add(x,x),x=r.add(x,x),new j(O,P,x)}add(b){T(b);const{X:u,Y:d,Z:v}=this,{X:R,Y:I,Z:O}=b;let P=r.ZERO,x=r.ZERO,p=r.ZERO;const B=o.a,ie=r.mul(o.b,Xu);let te=r.mul(u,R),se=r.mul(d,I),be=r.mul(v,O),_e=r.add(u,d),we=r.add(R,I);_e=r.mul(_e,we),we=r.add(te,se),_e=r.sub(_e,we),we=r.add(u,v);let Et=r.add(R,O);return we=r.mul(we,Et),Et=r.add(te,be),we=r.sub(we,Et),Et=r.add(d,v),P=r.add(I,O),Et=r.mul(Et,P),P=r.add(se,be),Et=r.sub(Et,P),p=r.mul(B,we),P=r.mul(ie,be),p=r.add(P,p),P=r.sub(se,p),p=r.add(se,p),x=r.mul(P,p),se=r.add(te,te),se=r.add(se,te),be=r.mul(B,be),we=r.mul(ie,we),se=r.add(se,be),be=r.sub(te,be),be=r.mul(B,be),we=r.add(we,be),te=r.mul(se,we),x=r.add(x,te),te=r.mul(Et,we),P=r.mul(_e,P),P=r.sub(P,te),te=r.mul(_e,se),p=r.mul(Et,p),p=r.add(p,te),new j(P,x,p)}subtract(b){return this.add(b.negate())}is0(){return this.equals(j.ZERO)}multiply(b){const{endo:u}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let d,v;const R=I=>Z.cached(this,I,O=>Yo(j,O));if(u){const{k1neg:I,k1:O,k2neg:P,k2:x}=C(b),{p,f:B}=R(O),{p:ie,f:te}=R(x);v=B.add(te),d=z(u.beta,p,ie,I,P)}else{const{p:I,f:O}=R(b);d=I,v=O}return Yo(j,[d,v])[0]}multiplyUnsafe(b){const{endo:u}=e,d=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===Ii||d.is0())return j.ZERO;if(b===ua)return d;if(Z.hasCache(this))return this.multiply(b);if(u){const{k1neg:v,k1:R,k2neg:I,k2:O}=C(b),{p1:P,p2:x}=Ik(j,d,R,O);return z(u.beta,P,x,v,I)}else return Z.unsafe(d,b)}multiplyAndAddUnsafe(b,u,d){const v=this.multiplyUnsafe(u).add(b.multiplyUnsafe(d));return v.is0()?void 0:v}toAffine(b){return D(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return s===ua?!0:b?b(j,this):Z.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return s===ua?this:b?b(j,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(b=!0){return ds(b,"isCompressed"),this.assertValidity(),m(j,this,b)}toHex(b=!0){return os(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return Yo(j,b)}static msm(b,u){return UE(j,i,b,u)}static fromPrivateKey(b){return j.BASE.multiply(Xs(i,b))}}j.BASE=new j(o.Gx,o.Gy,r.ONE),j.ZERO=new j(r.ZERO,r.ONE,r.ZERO),j.Fp=r,j.Fn=i;const H=i.BITS,Z=new DE(j,e.endo?Math.ceil(H/2):H);return j.BASE.precompute(8),j}function CS(t){return Uint8Array.of(t?2:3)}function LS(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function xT(t,e={}){const{Fn:n}=t,r=e.randomBytes||wy,i=Object.assign(LS(t.Fp,n),{seed:LE(n.ORDER)});function o(m){try{return!!Xs(n,m)}catch{return!1}}function s(m,E){const{publicKey:M,publicKeyUncompressed:N}=i;try{const S=m.length;return E===!0&&S!==M||E===!1&&S!==N?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(i.seed)){return Sk(Lr(m,i.seed,"seed"),n.ORDER)}function l(m,E=!0){return t.BASE.multiply(Xs(n,m)).toBytes(E)}function c(m){const E=a(m);return{secretKey:E,publicKey:l(E)}}function f(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:E,publicKey:M,publicKeyUncompressed:N}=i;if(n.allowedLengths||E===M)return;const S=kt("key",m).length;return S===M||S===N}function g(m,E,M=!0){if(f(m)===!0)throw new Error("first arg must be private key");if(f(E)===!1)throw new Error("second arg must be public key");const N=Xs(n,m);return t.fromHex(E).multiply(N).toBytes(M)}return Object.freeze({getPublicKey:l,getSharedSecret:g,keygen:c,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:m=>Xs(n,m),precompute(m=8,E=t.BASE){return E.precompute(m,!1)}},lengths:i})}function OT(t,e,n={}){pE(e),hu(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||wy,i=n.hmac||((u,...d)=>xS(e,u,qr(...d))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s,{keygen:c,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m}=xT(t,n),E={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},M="compact";function N(u){const d=a>>ua;return u>d}function S(u,d){if(!s.isValidNot0(d))throw new Error(`invalid signature ${u}: out of range 1..Point.Fn.ORDER`);return d}function A(u,d){w0(d);const v=m.signature,R=d==="compact"?v:d==="recovered"?v+1:void 0;return Lr(u,R,`${d} signature`)}class _{constructor(d,v,R){this.r=S("r",d),this.s=S("s",v),R!=null&&(this.recovery=R),Object.freeze(this)}static fromBytes(d,v=M){A(d,v);let R;if(v==="der"){const{r:x,s:p}=mi.toSig(Lr(d));return new _(x,p)}v==="recovered"&&(R=d[0],v="compact",d=d.subarray(1));const I=s.BYTES,O=d.subarray(0,I),P=d.subarray(I,I*2);return new _(s.fromBytes(O),s.fromBytes(P),R)}static fromHex(d,v){return this.fromBytes(Rd(d),v)}addRecoveryBit(d){return new _(this.r,this.s,d)}recoverPublicKey(d){const v=o.ORDER,{r:R,s:I,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*OS<v&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const x=O===2||O===3?R+a:R;if(!o.isValid(x))throw new Error("recovery id 2 or 3 invalid");const p=o.toBytes(x),B=t.fromBytes(qr(CS((O&1)===0),p)),ie=s.inv(x),te=C(kt("msgHash",d)),se=s.create(-te*ie),be=s.create(I*ie),_e=t.BASE.multiplyUnsafe(se).add(B.multiplyUnsafe(be));if(_e.is0())throw new Error("point at infinify");return _e.assertValidity(),_e}hasHighS(){return N(this.s)}toBytes(d=M){if(w0(d),d==="der")return Rd(mi.hexFromSig(this));const v=s.toBytes(this.r),R=s.toBytes(this.s);if(d==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return qr(Uint8Array.of(this.recovery),v,R)}return qr(v,R)}toHex(d){return os(this.toBytes(d))}assertValidity(){}static fromCompact(d){return _.fromBytes(kt("sig",d),"compact")}static fromDER(d){return _.fromBytes(kt("sig",d),"der")}normalizeS(){return this.hasHighS()?new _(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return os(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return os(this.toBytes("compact"))}}const T=n.bits2int||function(d){if(d.length>8192)throw new Error("input is too large");const v=hf(d),R=d.length*8-l;return R>0?v>>BigInt(R):v},C=n.bits2int_modN||function(d){return s.create(T(d))},D=fu(l);function U(u){return g0("num < 2^"+l,u,Ii,D),s.toBytes(u)}function z(u,d){return Lr(u,void 0,"message"),d?Lr(e(u),void 0,"prehashed message"):u}function j(u,d,v){if(["recovered","canonical"].some(se=>se in v))throw new Error("sign() legacy options not supported");const{lowS:R,prehash:I,extraEntropy:O}=Qh(v,E);u=z(u,I);const P=C(u),x=Xs(s,d),p=[U(x),U(P)];if(O!=null&&O!==!1){const se=O===!0?r(m.secretKey):O;p.push(kt("extraEntropy",se))}const B=qr(...p),ie=P;function te(se){const be=T(se);if(!s.isValidNot0(be))return;const _e=s.inv(be),we=t.BASE.multiply(be).toAffine(),Et=s.create(we.x);if(Et===Ii)return;const Ze=s.create(_e*s.create(ie+Et*x));if(Ze===Ii)return;let Xe=(we.x===Et?0:2)|Number(we.y&ua),yr=Ze;return R&&N(Ze)&&(yr=s.neg(Ze),Xe^=1),new _(Et,yr,Xe)}return{seed:B,k2sig:te}}function H(u,d,v={}){u=kt("message",u);const{seed:R,k2sig:I}=j(u,d,v);return fk(e.outputLen,s.BYTES,i)(R,I)}function Z(u){let d;const v=typeof u=="string"||du(u),R=!v&&u!==null&&typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!v&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(R)d=new _(u.r,u.s);else if(v){try{d=_.fromBytes(kt("sig",u),"der")}catch(I){if(!(I instanceof mi.Err))throw I}if(!d)try{d=_.fromBytes(kt("sig",u),"compact")}catch{return!1}}return d||!1}function G(u,d,v,R={}){const{lowS:I,prehash:O,format:P}=Qh(R,E);if(v=kt("publicKey",v),d=z(kt("message",d),O),"strict"in R)throw new Error("options.strict was renamed to lowS");const x=P===void 0?Z(u):_.fromBytes(kt("sig",u),P);if(x===!1)return!1;try{const p=t.fromBytes(v);if(I&&x.hasHighS())return!1;const{r:B,s:ie}=x,te=C(d),se=s.inv(ie),be=s.create(te*se),_e=s.create(B*se),we=t.BASE.multiplyUnsafe(be).add(p.multiplyUnsafe(_e));return we.is0()?!1:s.create(we.x)===B}catch{return!1}}function b(u,d,v={}){const{prehash:R}=Qh(v,E);return d=z(d,R),_.fromBytes(u,"recovered").recoverPublicKey(d).toBytes()}return Object.freeze({keygen:c,getPublicKey:f,getSharedSecret:g,utils:w,lengths:m,Point:t,sign:H,verify:G,recoverPublicKey:b,Signature:_,hash:e})}function CT(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=ws(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function LT(t){const{CURVE:e,curveOpts:n}=CT(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function BT(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,OE(n.Fn.ORDER,n.Fn.BITS))})}function PT(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=LT(t),o=NT(e,n),s=OT(o,r,i);return BT(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DT(t,e){const n=r=>PT({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uy={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},UT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},s1=BigInt(2);function zT(t){const e=Uy.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,f=c*c*t%e,g=Rt(f,n,e)*f%e,w=Rt(g,n,e)*f%e,m=Rt(w,s1,e)*c%e,E=Rt(m,i,e)*m%e,M=Rt(E,o,e)*E%e,N=Rt(M,a,e)*M%e,S=Rt(N,l,e)*N%e,A=Rt(S,a,e)*M%e,_=Rt(A,n,e)*f%e,T=Rt(_,s,e)*E%e,C=Rt(T,r,e)*c%e,D=Rt(C,s1,e);if(!v0.eql(v0.sqr(D),t))throw new Error("Cannot find square root");return D}const v0=ws(Uy.p,{sqrt:zT}),zy=DT({...Uy,Fp:v0,lowS:!0,endo:UT},_E),jT=Pa.utils.randomPrivateKey,a1=()=>{const t=Pa.utils.randomPrivateKey(),e=Bd(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Bd=Pa.getPublicKey;function l1(t){try{return Pa.ExtendedPoint.fromHex(t),!0}catch{return!1}}const jy=(t,e)=>Pa.sign(t,e.slice(0,32)),WT=Pa.verify,Me=t=>ge.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ge.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ge.Buffer.from(t);let Wy=class{constructor(e){Object.assign(this,e)}encode(){return ge.Buffer.from(YE(Rl,this))}static decode(e){return qE(Rl,this,e)}static decodeUnchecked(e){return HE(Rl,this,e)}};class FT extends Wy{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Rl=new Map;var BS;const PS=32,ri=32;function HT(t){return t._bn!==void 0}let u1=1;class Q extends Wy{constructor(e){if(super({}),this._bn=void 0,HT(e))this._bn=e._bn;else{if(typeof e=="string"){const n=nn.decode(e);if(n.length!=ri)throw new Error("Invalid public key input");this._bn=new to(n)}else this._bn=new to(e);if(this._bn.byteLength()>ri)throw new Error("Invalid public key input")}}static unique(){const e=new Q(u1);return u1+=1,new Q(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return nn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ge.Buffer);if(e.length===ri)return e;const n=ge.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ge.Buffer.concat([e.toBuffer(),ge.Buffer.from(n),r.toBuffer()]),o=Jw(i);return new Q(o)}static createProgramAddressSync(e,n){let r=ge.Buffer.alloc(0);e.forEach(function(o){if(o.length>PS)throw new TypeError("Max seed length exceeded");r=ge.Buffer.concat([r,Me(o)])}),r=ge.Buffer.concat([r,n.toBuffer(),ge.Buffer.from("ProgramDerivedAddress")]);const i=Jw(r);if(l1(i))throw new Error("Invalid seeds, address must fall off the curve");return new Q(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(ge.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Q(e);return l1(n.toBytes())}}BS=Q;Q.default=new BS("11111111111111111111111111111111");Rl.set(Q,{kind:"struct",fields:[["_bn","u256"]]});class KT{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Me(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Me(jT()),this._publicKey=Me(Bd(this._secretKey))}get publicKey(){return new Q(this._publicKey)}get secretKey(){return ge.Buffer.concat([this._secretKey,this._publicKey],64)}}const $T=new Q("BPFLoader1111111111111111111111111111111111"),mo=1232,_f=127,Xl=64;class Fy extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Fy.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Hy extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Hy.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Js extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Js.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Jl{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Oe=(t="publicKey")=>lt(32,t),VT=(t="signature")=>lt(64,t),qo=(t="string")=>{const e=fe([de("length"),de("lengthPadding"),lt(yo(de(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:ge.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>de().span+de().span+ge.Buffer.from(o,"utf8").length,i},GT=(t="authorized")=>fe([Oe("staker"),Oe("withdrawer")],t),YT=(t="lockup")=>fe([ir("unixTimestamp"),ir("epoch"),Oe("custodian")],t),qT=(t="voteInit")=>fe([Oe("nodePubkey"),Oe("authorizedVoter"),Oe("authorizedWithdrawer"),Pe("commission")],t),ZT=(t="voteAuthorizeWithSeedArgs")=>fe([de("voteAuthorizationType"),Oe("currentAuthorityDerivedKeyOwnerPubkey"),qo("currentAuthorityDerivedKeySeed"),Oe("newAuthorized")],t);function DS(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return DS({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Wn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function or(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function ze(t,e){if(!t)throw new Error(e||"Assertion failed")}class Ef{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Ef(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ze(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{ze(n.length>0,"Expected at least one writable signer key");const[l]=n[0];ze(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Q(l)),...r.map(([l])=>new Q(l)),...i.map(([l])=>new Q(l)),...o.map(([l])=>new Q(l))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new Q(o),l=e.findIndex(c=>c.equals(a));l>=0&&(ze(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const US="Reached end of buffer unexpectedly";function Zr(t){if(t.length===0)throw new Error(US);return t.shift()}function Fn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(US);return t.splice(...e)}class Fr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Q(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:nn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Jl(this.staticAccountKeys)}static compile(e){const n=Ef.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new Jl(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:nn.encode(a.data)}));return new Fr({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];or(n,e);const r=this.instructions.map(g=>{const{accounts:w,programIdIndex:m}=g,E=Array.from(nn.decode(g.data));let M=[];or(M,w.length);let N=[];return or(N,E.length),{programIdIndex:m,keyIndicesCount:ge.Buffer.from(M),keyIndices:w,dataLength:ge.Buffer.from(N),data:E}});let i=[];or(i,r.length);let o=ge.Buffer.alloc(mo);ge.Buffer.from(i).copy(o);let s=i.length;r.forEach(g=>{const m=fe([Pe("programIdIndex"),lt(g.keyIndicesCount.length,"keyIndicesCount"),mn(Pe("keyIndex"),g.keyIndices.length,"keyIndices"),lt(g.dataLength.length,"dataLength"),mn(Pe("userdatum"),g.data.length,"data")]).encode(g,o,s);s+=m}),o=o.slice(0,s);const a=fe([lt(1,"numRequiredSignatures"),lt(1,"numReadonlySignedAccounts"),lt(1,"numReadonlyUnsignedAccounts"),lt(n.length,"keyCount"),mn(Oe("key"),e,"keys"),Oe("recentBlockhash")]),l={numRequiredSignatures:ge.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ge.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ge.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ge.Buffer.from(n),keys:this.accountKeys.map(g=>Me(g.toBytes())),recentBlockhash:nn.decode(this.recentBlockhash)};let c=ge.Buffer.alloc(2048);const f=a.encode(l,c);return o.copy(c,f),c.slice(0,f+o.length)}static from(e){let n=[...e];const r=Zr(n);if(r!==(r&_f))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Zr(n),o=Zr(n),s=Wn(n);let a=[];for(let w=0;w<s;w++){const m=Fn(n,0,ri);a.push(new Q(ge.Buffer.from(m)))}const l=Fn(n,0,ri),c=Wn(n);let f=[];for(let w=0;w<c;w++){const m=Zr(n),E=Wn(n),M=Fn(n,0,E),N=Wn(n),S=Fn(n,0,N),A=nn.encode(ge.Buffer.from(S));f.push({programIdIndex:m,accounts:M,data:A})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:nn.encode(ge.Buffer.from(l)),accountKeys:a,instructions:f};return new Fr(g)}}class fs{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Jl(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Ef.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const f of o){const g=n.extractTableLookup(f);if(g!==void 0){const[w,{writable:m,readonly:E}]=g;r.push(w),i.writable.push(...m),i.readonly.push(...E)}}const[s,a]=n.getMessageComponents(),c=new Jl(a,i).compileInstructions(e.instructions);return new fs({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();or(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();or(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();or(o,this.addressTableLookups.length);const s=fe([Pe("prefix"),fe([Pe("numRequiredSignatures"),Pe("numReadonlySignedAccounts"),Pe("numReadonlyUnsignedAccounts")],"header"),lt(e.length,"staticAccountKeysLength"),mn(Oe(),this.staticAccountKeys.length,"staticAccountKeys"),Oe("recentBlockhash"),lt(r.length,"instructionsLength"),lt(n.length,"serializedInstructions"),lt(o.length,"addressTableLookupsLength"),lt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(mo),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:nn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(mo);for(const r of this.compiledInstructions){const i=Array();or(i,r.accountKeyIndexes.length);const o=Array();or(o,r.data.length);const s=fe([Pe("programIdIndex"),lt(i.length,"encodedAccountKeyIndexesLength"),mn(Pe(),r.accountKeyIndexes.length,"accountKeyIndexes"),lt(o.length,"encodedDataLength"),lt(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(mo);for(const r of this.addressTableLookups){const i=Array();or(i,r.writableIndexes.length);const o=Array();or(o,r.readonlyIndexes.length);const s=fe([Oe("accountKey"),lt(i.length,"encodedWritableIndexesLength"),mn(Pe(),r.writableIndexes.length,"writableIndexes"),lt(o.length,"encodedReadonlyIndexesLength"),mn(Pe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Zr(n),i=r&_f;ze(r!==i,"Expected versioned message but received legacy message");const o=i;ze(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Zr(n),numReadonlySignedAccounts:Zr(n),numReadonlyUnsignedAccounts:Zr(n)},a=[],l=Wn(n);for(let E=0;E<l;E++)a.push(new Q(Fn(n,0,ri)));const c=nn.encode(Fn(n,0,ri)),f=Wn(n),g=[];for(let E=0;E<f;E++){const M=Zr(n),N=Wn(n),S=Fn(n,0,N),A=Wn(n),_=new Uint8Array(Fn(n,0,A));g.push({programIdIndex:M,accountKeyIndexes:S,data:_})}const w=Wn(n),m=[];for(let E=0;E<w;E++){const M=new Q(Fn(n,0,ri)),N=Wn(n),S=Fn(n,0,N),A=Wn(n),_=Fn(n,0,A);m.push({accountKey:M,writableIndexes:S,readonlyIndexes:_})}return new fs({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:m})}}const Ky={deserializeMessageVersion(t){const e=t[0],n=e&_f;return n===e?"legacy":n},deserialize:t=>{const e=Ky.deserializeMessageVersion(t);if(e==="legacy")return Fr.from(t);if(e===0)return fs.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let hi=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const QT=ge.Buffer.alloc(Xl).fill(0);class qe{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ge.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Le{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new qe(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let M=0;M<n.length;M++)if(n[M].programId===void 0)throw new Error(`Transaction instruction index ${M} has undefined program id`);const i=[],o=[];n.forEach(M=>{M.keys.forEach(S=>{o.push({...S})});const N=M.programId.toString();i.includes(N)||i.push(N)}),i.forEach(M=>{o.push({pubkey:new Q(M),isSigner:!1,isWritable:!1})});const s=[];o.forEach(M=>{const N=M.pubkey.toString(),S=s.findIndex(A=>A.pubkey.toString()===N);S>-1?(s[S].isWritable=s[S].isWritable||M.isWritable,s[S].isSigner=s[S].isSigner||M.isSigner):s.push(M)}),s.sort(function(M,N){if(M.isSigner!==N.isSigner)return M.isSigner?-1:1;if(M.isWritable!==N.isWritable)return M.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return M.pubkey.toBase58().localeCompare(N.pubkey.toBase58(),"en",S)});const a=s.findIndex(M=>M.pubkey.equals(r));if(a>-1){const[M]=s.splice(a,1);M.isSigner=!0,M.isWritable=!0,s.unshift(M)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const M of this.signatures){const N=s.findIndex(S=>S.pubkey.equals(M.publicKey));if(N>-1)s[N].isSigner||(s[N].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${M.publicKey.toString()}`)}let l=0,c=0,f=0;const g=[],w=[];s.forEach(({pubkey:M,isSigner:N,isWritable:S})=>{N?(g.push(M.toString()),l+=1,S||(c+=1)):(w.push(M.toString()),S||(f+=1))});const m=g.concat(w),E=n.map(M=>{const{data:N,programId:S}=M;return{programIdIndex:m.indexOf(S.toString()),accounts:M.keys.map(A=>m.indexOf(A.pubkey.toString())),data:nn.encode(N)}});return E.forEach(M=>{ze(M.programIdIndex>=0),M.accounts.forEach(N=>ze(N>=0))}),new Fr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:f},accountKeys:m,recentBlockhash:e,instructions:E})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=jy(r,i.secretKey);this._addSignature(i.publicKey,Me(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){ze(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ge.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):WT(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];or(r,n.length);const i=r.length+n.length*64+e.length,o=ge.Buffer.alloc(i);return ze(n.length<256),ge.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(ze(s.length===64,"signature has invalid length"),ge.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),ze(o.length<=mo,`Transaction too large: ${o.length} > ${mo}`),o}get keys(){return ze(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ze(this.instructions.length===1),this.instructions[0].programId}get data(){return ze(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Wn(n);let i=[];for(let o=0;o<r;o++){const s=Fn(n,0,Xl);i.push(nn.encode(ge.Buffer.from(s)))}return Le.populate(Fr.from(n),i)}static populate(e,n=[]){const r=new Le;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==nn.encode(QT)?null:nn.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new qe({keys:o,programId:e.accountKeys[i.programIdIndex],data:nn.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class $y{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;ze(c>0,"Message header is invalid");const f=e.staticAccountKeys.length-s-l;ze(f>=0,"Message header is invalid");const g=e.getAccountKeys(n),w=g.get(0);if(w===void 0)throw new Error("Failed to decompile message because no account keys were found");const m=[];for(const E of i){const M=[];for(const S of E.accountKeyIndexes){const A=g.get(S);if(A===void 0)throw new Error(`Failed to find key for account key index ${S}`);const _=S<s;let T;_?T=S<c:S<g.staticAccountKeys.length?T=S-s<f:T=S-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,M.push({pubkey:A,isSigner:S<r.numRequiredSignatures,isWritable:T})}const N=g.get(E.programIdIndex);if(N===void 0)throw new Error(`Failed to find program id for program id index ${E.programIdIndex}`);m.push(new qe({programId:N,data:Me(E.data),keys:M}))}return new $y({payerKey:w,instructions:m,recentBlockhash:o})}compileToLegacyMessage(){return Fr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return fs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class eu{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)ze(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Xl));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();or(n,this.signatures.length);const r=fe([lt(n.length,"encodedSignaturesLength"),mn(VT(),this.signatures.length,"signatures"),lt(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let n=[...e];const r=[],i=Wn(n);for(let s=0;s<i;s++)r.push(new Uint8Array(Fn(n,0,Xl)));const o=Ky.deserialize(new Uint8Array(n));return new eu(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));ze(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=jy(n,i.secretKey)}}addSignature(e,n){ze(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));ze(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const XT=160,JT=64,eN=XT/JT,zS=1e3/eN,Vr=new Q("SysvarC1ock11111111111111111111111111111111"),tN=new Q("SysvarEpochSchedu1e111111111111111111111111"),nN=new Q("Sysvar1nstructions1111111111111111111111111"),vc=new Q("SysvarRecentB1ockHashes11111111111111111111"),Ia=new Q("SysvarRent111111111111111111111111111111111"),rN=new Q("SysvarRewards111111111111111111111111111111"),iN=new Q("SysvarS1otHashes111111111111111111111111111"),oN=new Q("SysvarS1otHistory11111111111111111111111111"),_c=new Q("SysvarStakeHistory1111111111111111111111111");class tu extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const sN={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class pe extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function _0(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw o!=null?new tu({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Wo(t){return new Promise(e=>setTimeout(e,t))}function Be(t,e){const n=t.layout.span>=0?t.layout.span:DS(t,e),r=ge.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function We(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const jS=hn("lamportsPerSignature"),WS=fe([de("version"),de("state"),Oe("authorizedPubkey"),Oe("nonce"),fe([jS],"feeCalculator")]),E0=WS.span;class Sf{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=WS.decode(Me(e),0);return new Sf({authorizedPubkey:new Q(n.authorizedPubkey),nonce:new Q(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Ra(t){const e=lt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=CM();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}class aN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(nt))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=We(nt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new Q(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=We(nt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=We(nt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new Q(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=We(nt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:o}=We(nt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Q(n),seed:r,space:i,programId:new Q(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=We(nt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Q(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=We(nt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Q(n),seed:r,programId:new Q(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:o,programId:s}=We(nt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Q(n),seed:r,lamports:i,space:o,programId:new Q(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=We(nt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Q(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),We(nt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=We(nt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=We(nt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Q(n)}}static checkProgramId(e){if(!e.equals(rn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const nt=Object.freeze({Create:{index:0,layout:fe([de("instruction"),ir("lamports"),ir("space"),Oe("programId")])},Assign:{index:1,layout:fe([de("instruction"),Oe("programId")])},Transfer:{index:2,layout:fe([de("instruction"),Ra("lamports")])},CreateWithSeed:{index:3,layout:fe([de("instruction"),Oe("base"),qo("seed"),ir("lamports"),ir("space"),Oe("programId")])},AdvanceNonceAccount:{index:4,layout:fe([de("instruction")])},WithdrawNonceAccount:{index:5,layout:fe([de("instruction"),ir("lamports")])},InitializeNonceAccount:{index:6,layout:fe([de("instruction"),Oe("authorized")])},AuthorizeNonceAccount:{index:7,layout:fe([de("instruction"),Oe("authorized")])},Allocate:{index:8,layout:fe([de("instruction"),ir("space")])},AllocateWithSeed:{index:9,layout:fe([de("instruction"),Oe("base"),qo("seed"),ir("space"),Oe("programId")])},AssignWithSeed:{index:10,layout:fe([de("instruction"),Oe("base"),qo("seed"),Oe("programId")])},TransferWithSeed:{index:11,layout:fe([de("instruction"),Ra("lamports"),qo("seed"),Oe("programId")])},UpgradeNonceAccount:{index:12,layout:fe([de("instruction")])}});class rn{constructor(){}static createAccount(e){const n=nt.Create,r=Be(n,{lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())});return new qe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=nt.TransferWithSeed;n=Be(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=nt.Transfer;n=Be(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new qe({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=nt.AssignWithSeed;n=Be(i,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=nt.Assign;n=Be(i,{programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new qe({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=nt.CreateWithSeed,r=Be(n,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new qe({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Le;"basePubkey"in e&&"seed"in e?n.add(rn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:E0,programId:this.programId})):n.add(rn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:E0,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=nt.InitializeNonceAccount,r=Be(n,{authorized:Me(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vc,isSigner:!1,isWritable:!1},{pubkey:Ia,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new qe(i)}static nonceAdvance(e){const n=nt.AdvanceNonceAccount,r=Be(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vc,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new qe(i)}static nonceWithdraw(e){const n=nt.WithdrawNonceAccount,r=Be(n,{lamports:e.lamports});return new qe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:vc,isSigner:!1,isWritable:!1},{pubkey:Ia,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=nt.AuthorizeNonceAccount,r=Be(n,{authorized:Me(e.newAuthorizedPubkey.toBuffer())});return new qe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=nt.AllocateWithSeed;n=Be(i,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Me(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=nt.Allocate;n=Be(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new qe({keys:r,programId:this.programId,data:n})}}rn.programId=new Q("11111111111111111111111111111111");const lN=mo-300;class hs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/hs.chunkSize)+1+1)}static async load(e,n,r,i,o){{const g=await e.getMinimumBalanceForRentExemption(o.length),w=await e.getAccountInfo(r.publicKey,"confirmed");let m=null;if(w!==null){if(w.executable)return console.error("Program load failed, account is already executable"),!1;w.data.length!==o.length&&(m=m||new Le,m.add(rn.allocate({accountPubkey:r.publicKey,space:o.length}))),w.owner.equals(i)||(m=m||new Le,m.add(rn.assign({accountPubkey:r.publicKey,programId:i}))),w.lamports<g&&(m=m||new Le,m.add(rn.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:g-w.lamports})))}else m=new Le().add(rn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:g>0?g:1,space:o.length,programId:i}));m!==null&&await _0(e,m,[n,r],{commitment:"confirmed"})}const s=fe([de("instruction"),de("offset"),de("bytesLength"),de("bytesLengthPadding"),mn(Pe("byte"),yo(de(),-8),"bytes")]),a=hs.chunkSize;let l=0,c=o,f=[];for(;c.length>0;){const g=c.slice(0,a),w=ge.Buffer.alloc(a+16);s.encode({instruction:0,offset:l,bytes:g,bytesLength:0,bytesLengthPadding:0},w);const m=new Le().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:w});f.push(_0(e,m,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Wo(1e3/4),l+=a,c=c.slice(a)}await Promise.all(f);{const g=fe([de("instruction")]),w=ge.Buffer.alloc(g.span);g.encode({instruction:1},w);const m=new Le().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ia,isSigner:!1,isWritable:!1}],programId:i,data:w}),E="processed",M=await e.sendTransaction(m,[n,r],{preflightCommitment:E}),{context:N,value:S}=await e.confirmTransaction({signature:M,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},E);if(S.err)throw new Error(`Transaction ${M} failed (${JSON.stringify(S)})`);for(;;){try{if(await e.getSlot({commitment:E})>N.slot)break}catch{}await new Promise(A=>setTimeout(A,Math.round(zS/2)))}}return!0}}hs.chunkSize=lN;const uN=new Q("BPFLoader2111111111111111111111111111111111");class cN{static getMinNumSignatures(e){return hs.getMinNumSignatures(e)}static load(e,n,r,i,o){return hs.load(e,n,r,o,i)}}function dN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xh,c1;function fN(){if(c1)return Xh;c1=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,f,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(g=t.call(r),g==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(g==="[object Object]"){for(l=e(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],f=n(r[c],!1),f!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+f),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Xh=function(r){var i=n(r,!1);if(i!==void 0)return""+i},Xh}var hN=fN(),d1=dN(hN);const el=32;function Jh(t){let e=0;for(;t>1;)t/=2,e++;return e}function pN(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class FS{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Jh(pN(e+el+1))-Jh(el)-1,r=this.getSlotsInEpoch(n),i=e-(r-el);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*el:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Jh(el)):this.slotsPerEpoch}}var gN=globalThis.fetch;class yN extends mT{constructor(e,n,r){const i=o=>{const s=gT(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function mN(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const f1=56;class S0{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=mN(wN,e),r=e.length-f1;ze(r>=0,"lookup table is invalid"),ze(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=fe([mn(Oe(),i,"addresses")]).decode(e.slice(f1));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Q(n.authority[0]):void 0,addresses:o.map(s=>new Q(s))}}}const wN={index:1,layout:fe([de("typeIndex"),Ra("deactivationSlot"),hn("lastExtendedSlot"),Pe("lastExtendedStartIndex"),Pe(),mn(Oe(),yo(Pe(),-1),"authority")])},vN=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function _N(t){const e=t.match(vN);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const _t=yu(By(Q),re(),t=>new Q(t)),HS=Py([re(),mt("base64")]),Vy=yu(By(ge.Buffer),HS,t=>ge.Buffer.from(t[0],"base64")),KS=30*1e3;function EN(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function tt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function h1(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function $S(t){return Dn([X({jsonrpc:mt("2.0"),id:re(),result:t}),X({jsonrpc:mt("2.0"),id:re(),error:X({code:za(),message:re(),data:ye(zM())})})])}const SN=$S(za());function ke(t){return yu($S(t),SN,e=>"error"in e?e:{...e,result:oe(e.result,t)})}function Tt(t){return ke(X({context:X({slot:$()}),value:t}))}function bf(t){return X({context:X({slot:$()}),value:t})}function ep(t,e){return t===0?new fs({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Q(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:nn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Fr(e)}const bN=X({foundation:$(),foundationTerm:$(),initial:$(),taper:$(),terminal:$()}),AN=ke(ae(le(X({epoch:$(),effectiveSlot:$(),amount:$(),postBalance:$(),commission:ye(le($()))})))),IN=ae(X({slot:$(),prioritizationFee:$()})),RN=X({total:$(),validator:$(),foundation:$(),epoch:$()}),kN=X({epoch:$(),slotIndex:$(),slotsInEpoch:$(),absoluteSlot:$(),blockHeight:ye($()),transactionCount:ye($())}),MN=X({slotsPerEpoch:$(),leaderScheduleSlotOffset:$(),warmup:ii(),firstNormalEpoch:$(),firstNormalSlot:$()}),TN=wS(re(),ae($())),Es=le(Dn([X({}),re()])),NN=X({err:Es}),xN=mt("receivedSignature"),ON=X({"solana-core":re(),"feature-set":ye($())}),CN=X({program:re(),programId:_t,parsed:za()}),LN=X({programId:_t,accounts:ae(_t),data:re()}),p1=Tt(X({err:le(Dn([X({}),re()])),logs:le(ae(re())),accounts:ye(le(ae(le(X({executable:ii(),owner:re(),lamports:$(),data:ae(re()),rentEpoch:ye($())}))))),unitsConsumed:ye($()),returnData:ye(le(X({programId:re(),data:Py([re(),mt("base64")])}))),innerInstructions:ye(le(ae(X({index:$(),instructions:ae(Dn([CN,LN]))}))))})),BN=Tt(X({byIdentity:wS(re(),ae($())),range:X({firstSlot:$(),lastSlot:$()})}));function PN(t,e,n,r,i,o){const s=n||gN;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(f,g)=>{const w=await new Promise((m,E)=>{try{r(f,g,(M,N)=>m([M,N]))}catch(M){E(M)}});return await s(...w)}),new fT(async(f,g)=>{const w={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Px)};try{let m=5,E,M=500;for(;l?E=await l(t,w):E=await s(t,w),!(E.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${E.status} ${E.statusText}.  Retrying after ${M}ms delay...`),await Wo(M),M*=2;const N=await E.text();E.ok?g(null,N):g(new Error(`${E.status} ${E.statusText}: ${N}`))}catch(m){m instanceof Error&&g(m)}},{})}function DN(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function UN(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const zN=ke(bN),jN=ke(RN),WN=ke(IN),FN=ke(kN),HN=ke(MN),KN=ke(TN),$N=ke($()),VN=Tt(X({total:$(),circulating:$(),nonCirculating:$(),nonCirculatingAccounts:ae(_t)})),b0=X({amount:re(),uiAmount:le($()),decimals:$(),uiAmountString:ye(re())}),GN=Tt(ae(X({address:_t,amount:re(),uiAmount:le($()),decimals:$(),uiAmountString:ye(re())}))),YN=Tt(ae(X({pubkey:_t,account:X({executable:ii(),owner:_t,lamports:$(),data:Vy,rentEpoch:$()})}))),A0=X({program:re(),parsed:za(),space:$()}),qN=Tt(ae(X({pubkey:_t,account:X({executable:ii(),owner:_t,lamports:$(),data:A0,rentEpoch:$()})}))),ZN=Tt(ae(X({lamports:$(),address:_t}))),nu=X({executable:ii(),owner:_t,lamports:$(),data:Vy,rentEpoch:$()}),QN=X({pubkey:_t,account:nu}),XN=yu(Dn([By(ge.Buffer),A0]),Dn([HS,A0]),t=>Array.isArray(t)?oe(t,Vy):t),I0=X({executable:ii(),owner:_t,lamports:$(),data:XN,rentEpoch:$()}),JN=X({pubkey:_t,account:I0}),ex=X({state:Dn([mt("active"),mt("inactive"),mt("activating"),mt("deactivating")]),active:$(),inactive:$()}),tx=ke(ae(X({signature:re(),slot:$(),err:Es,memo:le(re()),blockTime:ye(le($()))}))),nx=ke(ae(X({signature:re(),slot:$(),err:Es,memo:le(re()),blockTime:ye(le($()))}))),rx=X({subscription:$(),result:bf(nu)}),ix=X({pubkey:_t,account:nu}),ox=X({subscription:$(),result:bf(ix)}),sx=X({parent:$(),slot:$(),root:$()}),ax=X({subscription:$(),result:sx}),lx=Dn([X({type:Dn([mt("firstShredReceived"),mt("completed"),mt("optimisticConfirmation"),mt("root")]),slot:$(),timestamp:$()}),X({type:mt("createdBank"),parent:$(),slot:$(),timestamp:$()}),X({type:mt("frozen"),slot:$(),timestamp:$(),stats:X({numTransactionEntries:$(),numSuccessfulTransactions:$(),numFailedTransactions:$(),maxTransactionsPerEntry:$()})}),X({type:mt("dead"),slot:$(),timestamp:$(),err:re()})]),ux=X({subscription:$(),result:lx}),cx=X({subscription:$(),result:bf(Dn([NN,xN]))}),dx=X({subscription:$(),result:$()}),fx=X({pubkey:re(),gossip:le(re()),tpu:le(re()),rpc:le(re()),version:le(re())}),g1=X({votePubkey:re(),nodePubkey:re(),activatedStake:$(),epochVoteAccount:ii(),epochCredits:ae(Py([$(),$(),$()])),commission:$(),lastVote:$(),rootSlot:le($())}),hx=ke(X({current:ae(g1),delinquent:ae(g1)})),px=Dn([mt("processed"),mt("confirmed"),mt("finalized")]),gx=X({slot:$(),confirmations:le($()),err:Es,confirmationStatus:ye(px)}),yx=Tt(ae(le(gx))),mx=ke($()),VS=X({accountKey:_t,writableIndexes:ae($()),readonlyIndexes:ae($())}),Gy=X({signatures:ae(re()),message:X({accountKeys:ae(re()),header:X({numRequiredSignatures:$(),numReadonlySignedAccounts:$(),numReadonlyUnsignedAccounts:$()}),instructions:ae(X({accounts:ae($()),data:re(),programIdIndex:$()})),recentBlockhash:re(),addressTableLookups:ye(ae(VS))})}),GS=X({pubkey:_t,signer:ii(),writable:ii(),source:ye(Dn([mt("transaction"),mt("lookupTable")]))}),YS=X({accountKeys:ae(GS),signatures:ae(re())}),qS=X({parsed:za(),program:re(),programId:_t}),ZS=X({accounts:ae(_t),data:re(),programId:_t}),wx=Dn([ZS,qS]),vx=Dn([X({parsed:za(),program:re(),programId:re()}),X({accounts:ae(re()),data:re(),programId:re()})]),QS=yu(wx,vx,t=>"accounts"in t?oe(t,ZS):oe(t,qS)),XS=X({signatures:ae(re()),message:X({accountKeys:ae(GS),instructions:ae(QS),recentBlockhash:re(),addressTableLookups:ye(le(ae(VS)))})}),Pd=X({accountIndex:$(),mint:re(),owner:ye(re()),programId:ye(re()),uiTokenAmount:b0}),JS=X({writable:ae(_t),readonly:ae(_t)}),Af=X({err:Es,fee:$(),innerInstructions:ye(le(ae(X({index:$(),instructions:ae(X({accounts:ae($()),data:re(),programIdIndex:$()}))})))),preBalances:ae($()),postBalances:ae($()),logMessages:ye(le(ae(re()))),preTokenBalances:ye(le(ae(Pd))),postTokenBalances:ye(le(ae(Pd))),loadedAddresses:ye(JS),computeUnitsConsumed:ye($()),costUnits:ye($())}),Yy=X({err:Es,fee:$(),innerInstructions:ye(le(ae(X({index:$(),instructions:ae(QS)})))),preBalances:ae($()),postBalances:ae($()),logMessages:ye(le(ae(re()))),preTokenBalances:ye(le(ae(Pd))),postTokenBalances:ye(le(ae(Pd))),loadedAddresses:ye(JS),computeUnitsConsumed:ye($()),costUnits:ye($())}),ja=Dn([mt(0),mt("legacy")]),Ss=X({pubkey:re(),lamports:$(),postBalance:le($()),rewardType:le(re()),commission:ye(le($()))}),_x=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),transactions:ae(X({transaction:Gy,meta:le(Af),version:ye(ja)})),rewards:ye(ae(Ss)),blockTime:le($()),blockHeight:le($())}))),Ex=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),rewards:ye(ae(Ss)),blockTime:le($()),blockHeight:le($())}))),Sx=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),transactions:ae(X({transaction:YS,meta:le(Af),version:ye(ja)})),rewards:ye(ae(Ss)),blockTime:le($()),blockHeight:le($())}))),bx=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),transactions:ae(X({transaction:XS,meta:le(Yy),version:ye(ja)})),rewards:ye(ae(Ss)),blockTime:le($()),blockHeight:le($())}))),Ax=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),transactions:ae(X({transaction:YS,meta:le(Yy),version:ye(ja)})),rewards:ye(ae(Ss)),blockTime:le($()),blockHeight:le($())}))),Ix=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),rewards:ye(ae(Ss)),blockTime:le($()),blockHeight:le($())}))),Rx=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),transactions:ae(X({transaction:Gy,meta:le(Af)})),rewards:ye(ae(Ss)),blockTime:le($())}))),y1=ke(le(X({blockhash:re(),previousBlockhash:re(),parentSlot:$(),signatures:ae(re()),blockTime:le($())}))),tp=ke(le(X({slot:$(),meta:le(Af),blockTime:ye(le($())),transaction:Gy,version:ye(ja)}))),Ju=ke(le(X({slot:$(),transaction:XS,meta:le(Yy),blockTime:ye(le($())),version:ye(ja)}))),kx=Tt(X({blockhash:re(),lastValidBlockHeight:$()})),Mx=Tt(ii()),Tx=X({slot:$(),numTransactions:$(),numSlots:$(),samplePeriodSecs:$()}),Nx=ke(ae(Tx)),xx=Tt(le(X({feeCalculator:X({lamportsPerSignature:$()})}))),Ox=ke(re()),Cx=ke(re()),Lx=X({err:Es,logs:ae(re()),signature:re()}),Bx=X({result:bf(Lx),subscription:$()}),Px={"solana-client":"js/1.0.0-maintenance"};class qy{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async f=>{const{commitment:g,config:w}=tt(f),m=this._buildArgs([],g,void 0,w),E=d1(m);return c[E]=c[E]??(async()=>{try{const M=await this._rpcRequest("getBlockHeight",m),N=oe(M,ke($()));if("error"in N)throw new pe(N.error,"failed to get block height information");return N.result}finally{delete c[E]}})(),await c[E]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=EN(e),this._rpcWsEndpoint=r||_N(e),this._rpcClient=PN(e,i,o,s,a,l),this._rpcRequest=DN(this._rpcClient),this._rpcBatchRequest=UN(this._rpcClient),this._rpcWebSocket=new yN(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=oe(s,Tt($()));if("error"in a)throw new pe(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=oe(n,ke(le($())));if("error"in r)throw new pe(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=oe(e,ke($()));if("error"in n)throw new pe(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=oe(e,$N);if("error"in n)throw new pe(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=oe(r,VN);if("error"in i)throw new pe(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=oe(i,Tt(b0));if("error"in o)throw new pe(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=oe(i,Tt(b0));if("error"in o)throw new pe(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=tt(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=oe(l,YN);if("error"in c)throw new pe(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=oe(s,qN);if("error"in a)throw new pe(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=oe(i,ZN);if("error"in o)throw new pe(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=oe(i,GN);if("error"in o)throw new pe(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=oe(s,Tt(le(nu)));if("error"in a)throw new pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=oe(s,Tt(le(I0)));if("error"in a)throw new pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=tt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=oe(a,Tt(ae(le(I0))));if("error"in l)throw new pe(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=tt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=oe(a,Tt(ae(le(nu))));if("error"in l)throw new pe(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=tt(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=oe(a,ke(ex));if("error"in l)throw new pe(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=tt(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:h1(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=ae(QN),f=s.withContext===!0?oe(l,Tt(c)):oe(l,ke(c));if("error"in f)throw new pe(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=oe(s,ke(ae(JN)));if("error"in a)throw new pe(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=nn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ze(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(g,w)=>{r=void 0;const m={context:w,value:g};l({__type:hi.PROCESSED,response:m})},e);const f=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,w=>{w==="subscribed"&&g()})});(async()=>{if(await f,o)return;const g=await this.getSignatureStatus(n);if(o||g==null)return;const{context:w,value:m}=g;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:hi.PROCESSED,response:{context:w,value:m}})}})()}catch(f){c(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(g=>{const w=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await w();if(!o){for(;m<=r;)if(await Wo(1e3),o||(m=await w(),o))return;g({__type:hi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let f;try{const g=await Promise.race([c,l,s]);if(g.__type===hi.PROCESSED)f=g.response;else throw new Fy(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(m=>{let E=o,M=null;const N=async()=>{try{const{context:S,value:A}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return M=S.slot,A==null?void 0:A.nonce}catch{return E}};(async()=>{if(E=await N(),!a)for(;;){if(o!==E){m({__type:hi.NONCE_INVALID,slotInWhichNonceDidAdvance:M});return}if(await Wo(2e3),a||(E=await N(),a))return}})()}),{abortConfirmation:c,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),g=this.getCancellationPromise(n);let w;try{const m=await Promise.race([g,f,l]);if(m.__type===hi.PROCESSED)w=m.response;else{let E;for(;;){const M=await this.getSignatureStatus(s);if(M==null)break;if(M.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Wo(400);continue}E=M;break}if(E!=null&&E.value){const M=e||"finalized",{confirmationStatus:N}=E.value;switch(M){case"processed":case"recent":if(N!=="processed"&&N!=="confirmed"&&N!=="finalized")throw new Js(s);break;case"confirmed":case"single":case"singleGossip":if(N!=="confirmed"&&N!=="finalized")throw new Js(s);break;case"finalized":case"max":case"root":if(N!=="finalized")throw new Js(s);break;default:}w={context:E.context,value:{err:E.value.err}}}else throw new Js(s)}}finally{a=!0,c()}return w}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:hi.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===hi.PROCESSED)a=l.response;else throw new Hy(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=oe(e,ke(ae(fx)));if("error"in n)throw new pe(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=oe(r,hx);if("error"in i)throw new pe(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=oe(o,ke($()));if("error"in s)throw new pe(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=oe(o,ke(re()));if("error"in s)throw new pe(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=oe(i,ke(ae(_t)));if("error"in o)throw new pe(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);ze(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=oe(i,yx);if("error"in o)throw new pe(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=oe(o,ke($()));if("error"in s)throw new pe(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=oe(r,zN);if("error"in i)throw new pe(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=tt(r),s=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=oe(a,AN);if("error"in l)throw new pe(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=oe(e,jN);if("error"in n)throw new pe(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=oe(o,FN);if("error"in s)throw new pe(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=oe(e,HN);if("error"in n)throw new pe(n.error,"failed to get epoch schedule");const r=n.result;return new FS(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=oe(e,KN);if("error"in n)throw new pe(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=oe(i,mx);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=oe(n,Nx);if("error"in r)throw new pe(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=oe(i,xx);if("error"in o)throw new pe(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Me(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=oe(o,Tt(le($())));if("error"in s)throw new pe(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=oe(i,WN);if("error"in o)throw new pe(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=oe(o,kx);if("error"in s)throw new pe(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=oe(s,Mx);if("error"in a)throw new pe(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=oe(e,ke(ON));if("error"in n)throw new pe(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=oe(e,ke(re()));if("error"in n)throw new pe(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(s,Sx);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(s,Ex);if("error"in a)throw a.error;return a.result}default:{const a=oe(s,_x);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:f,version:g})=>({meta:f,transaction:{...c,message:ep(g,c.message)},version:g}))}:null}}}catch(a){throw new pe(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(s,Ax);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(s,Ix);if("error"in a)throw a.error;return a.result}default:{const a=oe(s,bx);if("error"in a)throw a.error;return a.result}}}catch(a){throw new pe(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=oe(o,BN);if("error"in s)throw new pe(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=oe(s,tp);if("error"in a)throw new pe(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:ep(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=tt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=oe(s,Ju);if("error"in a)throw new pe(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=tt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=oe(l,Ju);if("error"in c)throw new pe(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=tt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=oe(l,tp);if("error"in c)throw new pe(c.error,"failed to get transactions");const f=c.result;return f&&{...f,transaction:{...f.transaction,message:ep(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=oe(i,Rx);if("error"in o)throw new pe(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const f=new Fr(l.message);return{meta:c,transaction:{...l,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Le.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=oe(o,ke(ae($())));if("error"in s)throw new pe(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=oe(i,y1);if("error"in o)throw new pe(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=oe(i,y1);if("error"in o)throw new pe(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=oe(i,tp);if("error"in o)throw new pe(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Fr(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Le.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=oe(i,Ju);if("error"in o)throw new pe(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=oe(s,Ju);if("error"in a)throw new pe(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=oe(o,tx);if("error"in s)throw new pe(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=oe(o,nx);if("error"in s)throw new pe(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new S0({key:e,state:S0.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=Sf.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=oe(r,Ox);if("error"in i)throw new pe(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Wo(100);const r=Date.now()-this._blockhashInfo.lastFetch>=KS;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Wo(zS/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=tt(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=oe(o,Tt($()));if("error"in s)throw new pe(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const M=e.serialize(),N=ge.Buffer.from(M).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const S=n||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const A=[N,S],_=await this._rpcRequest("simulateTransaction",A),T=oe(_,p1);if("error"in T)throw new Error("failed to simulate transaction: "+T.error.message);return T.result}let i;if(e instanceof Le){let E=e;i=new Le,i.feePayer=E.feePayer,i.instructions=e.instructions,i.nonceInfo=E.nonceInfo,i.signatures=E.signatures}else i=Le.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let E=this._disableBlockhashCaching;for(;;){const M=await this._blockhashWithExpiryBlockHeight(E);if(i.lastValidBlockHeight=M.lastValidBlockHeight,i.recentBlockhash=M.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const N=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(N)&&!this._blockhashInfo.transactionSignatures.includes(N)){this._blockhashInfo.simulatedSignatures.push(N);break}else E=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(r){const E=(Array.isArray(r)?r:s.nonProgramIds()).map(M=>M.toBase58());f.accounts={encoding:"base64",addresses:E}}o&&(f.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(f.innerInstructions=n.innerInstructions);const g=[c,f],w=await this._rpcRequest("simulateTransaction",g),m=oe(w,p1);if("error"in m){let E;if("data"in m.error&&(E=m.error.data.logs,E&&Array.isArray(E))){const M=`
    `,N=M+E.join(M);console.error(m.error.message,N)}throw new tu({action:"simulate",signature:"",transactionMessage:m.error.message,logs:E})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=Me(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),l=oe(a,Cx);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new tu({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=oe(e,rx);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=d1([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];ze(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=tt(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=oe(e,ox);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=tt(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:h1(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=oe(e,Bx);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=oe(e,ax);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=oe(e,ux);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=oe(e,cx);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=oe(e,dx);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ca{constructor(e){this._keypair=void 0,this._keypair=e??a1()}static generate(){return new ca(a1())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),o=Bd(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new ca({publicKey:r,secretKey:e})}static fromSeed(e){const n=Bd(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new ca({publicKey:n,secretKey:r})}get publicKey(){return new Q(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const _i=Object.freeze({CreateLookupTable:{index:0,layout:fe([de("instruction"),Ra("recentSlot"),Pe("bumpSeed")])},FreezeLookupTable:{index:1,layout:fe([de("instruction")])},ExtendLookupTable:{index:2,layout:fe([de("instruction"),Ra(),mn(Oe(),yo(de(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:fe([de("instruction")])},CloseLookupTable:{index:4,layout:fe([de("instruction")])}});class Dx{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(_i))if(s.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=We(_i.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=We(_i.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new Q(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Zy.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class Zy{constructor(){}static createLookupTable(e){const[n,r]=Q.findProgramAddressSync([e.authority.toBuffer(),gS().encode(e.recentSlot)],this.programId),i=_i.CreateLookupTable,o=Be(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:rn.programId,isSigner:!1,isWritable:!1}];return[new qe({programId:this.programId,keys:s,data:o}),n]}static freezeLookupTable(e){const n=_i.FreezeLookupTable,r=Be(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qe({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=_i.ExtendLookupTable,r=Be(n,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:rn.programId,isSigner:!1,isWritable:!1}),new qe({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=_i.DeactivateLookupTable,r=Be(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qe({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=_i.CloseLookupTable,r=Be(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new qe({programId:this.programId,keys:i,data:r})}}Zy.programId=new Q("AddressLookupTab1e1111111111111111111111111");class Ux{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Pe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Qr))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=We(Qr.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=We(Qr.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=We(Qr.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=We(Qr.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(Qy.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Qr=Object.freeze({RequestUnits:{index:0,layout:fe([Pe("instruction"),de("units"),de("additionalFee")])},RequestHeapFrame:{index:1,layout:fe([Pe("instruction"),de("bytes")])},SetComputeUnitLimit:{index:2,layout:fe([Pe("instruction"),de("units")])},SetComputeUnitPrice:{index:3,layout:fe([Pe("instruction"),Ra("microLamports")])}});class Qy{constructor(){}static requestUnits(e){const n=Qr.RequestUnits,r=Be(n,e);return new qe({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=Qr.RequestHeapFrame,r=Be(n,e);return new qe({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=Qr.SetComputeUnitLimit,r=Be(n,e);return new qe({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=Qr.SetComputeUnitPrice,r=Be(n,{microLamports:BigInt(e.microLamports)});return new qe({keys:[],programId:this.programId,data:r})}}Qy.programId=new Q("ComputeBudget111111111111111111111111111111");const m1=64,w1=32,v1=64,_1=fe([Pe("numSignatures"),Pe("padding"),wr("signatureOffset"),wr("signatureInstructionIndex"),wr("publicKeyOffset"),wr("publicKeyInstructionIndex"),wr("messageDataOffset"),wr("messageDataSize"),wr("messageInstructionIndex")]);class If{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:o}=e;ze(n.length===w1,`Public Key must be ${w1} bytes but received ${n.length} bytes`),ze(i.length===v1,`Signature must be ${v1} bytes but received ${i.length} bytes`);const s=_1.span,a=s+n.length,l=a+i.length,c=1,f=ge.Buffer.alloc(l+r.length),g=o??65535;return _1.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:s,publicKeyInstructionIndex:g,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:g},f),f.fill(n,s),f.fill(i,a),f.fill(r,l),new qe({keys:[],programId:If.programId,data:f})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;ze(n.length===m1,`Private key must be ${m1} bytes but received ${n.length} bytes`);try{const o=ca.fromSecretKey(n),s=o.publicKey.toBytes(),a=jy(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}If.programId=new Q("Ed25519SigVerify111111111111111111111111111");const zx=(t,e)=>{const n=zy.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};zy.utils.isValidPrivateKey;const jx=zy.getPublicKey,E1=32,np=20,S1=64,Wx=11,rp=fe([Pe("numSignatures"),wr("signatureOffset"),Pe("signatureInstructionIndex"),wr("ethAddressOffset"),Pe("ethAddressInstructionIndex"),wr("messageDataOffset"),wr("messageDataSize"),Pe("messageInstructionIndex"),lt(20,"ethAddress"),lt(64,"signature"),Pe("recoveryId")]);class da{constructor(){}static publicKeyToEthAddress(e){ze(e.length===S1,`Public key must be ${S1} bytes but received ${e.length} bytes`);try{return ge.Buffer.from(i1(Me(e))).slice(-np)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return da.createInstructionWithEthAddress({ethAddress:da.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=ge.Buffer.from(n.substr(2),"hex"):a=ge.Buffer.from(n,"hex"):a=n,ze(a.length===np,`Address must be ${np} bytes but received ${a.length} bytes`);const l=1+Wx,c=l,f=l+a.length,g=f+i.length+1,w=1,m=ge.Buffer.alloc(rp.span+r.length);return rp.encode({numSignatures:w,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:c,ethAddressInstructionIndex:s,messageDataOffset:g,messageDataSize:r.length,messageInstructionIndex:s,signature:Me(i),ethAddress:Me(a),recoveryId:o},m),m.fill(Me(r),rp.span),new qe({keys:[],programId:da.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;ze(n.length===E1,`Private key must be ${E1} bytes but received ${n.length} bytes`);try{const o=Me(n),s=jx(o,!1).slice(1),a=ge.Buffer.from(i1(Me(r))),[l,c]=zx(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:l,recoveryId:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}da.programId=new Q("KeccakSecp256k11111111111111111111111111111");var eb;const tb=new Q("StakeConfig11111111111111111111111111111111");class nb{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class mu{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}eb=mu;mu.default=new eb(0,0,Q.default);class Fx{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(un))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=We(un.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new nb(new Q(n.staker),new Q(n.withdrawer)),lockup:new mu(r.unixTimestamp,r.epoch,new Q(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),We(un.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=We(un.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Q(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=We(un.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Q(o),newAuthorizedPubkey:new Q(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=We(un.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),We(un.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=We(un.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),We(un.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Rf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const un=Object.freeze({Initialize:{index:0,layout:fe([de("instruction"),GT(),YT()])},Authorize:{index:1,layout:fe([de("instruction"),Oe("newAuthorized"),de("stakeAuthorizationType")])},Delegate:{index:2,layout:fe([de("instruction")])},Split:{index:3,layout:fe([de("instruction"),ir("lamports")])},Withdraw:{index:4,layout:fe([de("instruction"),ir("lamports")])},Deactivate:{index:5,layout:fe([de("instruction")])},Merge:{index:7,layout:fe([de("instruction")])},AuthorizeWithSeed:{index:8,layout:fe([de("instruction"),Oe("newAuthorized"),de("stakeAuthorizationType"),qo("authoritySeed"),Oe("authorityOwner")])}}),Hx=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Rf{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,o=i||mu.default,s=un.Initialize,a=Be(s,{authorized:{staker:Me(r.staker.toBuffer()),withdrawer:Me(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Me(o.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ia,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new qe(l)}static createAccountWithSeed(e){const n=new Le;n.add(rn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const n=new Le;n.add(rn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,o=un.Delegate,s=Be(o);return new Le().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:_c,isSigner:!1,isWritable:!1},{pubkey:tb,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=un.Authorize,l=Be(a,{newAuthorized:Me(i.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Le().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:l}=e,c=un.AuthorizeWithSeed,f=Be(c,{newAuthorized:Me(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Me(o.toBuffer())}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1}];return l&&g.push({pubkey:l,isSigner:!0,isWritable:!1}),new Le().add({keys:g,programId:this.programId,data:f})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=un.Split,a=Be(s,{lamports:o});return new qe({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Le;return r.add(rn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:l}=e,c=new Le;return c.add(rn.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(rn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,o=un.Merge,s=Be(o);return new Le().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:_c,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=un.Withdraw,l=Be(a,{lamports:o}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:_c,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Le().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=un.Deactivate,o=Be(i);return new Le().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Rf.programId=new Q("Stake11111111111111111111111111111111111111");Rf.space=200;class rb{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class Kx{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Xr))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=We(Xr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new rb(new Q(n.nodePubkey),new Q(n.authorizedVoter),new Q(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=We(Xr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Q(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=We(Xr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Q(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Q(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=We(Xr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Wa.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Xr=Object.freeze({InitializeAccount:{index:0,layout:fe([de("instruction"),qT()])},Authorize:{index:1,layout:fe([de("instruction"),Oe("newAuthorized"),de("voteAuthorizationType")])},Withdraw:{index:3,layout:fe([de("instruction"),ir("lamports")])},UpdateValidatorIdentity:{index:4,layout:fe([de("instruction")])},AuthorizeWithSeed:{index:10,layout:fe([de("instruction"),ZT()])}}),$x=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Wa{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,o=Xr.InitializeAccount,s=Be(o,{voteInit:{nodePubkey:Me(i.nodePubkey.toBuffer()),authorizedVoter:Me(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Me(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ia,isSigner:!1,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new qe(a)}static createAccount(e){const n=new Le;return n.add(rn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Xr.Authorize,a=Be(s,{newAuthorized:Me(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Le().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,l=Xr.AuthorizeWithSeed,c=Be(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Me(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Me(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Le().add({keys:f,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=Xr.Withdraw,a=Be(s,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Le().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Wa.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=Xr.UpdateValidatorIdentity,s=Be(o),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Le().add({keys:a,programId:this.programId,data:s})}}Wa.programId=new Q("Vote111111111111111111111111111111111111111");Wa.space=3762;const ib=new Q("Va1idator1nfo111111111111111111111111111111"),Vx=X({name:re(),website:ye(re()),details:ye(re()),iconUrl:ye(re()),keybaseUsername:ye(re())});class Xy{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Wn(n)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new Q(Fn(n,0,ri)),a=Zr(n)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(ib)&&i[1].isSigner){const o=qo().decode(ge.Buffer.from(n)),s=JSON.parse(o);return yS(s,Vx),new Xy(i[1].publicKey,s)}return null}}const Gx=new Q("Vote111111111111111111111111111111111111111"),Yx=fe([Oe("nodePubkey"),Oe("authorizedWithdrawer"),Pe("commission"),hn(),mn(fe([hn("slot"),de("confirmationCount")]),yo(de(),-8),"votes"),Pe("rootSlotValid"),hn("rootSlot"),hn(),mn(fe([hn("epoch"),Oe("authorizedVoter")]),yo(de(),-8),"authorizedVoters"),fe([mn(fe([Oe("authorizedPubkey"),hn("epochOfLastAuthorizedSwitch"),hn("targetEpoch")]),32,"buf"),hn("idx"),Pe("isEmpty")],"priorVoters"),hn(),mn(fe([hn("epoch"),hn("credits"),hn("prevCredits")]),yo(de(),-8),"epochCredits"),fe([hn("slot"),hn("timestamp")],"lastTimestamp")]);class Jy{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Yx.decode(Me(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new Jy({nodePubkey:new Q(r.nodePubkey),authorizedWithdrawer:new Q(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(qx),priorVoters:Zx(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function qx({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Q(t)}}function b1({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new Q(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function Zx({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(b1),...t.slice(0,e).map(b1)]}const A1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Qx(t,e){const n=e===!1?"http":"https";if(!t)return A1[n].devnet;const r=A1[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function Xx(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),l=o&&o.commitment,f=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(f.err)throw a!=null?new tu({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(f)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}const ob=1e9,Jx=Object.freeze(Object.defineProperty({__proto__:null,Account:KT,AddressLookupTableAccount:S0,AddressLookupTableInstruction:Dx,AddressLookupTableProgram:Zy,Authorized:nb,BLOCKHASH_CACHE_TIMEOUT_MS:KS,BPF_LOADER_DEPRECATED_PROGRAM_ID:$T,BPF_LOADER_PROGRAM_ID:uN,BpfLoader:cN,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Qr,ComputeBudgetInstruction:Ux,ComputeBudgetProgram:Qy,Connection:qy,Ed25519Program:If,Enum:FT,EpochSchedule:FS,FeeCalculatorLayout:jS,Keypair:ca,LAMPORTS_PER_SOL:ob,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:_i,Loader:hs,Lockup:mu,MAX_SEED_LENGTH:PS,Message:Fr,MessageAccountKeys:Jl,MessageV0:fs,NONCE_ACCOUNT_LENGTH:E0,NonceAccount:Sf,PACKET_DATA_SIZE:mo,PUBLIC_KEY_LENGTH:ri,PublicKey:Q,SIGNATURE_LENGTH_IN_BYTES:Xl,SOLANA_SCHEMA:Rl,STAKE_CONFIG_ID:tb,STAKE_INSTRUCTION_LAYOUTS:un,SYSTEM_INSTRUCTION_LAYOUTS:nt,SYSVAR_CLOCK_PUBKEY:Vr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:tN,SYSVAR_INSTRUCTIONS_PUBKEY:nN,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:vc,SYSVAR_RENT_PUBKEY:Ia,SYSVAR_REWARDS_PUBKEY:rN,SYSVAR_SLOT_HASHES_PUBKEY:iN,SYSVAR_SLOT_HISTORY_PUBKEY:oN,SYSVAR_STAKE_HISTORY_PUBKEY:_c,Secp256k1Program:da,SendTransactionError:tu,SolanaJSONRPCError:pe,SolanaJSONRPCErrorCode:sN,StakeAuthorizationLayout:Hx,StakeInstruction:Fx,StakeProgram:Rf,Struct:Wy,SystemInstruction:aN,SystemProgram:rn,Transaction:Le,TransactionExpiredBlockheightExceededError:Fy,TransactionExpiredNonceInvalidError:Js,TransactionExpiredTimeoutError:Hy,TransactionInstruction:qe,TransactionMessage:$y,TransactionStatus:hi,VALIDATOR_INFO_KEY:ib,VERSION_PREFIX_MASK:_f,VOTE_PROGRAM_ID:Gx,ValidatorInfo:Xy,VersionedMessage:Ky,VersionedTransaction:eu,VoteAccount:Jy,VoteAuthorizationLayout:$x,VoteInit:rb,VoteInstruction:Kx,VoteProgram:Wa,clusterApiUrl:Qx,sendAndConfirmRawTransaction:Xx,sendAndConfirmTransaction:_0},Symbol.toStringTag,{value:"Module"}));var sb={exports:{}};const eO=/[\p{Lu}]/u,tO=/[\p{Ll}]/u,I1=/^[\p{Lu}](?![\p{Lu}])/gu,ab=/([\p{Alpha}\p{N}_]|$)/u,lb=/[_.\- ]+/,nO=new RegExp("^"+lb.source),R1=new RegExp(lb.source+ab.source,"gu"),k1=new RegExp("\\d+"+ab.source,"gu"),rO=(t,e,n)=>{let r=!1,i=!1,o=!1;for(let s=0;s<t.length;s++){const a=t[s];r&&eO.test(a)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,o=i,i=!0,s++):i&&o&&tO.test(a)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),o=i,i=!1,r=!0):(r=e(a)===a&&n(a)!==a,o=i,i=n(a)===a&&e(a)!==a)}return t},iO=(t,e)=>(I1.lastIndex=0,t.replace(I1,n=>e(n))),oO=(t,e)=>(R1.lastIndex=0,k1.lastIndex=0,t.replace(R1,(n,r)=>e(r)).replace(k1,n=>e(n))),ub=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=rO(t,n,r)),t=t.replace(nO,""),e.preserveConsecutiveUppercase?t=iO(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),oO(t,r))};sb.exports=ub;sb.exports.default=ub;var Ie={},ue={};let Ge=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};ue.Layout=Ge;function em(t,e){return e.property?t+"["+e.property+"]":t}ue.nameWithProperty=em;function sO(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}ue.bindConstructorLayout=sO;let $n=class extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}};class cb extends $n{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let tm=class extends $n{constructor(e,n,r){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof li||this.layout instanceof Pi}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},li=class extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},Pi=class extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class bs extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class Fa extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const R0=Math.pow(2,32);function kf(t){const e=Math.floor(t/R0),n=t-e*R0;return{hi32:e,lo32:n}}function Mf(t,e){return t*R0+e}let aO=class extends Ge{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Mf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=kf(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}};class lO extends Ge{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),i=e.readUInt32BE(n+4);return Mf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=kf(e);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}let uO=class extends Ge{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Mf(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=kf(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}};class cO extends Ge{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),i=e.readUInt32BE(n+4);return Mf(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=kf(e);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}class db extends Ge{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class fb extends Ge{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class hb extends Ge{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class pb extends Ge{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class gb extends Ge{constructor(e,n,r){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof $n&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof $n)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,i=this.count;if(i instanceof $n&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n){n===void 0&&(n=0);const r=[];let i=0,o=this.count;for(o instanceof $n&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r){r===void 0&&(r=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof $n&&this.count.encode(e.length,n,r),o}}let yb=class extends Ge{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},nm=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Dd=class extends nm{constructor(e,n){if(!(e instanceof $n&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},rm=class extends Ge{constructor(e,n,r){const i=e instanceof li||e instanceof Pi;if(i)e=new Dd(new tm(e));else if(e instanceof $n&&e.isCount())e=new Dd(e);else if(!(e instanceof nm))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new mb(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},mb=class extends Ge{constructor(e,n,r,i){if(!(e instanceof rm))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function xs(t){return 0>t&&(t+=4294967296),t}class im extends Ge{constructor(e,n,r){if(!(e instanceof li||e instanceof Pi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=xs(o),this},this._packedGetValue=function(){return i}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(i));return r}encode(e,n,r){r===void 0&&(r=0);const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new kl(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new wb(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class kl{constructor(e,n,r){if(!(e instanceof im))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=xs(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return xs(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==xs(e&this.valueMask))throw new TypeError(em("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=xs(e<<this.start);this.container._packedSetValue(xs(n&~this.wordMask)|r)}}let wb=class extends kl{constructor(e,n){super(e,1,n)}decode(e,n){return!!kl.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),kl.prototype.encode.call(this,e)}},vb=class extends Ge{constructor(e,n){if(!(e instanceof $n&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof $n||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof $n&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(em("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof $n&&this.length.encode(i,n,r),i}};class _b extends Ge{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);return e.slice(n,n+i-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),n[r+o]=0,o+1}}class Eb extends Ge{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+i).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),o}}class Sb extends Ge{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}ue.ExternalLayout=$n;ue.GreedyCount=cb;ue.OffsetLayout=tm;ue.UInt=li;ue.UIntBE=Pi;ue.Int=bs;ue.IntBE=Fa;ue.Float=db;ue.FloatBE=fb;ue.Double=hb;ue.DoubleBE=pb;ue.Sequence=gb;ue.Structure=yb;ue.UnionDiscriminator=nm;ue.UnionLayoutDiscriminator=Dd;ue.Union=rm;ue.VariantLayout=mb;ue.BitStructure=im;ue.BitField=kl;ue.Boolean=wb;ue.Blob=vb;ue.CString=_b;ue.UTF8=Eb;ue.Constant=Sb;ue.greedy=(t,e)=>new cb(t,e);ue.offset=(t,e,n)=>new tm(t,e,n);ue.u8=t=>new li(1,t);ue.u16=t=>new li(2,t);ue.u24=t=>new li(3,t);ue.u32=t=>new li(4,t);ue.u40=t=>new li(5,t);ue.u48=t=>new li(6,t);ue.nu64=t=>new aO(t);ue.u16be=t=>new Pi(2,t);ue.u24be=t=>new Pi(3,t);ue.u32be=t=>new Pi(4,t);ue.u40be=t=>new Pi(5,t);ue.u48be=t=>new Pi(6,t);ue.nu64be=t=>new lO(t);ue.s8=t=>new bs(1,t);ue.s16=t=>new bs(2,t);ue.s24=t=>new bs(3,t);ue.s32=t=>new bs(4,t);ue.s40=t=>new bs(5,t);ue.s48=t=>new bs(6,t);ue.ns64=t=>new uO(t);ue.s16be=t=>new Fa(2,t);ue.s24be=t=>new Fa(3,t);ue.s32be=t=>new Fa(4,t);ue.s40be=t=>new Fa(5,t);ue.s48be=t=>new Fa(6,t);ue.ns64be=t=>new cO(t);ue.f32=t=>new db(t);ue.f32be=t=>new fb(t);ue.f64=t=>new hb(t);ue.f64be=t=>new pb(t);ue.struct=(t,e,n)=>new yb(t,e,n);ue.bits=(t,e,n)=>new im(t,e,n);ue.seq=(t,e,n)=>new gb(t,e,n);ue.union=(t,e,n)=>new rm(t,e,n);ue.unionLayoutDiscriminator=(t,e)=>new Dd(t,e);ue.blob=(t,e)=>new vb(t,e);ue.cstr=t=>new _b(t);ue.utf8=(t,e)=>new Eb(t,e);ue.const=(t,e)=>new Sb(t,e);const bb=Oa(Jx);(function(t){var e=xt&&xt.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=a,t.i64=l,t.u128=c,t.i128=f,t.u256=g,t.i256=w,t.publicKey=E,t.option=N,t.bool=S,t.vec=T,t.tagged=C,t.vecU8=D,t.str=U,t.rustEnum=z,t.array=j,t.map=Z;const n=ue,r=bb,i=e(Ay);var o=ue;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends n.Layout{constructor(b,u,d){super(b,d),this.blob=(0,n.blob)(b),this.signed=u}decode(b,u=0){const d=new i.default(this.blob.decode(b,u),10,"le");return this.signed?d.fromTwos(this.span*8).clone():d}encode(b,u,d=0){return this.signed&&(b=b.toTwos(this.span*8)),this.blob.encode(b.toArrayLike(Buffer,"le",this.span),u,d)}}function a(G){return new s(8,!1,G)}function l(G){return new s(8,!0,G)}function c(G){return new s(16,!1,G)}function f(G){return new s(16,!0,G)}function g(G){return new s(32,!1,G)}function w(G){return new s(32,!0,G)}class m extends n.Layout{constructor(b,u,d,v){super(b.span,v),this.layout=b,this.decoder=u,this.encoder=d}decode(b,u){return this.decoder(this.layout.decode(b,u))}encode(b,u,d){return this.layout.encode(this.encoder(b),u,d)}getSpan(b,u){return this.layout.getSpan(b,u)}}function E(G){return new m((0,n.blob)(32),b=>new r.PublicKey(b),b=>b.toBuffer(),G)}class M extends n.Layout{constructor(b,u){super(-1,u),this.layout=b,this.discriminator=(0,n.u8)()}encode(b,u,d=0){return b==null?this.discriminator.encode(0,u,d):(this.discriminator.encode(1,u,d),this.layout.encode(b,u,d+1)+1)}decode(b,u=0){const d=this.discriminator.decode(b,u);if(d===0)return null;if(d===1)return this.layout.decode(b,u+1);throw new Error("Invalid option "+this.property)}getSpan(b,u=0){const d=this.discriminator.decode(b,u);if(d===0)return 1;if(d===1)return this.layout.getSpan(b,u+1)+1;throw new Error("Invalid option "+this.property)}}function N(G,b){return new M(G,b)}function S(G){return new m((0,n.u8)(),A,_,G)}function A(G){if(G===0)return!1;if(G===1)return!0;throw new Error("Invalid bool: "+G)}function _(G){return G?1:0}function T(G,b){const u=(0,n.u32)("length"),d=(0,n.struct)([u,(0,n.seq)(G,(0,n.offset)(u,-u.span),"values")]);return new m(d,({values:v})=>v,v=>({values:v}),b)}function C(G,b,u){const d=(0,n.struct)([a("tag"),b.replicate("data")]);function v({tag:R,data:I}){if(!R.eq(G))throw new Error("Invalid tag, expected: "+G.toString("hex")+", got: "+R.toString("hex"));return I}return new m(d,v,R=>({tag:G,data:R}),u)}function D(G){const b=(0,n.u32)("length"),u=(0,n.struct)([b,(0,n.blob)((0,n.offset)(b,-b.span),"data")]);return new m(u,({data:d})=>d,d=>({data:d}),G)}function U(G){return new m(D(),b=>b.toString("utf-8"),b=>Buffer.from(b,"utf-8"),G)}function z(G,b,u){const d=(0,n.union)(u??(0,n.u8)(),b);return G.forEach((v,R)=>d.addVariant(R,v,v.property)),d}function j(G,b,u){const d=(0,n.struct)([(0,n.seq)(G,b,"values")]);return new m(d,({values:v})=>v,v=>({values:v}),u)}class H extends n.Layout{constructor(b,u,d){super(b.span+u.span,d),this.keyLayout=b,this.valueLayout=u}decode(b,u){u=u||0;const d=this.keyLayout.decode(b,u),v=this.valueLayout.decode(b,u+this.keyLayout.getSpan(b,u));return[d,v]}encode(b,u,d){d=d||0;const v=this.keyLayout.encode(b[0],u,d),R=this.valueLayout.encode(b[1],u,d+v);return v+R}getSpan(b,u){return this.keyLayout.getSpan(b,u)+this.valueLayout.getSpan(b,u)}}function Z(G,b,u){const d=(0,n.u32)("length"),v=(0,n.struct)([d,(0,n.seq)(new H(G,b),(0,n.offset)(d,-d.span),"values")]);return new m(v,({values:R})=>new Map(R),R=>({values:Array.from(R.entries())}),u)}})(Ie);function Ha(t){let e=t.length;for(;--e>=0;)t[e]=0}const dO=3,fO=258,Ab=29,hO=256,pO=hO+1+Ab,Ib=30,gO=512,yO=new Array((pO+2)*2);Ha(yO);const mO=new Array(Ib*2);Ha(mO);const wO=new Array(gO);Ha(wO);const vO=new Array(fO-dO+1);Ha(vO);const _O=new Array(Ab);Ha(_O);const EO=new Array(Ib);Ha(EO);try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const k0=new Uint8Array(256);for(let t=0;t<256;t++)k0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;k0[254]=k0[254]=1;var SO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),E=n?n+c:c;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],m]:l._events[E].push(m):(l._events[E]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,E=new Array(m);w<m;w++)E[w]=g[w].fn;return E},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,E){var M=n?n+c:c;if(!this._events[M])return!1;var N=this._events[M],S=arguments.length,A,_;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,E),!0}for(_=1,A=new Array(S-1);_<S;_++)A[_-1]=arguments[_];N.fn.apply(N.context,A)}else{var T=N.length,C;for(_=0;_<T;_++)switch(N[_].once&&this.removeListener(c,N[_].fn,void 0,!0),S){case 1:N[_].fn.call(N[_].context);break;case 2:N[_].fn.call(N[_].context,f);break;case 3:N[_].fn.call(N[_].context,f,g);break;case 4:N[_].fn.call(N[_].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(S-1);C<S;C++)A[C-1]=arguments[C];N[_].fn.apply(N[_].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var E=this._events[m];if(E.fn)E.fn===f&&(!w||E.once)&&(!g||E.context===g)&&s(this,m);else{for(var M=0,N=[],S=E.length;M<S;M++)(E[M].fn!==f||w&&!E[M].once||g&&E[M].context!==g)&&N.push(E[M]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(SO);Ie.struct([Ie.publicKey("authority"),Ie.vecU8("data")]);function ea(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}class bO extends TypeError{constructor(e,n){let r;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function AO(t){return fa(t)&&typeof t[Symbol.iterator]=="function"}function fa(t){return typeof t=="object"&&t!=null}function So(t){return typeof t=="string"?JSON.stringify(t):""+t}function IO(t){const{done:e,value:n}=t.next();return e?void 0:n}function RO(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+So(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*M1(t,e,n,r){AO(t)||(t=[t]);for(const i of t){const o=RO(i,e,n,r);o&&(yield o)}}function*om(t,e,n){n===void 0&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&fa(e.schema)&&fa(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l=!0;for(const c of e.validator(t,a))l=!1,yield[c,void 0];for(let[c,f,g]of e.entries(t,a)){const w=om(f,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,f],coerce:o,mask:s});for(const m of w)m[0]?(l=!1,yield[m[0],void 0]):o&&(f=m[1],c===void 0?t=f:t instanceof Map?t.set(c,f):t instanceof Set?t.add(f):fa(t)&&(t[c]=f))}if(l)for(const c of e.refiner(t,a))l=!1,yield[c,void 0];l&&(yield[void 0,t])}class Mo{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const f=i(l,c);return M1(f,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const f=o(l,c);return M1(f,c,this,l)}:this.refiner=()=>[]}assert(e){return kO(e,this)}create(e){return Rb(e,this)}is(e){return kb(e,this)}mask(e){return MO(e,this)}validate(e,n){return n===void 0&&(n={}),wu(e,this,n)}}function kO(t,e){const n=wu(t,e);if(n[0])throw n[0]}function Rb(t,e){const n=wu(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function MO(t,e){const n=wu(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function kb(t,e){return!wu(t,e)[0]}function wu(t,e,n){n===void 0&&(n={});const r=om(t,e,n),i=IO(r);return i[0]?[new bO(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function vu(t,e){return new Mo({type:t,schema:null,validator:e})}function TO(){return vu("any",()=>!0)}function ip(t){return new Mo({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+So(e)}})}function NO(){return vu("boolean",t=>typeof t=="boolean")}function T1(t){const e=So(t);return new Mo({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+So(n)}})}function ec(t){return new Mo({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Ec(){return vu("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+So(t))}function Sc(t){return new Mo({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Zo(){return vu("string",t=>typeof t=="string"||"Expected a string, but received: "+So(t))}function wo(t){const e=Object.keys(t);return new Mo({type:"type",schema:t,*entries(n){if(fa(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return fa(n)||"Expected an object, but received: "+So(n)}})}function Mb(t){const e=t.map(n=>n.type).join(" | ");return new Mo({type:"union",schema:null,coercer(n,r){return(t.find(o=>{const[s]=o.validate(n,{coerce:!0});return!s})||sm()).coercer(n,r)},validator(n,r){const i=[];for(const o of t){const[...s]=om(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+So(n),...i]}})}function sm(){return vu("unknown",()=>!0)}function xO(t,e,n){return new Mo({...t,coercer:(r,i)=>kb(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function OO(t){return xO(Tb(t),CO,e=>"error"in e?e:{...e,result:Rb(e.result,t)})}const CO=Tb(sm());function Tb(t){return Mb([wo({jsonrpc:T1("2.0"),id:Zo(),result:t}),wo({jsonrpc:T1("2.0"),id:Zo(),error:wo({code:sm(),message:Zo(),data:Sc(TO())})})])}function LO(t){return OO(wo({context:wo({slot:Ec()}),value:t}))}LO(wo({err:ec(Mb([wo({}),Zo()])),logs:ec(ip(Zo())),accounts:Sc(ec(ip(ec(wo({executable:NO(),owner:Zo(),lamports:Ec(),data:ip(Zo()),rentEpoch:Sc(Ec())}))))),unitsConsumed:Sc(Ec())}));var BO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V={};Object.defineProperty(V,"__esModule",{value:!0});V.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=V.ANCHOR_ERROR__REQUIRE_VIOLATED=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=V.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=V.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=V.ANCHOR_ERROR__CONSTRAINT_SPACE=V.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=V.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=V.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=V.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=V.ANCHOR_ERROR__CONSTRAINT_ZERO=V.ANCHOR_ERROR__CONSTRAINT_ADDRESS=V.ANCHOR_ERROR__CONSTRAINT_CLOSE=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=V.ANCHOR_ERROR__CONSTRAINT_STATE=V.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=V.ANCHOR_ERROR__CONSTRAINT_SEEDS=V.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=V.ANCHOR_ERROR__CONSTRAINT_OWNER=V.ANCHOR_ERROR__CONSTRAINT_RAW=V.ANCHOR_ERROR__CONSTRAINT_SIGNER=V.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=V.ANCHOR_ERROR__CONSTRAINT_MUT=V.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=V.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=V.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=V.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=V.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=V.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0;V.ANCHOR_ERROR__DEPRECATED=V.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=V.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=V.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=V.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=V.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=V.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=V.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=V.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=V.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=V.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=V.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=V.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=V.ANCHOR_ERROR__INVALID_PROGRAM_ID=V.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=V.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=V.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=V.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=V.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=V.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=V.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=V.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=V.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=V.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0;V.ANCHOR_ERROR__INSTRUCTION_MISSING=100;V.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101;V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102;V.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103;V.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3;V.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001;V.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002;V.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500;V.ANCHOR_ERROR__CONSTRAINT_MUT=2e3;V.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001;V.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002;V.ANCHOR_ERROR__CONSTRAINT_RAW=2003;V.ANCHOR_ERROR__CONSTRAINT_OWNER=2004;V.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005;V.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006;V.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007;V.ANCHOR_ERROR__CONSTRAINT_STATE=2008;V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009;V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010;V.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011;V.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012;V.ANCHOR_ERROR__CONSTRAINT_ZERO=2013;V.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014;V.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015;V.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016;V.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017;V.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018;V.ANCHOR_ERROR__CONSTRAINT_SPACE=2019;V.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020;V.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021;V.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022;V.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023;V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024;V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025;V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026;V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027;V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028;V.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029;V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030;V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031;V.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032;V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033;V.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034;V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035;V.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036;V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037;V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038;V.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039;V.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;V.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;V.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502;V.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503;V.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504;V.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505;V.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506;V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3;V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001;V.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002;V.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003;V.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004;V.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005;V.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006;V.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007;V.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008;V.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009;V.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010;V.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011;V.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012;V.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013;V.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014;V.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015;V.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016;V.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017;V.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100;V.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101;V.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;V.ANCHOR_ERROR__DEPRECATED=5e3;class xo extends Error{constructor(e){super(e),this.name="IdlError"}}class Fe{static fieldLayout(e,n=[],r){const i=e.name;switch(e.type){case"bool":return Ie.bool(i);case"u8":return Ie.u8(i);case"i8":return Ie.i8(i);case"u16":return Ie.u16(i);case"i16":return Ie.i16(i);case"u32":return Ie.u32(i);case"i32":return Ie.i32(i);case"f32":return Ie.f32(i);case"u64":return Ie.u64(i);case"i64":return Ie.i64(i);case"f64":return Ie.f64(i);case"u128":return Ie.u128(i);case"i128":return Ie.i128(i);case"u256":return Ie.u256(i);case"i256":return Ie.i256(i);case"bytes":return Ie.vecU8(i);case"string":return Ie.str(i);case"pubkey":return Ie.publicKey(i);default:{if("option"in e.type)return Ie.option(Fe.fieldLayout({type:e.type.option},n,r),i);if("vec"in e.type)return Ie.vec(Fe.fieldLayout({type:e.type.vec},n,r),i);if("array"in e.type){let[o,s]=e.type.array;return s=Fe.resolveArrayLen(s,r),Ie.array(Fe.fieldLayout({type:o},n,r),s,i)}if("defined"in e.type){if(!n)throw new xo("User defined types not provided");const o=e.type.defined.name,s=n.find(a=>a.name===o);if(!s)throw new xo(`Type not found: ${e.name}`);return Fe.typeDefLayout({typeDef:s,types:n,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new xo(`Invalid generic field: ${e.name}`);return Fe.fieldLayout({...e,type:o.type},n)}throw new xo(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=ea(e.type.fields,()=>[],s=>s.map(a=>{const l=i&&Fe.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Fe.fieldLayout(a,n,l)}),s=>s.map((a,l)=>{const c=i&&Fe.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Fe.fieldLayout({name:l.toString(),type:a},n,c)}));return Ie.struct(o,r)}case"enum":{const o=e.type.variants.map(s=>{const a=ea(s.fields,()=>[],l=>l.map(c=>{const f=i&&Fe.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:i});return Fe.fieldLayout(c,n,f)}),l=>l.map((c,f)=>{const g=i&&Fe.resolveGenericArgs({type:c,typeDef:e,genericArgs:i});return Fe.fieldLayout({name:f.toString(),type:c},n,g)}));return Ie.struct(a,s.name)});return r!==void 0?Ie.rustEnum(o).replicate(r):Ie.rustEnum(o,r)}case"type":return Fe.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Fe.typeSize(e.option,n,r);if("coption"in e)return 4+Fe.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Fe.resolveArrayLen(s,r),Fe.typeSize(o,n,r)*s}if("defined"in e){const o=(i=n.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new xo(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const l=r??e.defined.generics,c=l&&Fe.resolveGenericArgs({type:a,typeDef:o,genericArgs:l});return Fe.typeSize(a,n,c)};switch(o.type.kind){case"struct":return ea(o.type.fields,()=>[0],a=>a.map(l=>s(l.type)),a=>a.map(l=>s(l))).reduce((a,l)=>a+l,0);case"enum":{const a=o.type.variants.map(l=>ea(l.fields,()=>[0],c=>c.map(f=>s(f.type)),c=>c.map(f=>s(f))).reduce((c,f)=>c+f,0));return Math.max(...a)+1}case"type":return Fe.typeSize(o.type.alias,n,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new xo(`Invalid generic: ${e.generic}`);return Fe.typeSize(o.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new xo("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in n.generics){const s=n.generics[o];if("generic"in e&&s.name===e.generic)return[r[o]];if("option"in e){const a=Fe.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Fe.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,l]=e.array,c=typeof l=="object",f=Fe.resolveGenericArgs({type:a,typeDef:n,genericArgs:r,isDefined:i})||[];if(c){const g=n.generics.findIndex(w=>w.name===l.generic);g!==-1&&f.push(r[g])}if(f.length>0){if(!i)return f;if(f[0].kind==="type"&&f[1].kind==="const")return[{kind:"type",type:{array:[f[0].type,+f[1].value]}}]}if(c&&s.name===l.generic){const g=r[o];return i?[{kind:"type",type:{array:[a,+g.value]}}]:[g]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Fe.resolveGenericArgs({type:a.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class PO{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const i=r.name,o=r.args.map(a=>Fe.fieldLayout(a,e.types)),s=Ie.struct(o,i);return[i,{discriminator:r.discriminator,layout:s}]});this.ixLayouts=new Map(n)}encode(e,n){const r=ge.Buffer.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o);return ge.Buffer.concat([ge.Buffer.from(i.discriminator),s])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?ge.Buffer.from(e,"hex"):nn.decode(e));for(const[r,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(ge.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,n){return er.format(e,n,this.idl)}}class er{static format(e,n,r){const i=r.instructions.find(l=>e.name===l.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(l=>({name:l.name,type:er.formatIdlType(l.type),data:er.formatIdlData(l,e.data[l.name],r.types)})),s=er.flattenIdlAccounts(i.accounts),a=n.map((l,c)=>c<s.length?{name:s[c].name,...l}:{name:void 0,...l});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return er.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return er.formatIdlDataDefined(o,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+ea(e.type.fields,()=>"",i=>Object.entries(n).map(([o,s])=>{const a=i.find(l=>l.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+er.formatIdlData(a,s,r)}).join(", "),i=>Object.entries(n).map(([o,s])=>o+": "+er.formatIdlData({name:"",type:i[o]},s,r)).join(", "))+" }";case"enum":{const i=Object.keys(n)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=n[i];return ea(o.fields,()=>i,a=>{const l=Object.keys(s).map(c=>{const f=s[c],g=a.find(w=>w.name===c);if(!g)throw new Error(`Field not found: ${c}`);return c+": "+er.formatIdlData(g,f,r)}).join(", ");return`${i} { ${l} }`},a=>{const l=Object.entries(s).map(([c,f])=>c+": "+er.formatIdlData({name:"",type:a[c]},f,r)).join(", ");return`${i} { ${l} }`})}case"type":return er.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const i=DO(r.name);if(r.hasOwnProperty("accounts")){const o=n?`${n} > ${i}`:i;return er.flattenIdlAccounts(r.accounts,o)}else return{...r,name:n?`${n} > ${i}`:i}}).flat()}}function DO(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class Xn{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Tf=Xn;function UO(t,e){return e.property?t+"["+e.property+"]":t}class Qo extends Xn{isCount(){throw new Error("ExternalLayout is abstract")}}class Nb extends Qo{constructor(e,n,r){if(!(e instanceof Xn))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Nf||this.layout instanceof xb}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class Nf extends Xn{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class xb extends Xn{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const M0=Math.pow(2,32);function Ob(t){const e=Math.floor(t/M0),n=t-e*M0;return{hi32:e,lo32:n}}function Cb(t,e){return t*M0+e}class zO extends Xn{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Cb(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Ob(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class jO extends Xn{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Cb(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Ob(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class WO extends Xn{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Xn,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class Lb{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class N1 extends Lb{constructor(e,n){if(!(e instanceof Qo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class Bb extends Xn{constructor(e,n,r){const i=e instanceof Nf||e instanceof xb;if(i)e=new N1(new Nb(e));else if(e instanceof Qo&&e.isCount())e=new N1(e);else if(!(e instanceof Lb))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Xn))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new FO(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class FO extends Xn{constructor(e,n,r,i){if(!(e instanceof Bb))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Xn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class HO extends Xn{constructor(e,n){if(!(e instanceof Qo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Qo||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Qo&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(UO("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof Qo&&this.length.encode(i,n,r),i}}var KO=(t,e,n)=>new Nb(t,e,n),$O=t=>new Nf(1,t),Ei=t=>new Nf(4,t),VO=t=>new zO(t),Li=t=>new jO(t),sn=(t,e,n)=>new WO(t,e,n),Pb=(t,e,n)=>new Bb(t,e,n),_u=(t,e)=>new HO(t,e);class GO extends Tf{constructor(e){super(-1,e),this.property=e,this.layout=sn([Ei("length"),Ei("lengthPadding"),_u(KO(Ei(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Ei().span+Ei().span+new to(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function xf(t){return new GO(t)}function Rr(t){return _u(32,t)}const pr=Pb(Ei("instruction"));pr.addVariant(0,sn([Li("lamports"),Li("space"),Rr("owner")]),"createAccount");pr.addVariant(1,sn([Rr("owner")]),"assign");pr.addVariant(2,sn([Li("lamports")]),"transfer");pr.addVariant(3,sn([Rr("base"),xf("seed"),Li("lamports"),Li("space"),Rr("owner")]),"createAccountWithSeed");pr.addVariant(4,sn([Rr("authorized")]),"advanceNonceAccount");pr.addVariant(5,sn([Li("lamports")]),"withdrawNonceAccount");pr.addVariant(6,sn([Rr("authorized")]),"initializeNonceAccount");pr.addVariant(7,sn([Rr("authorized")]),"authorizeNonceAccount");pr.addVariant(8,sn([Li("space")]),"allocate");pr.addVariant(9,sn([Rr("base"),xf("seed"),Li("space"),Rr("owner")]),"allocateWithSeed");pr.addVariant(10,sn([Rr("base"),xf("seed"),Rr("owner")]),"assignWithSeed");pr.addVariant(11,sn([Li("lamports"),xf("seed"),Rr("owner")]),"transferWithSeed");Math.max(...Object.values(pr.registry).map(t=>t.span));class YO extends Tf{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function x1(t){return new YO(_u(32),e=>new Q(e),e=>e.toBuffer(),t)}sn([Ei("version"),Ei("state"),x1("authorizedPubkey"),x1("nonce"),sn([VO("lamportsPerSignature")],"feeCalculator")]);new Q("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Q("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var O1={exports:{}};(function(t,e){var n=typeof self<"u"?self:BO,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(u){return u&&DataView.prototype.isPrototypeOf(u)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(u){return u&&c.indexOf(Object.prototype.toString.call(u))>-1};function g(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function w(u){return typeof u!="string"&&(u=String(u)),u}function m(u){var d={next:function(){var v=u.shift();return{done:v===void 0,value:v}}};return a.iterable&&(d[Symbol.iterator]=function(){return d}),d}function E(u){this.map={},u instanceof E?u.forEach(function(d,v){this.append(v,d)},this):Array.isArray(u)?u.forEach(function(d){this.append(d[0],d[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(d){this.append(d,u[d])},this)}E.prototype.append=function(u,d){u=g(u),d=w(d);var v=this.map[u];this.map[u]=v?v+", "+d:d},E.prototype.delete=function(u){delete this.map[g(u)]},E.prototype.get=function(u){return u=g(u),this.has(u)?this.map[u]:null},E.prototype.has=function(u){return this.map.hasOwnProperty(g(u))},E.prototype.set=function(u,d){this.map[g(u)]=w(d)},E.prototype.forEach=function(u,d){for(var v in this.map)this.map.hasOwnProperty(v)&&u.call(d,this.map[v],v,this)},E.prototype.keys=function(){var u=[];return this.forEach(function(d,v){u.push(v)}),m(u)},E.prototype.values=function(){var u=[];return this.forEach(function(d){u.push(d)}),m(u)},E.prototype.entries=function(){var u=[];return this.forEach(function(d,v){u.push([v,d])}),m(u)},a.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function M(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function N(u){return new Promise(function(d,v){u.onload=function(){d(u.result)},u.onerror=function(){v(u.error)}})}function S(u){var d=new FileReader,v=N(d);return d.readAsArrayBuffer(u),v}function A(u){var d=new FileReader,v=N(d);return d.readAsText(u),v}function _(u){for(var d=new Uint8Array(u),v=new Array(d.length),R=0;R<d.length;R++)v[R]=String.fromCharCode(d[R]);return v.join("")}function T(u){if(u.slice)return u.slice(0);var d=new Uint8Array(u.byteLength);return d.set(new Uint8Array(u)),d.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:a.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:a.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():a.arrayBuffer&&a.blob&&l(u)?(this._bodyArrayBuffer=T(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||f(u))?this._bodyArrayBuffer=T(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var u=M(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(S)}),this.text=function(){var u=M(this);if(u)return u;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(u){var d=u.toUpperCase();return D.indexOf(d)>-1?d:u}function z(u,d){d=d||{};var v=d.body;if(u instanceof z){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,d.headers||(this.headers=new E(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!v&&u._bodyInit!=null&&(v=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new E(d.headers)),this.method=U(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function j(u){var d=new FormData;return u.trim().split("&").forEach(function(v){if(v){var R=v.split("="),I=R.shift().replace(/\+/g," "),O=R.join("=").replace(/\+/g," ");d.append(decodeURIComponent(I),decodeURIComponent(O))}}),d}function H(u){var d=new E,v=u.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(R){var I=R.split(":"),O=I.shift().trim();if(O){var P=I.join(":").trim();d.append(O,P)}}),d}C.call(z.prototype);function Z(u,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new E(d.headers),this.url=d.url||"",this._initBody(u)}C.call(Z.prototype),Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},Z.error=function(){var u=new Z(null,{status:0,statusText:""});return u.type="error",u};var G=[301,302,303,307,308];Z.redirect=function(u,d){if(G.indexOf(d)===-1)throw new RangeError("Invalid status code");return new Z(null,{status:d,headers:{location:u}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,v){this.message=d,this.name=v;var R=Error(d);this.stack=R.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(u,d){return new Promise(function(v,R){var I=new z(u,d);if(I.signal&&I.signal.aborted)return R(new s.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function P(){O.abort()}O.onload=function(){var x={status:O.status,statusText:O.statusText,headers:H(O.getAllResponseHeaders()||"")};x.url="responseURL"in O?O.responseURL:x.headers.get("X-Request-URL");var p="response"in O?O.response:O.responseText;v(new Z(p,x))},O.onerror=function(){R(new TypeError("Network request failed"))},O.ontimeout=function(){R(new TypeError("Network request failed"))},O.onabort=function(){R(new s.DOMException("Aborted","AbortError"))},O.open(I.method,I.url,!0),I.credentials==="include"?O.withCredentials=!0:I.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&a.blob&&(O.responseType="blob"),I.headers.forEach(function(x,p){O.setRequestHeader(p,x)}),I.signal&&(I.signal.addEventListener("abort",P),O.onreadystatechange=function(){O.readyState===4&&I.signal.removeEventListener("abort",P)}),O.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=E,o.Request=z,o.Response=Z),s.Headers=E,s.Request=z,s.Response=Z,s.fetch=b,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(O1,O1.exports);Ie.rustEnum([Ie.struct([],"uninitialized"),Ie.struct([Ie.option(Ie.publicKey(),"authorityAddress")],"buffer"),Ie.struct([Ie.publicKey("programdataAddress")],"program"),Ie.struct([Ie.u64("slot"),Ie.option(Ie.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ie.u32());function op(t){return new Db(_u(8),e=>am.fromBuffer(e),e=>e.toBuffer(),t)}function tc(t){return new Db(_u(32),e=>new Q(e),e=>e.toBuffer(),t)}function sp(t,e){return new qO(t,e)}class Db extends Tf{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class qO extends Tf{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Ei()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}class am extends to{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new am([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}sn([tc("mint"),tc("owner"),op("amount"),sp(tc(),"delegate"),(t=>{const e=Pb($O("discriminator"),null,t);return e.addVariant(0,sn([]),"uninitialized"),e.addVariant(1,sn([]),"initialized"),e.addVariant(2,sn([]),"frozen"),e})("state"),sp(op(),"isNative"),op("delegatedAmount"),sp(tc(),"closeAuthority")]);new Q("11111111111111111111111111111111");const ZO="EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro",QO={name:"dmd_anchor",version:"0.1.0",spec:"0.1.0"},XO=[{name:"buy_dmd",discriminator:[118,112,238,202,214,39,149,203],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",writable:!0},{name:"treasury",writable:!0},{name:"vault_token_account",docs:["NEU: Vault-ATA (Owner = PDA)"],writable:!0},{name:"buyer_token_account",docs:["Kufer-ATA"],writable:!0},{name:"buyer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"sol_contribution",type:"u64"}]},{name:"claim_reward",discriminator:[149,95,181,242,94,90,158,162],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"founder"}]}},{name:"founder",writable:!0,signer:!0},{name:"mint",writable:!0},{name:"founder_token_account",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"initial_price_sol",type:"u64"}]},{name:"sell_dmd",discriminator:[129,244,102,89,109,152,241,129],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer_state",writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"buyer",signer:!0}],args:[{name:"amount",type:"u64"}]},{name:"toggle_public_sale",discriminator:[48,110,255,143,126,24,42,91],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"founder",signer:!0}],args:[{name:"active",type:"bool"}]},{name:"whitelist_add",discriminator:[200,159,194,141,100,114,107,154],accounts:[{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]}]}},{name:"buyer",docs:["Der Buyer, dessen Whitelist-Status gesetzt wird"]},{name:"buyer_state",docs:['PDA: [b"buyer", vault, buyer]  wird bei Bedarf angelegt'],writable:!0,pda:{seeds:[{kind:"const",value:[98,117,121,101,114]},{kind:"account",path:"vault"},{kind:"account",path:"buyer"}]}},{name:"founder",docs:["Nur Founder darf whitelisten und zahlt ggf. die Miete"],writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"status",type:"bool"}]}],JO=[{name:"BuyerState",discriminator:[196,226,50,172,9,123,201,250]},{name:"Vault",discriminator:[211,8,232,43,2,152,117,119]}],eC=[{code:6e3,name:"NotWhitelisted",msg:"Du bist nicht auf der Whitelist."},{code:6001,name:"ClaimTooEarly",msg:"Claim zu frh."},{code:6002,name:"SellTooEarly",msg:"Zu frh verkauft."},{code:6003,name:"HoldTooShort",msg:"Nicht lange genug gehalten."},{code:6004,name:"PresaleLimitReached",msg:"Presale Limit erreicht."},{code:6005,name:"Unauthorized",msg:"Nicht berechtigt."},{code:6006,name:"InsufficientFounderInit",msg:"Founder Initialisierung zu niedrig."},{code:6007,name:"MathOverflow",msg:"Arithmetischer berlauf."},{code:6008,name:"ContributionOutOfRange",msg:"Beitrag auerhalb des erlaubten Bereichs (0.510 SOL)."}],tC=[{name:"BuyerState",type:{kind:"struct",fields:[{name:"total_dmd",type:"u64"},{name:"last_reward_claim",type:"i64"},{name:"last_sell",type:"i64"},{name:"holding_since",type:"i64"},{name:"last_buy_day",type:"i64"},{name:"buy_count_today",type:"u64"},{name:"whitelisted",type:"bool"}]}},{name:"Vault",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"total_supply",type:"u64"},{name:"presale_sold",type:"u64"},{name:"initial_price_sol",type:"u64"},{name:"public_sale_active",type:"bool"},{name:"mint",type:"pubkey"},{name:"mint_decimals",type:"u8"}]}}],nC={address:ZO,metadata:QO,instructions:XO,accounts:JO,errors:eC,types:tC},Ub=ne.createContext({});function rC(){return ne.useContext(Ub)}const iC=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=ne.useMemo(()=>new qy(e,n),[e,n]);return J.createElement(Ub.Provider,{value:{connection:r}},t)};var zb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,g,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||l,w),E=n?n+c:c;return l._events[E]?l._events[E].fn?l._events[E]=[l._events[E],m]:l._events[E].push(m):(l._events[E]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,m=g.length,E=new Array(m);w<m;w++)E[w]=g[w].fn;return E},a.prototype.listenerCount=function(c){var f=n?n+c:c,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,f,g,w,m,E){var M=n?n+c:c;if(!this._events[M])return!1;var N=this._events[M],S=arguments.length,A,_;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,w),!0;case 5:return N.fn.call(N.context,f,g,w,m),!0;case 6:return N.fn.call(N.context,f,g,w,m,E),!0}for(_=1,A=new Array(S-1);_<S;_++)A[_-1]=arguments[_];N.fn.apply(N.context,A)}else{var T=N.length,C;for(_=0;_<T;_++)switch(N[_].once&&this.removeListener(c,N[_].fn,void 0,!0),S){case 1:N[_].fn.call(N[_].context);break;case 2:N[_].fn.call(N[_].context,f);break;case 3:N[_].fn.call(N[_].context,f,g);break;case 4:N[_].fn.call(N[_].context,f,g,w);break;default:if(!A)for(C=1,A=new Array(S-1);C<S;C++)A[C-1]=arguments[C];N[_].fn.apply(N[_].context,A)}}return!0},a.prototype.on=function(c,f,g){return o(this,c,f,g,!1)},a.prototype.once=function(c,f,g){return o(this,c,f,g,!0)},a.prototype.removeListener=function(c,f,g,w){var m=n?n+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var E=this._events[m];if(E.fn)E.fn===f&&(!w||E.once)&&(!g||E.context===g)&&s(this,m);else{for(var M=0,N=[],S=E.length;M<S;M++)(E[M].fn!==f||w&&!E[M].once||g&&E[M].context!==g)&&N.push(E[M]);N.length?this._events[m]=N.length===1?N[0]:N:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(zb);var oC=zb.exports;const jb=gs(oC);class ht extends Error{constructor(e,n){super(e),this.error=n}}class bo extends ht{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Of extends ht{constructor(){super(...arguments),this.name="WalletLoadError"}}class io extends ht{constructor(){super(...arguments),this.name="WalletConfigError"}}class ps extends ht{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Eu extends ht{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Ka extends ht{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ri extends ht{constructor(){super(...arguments),this.name="WalletAccountError"}}class Ao extends ht{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class sC extends ht{constructor(){super(...arguments),this.name="WalletKeypairError"}}class it extends ht{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class ei extends ht{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Yn extends ht{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Su extends ht{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class T0 extends ht{constructor(){super(...arguments),this.name="WalletSignInError"}}class aC extends ht{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class lC extends ht{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class uC extends ht{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var xe;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(xe||(xe={}));class lm extends jb{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new it;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function um(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const o of e)o()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Ud(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Br(t){return"version"in t}class cm extends lm{async sendTransaction(e,n,r={}){let i=!0;try{if(Br(e)){if(!this.supportedTransactionVersions)throw new ei("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new ei(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,r)}catch(o){throw o instanceof Yn?(i=!1,o):new ei(o==null?void 0:o.message,o)}}else try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,s)}catch(o){throw o instanceof Yn?(i=!1,o):new ei(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(Br(r)){if(!this.supportedTransactionVersions)throw new Yn("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Yn(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class bu extends cm{}class cC extends bu{}var Te={},Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.SolanaSignAndSendTransaction=void 0;Cf.SolanaSignAndSendTransaction="solana:signAndSendTransaction";var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.SolanaSignIn=void 0;Lf.SolanaSignIn="solana:signIn";var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.SolanaSignMessage=void 0;Bf.SolanaSignMessage="solana:signMessage";var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.SolanaSignTransaction=void 0;Pf.SolanaSignTransaction="solana:signTransaction";var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.SignAndSendAllTransactions=void 0;Df.SignAndSendAllTransactions="solana:signAndSendAllTransactions";(function(t){var e=xt&&xt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=xt&&xt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Cf,t),n(Lf,t),n(Bf,t),n(Pf,t),n(Df,t)})(Te);var zr={},Wb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Connect=t.StandardConnect=void 0,t.StandardConnect="standard:connect",t.Connect=t.StandardConnect})(Wb);var Fb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Disconnect=t.StandardDisconnect=void 0,t.StandardDisconnect="standard:disconnect",t.Disconnect=t.StandardDisconnect})(Fb);var Hb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.StandardEvents=void 0,t.StandardEvents="standard:events",t.Events=t.StandardEvents})(Hb);(function(t){var e=xt&&xt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=xt&&xt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Wb,t),n(Fb,t),n(Hb,t)})(zr);function Kb(t){return zr.StandardConnect in t.features&&zr.StandardEvents in t.features&&(Te.SolanaSignAndSendTransaction in t.features||Te.SolanaSignTransaction in t.features)}var N0;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(N0||(N0={}));const dC=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:bu,BaseSignInMessageSignerWalletAdapter:cC,BaseSignerWalletAdapter:cm,BaseWalletAdapter:lm,EventEmitter:jb,WalletAccountError:Ri,get WalletAdapterNetwork(){return N0},WalletConfigError:io,WalletConnectionError:ps,WalletDisconnectedError:Eu,WalletDisconnectionError:Ka,WalletError:ht,WalletKeypairError:sC,WalletLoadError:Of,WalletNotConnectedError:it,WalletNotReadyError:bo,WalletPublicKeyError:Ao,get WalletReadyState(){return xe},WalletSendTransactionError:ei,WalletSignInError:T0,WalletSignMessageError:Su,WalletSignTransactionError:Yn,WalletTimeoutError:aC,WalletWindowBlockedError:lC,WalletWindowClosedError:uC,isIosAndRedirectable:Ud,isVersionedTransaction:Br,isWalletAdapterCompatibleStandardWallet:Kb,scopePollingDetectionStrategy:um},Symbol.toStringTag,{value:"Module"}));class C1 extends ht{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const fC=[],Uf={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){xr("call","select")},connect(){return Promise.reject(xr("call","connect"))},disconnect(){return Promise.reject(xr("call","disconnect"))},sendTransaction(){return Promise.reject(xr("call","sendTransaction"))},signTransaction(){return Promise.reject(xr("call","signTransaction"))},signAllTransactions(){return Promise.reject(xr("call","signAllTransactions"))},signMessage(){return Promise.reject(xr("call","signMessage"))},signIn(){return Promise.reject(xr("call","signIn"))}};Object.defineProperty(Uf,"wallets",{get(){return xr("read","wallets"),fC}});Object.defineProperty(Uf,"wallet",{get(){return xr("read","wallet"),null}});Object.defineProperty(Uf,"publicKey",{get(){return xr("read","publicKey"),null}});function xr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const $b=ne.createContext(Uf);function dm(){return ne.useContext($b)}function hC(t,e){const n=ne.useState(()=>{try{const o=localStorage.getItem(t);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=n[0],i=ne.useRef(!0);return ne.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,t]),n}var To={};const pC=Oa(dC);var ui={},Au={},gC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Vb={},gr={};let fm;const yC=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];gr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};gr.getSymbolTotalCodewords=function(e){return yC[e]};gr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};gr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');fm=e};gr.isKanjiModeEnabled=function(){return typeof fm<"u"};gr.toSJIS=function(e){return fm(e)};var zf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(zf);function Gb(){this.buffer=[],this.length=0}Gb.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var mC=Gb;function Iu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Iu.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Iu.prototype.get=function(t,e){return this.data[t*this.size+e]};Iu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Iu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var wC=Iu,Yb={};(function(t){const e=gr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(Yb);var qb={};const vC=gr.getSymbolSize,L1=7;qb.getPositions=function(e){const n=vC(e);return[[0,0],[n-L1,0],[0,n-L1]]};var Zb={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,c=null,f=null;for(let g=0;g<o;g++){a=l=0,c=f=null;for(let w=0;w<o;w++){let m=i.get(g,w);m===c?a++:(a>=5&&(s+=e.N1+(a-5)),c=m,a=1),m=i.get(w,g),m===f?l++:(l>=5&&(s+=e.N1+(l-5)),f=m,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let f=0;f<o;f++)a=a<<1&2047|i.get(c,f),f>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(f,c),f>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){o(c),t.applyMask(c,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),f<l&&(l=f,a=c)}return a}})(Zb);var jf={};const oo=zf,nc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];jf.getBlocksCount=function(e,n){switch(n){case oo.L:return nc[(e-1)*4+0];case oo.M:return nc[(e-1)*4+1];case oo.Q:return nc[(e-1)*4+2];case oo.H:return nc[(e-1)*4+3];default:return}};jf.getTotalCodewordsCount=function(e,n){switch(n){case oo.L:return rc[(e-1)*4+0];case oo.M:return rc[(e-1)*4+1];case oo.Q:return rc[(e-1)*4+2];case oo.H:return rc[(e-1)*4+3];default:return}};var Qb={},Wf={};const Ml=new Uint8Array(512),zd=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Ml[n]=e,zd[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Ml[n]=Ml[n-255]})();Wf.log=function(e){if(e<1)throw new Error("log("+e+")");return zd[e]};Wf.exp=function(e){return Ml[e]};Wf.mul=function(e,n){return e===0||n===0?0:Ml[zd[e]+zd[n]]};(function(t){const e=Wf;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(Qb);const Xb=Qb;function hm(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}hm.prototype.initialize=function(e){this.degree=e,this.genPoly=Xb.generateECPolynomial(this.degree)};hm.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Xb.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var _C=hm,Jb={},No={},pm={};pm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ci={};const eA="[0-9]+",EC="[A-Z $%*+\\-./:]+";let ru="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ru=ru.replace(/u/g,"\\u");const SC="(?:(?![A-Z0-9 $%*+\\-./:]|"+ru+`)(?:.|[\r
]))+`;ci.KANJI=new RegExp(ru,"g");ci.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ci.BYTE=new RegExp(SC,"g");ci.NUMERIC=new RegExp(eA,"g");ci.ALPHANUMERIC=new RegExp(EC,"g");const bC=new RegExp("^"+ru+"$"),AC=new RegExp("^"+eA+"$"),IC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ci.testKanji=function(e){return bC.test(e)};ci.testNumeric=function(e){return AC.test(e)};ci.testAlphanumeric=function(e){return IC.test(e)};(function(t){const e=pm,n=ci;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(No);(function(t){const e=gr,n=jf,r=zf,i=No,o=pm,s=7973,a=e.getBCHDigit(s);function l(w,m,E){for(let M=1;M<=40;M++)if(m<=t.getCapacity(M,E,w))return M}function c(w,m){return i.getCharCountIndicator(w,m)+4}function f(w,m){let E=0;return w.forEach(function(M){const N=c(M.mode,m);E+=N+M.getBitsLength()}),E}function g(w,m){for(let E=1;E<=40;E++)if(f(w,E)<=t.getCapacity(E,m,i.MIXED))return E}t.from=function(m,E){return o.isValid(m)?parseInt(m,10):E},t.getCapacity=function(m,E,M){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof M>"u"&&(M=i.BYTE);const N=e.getSymbolTotalCodewords(m),S=n.getTotalCodewordsCount(m,E),A=(N-S)*8;if(M===i.MIXED)return A;const _=A-c(M,m);switch(M){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(m,E){let M;const N=r.from(E,r.M);if(Array.isArray(m)){if(m.length>1)return g(m,N);if(m.length===0)return 1;M=m[0]}else M=m;return l(M.mode,M.getLength(),N)},t.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let E=m<<12;for(;e.getBCHDigit(E)-a>=0;)E^=s<<e.getBCHDigit(E)-a;return m<<12|E}})(Jb);var tA={};const x0=gr,nA=1335,RC=21522,B1=x0.getBCHDigit(nA);tA.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;x0.getBCHDigit(i)-B1>=0;)i^=nA<<x0.getBCHDigit(i)-B1;return(r<<10|i)^RC};var rA={};const kC=No;function ka(t){this.mode=kC.NUMERIC,this.data=t.toString()}ka.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ka.prototype.getLength=function(){return this.data.length};ka.prototype.getBitsLength=function(){return ka.getBitsLength(this.data.length)};ka.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var MC=ka;const TC=No,ap=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ma(t){this.mode=TC.ALPHANUMERIC,this.data=t}Ma.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ma.prototype.getLength=function(){return this.data.length};Ma.prototype.getBitsLength=function(){return Ma.getBitsLength(this.data.length)};Ma.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=ap.indexOf(this.data[n])*45;r+=ap.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(ap.indexOf(this.data[n]),6)};var NC=Ma;const xC=No;function Ta(t){this.mode=xC.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Ta.getBitsLength=function(e){return e*8};Ta.prototype.getLength=function(){return this.data.length};Ta.prototype.getBitsLength=function(){return Ta.getBitsLength(this.data.length)};Ta.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var OC=Ta;const CC=No,LC=gr;function Na(t){this.mode=CC.KANJI,this.data=t}Na.getBitsLength=function(e){return e*13};Na.prototype.getLength=function(){return this.data.length};Na.prototype.getBitsLength=function(){return Na.getBitsLength(this.data.length)};Na.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=LC.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var BC=Na,iA={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,f,g,w,m,E,M,N;!a.empty();){l=a.pop(),c=l.value,g=l.cost,w=n[c]||{};for(f in w)w.hasOwnProperty(f)&&(m=w[f],E=g+m,M=s[f],N=typeof s[f]>"u",(N||M>E)&&(s[f]=E,a.push(f,E),o[f]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var S=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(S)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(iA);var PC=iA.exports;(function(t){const e=No,n=MC,r=NC,i=OC,o=BC,s=ci,a=gr,l=PC;function c(S){return unescape(encodeURIComponent(S)).length}function f(S,A,_){const T=[];let C;for(;(C=S.exec(_))!==null;)T.push({data:C[0],index:C.index,mode:A,length:C[0].length});return T}function g(S){const A=f(s.NUMERIC,e.NUMERIC,S),_=f(s.ALPHANUMERIC,e.ALPHANUMERIC,S);let T,C;return a.isKanjiModeEnabled()?(T=f(s.BYTE,e.BYTE,S),C=f(s.KANJI,e.KANJI,S)):(T=f(s.BYTE_KANJI,e.BYTE,S),C=[]),A.concat(_,T,C).sort(function(U,z){return U.index-z.index}).map(function(U){return{data:U.data,mode:U.mode,length:U.length}})}function w(S,A){switch(A){case e.NUMERIC:return n.getBitsLength(S);case e.ALPHANUMERIC:return r.getBitsLength(S);case e.KANJI:return o.getBitsLength(S);case e.BYTE:return i.getBitsLength(S)}}function m(S){return S.reduce(function(A,_){const T=A.length-1>=0?A[A.length-1]:null;return T&&T.mode===_.mode?(A[A.length-1].data+=_.data,A):(A.push(_),A)},[])}function E(S){const A=[];for(let _=0;_<S.length;_++){const T=S[_];switch(T.mode){case e.NUMERIC:A.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:A.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:A.push([T,{data:T.data,mode:e.BYTE,length:c(T.data)}]);break;case e.BYTE:A.push([{data:T.data,mode:e.BYTE,length:c(T.data)}])}}return A}function M(S,A){const _={},T={start:{}};let C=["start"];for(let D=0;D<S.length;D++){const U=S[D],z=[];for(let j=0;j<U.length;j++){const H=U[j],Z=""+D+j;z.push(Z),_[Z]={node:H,lastCount:0},T[Z]={};for(let G=0;G<C.length;G++){const b=C[G];_[b]&&_[b].node.mode===H.mode?(T[b][Z]=w(_[b].lastCount+H.length,H.mode)-w(_[b].lastCount,H.mode),_[b].lastCount+=H.length):(_[b]&&(_[b].lastCount=H.length),T[b][Z]=w(H.length,H.mode)+4+e.getCharCountIndicator(H.mode,A))}}C=z}for(let D=0;D<C.length;D++)T[C[D]].end=0;return{map:T,table:_}}function N(S,A){let _;const T=e.getBestModeForData(S);if(_=e.from(A,T),_!==e.BYTE&&_.bit<T.bit)throw new Error('"'+S+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(T));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(S);case e.ALPHANUMERIC:return new r(S);case e.KANJI:return new o(S);case e.BYTE:return new i(S)}}t.fromArray=function(A){return A.reduce(function(_,T){return typeof T=="string"?_.push(N(T,null)):T.data&&_.push(N(T.data,T.mode)),_},[])},t.fromString=function(A,_){const T=g(A,a.isKanjiModeEnabled()),C=E(T),D=M(C,_),U=l.find_path(D.map,"start","end"),z=[];for(let j=1;j<U.length-1;j++)z.push(D.table[U[j]].node);return t.fromArray(m(z))},t.rawSplit=function(A){return t.fromArray(g(A,a.isKanjiModeEnabled()))}})(rA);const Ff=gr,lp=zf,DC=mC,UC=wC,zC=Yb,jC=qb,O0=Zb,C0=jf,WC=_C,jd=Jb,FC=tA,HC=No,up=rA;function KC(t,e){const n=t.size,r=jC.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function $C(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function VC(t,e){const n=zC.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function GC(t,e){const n=t.size,r=jd.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function cp(t,e,n){const r=t.size,i=FC.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function YC(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),t.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function qC(t,e,n){const r=new DC;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),HC.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Ff.getSymbolTotalCodewords(t),o=C0.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return ZC(r,t,e)}function ZC(t,e,n){const r=Ff.getSymbolTotalCodewords(e),i=C0.getTotalCodewordsCount(e,n),o=r-i,s=C0.getBlocksCount(e,n),a=r%s,l=s-a,c=Math.floor(r/s),f=Math.floor(o/s),g=f+1,w=c-f,m=new WC(w);let E=0;const M=new Array(s),N=new Array(s);let S=0;const A=new Uint8Array(t.buffer);for(let U=0;U<s;U++){const z=U<l?f:g;M[U]=A.slice(E,E+z),N[U]=m.encode(M[U]),E+=z,S=Math.max(S,z)}const _=new Uint8Array(r);let T=0,C,D;for(C=0;C<S;C++)for(D=0;D<s;D++)C<M[D].length&&(_[T++]=M[D][C]);for(C=0;C<w;C++)for(D=0;D<s;D++)_[T++]=N[D][C];return _}function QC(t,e,n,r){let i;if(Array.isArray(t))i=up.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const f=up.rawSplit(t);c=jd.getBestVersionForData(f,n)}i=up.fromString(t,c||40)}else throw new Error("Invalid data");const o=jd.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=qC(e,n,i),a=Ff.getSymbolSize(e),l=new UC(a);return KC(l,e),$C(l),VC(l,e),cp(l,n,0),e>=7&&GC(l,e),YC(l,s),isNaN(r)&&(r=O0.getBestMask(l,cp.bind(null,l,n))),O0.applyMask(r,l),cp(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}Vb.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=lp.M,i,o;return typeof n<"u"&&(r=lp.from(n.errorCorrectionLevel,lp.M),i=jd.from(n.version),o=O0.from(n.maskPattern),n.toSJISFunc&&Ff.setToSJISFunction(n.toSJISFunc)),QC(e,i,r,o)};var oA={},gm={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),c=Math.floor((s+o.margin*2)*l),f=o.margin*l,g=[o.color.light,o.color.dark];for(let w=0;w<c;w++)for(let m=0;m<c;m++){let E=(w*c+m)*4,M=o.color.light;if(w>=f&&m>=f&&w<c-f&&m<c-f){const N=Math.floor((w-f)/l),S=Math.floor((m-f)/l);M=g[a[N*s+S]?1:0]}r[E++]=M.r,r[E++]=M.g,r[E++]=M.b,r[E]=M.a}}})(gm);(function(t){const e=gm;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=r()),l=e.getOptions(l);const f=e.getImageWidth(o.modules.size,l),g=c.getContext("2d"),w=g.createImageData(f,f);return e.qrToImageData(w.data,o,l),n(g,c,f),g.putImageData(w,0,0),c},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=t.render(o,s,l),f=l.type||"image/png",g=l.rendererOpts||{};return c.toDataURL(f,g.quality)}})(oA);var sA={};const XC=gm;function P1(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function dp(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function JC(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?dp("M",l+n,.5+c+n):dp("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=dp("h",s),s=0)):i++}return r}sA.render=function(e,n,r){const i=XC.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+P1(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+P1(i.color.dark,"stroke")+' d="'+JC(s,o,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,w),w};const e4=gC,L0=Vb,aA=oA,t4=sA;function ym(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!e4())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const f=L0.create(n,r);l(t(f,e,r))}catch(f){c(f)}})}try{const l=L0.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Au.create=L0.create;Au.toCanvas=ym.bind(null,aA.render);Au.toDataURL=ym.bind(null,aA.renderToDataURL);Au.toString=ym.bind(null,function(t,e,n){return t4.render(t,n)});function fp(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var Jr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(Jr);const n4="https://api.mainnet-beta.solana.com";function r4(t){return t.includes(n4)?Jr.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?Jr.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?Jr.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Jr.SOLANA_LOCALNET_CHAIN:Jr.SOLANA_MAINNET_CHAIN}function i4(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const lr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class ur extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const o4={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class Hf extends Error{constructor(...e){const[n,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ke(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function s4(t){return window.btoa(t)}function B0(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function a4(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function bc(t,e){return Ke(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function l4(t){return i4(t)}function u4(t){return s4(l4(t))}const lA="solana:signTransactions",P0="solana:cloneAuthorization",c4="solana:signInWithSolana";function uA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return Ke(this,void 0,void 0,function*(){const{method:o,params:s}=d4(r,i,t),a=yield e(o,s);return o==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield h4(s.sign_in_payload,a,e)),f4(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function d4(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:o}=r;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:s}=r;if(o)switch(n){case"legacy":{i="reauthorize",r={auth_token:o,identity:s};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function f4(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[lA];return r.supports_clone_authorization===!0&&i.push(P0),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(P0)})}}}return e}function h4(t,e,n){var r;return Ke(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,s=u4(Object.assign(Object.assign({},t),{domain:i,address:o})),a=yield n("sign_messages",{addresses:[o],payloads:[s]});return{address:o,signed_message:s,signature:a.signed_payloads[0].slice(s.length)}})}const ki=4;function p4(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ki);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const D0=12,mm=65;function g4(t,e,n){return Ke(this,void 0,void 0,function*(){const r=p4(e),i=new Uint8Array(D0);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(dA(r,i),n,new TextEncoder().encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function cA(t,e){return Ke(this,void 0,void 0,function*(){const n=t.slice(0,ki),r=t.slice(ki,ki+D0),i=t.slice(ki+D0),o=yield crypto.subtle.decrypt(dA(n,r),e,i);return y4().decode(o)})}function dA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let hp;function y4(){return hp===void 0&&(hp=new TextDecoder("utf-8")),hp}function fA(){return Ke(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Ac(){return Ke(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function hA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function m4(){return pA(49152+Math.floor(Math.random()*16384))}function pA(t){if(t<49152||t>65535)throw new ur(lr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function gA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const w4="solana-wallet";function D1(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function yA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new ur(lr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${w4}:/`));const r=t.startsWith("/")?t:[...D1(n.pathname),...D1(t)].join("/");return new URL(r,n)}function v4(t,e,n,r=["v1"]){return Ke(this,void 0,void 0,function*(){const i=pA(e),o=yield crypto.subtle.exportKey("raw",t),s=hA(o),a=yA("v1/associate/local",n);return a.searchParams.set("association",gA(s)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function _4(t,e,n,r,i=["v1"]){return Ke(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",t),s=hA(o),a=yA("v1/associate/remote",r);return a.searchParams.set("association",gA(s)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${B0(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function mA(t,e){return Ke(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return g4(n,r,e)})}function wA(t,e){return Ke(this,void 0,void 0,function*(){const n=yield cA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Hf(r.id,r.error.code,r.error.message);return r})}function vA(t,e,n){return Ke(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,mm),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function _A(t,e){return Ke(this,void 0,void 0,function*(){const n=yield cA(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new ur(lr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const Wd={Firefox:0,Other:1};function E4(){return navigator.userAgent.indexOf("Firefox/")!==-1?Wd.Firefox:Wd.Other}function S4(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let tl=null;function b4(t){tl==null&&(tl=document.createElement("iframe"),tl.style.display="none",document.body.appendChild(tl)),tl.contentWindow.location.href=t.toString()}function A4(t){return Ke(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=E4();switch(e){case Wd.Firefox:b4(t);break;case Wd.Other:{const n=S4();window.location.assign(t),yield n;break}default:}}catch{throw new ur(lr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function I4(t,e){return Ke(this,void 0,void 0,function*(){const n=m4(),r=yield v4(t,n,e);return yield A4(r),n})}const Fd={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},EA="com.solana.mobilewalletadapter.v1",U1="com.solana.mobilewalletadapter.v1.base64";function SA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ur(lr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function bA(t){let e;try{e=new URL(t)}catch{throw new ur(lr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new ur(lr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Hd(t){return new DataView(t).getUint32(0,!1)}function R4(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,o=0,s;do{if(o>=n||o>r)throw new RangeError("Failed to decode varint");s=e[o++],i|=(s&127)<<7*o}while(s>=128);return{value:i,offset:o}}function k4(t){let{value:e,offset:n}=R4(t);return new Uint8Array(t.slice(n,n+e))}function M4(t,e){return Ke(this,void 0,void 0,function*(){SA();const n=yield fA(),i=`ws://localhost:${yield I4(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const s=(()=>{const f=[...Fd.retryDelayScheduleMs];return()=>f.length>1?f.shift():f[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((f,g)=>{let w;const m={},E=()=>Ke(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}w.removeEventListener("open",E);const{associationKeypair:C}=c,D=yield Ac();w.send(yield bc(D.publicKey,C.privateKey)),c={__type:"hello_req_sent",associationPublicKey:C.publicKey,ecdhPrivateKey:D.privateKey}}),M=C=>{C.wasClean?c={__type:"disconnected"}:g(new ur(lr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${C.code}: ${C.reason}).`,{closeEvent:C})),A()},N=C=>Ke(this,void 0,void 0,function*(){A(),Date.now()-o>=Fd.timeoutMs?g(new ur(lr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(D=>{const U=s();_=window.setTimeout(D,U)}),T())}),S=C=>Ke(this,void 0,void 0,function*(){const D=yield C.data.arrayBuffer();switch(c.__type){case"connecting":if(D.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const U=yield Ac();w.send(yield bc(U.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:U.privateKey};break;case"connected":try{const z=D.slice(0,ki),j=Hd(z);if(j!==l+1)throw new Error("Encrypted message has invalid sequence number");l=j;const H=yield wA(D,c.sharedSecret),Z=m[H.id];delete m[H.id],Z.resolve(H.result)}catch(z){if(z instanceof Hf){const j=m[z.jsonRpcMessageId];delete m[z.jsonRpcMessageId],j.reject(z)}else throw z}break;case"hello_req_sent":{if(D.byteLength===0){const G=yield Ac();w.send(yield bc(G.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:G.privateKey};break}const z=yield vA(D,c.associationPublicKey,c.ecdhPrivateKey),j=D.slice(mm),H=j.byteLength!==0?yield Ke(this,void 0,void 0,function*(){const G=j.slice(0,ki),b=Hd(G);if(b!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=b,_A(j,z)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:z,sessionProperties:H};const Z=uA(H.protocol_version,(G,b)=>Ke(this,void 0,void 0,function*(){const u=a++;return w.send(yield mA({id:u,jsonrpc:"2.0",method:G,params:b??{}},z)),new Promise((d,v)=>{m[u]={resolve(R){switch(G){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=R;if(I!=null)try{bA(I)}catch(O){v(O);return}break}}d(R)},reject:v}})}));try{f(yield t(Z))}catch(G){g(G)}finally{A(),w.close()}break}}});let A,_;const T=()=>{A&&A(),c={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),w=new WebSocket(i,[EA]),w.addEventListener("open",E),w.addEventListener("close",M),w.addEventListener("error",N),w.addEventListener("message",S),A=()=>{window.clearTimeout(_),w.removeEventListener("open",E),w.removeEventListener("close",M),w.removeEventListener("error",N),w.removeEventListener("message",S)}};T()})})}function T4(t){return Ke(this,void 0,void 0,function*(){SA();const e=yield fA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const M=[...Fd.retryDelayScheduleMs];return()=>M.length>1?M.shift():M[0]})();let o=1,s=0,a,l={__type:"disconnected"},c,f,g=M=>Ke(this,void 0,void 0,function*(){if(a=="base64"){const N=yield M.data;return a4(N).buffer}else return yield M.data.arrayBuffer()});const w=yield new Promise((M,N)=>{const S=()=>Ke(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(U1)?a="base64":a="binary",c.removeEventListener("open",S)}),A=U=>{U.wasClean?l={__type:"disconnected"}:N(new ur(lr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${U.code}: ${U.reason}).`,{closeEvent:U})),f()},_=U=>Ke(this,void 0,void 0,function*(){f(),Date.now()-r>=Fd.timeoutMs?N(new ur(lr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(z=>{const j=i();C=window.setTimeout(z,j)}),D())}),T=U=>Ke(this,void 0,void 0,function*(){const z=yield g(U);if(l.__type==="connecting"){if(z.byteLength==0)throw new Error("Encountered unexpected message while connecting");const j=k4(z);l={__type:"reflector_id_received",reflectorId:j};const H=yield _4(e.publicKey,t.remoteHostAuthority,j,t==null?void 0:t.baseUri);c.removeEventListener("message",T),M(H)}});let C;const D=()=>{f&&f(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[EA,U1]),c.addEventListener("open",S),c.addEventListener("close",A),c.addEventListener("error",_),c.addEventListener("message",T),f=()=>{window.clearTimeout(C),c.removeEventListener("open",S),c.removeEventListener("close",A),c.removeEventListener("error",_),c.removeEventListener("message",T)}};D()});let m=!1,E;return{associationUrl:w,close:()=>{c.close(),E()},wallet:new Promise((M,N)=>{const S={},A=_=>Ke(this,void 0,void 0,function*(){const T=yield g(_);switch(l.__type){case"reflector_id_received":if(T.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const C=yield Ac(),D=yield bc(C.publicKey,e.privateKey);a=="base64"?c.send(B0(D)):c.send(D),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:C.privateKey};break;case"connected":try{const U=T.slice(0,ki),z=Hd(U);if(z!==s+1)throw new Error("Encrypted message has invalid sequence number");s=z;const j=yield wA(T,l.sharedSecret),H=S[j.id];delete S[j.id],H.resolve(j.result)}catch(U){if(U instanceof Hf){const z=S[U.jsonRpcMessageId];delete S[U.jsonRpcMessageId],z.reject(U)}else throw U}break;case"hello_req_sent":{const U=yield vA(T,l.associationPublicKey,l.ecdhPrivateKey),z=T.slice(mm),j=z.byteLength!==0?yield Ke(this,void 0,void 0,function*(){const Z=z.slice(0,ki),G=Hd(Z);if(G!==s+1)throw new Error("Encrypted message has invalid sequence number");return s=G,_A(z,U)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:U,sessionProperties:j};const H=uA(j.protocol_version,(Z,G)=>Ke(this,void 0,void 0,function*(){const b=o++,u=yield mA({id:b,jsonrpc:"2.0",method:Z,params:G??{}},U);return a=="base64"?c.send(B0(u)):c.send(u),new Promise((d,v)=>{S[b]={resolve(R){switch(Z){case"authorize":case"reauthorize":{const{wallet_uri_base:I}=R;if(I!=null)try{bA(I)}catch(O){v(O);return}break}}d(R)},reject:v}})}));m=!0;try{M(H)}catch(Z){N(Z)}break}}});c.addEventListener("message",A),E=()=>{c.removeEventListener("message",A),f(),m||N(new ur(lr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}const N4=Object.freeze(Object.defineProperty({__proto__:null,SolanaCloneAuthorization:P0,SolanaMobileWalletAdapterError:ur,SolanaMobileWalletAdapterErrorCode:lr,SolanaMobileWalletAdapterProtocolError:Hf,SolanaMobileWalletAdapterProtocolErrorCode:o4,SolanaSignInWithSolana:c4,SolanaSignTransactions:lA,startRemoteScenario:T4,transact:M4},Symbol.toStringTag,{value:"Module"})),x4=Oa(N4);function O4(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var E=0,M=0,N=0,S=m.length;N!==S&&m[N]===0;)N++,E++;for(var A=(S-N)*c+1>>>0,_=new Uint8Array(A);N!==S;){for(var T=m[N],C=0,D=A-1;(T!==0||C<M)&&D!==-1;D--,C++)T+=256*_[D]>>>0,_[D]=T%s>>>0,T=T/s>>>0;if(T!==0)throw new Error("Non-zero carry");M=C,N++}for(var U=A-M;U!==A&&_[U]===0;)U++;for(var z=a.repeat(E);U<A;++U)z+=t.charAt(_[U]);return z}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var E=0,M=0,N=0;m[E]===a;)M++,E++;for(var S=(m.length-E)*l+1>>>0,A=new Uint8Array(S);m[E];){var _=m.charCodeAt(E);if(_>255)return;var T=e[_];if(T===255)return;for(var C=0,D=S-1;(T!==0||C<N)&&D!==-1;D--,C++)T+=s*A[D]>>>0,A[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");N=C,E++}for(var U=S-N;U!==S&&A[U]===0;)U++;for(var z=new Uint8Array(M+(S-U)),j=M;U!==S;)z[j++]=A[U++];return z}function w(m){var E=g(m);if(E)return E;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:g,decode:w}}var C4=O4;const L4=C4,B4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var P4=L4(B4);Object.defineProperty(ui,"__esModule",{value:!0});var Qt=Te,D4=Au,AA=x4,ha=zr,U4=P4,z1=Jr;function IA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var z4=IA(D4),iu=IA(U4);function Se(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function F(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Ne(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var sl,Jt,Lo,Os,RA,kA,MA,Ic;const j4=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,W4=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,F4=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class TA{constructor(){sl.add(this),Jt.set(this,null),Lo.set(this,{}),Os.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),F(this,sl,"m",kA).call(this),F(this,Jt,"f")&&(F(this,Jt,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),F(this,sl,"m",MA).call(this),F(this,Jt,"f")&&(F(this,Jt,"f").style.display="none"),(n=F(this,Lo,"f").close)===null||n===void 0||n.forEach(r=>r(e))},Ic.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Ne(this,Jt,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Se(this,void 0,void 0,function*(){console.log("Injecting modal"),F(this,sl,"m",RA).call(this)})}addEventListener(e,n){var r;return!((r=F(this,Lo,"f")[e])===null||r===void 0)&&r.push(n)||(F(this,Lo,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;F(this,Lo,"f")[e]=(r=F(this,Lo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}Jt=new WeakMap,Lo=new WeakMap,Os=new WeakMap,Ic=new WeakMap,sl=new WeakSet,RA=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){F(this,Jt,"f")||Ne(this,Jt,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Ne(this,Jt,document.createElement("div")),F(this,Jt,"f").id="mobile-wallet-adapter-embedded-root-ui",F(this,Jt,"f").innerHTML=j4,F(this,Jt,"f").style.display="none";const e=F(this,Jt,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=W4+this.contentStyles;const r=document.createElement("div");r.innerHTML=F4,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(F(this,Jt,"f")),document.body.appendChild(r)},kA=function(){if(!F(this,Jt,"f")||F(this,Os,"f"))return;[...F(this,Jt,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",F(this,Ic,"f")),Ne(this,Os,!0)},MA=function(){if(!F(this,Os,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",F(this,Ic,"f")),!F(this,Jt,"f")))return;[...F(this,Jt,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Ne(this,Os,!1)};class H4 extends TA{constructor(){super(...arguments),this.contentStyles=$4,this.contentHtml=K4}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Se(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Se(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield z4.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const K4=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,$4=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,NA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function so(t){return window.btoa(String.fromCharCode.call(null,...t))}function xn(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Cs,Xo,U0,z0,j0,W0,al,Mn,pi,Hi,Ls,Bo,Rc,ll,kc,F0,Mc,xA,H0,Tc,Bs,Nc,ul,xc,Ps,cl,Oc,K0,$0,Cc,Lc,V0,G0,Bc,Ds,Jo,Y0,q0,Z0,Q0,dl,Tn,Ki,$i,Us,Po,Pc,fl,Dc,Uc,Tr,X0,zc,OA,J0,jc,hl,eg,pl,Wc,zs,gl,Fc,tg,ng,Hc,Kc,rg,ig,$c;const wm="Mobile Wallet Adapter",CA=64,LA=[Qt.SolanaSignAndSendTransaction,Qt.SolanaSignTransaction,Qt.SolanaSignMessage,Qt.SolanaSignIn];class BA{constructor(e){Cs.add(this),Xo.set(this,{}),U0.set(this,"1.0.0"),z0.set(this,wm),j0.set(this,"https://solanamobile.com/wallets"),W0.set(this,NA),al.set(this,void 0),Mn.set(this,void 0),pi.set(this,void 0),Hi.set(this,!1),Ls.set(this,0),Bo.set(this,[]),Rc.set(this,void 0),ll.set(this,void 0),kc.set(this,void 0),F0.set(this,(n,r)=>{var i;return!((i=F(this,Xo,"f")[n])===null||i===void 0)&&i.push(r)||(F(this,Xo,"f")[n]=[r]),()=>F(this,Cs,"m",xA).call(this,n,r)}),H0.set(this,({silent:n}={})=>Se(this,void 0,void 0,function*(){if(F(this,Hi,"f")||this.connected)return{accounts:this.accounts};Ne(this,Hi,!0);try{if(n){const r=yield F(this,pi,"f").get();if(r)yield F(this,Nc,"f").call(this,r.capabilities),yield F(this,Bs,"f").call(this,r);else return{accounts:this.accounts}}else yield F(this,Tc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Ne(this,Hi,!1)}return{accounts:this.accounts}})),Tc.set(this,n=>Se(this,void 0,void 0,function*(){try{const r=yield F(this,pi,"f").get();if(r)return F(this,Bs,"f").call(this,r),r;const i=yield F(this,Rc,"f").select(F(this,Bo,"f"));return yield F(this,Ps,"f").call(this,o=>Se(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:F(this,al,"f"),sign_in_payload:n})]),l=F(this,Oc,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([F(this,Nc,"f").call(this,s),F(this,pi,"f").set(c),F(this,Bs,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Bs.set(this,n=>Se(this,void 0,void 0,function*(){var r;const i=F(this,Mn,"f")==null||((r=F(this,Mn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||F(this,Mn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Ne(this,Mn,n),i&&F(this,Cs,"m",Mc).call(this,"change",{accounts:this.accounts})})),Nc.set(this,n=>Se(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,o=Qt.SolanaSignAndSendTransaction in this.features!==i||Qt.SolanaSignTransaction in this.features!==r;Ne(this,ll,Object.assign(Object.assign({},(i||!i&&!r)&&{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:F(this,Cc,"f")}}),r&&{[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:F(this,Lc,"f")}})),o&&F(this,Cs,"m",Mc).call(this,"change",{features:this.features})})),ul.set(this,(n,r,i)=>Se(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=F(this,Mn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:F(this,al,"f"),chain:i})]),c=F(this,Oc,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:c,chain:i,capabilities:a});Promise.all([F(this,pi,"f").set(f),F(this,Bs,"f").call(this,f)])}catch(a){throw F(this,xc,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),xc.set(this,()=>Se(this,void 0,void 0,function*(){var n;F(this,pi,"f").clear(),Ne(this,Hi,!1),Ne(this,Ls,(n=F(this,Ls,"f"),n++,n)),Ne(this,Mn,void 0),F(this,Cs,"m",Mc).call(this,"change",{accounts:this.accounts})})),Ps.set(this,n=>Se(this,void 0,void 0,function*(){var r;const i=(r=F(this,Mn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,s=F(this,Ls,"f");try{return yield AA.transact(n,o)}catch(a){throw F(this,Ls,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield F(this,kc,"f").call(this,this)),a}})),cl.set(this,()=>{if(!F(this,Mn,"f"))throw new Error("Wallet not connected");return{authToken:F(this,Mn,"f").auth_token,chain:F(this,Mn,"f").chain}}),Oc.set(this,n=>n.map(r=>{var i,o;const s=xn(r.address);return{address:iu.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:F(this,Bo,"f"),features:(o=r.features)!==null&&o!==void 0?o:LA}})),K0.set(this,n=>Se(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,cl,"f").call(this);try{const o=n.map(s=>so(s));return yield F(this,Ps,"f").call(this,s=>Se(this,void 0,void 0,function*(){return yield F(this,ul,"f").call(this,s,r,i),(yield s.signTransactions({payloads:o})).signed_payloads.map(xn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),$0.set(this,(n,r)=>Se(this,void 0,void 0,function*(){const{authToken:i,chain:o}=F(this,cl,"f").call(this);try{return yield F(this,Ps,"f").call(this,s=>Se(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),F(this,ul,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions){const c=so(n);return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[c]}))).signatures.map(xn)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Cc.set(this,(...n)=>Se(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield F(this,$0,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),Lc.set(this,(...n)=>Se(this,void 0,void 0,function*(){return(yield F(this,K0,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),V0.set(this,(...n)=>Se(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,cl,"f").call(this),o=n.map(({account:a})=>so(a.publicKey)),s=n.map(({message:a})=>so(a));try{return yield F(this,Ps,"f").call(this,a=>Se(this,void 0,void 0,function*(){return yield F(this,ul,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(xn).map(c=>({signedMessage:c,signature:c.slice(-CA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),G0.set(this,(...n)=>Se(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield F(this,Bc,"f").call(this,i));else return[yield F(this,Bc,"f").call(this,n[0])];return r})),Bc.set(this,n=>Se(this,void 0,void 0,function*(){var r,i,o;Ne(this,Hi,!0);try{const s=yield F(this,Tc,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(c=>c.address==a);return{account:Object.assign(Object.assign({},l??{address:iu.default.encode(xn(a))}),{publicKey:xn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:F(this,Bo,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:xn(s.sign_in_result.signed_message),signature:xn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Ne(this,Hi,!1)}})),Ne(this,pi,e.authorizationCache),Ne(this,al,e.appIdentity),Ne(this,Bo,e.chains),Ne(this,Rc,e.chainSelector),Ne(this,kc,e.onWalletNotFound),Ne(this,ll,{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:F(this,Cc,"f")},[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:F(this,Lc,"f")}})}get version(){return F(this,U0,"f")}get name(){return F(this,z0,"f")}get url(){return F(this,j0,"f")}get icon(){return F(this,W0,"f")}get chains(){return F(this,Bo,"f")}get features(){return Object.assign({[ha.StandardConnect]:{version:"1.0.0",connect:F(this,H0,"f")},[ha.StandardDisconnect]:{version:"1.0.0",disconnect:F(this,xc,"f")},[ha.StandardEvents]:{version:"1.0.0",on:F(this,F0,"f")},[Qt.SolanaSignMessage]:{version:"1.0.0",signMessage:F(this,V0,"f")},[Qt.SolanaSignIn]:{version:"1.0.0",signIn:F(this,G0,"f")}},F(this,ll,"f"))}get accounts(){var e,n;return(n=(e=F(this,Mn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!F(this,Mn,"f")}get isAuthorized(){return!!F(this,Mn,"f")}get currentAuthorization(){return F(this,Mn,"f")}get cachedAuthorizationResult(){return F(this,pi,"f").get()}}Xo=new WeakMap,U0=new WeakMap,z0=new WeakMap,j0=new WeakMap,W0=new WeakMap,al=new WeakMap,Mn=new WeakMap,pi=new WeakMap,Hi=new WeakMap,Ls=new WeakMap,Bo=new WeakMap,Rc=new WeakMap,ll=new WeakMap,kc=new WeakMap,F0=new WeakMap,H0=new WeakMap,Tc=new WeakMap,Bs=new WeakMap,Nc=new WeakMap,ul=new WeakMap,xc=new WeakMap,Ps=new WeakMap,cl=new WeakMap,Oc=new WeakMap,K0=new WeakMap,$0=new WeakMap,Cc=new WeakMap,Lc=new WeakMap,V0=new WeakMap,G0=new WeakMap,Bc=new WeakMap,Cs=new WeakSet,Mc=function(e,...n){var r;(r=F(this,Xo,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},xA=function(e,n){var r;F(this,Xo,"f")[e]=(r=F(this,Xo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class PA{constructor(e){Ds.add(this),Jo.set(this,{}),Y0.set(this,"1.0.0"),q0.set(this,wm),Z0.set(this,"https://solanamobile.com/wallets"),Q0.set(this,NA),dl.set(this,void 0),Tn.set(this,void 0),Ki.set(this,void 0),$i.set(this,!1),Us.set(this,0),Po.set(this,[]),Pc.set(this,void 0),fl.set(this,void 0),Dc.set(this,void 0),Uc.set(this,void 0),Tr.set(this,void 0),X0.set(this,(n,r)=>{var i;return!((i=F(this,Jo,"f")[n])===null||i===void 0)&&i.push(r)||(F(this,Jo,"f")[n]=[r]),()=>F(this,Ds,"m",OA).call(this,n,r)}),J0.set(this,({silent:n}={})=>Se(this,void 0,void 0,function*(){if(F(this,$i,"f")||this.connected)return{accounts:this.accounts};Ne(this,$i,!0);try{yield F(this,jc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Ne(this,$i,!1)}return{accounts:this.accounts}})),jc.set(this,n=>Se(this,void 0,void 0,function*(){try{const r=yield F(this,Ki,"f").get();if(r)return F(this,hl,"f").call(this,r),r;F(this,Tr,"f")&&Ne(this,Tr,void 0,"f");const i=yield F(this,Pc,"f").select(F(this,Po,"f"));return yield F(this,zs,"f").call(this,o=>Se(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:F(this,dl,"f"),sign_in_payload:n})]),l=F(this,Fc,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i,capabilities:s});return Promise.all([F(this,eg,"f").call(this,s),F(this,Ki,"f").set(c),F(this,hl,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),hl.set(this,n=>Se(this,void 0,void 0,function*(){var r;const i=F(this,Tn,"f")==null||((r=F(this,Tn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||F(this,Tn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Ne(this,Tn,n),i&&F(this,Ds,"m",zc).call(this,"change",{accounts:this.accounts})})),eg.set(this,n=>Se(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),o=Qt.SolanaSignAndSendTransaction in this.features!==i||Qt.SolanaSignTransaction in this.features!==r;Ne(this,fl,Object.assign(Object.assign({},i&&{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:F(this,Hc,"f")}}),r&&{[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:F(this,Kc,"f")}})),o&&F(this,Ds,"m",zc).call(this,"change",{features:this.features})})),pl.set(this,(n,r,i)=>Se(this,void 0,void 0,function*(){var o,s;try{const[a,l]=yield Promise.all([(s=(o=F(this,Tn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&s!==void 0?s:yield n.getCapabilities(),n.authorize({auth_token:r,identity:F(this,dl,"f"),chain:i})]),c=F(this,Fc,"f").call(this,l.accounts),f=Object.assign(Object.assign({},l),{accounts:c,chain:i,capabilities:a});Promise.all([F(this,Ki,"f").set(f),F(this,hl,"f").call(this,f)])}catch(a){throw F(this,Wc,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Wc.set(this,()=>Se(this,void 0,void 0,function*(){var n,r;(n=F(this,Tr,"f"))===null||n===void 0||n.close(),F(this,Ki,"f").clear(),Ne(this,$i,!1),Ne(this,Us,(r=F(this,Us,"f"),r++,r)),Ne(this,Tn,void 0),Ne(this,Tr,void 0),F(this,Ds,"m",zc).call(this,"change",{accounts:this.accounts})})),zs.set(this,n=>Se(this,void 0,void 0,function*(){var r;const i=(r=F(this,Tn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:F(this,Uc,"f")}),a=F(this,Us,"f"),l=new H4;if(F(this,Tr,"f"))return n(F(this,Tr,"f").wallet);try{const{associationUrl:c,close:f,wallet:g}=yield AA.startRemoteScenario(s),w=l.addEventListener("close",m=>{m&&f()});return l.initWithQR(c.toString()),l.open(),Ne(this,Tr,{close:f,wallet:yield g},"f"),w(),l.close(),yield n(F(this,Tr,"f").wallet)}catch(c){throw l.close(),F(this,Us,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield F(this,Dc,"f").call(this,this)),c}})),gl.set(this,()=>{if(!F(this,Tn,"f"))throw new Error("Wallet not connected");return{authToken:F(this,Tn,"f").auth_token,chain:F(this,Tn,"f").chain}}),Fc.set(this,n=>n.map(r=>{var i,o;const s=xn(r.address);return{address:iu.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:F(this,Po,"f"),features:(o=r.features)!==null&&o!==void 0?o:LA}})),tg.set(this,n=>Se(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,gl,"f").call(this);try{return yield F(this,zs,"f").call(this,o=>Se(this,void 0,void 0,function*(){return yield F(this,pl,"f").call(this,o,r,i),(yield o.signTransactions({payloads:n.map(so)})).signed_payloads.map(xn)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),ng.set(this,(n,r)=>Se(this,void 0,void 0,function*(){const{authToken:i,chain:o}=F(this,gl,"f").call(this);try{return yield F(this,zs,"f").call(this,s=>Se(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),F(this,pl,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[so(n)]}))).signatures.map(xn)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Hc.set(this,(...n)=>Se(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=yield F(this,ng,"f").call(this,i.transaction,i.options);r.push({signature:o})}return r})),Kc.set(this,(...n)=>Se(this,void 0,void 0,function*(){return(yield F(this,tg,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),rg.set(this,(...n)=>Se(this,void 0,void 0,function*(){const{authToken:r,chain:i}=F(this,gl,"f").call(this),o=n.map(({account:a})=>so(a.publicKey)),s=n.map(({message:a})=>so(a));try{return yield F(this,zs,"f").call(this,a=>Se(this,void 0,void 0,function*(){return yield F(this,pl,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).signed_payloads.map(xn).map(c=>({signedMessage:c,signature:c.slice(-CA)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),ig.set(this,(...n)=>Se(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield F(this,$c,"f").call(this,i));else return[yield F(this,$c,"f").call(this,n[0])];return r})),$c.set(this,n=>Se(this,void 0,void 0,function*(){var r,i,o;Ne(this,$i,!0);try{const s=yield F(this,jc,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=s.sign_in_result.address,l=s.accounts.find(c=>c.address==a);return{account:Object.assign(Object.assign({},l??{address:iu.default.encode(xn(a))}),{publicKey:xn(a),chains:(i=l==null?void 0:l.chains)!==null&&i!==void 0?i:F(this,Po,"f"),features:(o=l==null?void 0:l.features)!==null&&o!==void 0?o:s.capabilities.features}),signedMessage:xn(s.sign_in_result.signed_message),signature:xn(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Ne(this,$i,!1)}})),Ne(this,Ki,e.authorizationCache),Ne(this,dl,e.appIdentity),Ne(this,Po,e.chains),Ne(this,Pc,e.chainSelector),Ne(this,Uc,e.remoteHostAuthority),Ne(this,Dc,e.onWalletNotFound),Ne(this,fl,{[Qt.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:F(this,Hc,"f")},[Qt.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:F(this,Kc,"f")}})}get version(){return F(this,Y0,"f")}get name(){return F(this,q0,"f")}get url(){return F(this,Z0,"f")}get icon(){return F(this,Q0,"f")}get chains(){return F(this,Po,"f")}get features(){return Object.assign({[ha.StandardConnect]:{version:"1.0.0",connect:F(this,J0,"f")},[ha.StandardDisconnect]:{version:"1.0.0",disconnect:F(this,Wc,"f")},[ha.StandardEvents]:{version:"1.0.0",on:F(this,X0,"f")},[Qt.SolanaSignMessage]:{version:"1.0.0",signMessage:F(this,rg,"f")},[Qt.SolanaSignIn]:{version:"1.0.0",signIn:F(this,ig,"f")}},F(this,fl,"f"))}get accounts(){var e,n;return(n=(e=F(this,Tn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!F(this,Tr,"f")&&!!F(this,Tn,"f")}get isAuthorized(){return!!F(this,Tn,"f")}get currentAuthorization(){return F(this,Tn,"f")}get cachedAuthorizationResult(){return F(this,Ki,"f").get()}}Jo=new WeakMap,Y0=new WeakMap,q0=new WeakMap,Z0=new WeakMap,Q0=new WeakMap,dl=new WeakMap,Tn=new WeakMap,Ki=new WeakMap,$i=new WeakMap,Us=new WeakMap,Po=new WeakMap,Pc=new WeakMap,fl=new WeakMap,Dc=new WeakMap,Uc=new WeakMap,Tr=new WeakMap,X0=new WeakMap,J0=new WeakMap,jc=new WeakMap,hl=new WeakMap,eg=new WeakMap,pl=new WeakMap,Wc=new WeakMap,zs=new WeakMap,gl=new WeakMap,Fc=new WeakMap,tg=new WeakMap,ng=new WeakMap,Hc=new WeakMap,Kc=new WeakMap,rg=new WeakMap,ig=new WeakMap,$c=new WeakMap,Ds=new WeakSet,zc=function(e,...n){var r;(r=F(this,Jo,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},OA=function(e,n){var r;F(this,Jo,"f")[e]=(r=F(this,Jo,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var V4=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},G4=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Vc;function j1(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new Y4(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let Y4=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Vc.set(this,void 0),V4(this,Vc,e,"f")}get detail(){return G4(this,Vc,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Vc=new WeakMap;function q4(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function Z4(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Q4(t){q4()?j1(new BA(t)):Z4()&&t.remoteHostAuthority!==void 0&&j1(new PA(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const X4="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",J4="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class eL extends TA{constructor(){super(...arguments),this.contentStyles=nL,this.contentHtml=tL}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=X4,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=J4,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const tL=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,nL=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function DA(){return Se(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new eL;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function rL(){return()=>Se(this,void 0,void 0,function*(){DA()})}const pp="SolanaMobileWalletAdapterDefaultAuthorizationCache";function iL(){let t;try{t=window.localStorage}catch{}return{clear(){return Se(this,void 0,void 0,function*(){if(t)try{t.removeItem(pp)}catch{}})},get(){return Se(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(pp));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):iu.default.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Se(this,void 0,void 0,function*(){if(t)try{t.setItem(pp,JSON.stringify(e))}catch{}})}}}function oL(){return{select(t){return Se(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(z1.SOLANA_MAINNET_CHAIN)?z1.SOLANA_MAINNET_CHAIN:t[0]})}}}ui.LocalSolanaMobileWalletAdapterWallet=BA;ui.RemoteSolanaMobileWalletAdapterWallet=PA;ui.SolanaMobileWalletAdapterWalletName=wm;ui.createDefaultAuthorizationCache=iL;ui.createDefaultChainSelector=oL;ui.createDefaultWalletNotFoundHandler=rL;ui.defaultErrorModalWalletNotFoundHandler=DA;ui.registerMwa=Q4;Object.defineProperty(To,"__esModule",{value:!0});var en=pC,Gc=bb,Fo=Te,xa=ui;function Ye(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(g){s(g)}}function l(f){try{c(r.throw(f))}catch(g){s(g)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,[])).next())})}function me(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function tr(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const og="standard:connect",sL="standard:disconnect",aL="standard:events";function gp(t){return window.btoa(String.fromCharCode.call(null,...t))}function lL(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var an,gt,Xi,Si,Yc,wi,Do,sg,ag,UA,Kd,qc,Yi;const uL="Mobile Wallet Adapter",cL=64;function dL(t){return"version"in t}function vm(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class zA extends en.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),an.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),gt.set(this,void 0),Xi.set(this,!1),Si.set(this,lL()?en.WalletReadyState.Loadable:en.WalletReadyState.Unsupported),Yc.set(this,void 0),wi.set(this,void 0),Do.set(this,void 0),sg.set(this,r=>Ye(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){me(this,an,"m",UA).call(this);const i=yield me(this,Yc,"f").call(this,r.accounts);i!==me(this,wi,"f")&&(tr(this,wi,i),tr(this,Do,void 0),this.emit("connect",this.publicKey))}})),tr(this,Yc,r=>Ye(this,void 0,void 0,function*(){var i;const o=yield n.addressSelector.select(r.map(({publicKey:s})=>gp(s)));return(i=r.find(({publicKey:s})=>gp(s)===o))!==null&&i!==void 0?i:r[0]})),tr(this,gt,e),me(this,gt,"f").features[aL].on("change",me(this,sg,"f")),this.name=me(this,gt,"f").name,this.icon=me(this,gt,"f").icon,this.url=me(this,gt,"f").url}get publicKey(){var e;if(!me(this,Do,"f")&&me(this,wi,"f"))try{tr(this,Do,new Gc.PublicKey(me(this,wi,"f").publicKey),"f")}catch(n){throw new en.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=me(this,Do,"f"))!==null&&e!==void 0?e:null}get connected(){return me(this,gt,"f").connected}get connecting(){return me(this,Xi,"f")}get readyState(){return me(this,Si,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Ye(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Ye(this,void 0,void 0,function*(){me(this,an,"m",ag).call(this,!0)})}connect(){return Ye(this,void 0,void 0,function*(){me(this,an,"m",ag).call(this)})}performAuthorization(e){return Ye(this,void 0,void 0,function*(){try{const n=yield me(this,gt,"f").cachedAuthorizationResult;return n?(yield me(this,gt,"f").features[og].connect({silent:!0}),n):(e?yield me(this,gt,"f").features[Fo.SolanaSignIn].signIn(e):yield me(this,gt,"f").features[og].connect(),yield yield me(this,gt,"f").cachedAuthorizationResult)}catch(n){throw new en.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Ye(this,void 0,void 0,function*(){return yield me(this,an,"m",Yi).call(this,()=>Ye(this,void 0,void 0,function*(){tr(this,Xi,!1),tr(this,Do,void 0),tr(this,wi,void 0),yield me(this,gt,"f").features[sL].disconnect(),this.emit("disconnect")}))})}signIn(e){return Ye(this,void 0,void 0,function*(){return me(this,an,"m",Yi).call(this,()=>Ye(this,void 0,void 0,function*(){var n;if(me(this,Si,"f")!==en.WalletReadyState.Installed&&me(this,Si,"f")!==en.WalletReadyState.Loadable)throw new en.WalletNotReadyError;tr(this,Xi,!0);try{const r=yield me(this,gt,"f").features[Fo.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new en.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{tr(this,Xi,!1)}}))})}signMessage(e){return Ye(this,void 0,void 0,function*(){return yield me(this,an,"m",Yi).call(this,()=>Ye(this,void 0,void 0,function*(){const n=me(this,an,"m",Kd).call(this);try{return(yield me(this,gt,"f").features[Fo.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new en.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return Ye(this,void 0,void 0,function*(){return yield me(this,an,"m",Yi).call(this,()=>Ye(this,void 0,void 0,function*(){const i=me(this,an,"m",Kd).call(this);try{let o=function(){let s;switch(n.commitment){case"confirmed":case"finalized":case"processed":s=n.commitment;break;default:s="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=s;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(s==="finalized"?2:s==="confirmed"?1:0)?a:s};if(Fo.SolanaSignAndSendTransaction in me(this,gt,"f").features){const s=vm(me(this,gt,"f").currentAuthorization.chain),[a]=(yield me(this,gt,"f").features[Fo.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:s,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>gp(l.signature));return a}else{const[s]=yield me(this,an,"m",qc).call(this,[e]);if(dL(s))return yield n.sendTransaction(s);{const a=s.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new en.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return Ye(this,void 0,void 0,function*(){return yield me(this,an,"m",Yi).call(this,()=>Ye(this,void 0,void 0,function*(){const[n]=yield me(this,an,"m",qc).call(this,[e]);return n}))})}signAllTransactions(e){return Ye(this,void 0,void 0,function*(){return yield me(this,an,"m",Yi).call(this,()=>Ye(this,void 0,void 0,function*(){return yield me(this,an,"m",qc).call(this,e)}))})}}gt=new WeakMap,Xi=new WeakMap,Si=new WeakMap,Yc=new WeakMap,wi=new WeakMap,Do=new WeakMap,sg=new WeakMap,an=new WeakSet,ag=function(e=!1){return Ye(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield me(this,an,"m",Yi).call(this,()=>Ye(this,void 0,void 0,function*(){if(me(this,Si,"f")!==en.WalletReadyState.Installed&&me(this,Si,"f")!==en.WalletReadyState.Loadable)throw new en.WalletNotReadyError;tr(this,Xi,!0);try{yield me(this,gt,"f").features[og].connect({silent:e})}catch(n){throw new en.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{tr(this,Xi,!1)}}))})},UA=function(){me(this,Si,"f")!==en.WalletReadyState.Installed&&this.emit("readyStateChange",tr(this,Si,en.WalletReadyState.Installed))},Kd=function(){if(!me(this,gt,"f").isAuthorized||!me(this,wi,"f"))throw new en.WalletNotConnectedError;return me(this,wi,"f")},qc=function(e){return Ye(this,void 0,void 0,function*(){const n=me(this,an,"m",Kd).call(this);try{if(Fo.SolanaSignTransaction in me(this,gt,"f").features)return me(this,gt,"f").features[Fo.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,a=o[0]*cL+1;return Gc.VersionedMessage.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?Gc.Transaction.from(o):Gc.VersionedTransaction.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new en.WalletSignTransactionError(r==null?void 0:r.message,r)}})},Yi=function(e){return Ye(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class jA extends zA{constructor(e){var n;const r=vm((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new xa.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ye(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:xa.createDefaultChainSelector(),onWalletNotFound:()=>Ye(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class fL extends zA{constructor(e){const n=vm(e.chain);super(new xa.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ye(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:xa.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>Ye(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class hL extends jA{}function pL(){return{select(t){return Ye(this,void 0,void 0,function*(){return t[0]})}}}function gL(){return xa.createDefaultAuthorizationCache()}function yL(t){return Ye(this,void 0,void 0,function*(){return xa.defaultErrorModalWalletNotFoundHandler()})}function mL(){return yL}To.LocalSolanaMobileWalletAdapter=jA;To.RemoteSolanaMobileWalletAdapter=fL;var wL=To.SolanaMobileWalletAdapter=hL,Zc=To.SolanaMobileWalletAdapterWalletName=uL,vL=To.createDefaultAddressSelector=pL,_L=To.createDefaultAuthorizationResultCache=gL,EL=To.createDefaultWalletNotFoundHandler=mL,SL=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},bL=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Qc;function AL(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new IL(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class IL extends Event{get detail(){return SL(this,Qc,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Qc.set(this,void 0),bL(this,Qc,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Qc=new WeakMap;function RL(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var he=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},qt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},gn,jn,es,ts,Uo,yl,$d,Ue,Vd,lg,Xc,ug,Tl,cg,W1,F1,H1,K1;class kL extends lm{get name(){return he(this,Ue,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return he(this,Ue,"f").icon}get readyState(){return he(this,Vd,"f")}get publicKey(){return he(this,es,"f")}get connecting(){return he(this,ts,"f")}get supportedTransactionVersions(){return he(this,$d,"f")}get wallet(){return he(this,Ue,"f")}get standard(){return!0}constructor({wallet:e}){super(),gn.add(this),jn.set(this,void 0),es.set(this,void 0),ts.set(this,void 0),Uo.set(this,void 0),yl.set(this,void 0),$d.set(this,void 0),Ue.set(this,void 0),Vd.set(this,typeof window>"u"||typeof document>"u"?xe.Unsupported:xe.Installed),cg.set(this,n=>{if("accounts"in n){const r=he(this,Ue,"f").accounts[0];he(this,jn,"f")&&!he(this,Uo,"f")&&r!==he(this,jn,"f")&&(r?he(this,gn,"m",Xc).call(this,r):(this.emit("error",new Eu),he(this,gn,"m",ug).call(this)))}"features"in n&&he(this,gn,"m",Tl).call(this)}),qt(this,Ue,e,"f"),qt(this,jn,null,"f"),qt(this,es,null,"f"),qt(this,ts,!1,"f"),qt(this,Uo,!1,"f"),qt(this,yl,he(this,Ue,"f").features[zr.StandardEvents].on("change",he(this,cg,"f")),"f"),he(this,gn,"m",Tl).call(this)}destroy(){qt(this,jn,null,"f"),qt(this,es,null,"f"),qt(this,ts,!1,"f"),qt(this,Uo,!1,"f");const e=he(this,yl,"f");e&&(qt(this,yl,null,"f"),e())}async autoConnect(){return he(this,gn,"m",lg).call(this,{silent:!0})}async connect(){return he(this,gn,"m",lg).call(this)}async disconnect(){if(zr.StandardDisconnect in he(this,Ue,"f").features)try{qt(this,Uo,!0,"f"),await he(this,Ue,"f").features[zr.StandardDisconnect].disconnect()}catch(e){this.emit("error",new Ka(e==null?void 0:e.message,e))}finally{qt(this,Uo,!1,"f")}he(this,gn,"m",ug).call(this)}async sendTransaction(e,n,r={}){try{const i=he(this,jn,"f");if(!i)throw new it;let o;if(Te.SolanaSignAndSendTransaction in he(this,Ue,"f").features)if(i.features.includes(Te.SolanaSignAndSendTransaction))o=Te.SolanaSignAndSendTransaction;else if(Te.SolanaSignTransaction in he(this,Ue,"f").features&&i.features.includes(Te.SolanaSignTransaction))o=Te.SolanaSignTransaction;else throw new Ri;else if(Te.SolanaSignTransaction in he(this,Ue,"f").features){if(!i.features.includes(Te.SolanaSignTransaction))throw new Ri;o=Te.SolanaSignTransaction}else throw new io;const s=r4(n.rpcEndpoint);if(!i.chains.includes(s))throw new ei;try{const{signers:a,...l}=r;let c;if(Br(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Te.SolanaSignAndSendTransaction){const[f]=await he(this,Ue,"f").features[Te.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:fp(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return nn.encode(f.signature)}else{const[f]=await he(this,Ue,"f").features[Te.SolanaSignTransaction].signTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:fp(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(f.signedTransaction,{...l,preflightCommitment:fp(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof ht?a:new ei(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}jn=new WeakMap,es=new WeakMap,ts=new WeakMap,Uo=new WeakMap,yl=new WeakMap,$d=new WeakMap,Ue=new WeakMap,Vd=new WeakMap,cg=new WeakMap,gn=new WeakSet,lg=async function(e){try{if(this.connected||this.connecting)return;if(he(this,Vd,"f")!==xe.Installed)throw new bo;if(qt(this,ts,!0,"f"),!he(this,Ue,"f").accounts.length)try{await he(this,Ue,"f").features[zr.StandardConnect].connect(e)}catch(r){throw new ps(r==null?void 0:r.message,r)}const n=he(this,Ue,"f").accounts[0];if(!n)throw new Ri;he(this,gn,"m",Xc).call(this,n)}catch(n){throw this.emit("error",n),n}finally{qt(this,ts,!1,"f")}},Xc=function(e){let n;try{n=new Q(e.address)}catch(r){throw new Ao(r==null?void 0:r.message,r)}qt(this,jn,e,"f"),qt(this,es,n,"f"),he(this,gn,"m",Tl).call(this),this.emit("connect",n)},ug=function(){qt(this,jn,null,"f"),qt(this,es,null,"f"),he(this,gn,"m",Tl).call(this),this.emit("disconnect")},Tl=function(){var n,r;const e=Te.SolanaSignAndSendTransaction in he(this,Ue,"f").features?he(this,Ue,"f").features[Te.SolanaSignAndSendTransaction].supportedTransactionVersions:he(this,Ue,"f").features[Te.SolanaSignTransaction].supportedTransactionVersions;qt(this,$d,RL(e,["legacy"])?null:new Set(e),"f"),Te.SolanaSignTransaction in he(this,Ue,"f").features&&((n=he(this,jn,"f"))!=null&&n.features.includes(Te.SolanaSignTransaction))?(this.signTransaction=he(this,gn,"m",W1),this.signAllTransactions=he(this,gn,"m",F1)):(delete this.signTransaction,delete this.signAllTransactions),Te.SolanaSignMessage in he(this,Ue,"f").features&&((r=he(this,jn,"f"))!=null&&r.features.includes(Te.SolanaSignMessage))?this.signMessage=he(this,gn,"m",H1):delete this.signMessage,Te.SolanaSignIn in he(this,Ue,"f").features?this.signIn=he(this,gn,"m",K1):delete this.signIn},W1=async function(e){try{const n=he(this,jn,"f");if(!n)throw new it;if(!(Te.SolanaSignTransaction in he(this,Ue,"f").features))throw new io;if(!n.features.includes(Te.SolanaSignTransaction))throw new Ri;try{const i=(await he(this,Ue,"f").features[Te.SolanaSignTransaction].signTransaction({account:n,transaction:Br(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Br(e)?eu.deserialize(i):Le.from(i)}catch(r){throw r instanceof ht?r:new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},F1=async function(e){try{const n=he(this,jn,"f");if(!n)throw new it;if(!(Te.SolanaSignTransaction in he(this,Ue,"f").features))throw new io;if(!n.features.includes(Te.SolanaSignTransaction))throw new Ri;try{const r=await he(this,Ue,"f").features[Te.SolanaSignTransaction].signTransaction(...e.map(i=>({account:n,transaction:Br(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const s=r[o].signedTransaction;return Br(i)?eu.deserialize(s):Le.from(s)})}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},H1=async function(e){try{const n=he(this,jn,"f");if(!n)throw new it;if(!(Te.SolanaSignMessage in he(this,Ue,"f").features))throw new io;if(!n.features.includes(Te.SolanaSignMessage))throw new Ri;try{return(await he(this,Ue,"f").features[Te.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Su(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},K1=async function(e={}){try{if(!(Te.SolanaSignIn in he(this,Ue,"f").features))throw new io;let n;try{[n]=await he(this,Ue,"f").features[Te.SolanaSignIn].signIn(e)}catch(r){throw new T0(r==null?void 0:r.message,r)}if(!n)throw new T0;return he(this,gn,"m",Xc).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const ML=Kb;var TL=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},NL=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Jc;let rr;const Kf=new Set;function xL(t){Nl=void 0,Kf.add(t)}function OL(t){Nl=void 0,Kf.delete(t)}const ta={};function CL(){if(rr||(rr=Object.freeze({register:$1,get:LL,on:BL}),typeof window>"u"))return rr;const t=Object.freeze({register:$1});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new PL(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return rr}function $1(...t){var e;return t=t.filter(n=>!Kf.has(n)),t.length?(t.forEach(n=>xL(n)),(e=ta.register)==null||e.forEach(n=>dg(()=>n(...t))),function(){var r;t.forEach(i=>OL(i)),(r=ta.unregister)==null||r.forEach(i=>dg(()=>i(...t)))}):()=>{}}let Nl;function LL(){return Nl||(Nl=[...Kf]),Nl}function BL(t,e){var n;return(n=ta[t])!=null&&n.push(e)||(ta[t]=[e]),function(){var i;ta[t]=(i=ta[t])==null?void 0:i.filter(o=>e!==o)}}function dg(t){try{t()}catch(e){console.error(e)}}class PL extends Event{get detail(){return TL(this,Jc,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Jc.set(this,void 0),NL(this,Jc,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Jc=new WeakMap;function DL(){if(rr||(rr=CL(),typeof window>"u"))return rr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),rr;const{register:e}=rr,n=(...r)=>r.forEach(i=>dg(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),rr}return n(...t),rr}function UL(t){const e=V1(()=>new Set),{get:n,on:r}=V1(()=>DL()),[i,o]=ne.useState(()=>G1(n()));ne.useEffect(()=>{const a=[r("register",(...l)=>o(c=>[...c,...G1(l)])),r("unregister",(...l)=>o(c=>c.filter(f=>l.some(g=>g===f.wallet))))];return()=>a.forEach(l=>l())},[r]);const s=zL(i);return ne.useEffect(()=>{if(!s)return;const a=new Set(i);new Set(s.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[s,i]),ne.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),ne.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function V1(t){const e=ne.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function zL(t){const e=ne.useRef(void 0);return ne.useEffect(()=>{e.current=t}),e.current}function G1(t){return t.filter(ML).map(e=>new kL({wallet:e}))}var pa;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(pa||(pa={}));function jL(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function WL({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Zc&&n.readyState===xe.Installed)?pa.DESKTOP_WEB:e&&/android/i.test(e)&&!jL(e)?pa.MOBILE_WEB:pa.DESKTOP_WEB}function FL(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function HL({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){const l=ne.useRef(!1),[c,f]=ne.useState(!1),g=ne.useRef(!1),[w,m]=ne.useState(!1),[E,M]=ne.useState(()=>(n==null?void 0:n.publicKey)??null),[N,S]=ne.useState(()=>(n==null?void 0:n.connected)??!1),A=ne.useRef(s);ne.useEffect(()=>(A.current=s,()=>{A.current=void 0}),[s]);const _=ne.useRef((d,v)=>(r.current||(A.current?A.current(d,v):(console.error(d,v),d instanceof bo&&typeof window<"u"&&v&&window.open(v.url,"_blank"))),d)),[T,C]=ne.useState(()=>e.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==xe.Unsupported));ne.useEffect(()=>{C(v=>e.map((R,I)=>{const O=v[I];return O&&O.adapter===R&&O.readyState===R.readyState?O:{adapter:R,readyState:R.readyState}}).filter(({readyState:R})=>R!==xe.Unsupported));function d(v){C(R=>{const I=R.findIndex(({adapter:P})=>P===this);if(I===-1)return R;const{adapter:O}=R[I];return[...R.slice(0,I),{adapter:O,readyState:v},...R.slice(I+1)].filter(({readyState:P})=>P!==xe.Unsupported)})}return e.forEach(v=>v.on("readyStateChange",d,v)),()=>{e.forEach(v=>v.off("readyStateChange",d,v))}},[n,e]);const D=ne.useMemo(()=>T.find(d=>d.adapter===n)??null,[n,T]);ne.useEffect(()=>{if(!n)return;const d=I=>{M(I),l.current=!1,f(!1),S(!0),g.current=!1,m(!1)},v=()=>{r.current||(M(null),l.current=!1,f(!1),S(!1),g.current=!1,m(!1))},R=I=>{_.current(I,n)};return n.on("connect",d),n.on("disconnect",v),n.on("error",R),()=>{n.off("connect",d),n.off("disconnect",v),n.off("error",R),v()}},[n,r]);const U=ne.useRef(!1);ne.useEffect(()=>()=>{U.current=!1},[n]),ne.useEffect(()=>{U.current||l.current||N||!i||!((D==null?void 0:D.readyState)===xe.Installed||(D==null?void 0:D.readyState)===xe.Loadable)||(l.current=!0,f(!0),U.current=!0,async function(){try{await i()}catch{o()}finally{f(!1),l.current=!1}}())},[N,i,o,D]);const z=ne.useCallback(async(d,v,R)=>{if(!n)throw _.current(new C1);if(!N)throw _.current(new it,n);return await n.sendTransaction(d,v,R)},[n,N]),j=ne.useMemo(()=>n&&"signTransaction"in n?async d=>{if(!N)throw _.current(new it,n);return await n.signTransaction(d)}:void 0,[n,N]),H=ne.useMemo(()=>n&&"signAllTransactions"in n?async d=>{if(!N)throw _.current(new it,n);return await n.signAllTransactions(d)}:void 0,[n,N]),Z=ne.useMemo(()=>n&&"signMessage"in n?async d=>{if(!N)throw _.current(new it,n);return await n.signMessage(d)}:void 0,[n,N]),G=ne.useMemo(()=>n&&"signIn"in n?async d=>await n.signIn(d):void 0,[n]),b=ne.useCallback(async()=>{if(l.current||g.current||D!=null&&D.adapter.connected)return;if(!D)throw _.current(new C1);const{adapter:d,readyState:v}=D;if(!(v===xe.Installed||v===xe.Loadable))throw _.current(new bo,d);l.current=!0,f(!0);try{await d.connect()}catch(R){throw o(),R}finally{f(!1),l.current=!1}},[o,D]),u=ne.useCallback(async()=>{if(!g.current&&n){g.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),g.current=!1}}},[n]);return J.createElement($b.Provider,{value:{autoConnect:!!i,wallets:T,wallet:D,publicKey:E,connected:N,connecting:c,disconnecting:w,select:a,connect:b,disconnect:u,sendTransaction:z,signTransaction:j,signAllTransactions:H,signMessage:Z,signIn:G}},t)}let yp;function KL(){var t;return yp===void 0&&(yp=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),yp}function Y1(t){const e=KL();return WL({adapters:t,userAgentString:e})===pa.MOBILE_WEB}function $L(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function VL({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:o}=rC(),s=UL(e),a=ne.useMemo(()=>{if(!Y1(s))return null;const A=s.find(_=>_.name===Zc);return A||new wL({addressSelector:vL(),appIdentity:{uri:$L()},authorizationResultCache:_L(),cluster:FL(o==null?void 0:o.rpcEndpoint),onWalletNotFound:EL()})},[s,o==null?void 0:o.rpcEndpoint]),l=ne.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[c,f]=hC(r,null),g=ne.useMemo(()=>l.find(A=>A.name===c)??null,[l,c]),w=ne.useCallback(A=>{c!==A&&(g&&g.name!==Zc&&g.disconnect(),f(A))},[g,f,c]);ne.useEffect(()=>{if(!g)return;function A(){M.current||f(null)}return g.on("disconnect",A),()=>{g.off("disconnect",A)}},[g,s,f,c]);const m=ne.useRef(!1),E=ne.useMemo(()=>{if(!(!n||!g))return async()=>{(n===!0||await n(g))&&(m.current?await g.connect():await g.autoConnect())}},[n,g]),M=ne.useRef(!1);ne.useEffect(()=>{if(c===Zc&&Y1(s)){M.current=!1;return}function A(){M.current=!0}return window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A)}},[s,c]);const N=ne.useCallback(()=>{g&&w(null)},[g,w]),S=ne.useCallback(A=>{m.current=!0,w(A)},[w]);return J.createElement(HL,{wallets:l,adapter:g,isUnloadingRef:M,onAutoConnectRequest:E,onConnectError:N,onError:i,onSelectWallet:S},t)}const WA={setVisible(t){console.error(FA("call","setVisible"))},visible:!1};Object.defineProperty(WA,"visible",{get(){return console.error(FA("read","visible")),!1}});function FA(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const HA=ne.createContext(WA);function KA(){return ne.useContext(HA)}function GL({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:i,disconnecting:o,publicKey:s,select:a,wallet:l,wallets:c}=dm();let f;r?f="connecting":n?f="connected":o?f="disconnecting":l?f="has-wallet":f="no-wallet";const g=ne.useCallback(()=>{e().catch(()=>{})},[e]),w=ne.useCallback(()=>{i().catch(()=>{})},[i]),m=ne.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:f,onConnect:f==="has-wallet"?g:void 0,onDisconnect:f!=="disconnecting"&&f!=="no-wallet"?w:void 0,onSelectWallet:m,publicKey:s??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const $A=t=>J.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&J.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&J.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),VA=({wallet:t,...e})=>t&&J.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function YL({walletIcon:t,walletName:e,...n}){return J.createElement($A,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?J.createElement(VA,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function qL({children:t,labels:e,...n}){const{setVisible:r}=KA(),{buttonState:i,onConnect:o,onDisconnect:s,publicKey:a,walletIcon:l,walletName:c}=GL({onSelectWallet(){r(!0)}}),[f,g]=ne.useState(!1),[w,m]=ne.useState(!1),E=ne.useRef(null);ne.useEffect(()=>{const N=S=>{const A=E.current;!A||A.contains(S.target)||m(!1)};return document.addEventListener("mousedown",N),document.addEventListener("touchstart",N),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("touchstart",N)}},[]);const M=ne.useMemo(()=>{if(t)return t;if(a){const N=a.toBase58();return N.slice(0,4)+".."+N.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return J.createElement("div",{className:"wallet-adapter-dropdown"},J.createElement(YL,{...n,"aria-expanded":w,style:{pointerEvents:w?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},M),J.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${w&&"wallet-adapter-dropdown-list-active"}`,ref:E,role:"menu"},a?J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),g(!0),setTimeout(()=>g(!1),400)},role:"menuitem"},f?e.copied:e["copy-address"]):null,J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),s?J.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(),m(!1)},role:"menuitem"},e.disconnect):null))}const q1=({id:t,children:e,expanded:n=!1})=>{const r=ne.useRef(null),i=ne.useRef(!0),o="height 250ms ease-out",s=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return ne.useLayoutEffect(()=>{n?s():a()},[n]),ne.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function f(g){l&&g.target===l&&g.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",f),()=>l.removeEventListener("transitionend",f)},[n]),J.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},mp=({handleClick:t,tabIndex:e,wallet:n})=>J.createElement("li",null,J.createElement($A,{onClick:t,startIcon:J.createElement(VA,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===xe.Installed&&J.createElement("span",null,"Detected"))),ZL=()=>J.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),J.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),J.createElement("g",{clipPath:"url(#clip0_880_5115)"},J.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),J.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),J.createElement("defs",null,J.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},J.createElement("stop",{stopColor:"#9945FF"}),J.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),J.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),J.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),J.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),J.createElement("stop",{offset:"1",stopColor:"#00D18C"})),J.createElement("clipPath",{id:"clip0_880_5115"},J.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),QL=({className:t="",container:e="body"})=>{const n=ne.useRef(null),{wallets:r,select:i}=dm(),{setVisible:o}=KA(),[s,a]=ne.useState(!1),[l,c]=ne.useState(!1),[f,g]=ne.useState(null),[w,m]=ne.useMemo(()=>{const _=[],T=[];for(const C of r)C.readyState===xe.Installed?_.push(C):T.push(C);return _.length?[_,T]:[T,[]]},[r]),E=ne.useCallback(()=>{c(!1),setTimeout(()=>o(!1),150)},[o]),M=ne.useCallback(_=>{_.preventDefault(),E()},[E]),N=ne.useCallback((_,T)=>{i(T),M(_)},[i,M]),S=ne.useCallback(()=>a(!s),[s]),A=ne.useCallback(_=>{const T=n.current;if(!T)return;const C=T.querySelectorAll("button"),D=C[0],U=C[C.length-1];_.shiftKey?document.activeElement===D&&(U.focus(),_.preventDefault()):document.activeElement===U&&(D.focus(),_.preventDefault())},[n]);return ne.useLayoutEffect(()=>{const _=C=>{C.key==="Escape"?E():C.key==="Tab"&&A(C)},{overflow:T}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=T,window.removeEventListener("keydown",_,!1)}},[E,A]),ne.useLayoutEffect(()=>g(document.querySelector(e)),[e]),f&&fE.createPortal(J.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},J.createElement("div",{className:"wallet-adapter-modal-container"},J.createElement("div",{className:"wallet-adapter-modal-wrapper"},J.createElement("button",{onClick:M,className:"wallet-adapter-modal-button-close"},J.createElement("svg",{width:"14",height:"14"},J.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),w.length?J.createElement(J.Fragment,null,J.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),J.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(_=>J.createElement(mp,{key:_.adapter.name,handleClick:T=>N(T,_.adapter.name),wallet:_})),m.length?J.createElement(q1,{expanded:s,id:"wallet-adapter-modal-collapse"},m.map(_=>J.createElement(mp,{key:_.adapter.name,handleClick:T=>N(T,_.adapter.name),tabIndex:s?0:-1,wallet:_}))):null),m.length?J.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},J.createElement("span",null,s?"Less ":"More ","options"),J.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},J.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):J.createElement(J.Fragment,null,J.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),J.createElement("div",{className:"wallet-adapter-modal-middle"},J.createElement(ZL,null)),m.length?J.createElement(J.Fragment,null,J.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},J.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),J.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},J.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),J.createElement(q1,{expanded:s,id:"wallet-adapter-modal-collapse"},J.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(_=>J.createElement(mp,{key:_.adapter.name,handleClick:T=>N(T,_.adapter.name),tabIndex:s?0:-1,wallet:_}))))):null))),J.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:M})),f)},XL=({children:t,...e})=>{const[n,r]=ne.useState(!1);return J.createElement(HA.Provider,{value:{visible:n,setVisible:r}},t,n&&J.createElement(QL,{...e}))},JL={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function e3(t){return J.createElement(qL,{...t,labels:JL})}var ic={exports:{}},Z1;function t3(){if(Z1)return ic.exports;Z1=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,D,U){return Function.prototype.apply.call(C,D,U)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(C){return C!==C};function o(){o.init.call(this)}ic.exports=o,ic.exports.once=S,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");s=T}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function l(T){return T._maxListeners===void 0?o.defaultMaxListeners:T._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(C){for(var D=[],U=1;U<arguments.length;U++)D.push(arguments[U]);var z=C==="error",j=this._events;if(j!==void 0)z=z&&j.error===void 0;else if(!z)return!1;if(z){var H;if(D.length>0&&(H=D[0]),H instanceof Error)throw H;var Z=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw Z.context=H,Z}var G=j[C];if(G===void 0)return!1;if(typeof G=="function")e(G,this,D);else for(var b=G.length,u=E(G,b),U=0;U<b;++U)e(u[U],this,D);return!0};function c(T,C,D,U){var z,j,H;if(a(D),j=T._events,j===void 0?(j=T._events=Object.create(null),T._eventsCount=0):(j.newListener!==void 0&&(T.emit("newListener",C,D.listener?D.listener:D),j=T._events),H=j[C]),H===void 0)H=j[C]=D,++T._eventsCount;else if(typeof H=="function"?H=j[C]=U?[D,H]:[H,D]:U?H.unshift(D):H.push(D),z=l(T),z>0&&H.length>z&&!H.warned){H.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=T,Z.type=C,Z.count=H.length,r(Z)}return T}o.prototype.addListener=function(C,D){return c(this,C,D,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(C,D){return c(this,C,D,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(T,C,D){var U={fired:!1,wrapFn:void 0,target:T,type:C,listener:D},z=f.bind(U);return z.listener=D,U.wrapFn=z,z}o.prototype.once=function(C,D){return a(D),this.on(C,g(this,C,D)),this},o.prototype.prependOnceListener=function(C,D){return a(D),this.prependListener(C,g(this,C,D)),this},o.prototype.removeListener=function(C,D){var U,z,j,H,Z;if(a(D),z=this._events,z===void 0)return this;if(U=z[C],U===void 0)return this;if(U===D||U.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,U.listener||D));else if(typeof U!="function"){for(j=-1,H=U.length-1;H>=0;H--)if(U[H]===D||U[H].listener===D){Z=U[H].listener,j=H;break}if(j<0)return this;j===0?U.shift():M(U,j),U.length===1&&(z[C]=U[0]),z.removeListener!==void 0&&this.emit("removeListener",C,Z||D)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(C){var D,U,z;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[C]),this;if(arguments.length===0){var j=Object.keys(U),H;for(z=0;z<j.length;++z)H=j[z],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=U[C],typeof D=="function")this.removeListener(C,D);else if(D!==void 0)for(z=D.length-1;z>=0;z--)this.removeListener(C,D[z]);return this};function w(T,C,D){var U=T._events;if(U===void 0)return[];var z=U[C];return z===void 0?[]:typeof z=="function"?D?[z.listener||z]:[z]:D?N(z):E(z,z.length)}o.prototype.listeners=function(C){return w(this,C,!0)},o.prototype.rawListeners=function(C){return w(this,C,!1)},o.listenerCount=function(T,C){return typeof T.listenerCount=="function"?T.listenerCount(C):m.call(T,C)},o.prototype.listenerCount=m;function m(T){var C=this._events;if(C!==void 0){var D=C[T];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function E(T,C){for(var D=new Array(C),U=0;U<C;++U)D[U]=T[U];return D}function M(T,C){for(;C+1<T.length;C++)T[C]=T[C+1];T.pop()}function N(T){for(var C=new Array(T.length),D=0;D<C.length;++D)C[D]=T[D].listener||T[D];return C}function S(T,C){return new Promise(function(D,U){function z(H){T.removeListener(C,j),U(H)}function j(){typeof T.removeListener=="function"&&T.removeListener("error",z),D([].slice.call(arguments))}_(T,C,j,{once:!0}),C!=="error"&&A(T,z,{once:!0})})}function A(T,C,D){typeof T.on=="function"&&_(T,"error",C,D)}function _(T,C,D,U){if(typeof T.on=="function")U.once?T.once(C,D):T.on(C,D);else if(typeof T.addEventListener=="function")T.addEventListener(C,function z(j){U.once&&T.removeEventListener(C,z),D(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return ic.exports}var n3=t3();const L6=gs(n3),r3={},GA=(t,e)=>{r3[t]=e},$f=t=>{class e extends Error{constructor(i,o,s){super(i||t,s);et(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,o)for(const a in o)this[a]=o[a];if(s&&i3(s)&&"cause"in s&&!this.cause){const a=s.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return e};function i3(t){return typeof t=="object"}const B6=$f("DisconnectedDevice"),P6=$f("DisconnectedDeviceDuringOperation"),D6=$f("TransportOpenUserCancelled"),U6=$f("TransportRaceCondition");var Q1;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(Q1||(Q1={}));class o3 extends Error{constructor(n,r){const i="TransportError";super(n||i);et(this,"id");this.name=i,this.message=n,this.stack=new Error(n).stack,this.id=r}}GA("TransportError",t=>new o3(t.message,t.id));const xl={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function s3(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class Ru extends Error{constructor(n,{canBeMappedToChildError:r=!0}={}){const i=Object.keys(xl).find(l=>xl[l]===n)||"UNKNOWN_ERROR",o=s3(n)||i,s=n.toString(16),a=`Ledger device: ${o} (0x${s})`;super(a);et(this,"statusCode");et(this,"statusText");if(this.name="TransportStatusError",this.statusCode=n,this.statusText=i,Object.setPrototypeOf(this,Ru.prototype),r&&n===xl.LOCKED_DEVICE)return new _m(a)}}class _m extends Ru{constructor(e){super(xl.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,_m.prototype)}}GA("TransportStatusError",t=>new Ru(t.statusCode));let YA=0;const qi=[],z6=(t,e,n)=>{const r={type:t,id:String(++YA),date:new Date};e&&(r.message=e),qA(r)},a3=({type:t,message:e,data:n,context:r})=>{const i={type:t,id:String(++YA),date:new Date};e&&(i.message=e),n&&(i.data=n),r&&(i.context=r),qA(i)};class ed{constructor(e,n){et(this,"type");et(this,"context");this.type=e,this.context=n}trace(e,n){a3({type:this.type,message:e,data:n,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context={...this.context,...e}}getType(){return this.type}setType(e){this.type=e}withType(e){return new ed(e,this.context)}withContext(e){return new ed(this.type,e)}withUpdatedContext(e){return new ed(this.type,{...this.context,...e})}}const l3=t=>(qi.push(t),()=>{const e=qi.indexOf(t);e!==-1&&(qi[e]=qi[qi.length-1],qi.pop())});function qA(t){for(let e=0;e<qi.length;e++)try{qi[e](t)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=l3);function u3(t,e){const r=Buffer.alloc(17);let i=r.writeUInt8(4,0);return i=r.writeUInt32BE(oc(44),i),i=r.writeUInt32BE(oc(501),i),i=r.writeUInt32BE(oc(t),i),r.writeUInt32BE(oc(e),i),r}const c3=1<<31>>>0;function oc(t){return(t|c3)>>>0}const d3=5,f3=6,h3=0,p3=1,g3=1,y3=2,sc=255,X1=224;async function m3(t,e){const n=await ZA(t,d3,h3,e);return new Q(n)}async function w3(t,e,n){const r=Buffer.alloc(1);r.writeUInt8(1,0);const i=Br(e)?e.message.serialize():e.serializeMessage(),o=Buffer.concat([r,n,i]);return await ZA(t,f3,p3,o)}async function ZA(t,e,n,r){let i=0,o=0;if(r.length>sc)for(;r.length-o>sc;){const l=r.slice(o,o+sc);if((await t.send(X1,e,n,i|y3,l)).length!==2)throw new Ru(xl.INCORRECT_DATA);i|=g3,o+=sc}const s=r.slice(o),a=await t.send(X1,e,n,i,s);return a.slice(0,a.length-2)}const v3="Ledger";class _3 extends cm{constructor(e={}){super(),this.name=v3,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?xe.Unsupported:xe.Loadable,this._disconnected=()=>{const n=this._transport;n&&(n.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new Eu),this.emit("disconnect"))},this._derivationPath=e.derivationPath||u3(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==xe.Loadable)throw new bo;this._connecting=!0;let e;try{e=(await cu(async()=>{const{default:i}=await import("./TransportWebHID-0qxVJWGi.js");return{default:i}},[])).default}catch(i){throw new Of(i==null?void 0:i.message,i)}let n;try{n=await e.create()}catch(i){throw new ps(i==null?void 0:i.message,i)}let r;try{r=await m3(n,this._derivationPath)}catch(i){throw new Ao(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),this._transport=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._transport,r=this._publicKey;if(!n||!r)throw new it;try{const i=await w3(n,e,this._derivationPath);e.addSignature(r,i)}catch(i){throw new Yn(i==null?void 0:i.message,i)}return e}catch(n){throw this.emit("error",n),n}}}const E3="Phantom";class S3 extends bu{constructor(e={}){super(),this.name=E3,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?xe.Unsupported:xe.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Eu),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Q(n.toBytes())}catch(i){this.emit("error",new Ao(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==xe.Unsupported&&(Ud()?(this._readyState=xe.Loadable,this.emit("readyStateChange",this._readyState)):um(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=xe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===xe.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===xe.Loadable){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${o}`;return}if(this.readyState!==xe.Installed)throw new bo;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new ps(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Ri;let r;try{r=new Q(n.publicKey.toBytes())}catch(i){throw new Ao(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new it;try{const{signers:o,...s}=r;Br(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof ht?o:new ei(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signTransaction(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new it;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Su(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const b3="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var He=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},A3=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},td,ns,fg,hg,pg,Nn,gg,QA,XA,yg,mg,wg,vg,_g;class I3{constructor(){td.add(this),ns.set(this,{}),fg.set(this,"1.0.0"),hg.set(this,"MetaMask"),pg.set(this,b3),Nn.set(this,null),gg.set(this,(e,n)=>{var r;return(r=He(this,ns,"f")[e])!=null&&r.push(n)||(He(this,ns,"f")[e]=[n]),()=>He(this,td,"m",XA).call(this,e,n)}),yg.set(this,async()=>{if(!He(this,Nn,"f")){let e;try{e=(await cu(async()=>{const{default:n}=await import("./index-DDpSwGtK.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}A3(this,Nn,new e,"f"),He(this,Nn,"f").on("standard_change",n=>He(this,td,"m",QA).call(this,"change",n))}return this.accounts.length||await He(this,Nn,"f").connect(),{accounts:this.accounts}}),mg.set(this,async()=>{He(this,Nn,"f")&&await He(this,Nn,"f").disconnect()}),wg.set(this,async(...e)=>{if(!He(this,Nn,"f"))throw new it;return await He(this,Nn,"f").standardSignAndSendTransaction(...e)}),vg.set(this,async(...e)=>{if(!He(this,Nn,"f"))throw new it;return await He(this,Nn,"f").standardSignTransaction(...e)}),_g.set(this,async(...e)=>{if(!He(this,Nn,"f"))throw new it;return await He(this,Nn,"f").standardSignMessage(...e)})}get version(){return He(this,fg,"f")}get name(){return He(this,hg,"f")}get icon(){return He(this,pg,"f")}get chains(){return[Jr.SOLANA_MAINNET_CHAIN,Jr.SOLANA_DEVNET_CHAIN,Jr.SOLANA_TESTNET_CHAIN]}get features(){return{[zr.StandardConnect]:{version:"1.0.0",connect:He(this,yg,"f")},[zr.StandardDisconnect]:{version:"1.0.0",disconnect:He(this,mg,"f")},[zr.StandardEvents]:{version:"1.0.0",on:He(this,gg,"f")},[Te.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:He(this,wg,"f")},[Te.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:He(this,vg,"f")},[Te.SolanaSignMessage]:{version:"1.0.0",signMessage:He(this,_g,"f")}}}get accounts(){return He(this,Nn,"f")?He(this,Nn,"f").standardAccounts:[]}}ns=new WeakMap,fg=new WeakMap,hg=new WeakMap,pg=new WeakMap,Nn=new WeakMap,gg=new WeakMap,yg=new WeakMap,mg=new WeakMap,wg=new WeakMap,vg=new WeakMap,_g=new WeakMap,td=new WeakSet,QA=function(e,...n){var r;(r=He(this,ns,"f")[e])==null||r.forEach(i=>i.apply(null,n))},XA=function(e,n){var r;He(this,ns,"f")[e]=(r=He(this,ns,"f")[e])==null?void 0:r.filter(i=>n!==i)};let J1=!1;function R3(){J1||(AL(new I3),J1=!0)}async function k3(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var o,s;const i=r.data;(i==null?void 0:i.target)==="metamask-inpage"&&((o=i.data)==null?void 0:o.name)==="metamask-provider"&&(((s=i.data.data)==null?void 0:s.id)===t?(window.removeEventListener("message",n),i.data.data.error||R3()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const M3="Solflare";class T3 extends bu{constructor(e={}){super(),this.name=M3,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?xe.Unsupported:xe.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Eu),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Q(n.toBytes())}catch(i){this.emit("error",new Ao(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==xe.Unsupported&&(um(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=xe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),k3())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===xe.Loadable&&Ud()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==xe.Loadable&&this._readyState!==xe.Installed)throw new bo;if(this.readyState===xe.Loadable&&Ud()){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${o}`;return}let e;try{e=(await cu(async()=>{const{default:i}=await import("./index-ZMK2PVCV.js");return{default:i}},[])).default}catch(i){throw new Of(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new io(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new ps(i==null?void 0:i.message,i)}if(!n.publicKey)throw new ps;let r;try{r=new Q(n.publicKey.toBytes())}catch(i){throw new Ao(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new it;try{const{signers:o,...s}=r;return Br(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,s)}catch(o){throw o instanceof ht?o:new ei(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signTransaction(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signMessage(e,"utf8")}catch(r){throw new Su(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const N3="Torus";class x3 extends bu{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=N3,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?xe.Unsupported:xe.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==xe.Loadable)throw new bo;this._connecting=!0;let e;try{e=(await cu(async()=>{const{default:o}=await import("./solanaEmbed.esm-BeNkn7m6.js");return{default:o}},[])).default}catch(o){throw new Of(o==null?void 0:o.message,o)}let n;try{n=window.torus||new e}catch(o){throw new io(o==null?void 0:o.message,o)}if(!n.isInitialized)try{await n.init(this._params)}catch(o){throw new ps(o==null?void 0:o.message,o)}let r;try{r=await n.login()}catch(o){throw new Ri(o==null?void 0:o.message,o)}let i;try{i=new Q(r[0])}catch(o){throw new Ao(o==null?void 0:o.message,o)}this._wallet=n,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(n){this.emit("error",new Ka(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new it;try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof ht?o:new ei(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signTransaction(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yn(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new it;try{return await n.signMessage(e)}catch(r){throw new Su(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const Em=new Q("EDY4bp4fXWkAJpJhXUMZLL7fjpDhpKZQFPpygzsTMzro"),Gd=new Q("3rCZT3Xw6jvU4JWatQPsivS8fQ7gV7GjUfJnbTk9Ssn5"),O3=new Q("CEUmazdgtbUCcQyLq6NCm4BuQbvCsYFzKsS5wdRvZehV"),JA=new Q("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),C3=new Q("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function wp(){const[t]=Q.findProgramAddressSync([Buffer.from("vault")],Em);return t}function vp(t,e){const[n]=Q.findProgramAddressSync([Buffer.from("buyer"),t.toBuffer(),e.toBuffer()],Em);return n}function eI(t,e){const[n]=Q.findProgramAddressSync([t.toBuffer(),JA.toBuffer(),e.toBuffer()],C3);return n}function L3(t){return eI(t,Gd)}function B3(t){return eI(t,Gd)}function P3(t){return new PO(t)}function _p(t,e,n,r={}){const i=t.encode(e,r);return new qe({programId:Em,keys:n,data:i})}const tI="https://mainnet.helius-rpc.com/?api-key=cba27cb3-9d36-4095-ae3a-4025bc7ff611";function D3(){const t=dm(),[e]=ne.useState(()=>new qy(tI,"confirmed")),[n]=ne.useState(()=>P3(nC)),[r,i]=ne.useState(""),[o,s]=ne.useState("1.0"),a=!!t.publicKey;async function l(){try{if(!a)return alert("Verbinde deine Wallet.");i("Bereite Kauf vor");const g=t.publicKey,w=wp(),m=vp(w,g),E=B3(g),M=L3(w),N=[],{createAssociatedTokenAccountInstruction:S}=await cu(async()=>{const{createAssociatedTokenAccountInstruction:j}=await import("./index.browser.esm-CQelFBym.js");return{createAssociatedTokenAccountInstruction:j}},[]),[A,_]=await Promise.all([e.getAccountInfo(E),e.getAccountInfo(M)]);A||N.push(S(g,E,g,Gd)),_||N.push(S(g,M,w,Gd));const T=new to(Math.floor(parseFloat(o)*ob));if(T.lte(new to(0)))return alert("Ungltiger SOL-Betrag.");const C=[{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:O3,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!0,isWritable:!0},{pubkey:JA,isSigner:!1,isWritable:!1},{pubkey:rn.programId,isSigner:!1,isWritable:!1}],D=_p(n,"buy_dmd",C,{sol_contribution:T}),U=new Le;N.forEach(j=>j&&U.add(j)),U.add(D),i("Sende Buy");const z=await t.sendTransaction(U,e);i(` Buy gesendet: ${z}`)}catch(g){console.error(g),i(` Buy fehlgeschlagen: ${g.message??g}`)}}async function c(){try{if(!a)return alert("Verbinde deine Wallet.");i("Bereite Verkauf vor");const g=t.publicKey,w=wp(),m=vp(w,g),E=new to(Math.floor(parseFloat(o)*1e9));if(E.lte(new to(0)))return alert("Ungltiger DMD-Betrag.");const N=_p(n,"sell_dmd",[{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!0,isWritable:!0}],{amount:E}),S=new Le().add(N);i("Sende Sell");const A=await t.sendTransaction(S,e);i(` Sell gesendet: ${A}`)}catch(g){console.error(g),i(` Sell fehlgeschlagen: ${g.message??g}`)}}async function f(){try{if(!a)return alert("Verbinde deine Wallet.");i("Prfe Claim");const g=t.publicKey,w=wp(),m=vp(w,g),M=_p(n,"claim_reward",[{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!0,isWritable:!1}]),N=new Le().add(M);i("Sende Claim");const S=await t.sendTransaction(N,e);i(` Claim gesendet: ${S}`)}catch(g){console.error(g),i(` Claim fehlgeschlagen: ${g.message??g}`)}}return Qe.jsxs("div",{className:"min-h-screen bg-[#0b0f14] text-yellow-300",children:[Qe.jsx("div",{style:{position:"fixed",top:16,right:16,zIndex:50},children:Qe.jsx(e3,{})}),Qe.jsxs("header",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center gap-4",children:[Qe.jsx("h1",{className:"text-2xl font-bold",style:{fontFamily:"Old English Text MT, serif"},children:"Die Mark Digital"}),Qe.jsx("span",{className:"opacity-70",children:"Investor App  Solana"}),a&&Qe.jsxs("span",{className:"ml-auto text-xs text-white/60",children:[t.publicKey.toBase58().slice(0,4),"",t.publicKey.toBase58().slice(-4)]})]}),Qe.jsx("main",{className:"max-w-5xl mx-auto px-4 py-10",children:a?Qe.jsxs(Qe.Fragment,{children:[Qe.jsxs("div",{className:"mb-6",children:[Qe.jsx("label",{className:"block mb-2 opacity-80",children:"Betrag"}),Qe.jsx("input",{value:o,onChange:g=>s(g.target.value),className:"px-3 py-2 rounded bg-black/50 border border-white/10",placeholder:"z. B. 1.5"}),Qe.jsx("span",{className:"ml-2 opacity-60",children:"SOL (Buy)  DMD (Sell)"})]}),Qe.jsxs("div",{className:"flex flex-wrap gap-8",children:[Qe.jsx("button",{onClick:l,className:"bg-green-600 hover:bg-green-700 px-6 py-3 rounded",children:"Buy DMD"}),Qe.jsx("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded",children:"Sell DMD"}),Qe.jsx("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded",children:"Claim Rewards"})]}),Qe.jsx("p",{className:"mt-6 text-sm text-white/70 whitespace-pre-wrap",children:r})]}):Qe.jsx("div",{className:"text-white/70",children:"Verbinde zuerst deine Wallet (oben rechts)."})}),Qe.jsx("footer",{className:"text-center text-white/40 text-sm py-6",children:" 2025 Die Mark Digital  Buy  Sell  Claim"})]})}function U3(){const t=tI,e=ne.useMemo(()=>[new S3,new T3,new _3,new x3],[]);return Qe.jsx(iC,{endpoint:t,children:Qe.jsx(VL,{wallets:e,autoConnect:!0,children:Qe.jsx(XL,{children:Qe.jsx(D3,{})})})})}Ep.createRoot(document.getElementById("root")).render(Qe.jsx(J.StrictMode,{children:Qe.jsx(U3,{})}));export{L6 as C,P6 as D,ed as L,Q as P,xl as S,Le as T,eu as V,o3 as a,Ru as b,U6 as c,D6 as d,B6 as e,ge as f,gs as g,xt as h,Hk as i,n3 as j,Te as k,z6 as l,t3 as r,Kk as s};
